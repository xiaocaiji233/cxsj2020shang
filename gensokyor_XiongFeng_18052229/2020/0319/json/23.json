[{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26951", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26951/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26951/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26951/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26951", "id": 423381274, "node_id": "MDU6SXNzdWU0MjMzODEyNzQ=", "number": 26951, "title": "EagerTensor.numpy() fails with string dtype when called from py_function on GPU", "user": {"login": "woodshop", "id": 4654379, "node_id": "MDQ6VXNlcjQ2NTQzNzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/4654379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woodshop", "html_url": "https://github.com/woodshop", "followers_url": "https://api.github.com/users/woodshop/followers", "following_url": "https://api.github.com/users/woodshop/following{/other_user}", "gists_url": "https://api.github.com/users/woodshop/gists{/gist_id}", "starred_url": "https://api.github.com/users/woodshop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woodshop/subscriptions", "organizations_url": "https://api.github.com/users/woodshop/orgs", "repos_url": "https://api.github.com/users/woodshop/repos", "events_url": "https://api.github.com/users/woodshop/events{/privacy}", "received_events_url": "https://api.github.com/users/woodshop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rchao", "id": 6505863, "node_id": "MDQ6VXNlcjY1MDU4NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6505863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchao", "html_url": "https://github.com/rchao", "followers_url": "https://api.github.com/users/rchao/followers", "following_url": "https://api.github.com/users/rchao/following{/other_user}", "gists_url": "https://api.github.com/users/rchao/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchao/subscriptions", "organizations_url": "https://api.github.com/users/rchao/orgs", "repos_url": "https://api.github.com/users/rchao/repos", "events_url": "https://api.github.com/users/rchao/events{/privacy}", "received_events_url": "https://api.github.com/users/rchao/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchao", "id": 6505863, "node_id": "MDQ6VXNlcjY1MDU4NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6505863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchao", "html_url": "https://github.com/rchao", "followers_url": "https://api.github.com/users/rchao/followers", "following_url": "https://api.github.com/users/rchao/following{/other_user}", "gists_url": "https://api.github.com/users/rchao/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchao/subscriptions", "organizations_url": "https://api.github.com/users/rchao/orgs", "repos_url": "https://api.github.com/users/rchao/repos", "events_url": "https://api.github.com/users/rchao/events{/privacy}", "received_events_url": "https://api.github.com/users/rchao/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-03-20T17:29:01Z", "updated_at": "2019-11-08T21:38:49Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version (use command below): 1.13.1\r\n- Python version: 3.7.1\r\n- Bazel version (if compiling from source): 0.20.0 \r\n- GCC/Compiler version (if compiling from source): 7.3.0\r\n- CUDA/cuDNN version: 10.0\r\n- GPU model and memory: Tesla K80\r\n\r\n**Describe the current behavior**\r\nWhen a `py_function` op is defined for GPU (the default if one is available), and it calls a function that takes a string argument, a `RuntimeError` is raised if one attempts to access the value of the argument by calling `EagerTensor.numpy()`.\r\n\r\nIf the `py_function` op is defined for CPU no error is raised.\r\n\r\n**Describe the expected behavior**\r\nOne of the following:\r\n  - String arguments are disallowed for a `py_function` running on GPU, and the TF documentation explains this behavior.\r\n  - The value of a string argument is accessible in the scenario described above.\r\n\r\n**Code to reproduce the issue**\r\nThis does not work:\r\n```python\r\ndef func_with_string_arg(arg):\r\n    return arg.numpy()\r\n\r\nwith tf.Graph().as_default():\r\n    tf_arg = tf.convert_to_tensor('abcdef')\r\n    ret = tf.py_function(\r\n        func_with_string_arg,\r\n        [tf_arg],\r\n        tf.dtypes.string\r\n    )\r\n    with tf.Session() as sess:\r\n        print(sess.run(ret))\r\n```\r\n\r\nSnippet of the error:\r\n```\r\nUnknownError: RuntimeError: Error copying tensor to device: CPU:0. Can't copy 38 bytes of a tensor into another with 32 bytes buffer.\r\nTraceback (most recent call last):\r\n\r\n  File \"/home/asarroff/anaconda3/envs/tf-1.13.1/lib/python3.7/site-packages/tensorflow/python/ops/script_ops.py\", line 205, in __call__\r\n    return func(device, token, args)\r\n\r\n  File \"/home/asarroff/anaconda3/envs/tf-1.13.1/lib/python3.7/site-packages/tensorflow/python/ops/script_ops.py\", line 107, in __call__\r\n    ret = self._func(*args)\r\n\r\n  File \"<ipython-input-5-590852b9a5d8>\", line 2, in func_with_string_arg\r\n    return arg.numpy()\r\n\r\n  File \"/home/asarroff/anaconda3/envs/tf-1.13.1/lib/python3.7/site-packages/tensorflow/python/framework/ops.py\", line 725, in numpy\r\n    return self._cpu_nograd()._numpy()  # pylint: disable=protected-access\r\n\r\n  File \"/home/asarroff/anaconda3/envs/tf-1.13.1/lib/python3.7/site-packages/tensorflow/python/framework/ops.py\", line 892, in _cpu_nograd\r\n    return self._copy_nograd(context.context(), \"CPU:0\")\r\n\r\n  File \"/home/asarroff/anaconda3/envs/tf-1.13.1/lib/python3.7/site-packages/tensorflow/python/framework/ops.py\", line 840, in _copy_nograd\r\n    new_tensor = self._copy_to_device(context=ctx._handle, device=device_name)\r\n\r\nRuntimeError: Error copying tensor to device: CPU:0. Can't copy 38 bytes of a tensor into another with 32 bytes buffer.\r\n\r\n\r\n\t [[{{node EagerPyFunc}}]]\r\n\t [[{{node EagerPyFunc}}]]\r\n```\r\n\r\nThis works:\r\n```python\r\nwith tf.Graph().as_default():\r\n    tf_arg = tf.convert_to_tensor('abcdef')\r\n    with tf.device('/device:CPU:*'):\r\n        ret = tf.py_function(\r\n            func_with_string_arg,\r\n            [tf_arg],\r\n            tf.dtypes.string\r\n        )\r\n    with tf.Session() as sess:\r\n        print(sess.run(ret))\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26947", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26947/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26947/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26947/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26947", "id": 423349780, "node_id": "MDU6SXNzdWU0MjMzNDk3ODA=", "number": 26947, "title": "Tensorflow 2.0 compile for raspberry pi failed with file not found error", "user": {"login": "ArifSohaib", "id": 12260144, "node_id": "MDQ6VXNlcjEyMjYwMTQ0", "avatar_url": "https://avatars3.githubusercontent.com/u/12260144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArifSohaib", "html_url": "https://github.com/ArifSohaib", "followers_url": "https://api.github.com/users/ArifSohaib/followers", "following_url": "https://api.github.com/users/ArifSohaib/following{/other_user}", "gists_url": "https://api.github.com/users/ArifSohaib/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArifSohaib/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArifSohaib/subscriptions", "organizations_url": "https://api.github.com/users/ArifSohaib/orgs", "repos_url": "https://api.github.com/users/ArifSohaib/repos", "events_url": "https://api.github.com/users/ArifSohaib/events{/privacy}", "received_events_url": "https://api.github.com/users/ArifSohaib/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-03-20T16:26:49Z", "updated_at": "2019-10-09T23:30:01Z", "closed_at": null, "author_association": "NONE", "body": "------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:No\r\n- **OS Platform and Distribution**: Linux Ubuntu 16.04\r\n- **Python version**: tried both 2.7 and 3.6\r\n- **Bazel version (if compiling from source)**: 0.13.0\r\n- **GCC/Compiler version (if compiling from source)**: 5.4.0\r\n- **CUDA/cuDNN version**:10.0.130\r\n- **GPU model and memory**: GTX 1070 Mobile 8GB\r\n- **Exact command to reproduce**:\r\nfrom https://www.tensorflow.org/install/source_rpi\r\n```\r\ngit checkout r2.0\r\nsudo tensorflow/tools/ci_build/ci_build.sh PI \\\r\n    tensorflow/tools/ci_build/pi/build_raspberry_pi.sh\r\n```\r\n### Describe the problem\r\nI am trying to compile Tensorflow 2.0 for the raspberry pi to install it in Python 2 for use with ROS Kinetic. The pi is using Ubuntu Mate 16.04 and I am doing the cross compilation on my laptop with Ubuntu 16.04.\r\nI used the instructions mentioned on the tensorflow website and tried to compile for both 2.7 and 3. The build fails in both cases with this error:\r\n```\r\n/usr/include/python3.4/pyconfig.h:13:55: fatal error: arm-linux-gnueabihf/python3.4m/pyconfig.h: No such file or directory\r\n #  include <arm-linux-gnueabihf/python3.4m/pyconfig.h>\r\n                                                       ^\r\ncompilation terminated.\r\n\r\n```\r\n\r\n### Source code / logs\r\n```\r\nWARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".\r\nINFO: Invocation ID: 7644074a-82e2-4b8a-bcb6-10884a6300b8\r\nWARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".\r\nINFO: Invocation ID: 8e36ba59-8da1-4b1c-8840-493d798ee2ca\r\nWARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".\r\nINFO: Invocation ID: e48bec62-a84a-4ec3-89f5-c1a7a71fb94f\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100   159    0   159    0     0    418      0 --:--:-- --:--:-- --:--:--   418\r\n  0     0    0  323M    0     0  2932k      0 --:--:--  0:01:53 --:--:-- 7693k\r\nCloning into '/tmp/openblas_src'...\r\nNote: checking out '5a6a2bed9aff0ba8a18651d5514d029c8cae336a'.\r\n\r\nYou are in 'detached HEAD' state. You can look around, make experimental\r\nchanges and commit them, and you can discard any commits you make in this\r\nstate without impacting any branches by performing another checkout.\r\n\r\nIf you want to create a new branch to retain commits you create, you may\r\ndo so (now or later) by using -b with the checkout command again. Example:\r\n\r\n  git checkout -b new_branch_name\r\n\r\nHEAD is now at 5a6a2be... Merge pull request #1623 from fenrus75/fast-thread\r\n/tmp/toolchain_install//tools/arm-bcm2708/arm-rpi-4.9.3-linux-gnueabihf/bin/arm-linux-gnueabihf-ar: creating ../libopenblas_armv6p-r0.3.1.dev.a\r\nmemory.c: In function 'get_num_procs':\r\nmemory.c:191:7: warning: unused variable 'n' [-Wunused-variable]\r\n int i,n;\r\n       ^\r\nmemory.c:191:5: warning: unused variable 'i' [-Wunused-variable]\r\n int i,n;\r\n     ^\r\nWARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".\r\nINFO: Invocation ID: 4ffd1046-cb13-4bd9-836b-68b4e27ba4fb\r\nLoading: \r\nLoading: 0 packages loaded\r\nAnalyzing: 4 targets (3 packages loaded)\r\nAnalyzing: 4 targets (4 packages loaded, 0 targets configured)\r\nAnalyzing: 4 targets (82 packages loaded, 2059 targets configured)\r\nAnalyzing: 4 targets (173 packages loaded, 7791 targets configured)\r\nAnalyzing: 4 targets (306 packages loaded, 12072 targets configured)\r\nAnalyzing: 4 targets (356 packages loaded, 17197 targets configured)\r\nAnalyzing: 4 targets (383 packages loaded, 20919 targets configured)\r\nWARNING: /workspace/tensorflow/python/BUILD:3239:1: in py_library rule //tensorflow/python:standard_ops: target '//tensorflow/python:standard_ops' depends on deprecated target '//tensorflow/python/ops/distributions:distributions': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.distributions will not receive new features, and will be removed by early 2019. You should update all usage of `tf.distributions` to `tfp.distributions`.\r\nWARNING: /workspace/tensorflow/python/BUILD:102:1: in py_library rule //tensorflow/python:no_contrib: target '//tensorflow/python:no_contrib' depends on deprecated target '//tensorflow/python/ops/distributions:distributions': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.distributions will not receive new features, and will be removed by early 2019. You should update all usage of `tf.distributions` to `tfp.distributions`.\r\nWARNING: /workspace/tensorflow/contrib/metrics/BUILD:16:1: in py_library rule //tensorflow/contrib/metrics:metrics_py: target '//tensorflow/contrib/metrics:metrics_py' depends on deprecated target '//tensorflow/python/ops/distributions:distributions': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.distributions will not receive new features, and will be removed by early 2019. You should update all usage of `tf.distributions` to `tfp.distributions`.\r\nWARNING: /workspace/tensorflow/contrib/learn/BUILD:17:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately.\r\nWARNING: /workspace/tensorflow/contrib/learn/BUILD:17:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately.\r\nWARNING: /workspace/tensorflow/contrib/bayesflow/BUILD:17:1: in py_library rule //tensorflow/contrib/bayesflow:bayesflow_py: target '//tensorflow/contrib/bayesflow:bayesflow_py' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\r\nWARNING: /workspace/tensorflow/contrib/BUILD:13:1: in py_library rule //tensorflow/contrib:contrib_py: target '//tensorflow/contrib:contrib_py' depends on deprecated target '//tensorflow/contrib/distributions:distributions_py': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.contrib.distributions are unmaintained, unsupported, and will be removed by late 2018. You should update all usage of `tf.contrib.distributions` to `tfp.distributions`.\r\nINFO: Analysed 4 targets (383 packages loaded, 22853 targets configured).\r\nBuilding: no action\r\nINFO: Found 4 targets...\r\n[5 / 17] [-----] BazelWorkspaceStatusAction stable-status.txt\r\n[43 / 352] no action\r\n[1,465 / 7,100] [-----] Creating runfiles tree bazel-out/host/bin/tensorflow/python/keras/api/create_tensorflow.python_api_2_keras_python_api_gen_compat_v2.runfiles [for host] ... (2 actions, 0 running)\r\n[1,922 / 9,165] no action\r\n[2,190 / 10,960] no action\r\nINFO: From Compiling tensorflow/lite/toco/toco_graphviz_dump_options.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nINFO: From Compiling external/flatbuffers/src/util.cpp:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option \"-Wno-implicit-fallthrough\"\r\n[2,625 / 12,575] Compiling external/org_sqlite/sqlite3.c; 1s local ... (7 actions running)\r\nINFO: From Compiling tensorflow/lite/util.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option \"-Wno-extern-c-compat\"\r\nINFO: From Compiling tensorflow/lite/c/c_api_internal.c:\r\nIn file included from tensorflow/lite/c/c_api_internal.c:16:0:\r\n./tensorflow/lite/c/c_api_internal.h:60:34: warning: 'struct TfLiteContext' declared inside parameter list\r\n   TfLiteStatus (*Refresh)(struct TfLiteContext* context);\r\n                                  ^\r\n./tensorflow/lite/c/c_api_internal.h:60:34: warning: its scope is only this definition or declaration, which is probably not what you want\r\nINFO: From Compiling external/flatbuffers/src/code_generators.cpp:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option \"-Wno-implicit-fallthrough\"\r\nINFO: From Compiling tensorflow/lite/simple_memory_arena.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option \"-Wno-extern-c-compat\"\r\nINFO: From Compiling external/flatbuffers/src/idl_gen_fbs.cpp:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option \"-Wno-implicit-fallthrough\"\r\nINFO: From Compiling tensorflow/lite/minimal_logging_default.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option \"-Wno-extern-c-compat\"\r\nINFO: From Compiling tensorflow/lite/minimal_logging.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option \"-Wno-extern-c-compat\"\r\nINFO: From Compiling tensorflow/lite/kernels/internal/quantization_util.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nINFO: From Compiling tensorflow/lite/string_util.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\ntensorflow/lite/string_util.cc: In member function 'int tflite::DynamicBuffer::WriteToBuffer(char**)':\r\ntensorflow/lite/string_util.cc:89:21: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n   for (int i = 0; i < offset_.size(); i++) {\r\n                     ^\r\nAt global scope:\r\ncc1plus: warning: unrecognized command line option \"-Wno-extern-c-compat\"\r\nINFO: From Compiling tensorflow/lite/arena_planner.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\ntensorflow/lite/arena_planner.cc: In member function 'virtual TfLiteStatus tflite::ArenaPlanner::PlanAllocations()':\r\ntensorflow/lite/arena_planner.cc:156:21: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n   for (int i = 0; i < graph_info_->num_nodes(); ++i) {\r\n                     ^\r\ntensorflow/lite/arena_planner.cc: In member function 'virtual TfLiteStatus tflite::ArenaPlanner::ExecuteAllocations(int, int)':\r\ntensorflow/lite/arena_planner.cc:196:21: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n   for (int i = 0; i < graph_info_->num_tensors(); ++i) {\r\n                     ^\r\ntensorflow/lite/arena_planner.cc: In member function 'TfLiteStatus tflite::ArenaPlanner::CalculateAllocationOfInternalTensors(int)':\r\ntensorflow/lite/arena_planner.cc:287:18: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n   if (node_index < graph_info_->num_nodes()) {\r\n                  ^\r\ntensorflow/lite/arena_planner.cc: In member function 'TfLiteStatus tflite::ArenaPlanner::CalculateDeallocationOfInternalTensors(int)':\r\ntensorflow/lite/arena_planner.cc:300:18: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n   if (node_index < graph_info_->num_nodes()) {\r\n                  ^\r\nAt global scope:\r\ncc1plus: warning: unrecognized command line option \"-Wno-extern-c-compat\"\r\nINFO: From Compiling tensorflow/lite/kernels/internal/mfcc_dct.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nINFO: From Compiling tensorflow/lite/kernels/kernel_util.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nINFO: From Compiling tensorflow/lite/kernels/internal/mfcc.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nINFO: From Compiling tensorflow/lite/kernels/internal/reference/portable_tensor_utils.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nINFO: From Compiling external/flatbuffers/src/idl_gen_text.cpp:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option \"-Wno-implicit-fallthrough\"\r\n[2,657 / 12,575] Compiling external/org_sqlite/sqlite3.c; 4s local ... (5 actions running)\r\nINFO: From Compiling external/flatbuffers/src/reflection.cpp:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option \"-Wno-implicit-fallthrough\"\r\nINFO: From Compiling tensorflow/lite/kernels/internal/mfcc_mel_filterbank.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nINFO: From Compiling tensorflow/core/grappler/costs/robust_stats.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nINFO: From Compiling tensorflow/lite/kernels/internal/spectrogram.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nINFO: From Compiling external/flatbuffers/src/idl_gen_general.cpp:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\ncc1plus: warning: unrecognized command line option \"-Wno-implicit-fallthrough\"\r\n[2,928 / 12,575] Compiling external/org_sqlite/sqlite3.c; 8s local ... (2 actions running)\r\nINFO: From Compiling external/jsoncpp_git/src/lib_json/json_value.cpp:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nINFO: From Compiling external/jsoncpp_git/src/lib_json/json_writer.cpp:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nINFO: From Compiling tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nINFO: From Compiling tensorflow/core/lib/db/snapfn.cc:\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nERROR: /workspace/tensorflow/lite/python/interpreter_wrapper/BUILD:9:1: C++ compilation of rule '//tensorflow/lite/python/interpreter_wrapper:numpy' failed (Exit 1): arm-linux-gnueabihf-gcc failed: error executing command \r\n  (cd /home/sohaib/tensorflow_pi_compile/tensorflow/bazel-ci_build-cache/.cache/bazel/_bazel_root/eab0d61a99b6696edb3d2aff87b585e8/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    LD_LIBRARY_PATH='' \\\r\n    PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python \\\r\n    PYTHON_LIB_PATH=/usr/local/lib/python2.7/dist-packages \\\r\n    TF_DOWNLOAD_CLANG=0 \\\r\n    TF_NEED_CUDA=0 \\\r\n    TF_NEED_OPENCL_SYCL=0 \\\r\n    TF_NEED_ROCM=0 \\\r\n  /home/sohaib/tensorflow_pi_compile/tensorflow/bazel-ci_build-cache/.cache/bazel/_bazel_root/eab0d61a99b6696edb3d2aff87b585e8/external/arm_compiler/bin/arm-linux-gnueabihf-gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=1' -fstack-protector -DRASPBERRY_PI -g0 -O2 -DNDEBUG -ffunction-sections -fdata-sections '-std=c++11' -isystem /usr/include/arm-linux-gnueabihf -isystem /usr/include/python3.4 -isystem /usr/include/ -MD -MF bazel-out/armeabi-opt/bin/tensorflow/lite/python/interpreter_wrapper/_objs/numpy/numpy.pic.d '-frandom-seed=bazel-out/armeabi-opt/bin/tensorflow/lite/python/interpreter_wrapper/_objs/numpy/numpy.pic.o' -fPIC -iquote . -iquote bazel-out/armeabi-opt/genfiles -iquote bazel-out/armeabi-opt/bin -iquote external/local_config_python -iquote bazel-out/armeabi-opt/genfiles/external/local_config_python -iquote bazel-out/armeabi-opt/bin/external/local_config_python -iquote external/bazel_tools -iquote bazel-out/armeabi-opt/genfiles/external/bazel_tools -iquote bazel-out/armeabi-opt/bin/external/bazel_tools -isystem external/local_config_python/numpy_include -isystem bazel-out/armeabi-opt/genfiles/external/local_config_python/numpy_include -isystem bazel-out/armeabi-opt/bin/external/local_config_python/numpy_include -isystem external/local_config_python/python_include -isystem bazel-out/armeabi-opt/genfiles/external/local_config_python/python_include -isystem bazel-out/armeabi-opt/bin/external/local_config_python/python_include '-march=armv7-a' '-mfpu=neon-vfpv4' '-std=gnu11' '-DS_IREAD=S_IRUSR' '-DS_IWRITE=S_IWUSR' -O3 -U__GCC_HAVE_SYNC_COMPARE_AND_SWAP_1 -U__GCC_HAVE_SYNC_COMPARE_AND_SWAP_2 -U__GCC_HAVE_SYNC_COMPARE_AND_SWAP_8 -funsafe-math-optimizations -ftree-vectorize -fomit-frame-pointer -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -no-canonical-prefixes -fno-canonical-system-headers -c tensorflow/lite/python/interpreter_wrapper/numpy.cc -o bazel-out/armeabi-opt/bin/tensorflow/lite/python/interpreter_wrapper/_objs/numpy/numpy.pic.o)\r\nExecution platform: @bazel_tools//platforms:host_platform\r\ncc1plus: warning: command line option '-std=gnu11' is valid for C/ObjC but not for C++\r\nIn file included from /usr/include/python3.4/Python.h:8:0,\r\n                 from ./tensorflow/lite/python/interpreter_wrapper/numpy.h:49,\r\n                 from tensorflow/lite/python/interpreter_wrapper/numpy.cc:17:\r\n/usr/include/python3.4/pyconfig.h:13:55: fatal error: arm-linux-gnueabihf/python3.4m/pyconfig.h: No such file or directory\r\n #  include <arm-linux-gnueabihf/python3.4m/pyconfig.h>\r\n                                                       ^\r\ncompilation terminated.\r\n[4,900 / 12,575] Compiling external/org_sqlite/sqlite3.c; 12s local ... (6 actions running)\r\nINFO: Elapsed time: 35.627s, Critical Path: 12.95s\r\nINFO: 42 processes: 42 local.\r\nFAILED: Build did NOT complete successfully\r\nFAILED: Build did NOT complete successfully\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26938", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26938/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26938/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26938/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26938", "id": 423235193, "node_id": "MDU6SXNzdWU0MjMyMzUxOTM=", "number": 26938, "title": "How to use tf.embedding_lookup_sparse_with_distributed_aggregation in feature_column&estimator ?", "user": {"login": "ericyue", "id": 918889, "node_id": "MDQ6VXNlcjkxODg4OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/918889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ericyue", "html_url": "https://github.com/ericyue", "followers_url": "https://api.github.com/users/ericyue/followers", "following_url": "https://api.github.com/users/ericyue/following{/other_user}", "gists_url": "https://api.github.com/users/ericyue/gists{/gist_id}", "starred_url": "https://api.github.com/users/ericyue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ericyue/subscriptions", "organizations_url": "https://api.github.com/users/ericyue/orgs", "repos_url": "https://api.github.com/users/ericyue/repos", "events_url": "https://api.github.com/users/ericyue/events{/privacy}", "received_events_url": "https://api.github.com/users/ericyue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097543484, "node_id": "MDU6TGFiZWwxMDk3NTQzNDg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:runtime", "name": "comp:runtime", "color": "0052cc", "default": false, "description": "c++ runtime, performance issues (cpu)"}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-03-20T12:53:30Z", "updated_at": "2019-03-28T04:07:40Z", "closed_at": null, "author_association": "NONE", "body": "Hi, I want to use `tf.embedding_lookup_sparse_with_distributed_aggregation`  in my training program. The model is built with tf.estimator and tf.feature_column . \r\n\r\nBut the default is using `safe_embedding_lookup_sparse ` which will cost lots of network traffic.  \r\n\r\n\r\nSo what is the best way to use distributed_aggregation with feature_column ? \r\n\r\n I think one way is to modify tf.feature_colmun source code. but is there any others ?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26936", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26936/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26936/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26936/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/26936", "id": 423228325, "node_id": "MDExOlB1bGxSZXF1ZXN0MjYyODQ2Mjkz", "number": 26936, "title": "Lite: Slice Op refactored", "user": {"login": "ANSHUMAN87", "id": 32511895, "node_id": "MDQ6VXNlcjMyNTExODk1", "avatar_url": "https://avatars3.githubusercontent.com/u/32511895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ANSHUMAN87", "html_url": "https://github.com/ANSHUMAN87", "followers_url": "https://api.github.com/users/ANSHUMAN87/followers", "following_url": "https://api.github.com/users/ANSHUMAN87/following{/other_user}", "gists_url": "https://api.github.com/users/ANSHUMAN87/gists{/gist_id}", "starred_url": "https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ANSHUMAN87/subscriptions", "organizations_url": "https://api.github.com/users/ANSHUMAN87/orgs", "repos_url": "https://api.github.com/users/ANSHUMAN87/repos", "events_url": "https://api.github.com/users/ANSHUMAN87/events{/privacy}", "received_events_url": "https://api.github.com/users/ANSHUMAN87/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-03-20T12:36:50Z", "updated_at": "2020-02-14T11:12:24Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/26936", "html_url": "https://github.com/tensorflow/tensorflow/pull/26936", "diff_url": "https://github.com/tensorflow/tensorflow/pull/26936.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/26936.patch"}, "body": "Remove unnecessary reversal of input dimension"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26923", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26923/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26923/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26923/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/26923", "id": 423103842, "node_id": "MDExOlB1bGxSZXF1ZXN0MjYyNzQ4MTU1", "number": 26923, "title": "Add Registration for non-stateful scatter_nd_min and scatter_nd_max. Fixes issue #20402", "user": {"login": "pratjosh9", "id": 41942493, "node_id": "MDQ6VXNlcjQxOTQyNDkz", "avatar_url": "https://avatars3.githubusercontent.com/u/41942493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pratjosh9", "html_url": "https://github.com/pratjosh9", "followers_url": "https://api.github.com/users/pratjosh9/followers", "following_url": "https://api.github.com/users/pratjosh9/following{/other_user}", "gists_url": "https://api.github.com/users/pratjosh9/gists{/gist_id}", "starred_url": "https://api.github.com/users/pratjosh9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pratjosh9/subscriptions", "organizations_url": "https://api.github.com/users/pratjosh9/orgs", "repos_url": "https://api.github.com/users/pratjosh9/repos", "events_url": "https://api.github.com/users/pratjosh9/events{/privacy}", "received_events_url": "https://api.github.com/users/pratjosh9/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 987666414, "node_id": "MDU6TGFiZWw5ODc2NjY0MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/ready%20to%20pull", "name": "ready to pull", "color": "2cd643", "default": false, "description": ""}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, {"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 38, "created_at": "2019-03-20T07:24:12Z", "updated_at": "2020-03-17T01:15:23Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/26923", "html_url": "https://github.com/tensorflow/tensorflow/pull/26923", "diff_url": "https://github.com/tensorflow/tensorflow/pull/26923.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/26923.patch"}, "body": "Modified tensorflow/tensorflow/core/kernels/scatter_nd_op.cc to add registration for scatter_min and scatter_max ops."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26906", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26906/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26906/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26906/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26906", "id": 422995063, "node_id": "MDU6SXNzdWU0MjI5OTUwNjM=", "number": 26906, "title": "Multiple CheckpointSavers when using MonitoredTrainingSession", "user": {"login": "bdod6", "id": 20697223, "node_id": "MDQ6VXNlcjIwNjk3MjIz", "avatar_url": "https://avatars0.githubusercontent.com/u/20697223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdod6", "html_url": "https://github.com/bdod6", "followers_url": "https://api.github.com/users/bdod6/followers", "following_url": "https://api.github.com/users/bdod6/following{/other_user}", "gists_url": "https://api.github.com/users/bdod6/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdod6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdod6/subscriptions", "organizations_url": "https://api.github.com/users/bdod6/orgs", "repos_url": "https://api.github.com/users/bdod6/repos", "events_url": "https://api.github.com/users/bdod6/events{/privacy}", "received_events_url": "https://api.github.com/users/bdod6/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rchao", "id": 6505863, "node_id": "MDQ6VXNlcjY1MDU4NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6505863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchao", "html_url": "https://github.com/rchao", "followers_url": "https://api.github.com/users/rchao/followers", "following_url": "https://api.github.com/users/rchao/following{/other_user}", "gists_url": "https://api.github.com/users/rchao/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchao/subscriptions", "organizations_url": "https://api.github.com/users/rchao/orgs", "repos_url": "https://api.github.com/users/rchao/repos", "events_url": "https://api.github.com/users/rchao/events{/privacy}", "received_events_url": "https://api.github.com/users/rchao/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchao", "id": 6505863, "node_id": "MDQ6VXNlcjY1MDU4NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6505863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchao", "html_url": "https://github.com/rchao", "followers_url": "https://api.github.com/users/rchao/followers", "following_url": "https://api.github.com/users/rchao/following{/other_user}", "gists_url": "https://api.github.com/users/rchao/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchao/subscriptions", "organizations_url": "https://api.github.com/users/rchao/orgs", "repos_url": "https://api.github.com/users/rchao/repos", "events_url": "https://api.github.com/users/rchao/events{/privacy}", "received_events_url": "https://api.github.com/users/rchao/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-19T23:13:33Z", "updated_at": "2019-04-02T01:01:15Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): macOS High Sierra\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): 1.13.1\r\n- Python version: 2.7.14\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: None\r\n- GPU model and memory: None\r\n\r\n\r\nYou can collect some of this information using our environment capture [script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n**Describe the current behavior**\r\n\r\nI'm currently using MonitoredTrainingSession and passing it the CheckpointSaverHook. It works fine for new models. When I want to restore a model, I give a path to the `checkpoint_dir` arg. However, this also inits the default CheckpointSaver, and it will double save checkpoints in the directory. This is evident if I change `checkpoint_basename` as I get duplicate checkpoints at each global step.\r\n\r\n**Describe the expected behavior**\r\n\r\nI would not expect the default CheckpointSaver to init, and instead use the params given by the CheckpointSaverHook. \r\n\r\n**Code to reproduce the issue**\r\n\r\n```\r\n...\r\n    initializer_hook = _DatasetInitializerHook(init_train, self.train_tfrecords_glob,\r\n                                               queue_name=self.tensorq_name)\r\n    summary_hook = tf.train.SummarySaverHook(save_steps=50, save_secs=None, summary_op=summary_op)\r\n    logging_hook =  tf.train.LoggingTensorHook(tensors={'step': global_step, 'loss': loss,\r\n                                                        'accuracy': acc_op}, \r\n                                                         every_n_iter=logging_step)\r\n    saver = tf.train.Saver(max_to_keep=2)\r\n    saver_hook = tf.train.CheckpointSaverHook(checkpoint_dir=self.ckpt_dir, \r\n                                              saver=saver, save_steps=save_step,\r\n                                              checkpoint_basename='latest_model')\r\n    step_hook = tf.train.StepCounterHook(every_n_steps=logging_step)\r\n\r\n    hooks = [summary_hook, logging_hook]\r\n\r\n    # Checkpoint Saver - Check for new model\r\n    if self.new_model:\r\n      logging.info('Starting New Model...existing ckpts will be deleted')\r\n      hooks.extend([saver_hook, step_hook])\r\n      fl = [f for f in os.listdir(self.ckpt_dir)]\r\n      for f in fl:\r\n        os.remove(os.path.join(self.ckpt_dir, f))\r\n      checkpoint_dir =  None\r\n\r\n    else:\r\n      checkpoint_dir = self.ckpt_dir\r\n      hooks.append(saver_hook)\r\n    \r\n    # Start Training\r\n    with tf.train.MonitoredTrainingSession(\r\n        checkpoint_dir=checkpoint_dir,\r\n        hooks=[initializer_hook],\r\n        chief_only_hooks=hooks,\r\n        log_step_count_steps=logging_step,\r\n        config=tf.ConfigProto(allow_soft_placement=True)) as mon_sess:\r\n        while not mon_sess.should_stop():\r\n          mon_sess.run(training_op)\r\n\r\n    logging.info(\"Training Completed\")\r\n```\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26893", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26893/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26893/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26893/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26893", "id": 422859087, "node_id": "MDU6SXNzdWU0MjI4NTkwODc=", "number": 26893, "title": "Compilation failed: Compilation failure: Ran out of memory in memory space vmem. Please file a bug against XLA.", "user": {"login": "aaryapatel007", "id": 30631425, "node_id": "MDQ6VXNlcjMwNjMxNDI1", "avatar_url": "https://avatars0.githubusercontent.com/u/30631425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaryapatel007", "html_url": "https://github.com/aaryapatel007", "followers_url": "https://api.github.com/users/aaryapatel007/followers", "following_url": "https://api.github.com/users/aaryapatel007/following{/other_user}", "gists_url": "https://api.github.com/users/aaryapatel007/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaryapatel007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaryapatel007/subscriptions", "organizations_url": "https://api.github.com/users/aaryapatel007/orgs", "repos_url": "https://api.github.com/users/aaryapatel007/repos", "events_url": "https://api.github.com/users/aaryapatel007/events{/privacy}", "received_events_url": "https://api.github.com/users/aaryapatel007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1133285679, "node_id": "MDU6TGFiZWwxMTMzMjg1Njc5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:xla", "name": "comp:xla", "color": "0052cc", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "majnemer", "id": 353625, "node_id": "MDQ6VXNlcjM1MzYyNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/353625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/majnemer", "html_url": "https://github.com/majnemer", "followers_url": "https://api.github.com/users/majnemer/followers", "following_url": "https://api.github.com/users/majnemer/following{/other_user}", "gists_url": "https://api.github.com/users/majnemer/gists{/gist_id}", "starred_url": "https://api.github.com/users/majnemer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/majnemer/subscriptions", "organizations_url": "https://api.github.com/users/majnemer/orgs", "repos_url": "https://api.github.com/users/majnemer/repos", "events_url": "https://api.github.com/users/majnemer/events{/privacy}", "received_events_url": "https://api.github.com/users/majnemer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "majnemer", "id": 353625, "node_id": "MDQ6VXNlcjM1MzYyNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/353625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/majnemer", "html_url": "https://github.com/majnemer", "followers_url": "https://api.github.com/users/majnemer/followers", "following_url": "https://api.github.com/users/majnemer/following{/other_user}", "gists_url": "https://api.github.com/users/majnemer/gists{/gist_id}", "starred_url": "https://api.github.com/users/majnemer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/majnemer/subscriptions", "organizations_url": "https://api.github.com/users/majnemer/orgs", "repos_url": "https://api.github.com/users/majnemer/repos", "events_url": "https://api.github.com/users/majnemer/events{/privacy}", "received_events_url": "https://api.github.com/users/majnemer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-03-19T17:24:50Z", "updated_at": "2019-04-01T17:26:03Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):NO\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):Google Colab\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:NO\r\n- TensorFlow installed from (source or binary):Already installed on Colab \r\n- TensorFlow version (use command below):1.13.1\r\n- Keras version: 2.2.4\r\n- Python version:3.6\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n\r\nYou can collect some of this information using our environment capture [script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n**Describe the current behavior**\r\nI'm training my model on cloud TPU colab. My model has ~27M params.\r\nThe model is not compiling.\r\n**Describe the expected behavior**\r\nI've used others model using the same procedure and have trained successfully.\r\nBut facing problem with this model. Not compiling. \r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n```\r\ndef seresnext_model(input_shape):\r\n  base_model = SEResNextImageNet(input_shape,include_top = False)\r\n  x = base_model.output\r\n  out1 = GlobalMaxPooling2D()(x)\r\n  out2 = GlobalAveragePooling2D()(x)\r\n  out3 = Flatten()(x)\r\n  out = concatenate([out1,out2,out3])\r\n  out = Dropout(0.3)(out)\r\n  out = Dense(256,activation = 'relu')(out)\r\n  out = Dropout(0.3)(out)\r\n  X = Dense(1, activation='sigmoid', kernel_initializer='glorot_uniform', bias_initializer='zeros')(out)\r\n  model =  Model(inputs=base_model.input, outputs=X)\r\n  return model\r\n\r\n\r\ntf.logging.set_verbosity(tf.logging.INFO)\r\ntpu_model = tf.contrib.tpu.keras_to_tpu_model(\r\n    seresnext_model,\r\n    strategy=tf.contrib.tpu.TPUDistributionStrategy(\r\n        tf.contrib.cluster_resolver.TPUClusterResolver(tpu='grpc://' + os.environ['COLAB_TPU_ADDR'])\r\n    )\r\n)\r\ntpu_model.compile(optimizer=tf.train.AdamOptimizer(learning_rate = 3e-4), loss=tf.keras.losses.binary_crossentropy, metrics=['acc'])\r\nfilepath = '/content/model.h5'\r\n#clr = CyclicLR(base_lr=2e-4, max_lr=0.006,\r\n#                     step_size=1070.)\r\ncheckpoint = ModelCheckpoint(filepath,monitor='val_loss', verbose=1, \r\n                             save_best_only=True)\r\nhistory = tpu_model.fit_generator(train_gen,steps_per_epoch = train_steps,validation_data = val_gen,validation_steps = val_steps,epochs = 60,callbacks=[checkpoint],\r\n                                  )\r\n```\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n```\r\nINFO:tensorflow:Querying Tensorflow master (grpc://10.14.174.10:8470) for TPU system metadata.\r\nINFO:tensorflow:Found TPU system:\r\nINFO:tensorflow:*** Num TPU Cores: 8\r\nINFO:tensorflow:*** Num TPU Workers: 1\r\nINFO:tensorflow:*** Num TPU Cores Per Worker: 8\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:CPU:0, CPU, -1, 2624331463547489192)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 17179869184, 8563543438446983684)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:0, TPU, 17179869184, 16583072253587280753)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:1, TPU, 17179869184, 3721588361095158121)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:2, TPU, 17179869184, 6301764238571034056)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:3, TPU, 17179869184, 12096784135351803975)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:4, TPU, 17179869184, 8677796372356234775)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:5, TPU, 17179869184, 18261783914960296885)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:6, TPU, 17179869184, 15034483779723062214)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:7, TPU, 17179869184, 660265193242712443)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU_SYSTEM:0, TPU_SYSTEM, 17179869184, 14213068833784483275)\r\nWARNING:tensorflow:tpu_model (from tensorflow.contrib.tpu.python.tpu.keras_support) is experimental and may change or be removed at any time, and without warning.\r\nEpoch 1/60\r\nINFO:tensorflow:New input shapes; (re-)compiling: mode=train (# of cores 8), [TensorSpec(shape=(128,), dtype=tf.int32, name='core_id_20'), TensorSpec(shape=(128, 96, 96, 3), dtype=tf.float32, name='input_1_30'), TensorSpec(shape=(128, 1), dtype=tf.float32, name='dense_33_target_50')]\r\nINFO:tensorflow:Overriding default placeholder.\r\nINFO:tensorflow:Remapping placeholder for input_1\r\nWARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow/contrib/tpu/python/tpu/keras_support.py:302: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse tf.cast instead.\r\nWARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/math_ops.py:3066: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse tf.cast instead.\r\nWARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow/python/ops/math_grad.py:102: div (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nDeprecated in favor of operator or tf.math.divide.\r\nINFO:tensorflow:Started compiling\r\n---------------------------------------------------------------------------\r\nRuntimeError                              Traceback (most recent call last)\r\n<ipython-input-44-3196f76a2e41> in <module>()\r\n     12 checkpoint = ModelCheckpoint(filepath,monitor='val_loss', verbose=1, \r\n     13                              save_best_only=True)\r\n---> 14 history = tpu_model.fit_generator(train_gen,steps_per_epoch = train_steps,validation_data = val_gen,validation_steps = val_steps,epochs = 60,callbacks=[checkpoint],\r\n     15                                   )\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/training.py in fit_generator(self, generator, steps_per_epoch, epochs, verbose, callbacks, validation_data, validation_steps, class_weight, max_queue_size, workers, use_multiprocessing, shuffle, initial_epoch)\r\n   1424         use_multiprocessing=use_multiprocessing,\r\n   1425         shuffle=shuffle,\r\n-> 1426         initial_epoch=initial_epoch)\r\n   1427 \r\n   1428   def evaluate_generator(self,\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/training_generator.py in model_iteration(model, data, steps_per_epoch, epochs, verbose, callbacks, validation_data, validation_steps, class_weight, max_queue_size, workers, use_multiprocessing, shuffle, initial_epoch, mode, batch_size, **kwargs)\r\n    189       progbar.on_batch_begin(step, batch_logs)\r\n    190 \r\n--> 191       batch_outs = batch_function(*batch_data)\r\n    192       if not isinstance(batch_outs, list):\r\n    193         batch_outs = [batch_outs]\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/training.py in train_on_batch(self, x, y, sample_weight, class_weight, reset_metrics)\r\n   1189       else:\r\n   1190         self._make_fit_function()\r\n-> 1191         outputs = self._fit_function(ins)  # pylint: disable=not-callable\r\n   1192 \r\n   1193     if reset_metrics:\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/contrib/tpu/python/tpu/keras_support.py in __call__(***failed resolving arguments***)\r\n   1258     input_specs = infeed_instance.make_input_specs(input_tensors)\r\n   1259     tpu_model_ops = self._tpu_model_ops_for_input_specs(input_specs,\r\n-> 1260                                                         infeed_manager)\r\n   1261     infeed_dict = infeed_instance.make_feed_dict(tpu_model_ops)\r\n   1262 \r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/contrib/tpu/python/tpu/keras_support.py in _tpu_model_ops_for_input_specs(self, input_specs, infeed_manager)\r\n   1169                                                  infeed_manager)\r\n   1170       self._compilation_cache[shape_key] = new_tpu_model_ops\r\n-> 1171       self._test_model_compiles(new_tpu_model_ops)\r\n   1172 \r\n   1173     return self._compilation_cache[shape_key]\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/contrib/tpu/python/tpu/keras_support.py in _test_model_compiles(self, tpu_model_ops)\r\n   1112     if proto.status_error_message:\r\n   1113       raise RuntimeError('Compilation failed: {}'.format(\r\n-> 1114           proto.status_error_message))\r\n   1115 \r\n   1116     end_time = time.time()\r\n\r\nRuntimeError: Compilation failed: Compilation failure: Ran out of memory in memory space vmem. It should not be possible to run out of vmem - please file a bug against XLA.\r\n\r\nLargest program allocations in vmem:\r\n\r\n  XLA label: register allocator spill slots\r\n  Allocation type: scoped\r\n\r\n  XLA label: %fusion.276 = (f32[256]{0}, f32[256]{0}, f32[128,24,24,256]{3,0,2,1}) fusion(f32[128,24,24,256]{3,0,2,1}, f32[256]{0}, f32[128,24,24,8]{3,0,2,1}, f32[128,24,24,8]{3,0,2,1}, ...(+33)), kind=kLoop, calls=%fused_computation.272\r\n  Allocation type: scoped\r\n\r\n  XLA label: %fusion.276 = (f32[256]{0}, f32[256]{0}, f32[128,24,24,256]{3,0,2,1}) fusion(f32[128,24,24,256]{3,0,2,1}, f32[256]{0}, f32[128,24,24,8]{3,0,2,1}, f32[128,24,24,8]{3,0,2,1}, ...(+33)), kind=kLoop, calls=%fused_computation.272\r\n  Allocation type: scoped\r\n\r\n  XLA label: %fusion.276 = (f32[256]{0}, f32[256]{0}, f32[128,24,24,256]{3,0,2,1}) fusion(f32[128,24,24,256]{3,0,2,1}, f32[256]{0}, f32[128,24,24,8]{3,0,2,1}, f32[128,24,24,8]{3,0,2,1}, ...(+33)), kind=kLoop, calls=%fused_computation.272\r\n  Allocation type: scoped\r\n\r\n  XLA label: %fusion.276 = (f32[256]{0}, f32[256]{0}, f32[128,24,24,256]{3,0,2,1}) fusion(f32[128,24,24,256]{3,0,2,1}, f32[256]{0}, f32[128,24,24,8]{3,0,2,1}, f32[128,24,24,8]{3,0,2,1}, ...(+33)), kind=kLoop, calls=%fused_computation.272\r\n  Allocation type: scoped\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26885", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26885/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26885/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26885/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/26885", "id": 422765191, "node_id": "MDExOlB1bGxSZXF1ZXN0MjYyNDgyNDM4", "number": 26885, "title": "Lite: ResizeTensor Dim size check added to avoid reallocation if no c\u2026", "user": {"login": "ANSHUMAN87", "id": 32511895, "node_id": "MDQ6VXNlcjMyNTExODk1", "avatar_url": "https://avatars3.githubusercontent.com/u/32511895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ANSHUMAN87", "html_url": "https://github.com/ANSHUMAN87", "followers_url": "https://api.github.com/users/ANSHUMAN87/followers", "following_url": "https://api.github.com/users/ANSHUMAN87/following{/other_user}", "gists_url": "https://api.github.com/users/ANSHUMAN87/gists{/gist_id}", "starred_url": "https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ANSHUMAN87/subscriptions", "organizations_url": "https://api.github.com/users/ANSHUMAN87/orgs", "repos_url": "https://api.github.com/users/ANSHUMAN87/repos", "events_url": "https://api.github.com/users/ANSHUMAN87/events{/privacy}", "received_events_url": "https://api.github.com/users/ANSHUMAN87/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2019-03-19T14:30:32Z", "updated_at": "2020-02-05T10:42:56Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/26885", "html_url": "https://github.com/tensorflow/tensorflow/pull/26885", "diff_url": "https://github.com/tensorflow/tensorflow/pull/26885.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/26885.patch"}, "body": "If Tensor dimension is already same as new dimension, then avoid reallocation."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26882", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26882/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26882/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26882/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26882", "id": 422729784, "node_id": "MDU6SXNzdWU0MjI3Mjk3ODQ=", "number": 26882, "title": "ERROR: /home/user/.cache/bazel/_bazel_user/b4774fbdb8542988b4e302c9e073f145/external/com_google_absl/absl/types/BUILD.bazel:190:1: C++ compilation of rule '@com_google_absl//absl/types:bad_variant_access' failed (Exit 1) on benchmark_model tool build", "user": {"login": "mrgloom", "id": 4003908, "node_id": "MDQ6VXNlcjQwMDM5MDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/4003908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrgloom", "html_url": "https://github.com/mrgloom", "followers_url": "https://api.github.com/users/mrgloom/followers", "following_url": "https://api.github.com/users/mrgloom/following{/other_user}", "gists_url": "https://api.github.com/users/mrgloom/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrgloom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrgloom/subscriptions", "organizations_url": "https://api.github.com/users/mrgloom/orgs", "repos_url": "https://api.github.com/users/mrgloom/repos", "events_url": "https://api.github.com/users/mrgloom/events{/privacy}", "received_events_url": "https://api.github.com/users/mrgloom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1205615612, "node_id": "MDU6TGFiZWwxMjA1NjE1NjEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:%20ubuntu/linux", "name": "subtype: ubuntu/linux", "color": "b619ea", "default": false, "description": "Ubuntu/Linux Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-19T13:24:04Z", "updated_at": "2019-11-26T00:32:03Z", "closed_at": null, "author_association": "NONE", "body": "- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n```\r\nlsb_release -a\r\n\tNo LSB modules are available.\r\n\tDistributor ID:\tUbuntu\r\n\tDescription:\tUbuntu 16.04.5 LTS\r\n\tRelease:\t16.04\r\n\tCodename:\txenial\r\n```\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):\r\nBuild from source\r\n- TensorFlow version:\r\nFresh master\r\n```\r\ncommit 3b3da345340a4ff5f4c587ee38e5a468f252aee1 (HEAD -> master, origin/master, origin/HEAD)\r\nAuthor: Juhyun Lee <impjdi@google.com>\r\nDate:   Tue Mar 19 05:36:06 2019 -0700\r\n\r\n    Changed return type of run() from boolean to void.\r\n\r\n    PiperOrigin-RevId: 239171696\r\n```\r\n- Python version:\r\n```\r\npython -c \"import sys;print(sys.version)\"\r\n3.5.2 (default, Nov 23 2017, 16:37:01)\r\n[GCC 5.4.0 20160609]\r\n```\r\n- Installed using virtualenv? pip? conda?:\r\n- Bazel version (if compiling from source):\r\n```\r\nbazel version\r\n\tWARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".\r\n\tINFO: Invocation ID: 1f934444-2ee8-4d1c-9a2c-534fdf65195d\r\n\tBuild label: 0.22.0\r\n\tBuild target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\n\tBuild time: Mon Jan 28 12:58:08 2019 (1548680288)\r\n\tBuild timestamp: 1548680288\r\n\tBuild timestamp as int: 1548680288\r\n```\r\n- GCC/Compiler version (if compiling from source):\r\n```\r\ngcc -v\r\nUsing built-in specs.\r\nCOLLECT_GCC=gcc\r\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/6/lto-wrapper\r\nTarget: x86_64-linux-gnu\r\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 6.4.0-17ubuntu1~16.04' --with-bugurl=file:///usr/share/doc/gcc-6/README.Bugs --enable-languages=c,ada,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --with-as=/usr/bin/x86_64-linux-gnu-as --with-ld=/usr/bin/x86_64-linux-gnu-ld --program-suffix=-6 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-6-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-6-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-6-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --with-target-system-zlib --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\r\nThread model: posix\r\ngcc version 6.4.0 20180424 (Ubuntu 6.4.0-17ubuntu1~16.04)\r\n```\r\n- CUDA/cuDNN version:\r\n```\r\nnvcc --version\r\nnvcc: NVIDIA (R) Cuda compiler driver\r\nCopyright (c) 2005-2017 NVIDIA Corporation\r\nBuilt on Fri_Sep__1_21:08:03_CDT_2017\r\nCuda compilation tools, release 9.0, V9.0.176\r\n```\r\n- GPU model and memory:\r\nGeForce GTX TITAN X\r\nGeForce GTX 1080 Ti\r\n\r\nCommand to reproduce:\r\n\r\n```\r\ngit clone git@github.com:tensorflow/tensorflow.git\r\ncd tensorflow\r\nbazel build -c opt --crosstool_top=//external:android/crosstool --cpu=armeabi-v7a --host_crosstool_top=@bazel_tools//tools/cpp:toolchain --config monolithic tensorflow/tools/benchmark:benchmark_model\r\n```\r\n\r\nOutput:\r\n```\r\n\tWARNING: /data/user/external_projects/tensorflow/tensorflow/core/BUILD:1794:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib_lite: please do not import '//tensorflow/cc/saved_model:loader.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\n\tWARNING: /data/user/external_projects/tensorflow/tensorflow/core/BUILD:1794:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib_lite: please do not import '//tensorflow/core/distributed_runtime:server_lib.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\n\tINFO: Analysed target //tensorflow/tools/benchmark:benchmark_model (72 packages loaded, 4810 targets configured).\r\n\tINFO: Found 1 target...\r\n\tERROR: /home/user/.cache/bazel/_bazel_user/b4774fbdb8542988b4e302c9e073f145/external/com_google_absl/absl/types/BUILD.bazel:190:1: C++ compilation of rule '@com_google_absl//absl/types:bad_variant_access' failed (Exit 1)\r\n\tTarget //tensorflow/tools/benchmark:benchmark_model failed to build\r\n\tUse --verbose_failures to see the command lines of failed build steps.\r\n\tINFO: Elapsed time: 6.057s, Critical Path: 0.06s\r\n\tINFO: 0 processes.\r\n\tFAILED: Build did NOT complete successfully\r\n```\r\n\r\nLooks like error changes every time I run command:\r\n\r\nRun 2:\r\n```\r\n\t...\r\n\tINFO: Analysed target //tensorflow/tools/benchmark:benchmark_model (0 packages loaded, 0 targets configured).\r\n\tINFO: Found 1 target...\r\n\tERROR: /home/user/.cache/bazel/_bazel_user/b4774fbdb8542988b4e302c9e073f145/external/com_google_googletest/BUILD.bazel:57:1: C++ compilation of rule '@com_google_googletest//:gtest' failed (Exit 1)\r\n\tTarget //tensorflow/tools/benchmark:benchmark_model failed to build\r\n\tUse --verbose_failures to see the command lines of failed build steps.\r\n\tINFO: Elapsed time: 0.304s, Critical Path: 0.05s\r\n\tINFO: 0 processes.\r\n\tFAILED: Build did NOT complete successfully\r\n```\r\n\r\nRun 3:\r\n```\r\n\t...\r\n\tINFO: Analysed target //tensorflow/tools/benchmark:benchmark_model (0 packages loaded, 0 targets configured).\r\n\tINFO: Found 1 target...\r\n\tERROR: /home/user/.cache/bazel/_bazel_user/b4774fbdb8542988b4e302c9e073f145/external/com_google_absl/absl/strings/BUILD.bazel:32:1: C++ compilation of rule '@com_google_absl//absl/strings:strings' failed (Exit 1)\r\n\tTarget //tensorflow/tools/benchmark:benchmark_model failed to build\r\n\tUse --verbose_failures to see the command lines of failed build steps.\r\n\tINFO: Elapsed time: 0.236s, Critical Path: 0.02s\r\n\tINFO: 0 processes.\r\n\tFAILED: Build did NOT complete successfully\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26875", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26875/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26875/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26875/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/26875", "id": 422666891, "node_id": "MDExOlB1bGxSZXF1ZXN0MjYyNDA1MjY0", "number": 26875, "title": "Added Negative Axes support along with TCs.", "user": {"login": "amitsrivastava78", "id": 30853054, "node_id": "MDQ6VXNlcjMwODUzMDU0", "avatar_url": "https://avatars3.githubusercontent.com/u/30853054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amitsrivastava78", "html_url": "https://github.com/amitsrivastava78", "followers_url": "https://api.github.com/users/amitsrivastava78/followers", "following_url": "https://api.github.com/users/amitsrivastava78/following{/other_user}", "gists_url": "https://api.github.com/users/amitsrivastava78/gists{/gist_id}", "starred_url": "https://api.github.com/users/amitsrivastava78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amitsrivastava78/subscriptions", "organizations_url": "https://api.github.com/users/amitsrivastava78/orgs", "repos_url": "https://api.github.com/users/amitsrivastava78/repos", "events_url": "https://api.github.com/users/amitsrivastava78/events{/privacy}", "received_events_url": "https://api.github.com/users/amitsrivastava78/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2019-03-19T10:57:55Z", "updated_at": "2020-02-12T09:01:48Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/26875", "html_url": "https://github.com/tensorflow/tensorflow/pull/26875", "diff_url": "https://github.com/tensorflow/tensorflow/pull/26875.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/26875.patch"}, "body": "Added the support for negative axes along with TCs"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26873", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26873/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26873/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26873/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26873", "id": 422648400, "node_id": "MDU6SXNzdWU0MjI2NDg0MDA=", "number": 26873, "title": "Incorrect epoch number in TensorBoard callback when using batch-level metrics", "user": {"login": "bersbersbers", "id": 12128514, "node_id": "MDQ6VXNlcjEyMTI4NTE0", "avatar_url": "https://avatars1.githubusercontent.com/u/12128514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bersbersbers", "html_url": "https://github.com/bersbersbers", "followers_url": "https://api.github.com/users/bersbersbers/followers", "following_url": "https://api.github.com/users/bersbersbers/following{/other_user}", "gists_url": "https://api.github.com/users/bersbersbers/gists{/gist_id}", "starred_url": "https://api.github.com/users/bersbersbers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bersbersbers/subscriptions", "organizations_url": "https://api.github.com/users/bersbersbers/orgs", "repos_url": "https://api.github.com/users/bersbersbers/repos", "events_url": "https://api.github.com/users/bersbersbers/events{/privacy}", "received_events_url": "https://api.github.com/users/bersbersbers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 284285184, "node_id": "MDU6TGFiZWwyODQyODUxODQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tensorboard", "name": "comp:tensorboard", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rchao", "id": 6505863, "node_id": "MDQ6VXNlcjY1MDU4NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6505863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchao", "html_url": "https://github.com/rchao", "followers_url": "https://api.github.com/users/rchao/followers", "following_url": "https://api.github.com/users/rchao/following{/other_user}", "gists_url": "https://api.github.com/users/rchao/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchao/subscriptions", "organizations_url": "https://api.github.com/users/rchao/orgs", "repos_url": "https://api.github.com/users/rchao/repos", "events_url": "https://api.github.com/users/rchao/events{/privacy}", "received_events_url": "https://api.github.com/users/rchao/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchao", "id": 6505863, "node_id": "MDQ6VXNlcjY1MDU4NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6505863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchao", "html_url": "https://github.com/rchao", "followers_url": "https://api.github.com/users/rchao/followers", "following_url": "https://api.github.com/users/rchao/following{/other_user}", "gists_url": "https://api.github.com/users/rchao/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchao/subscriptions", "organizations_url": "https://api.github.com/users/rchao/orgs", "repos_url": "https://api.github.com/users/rchao/repos", "events_url": "https://api.github.com/users/rchao/events{/privacy}", "received_events_url": "https://api.github.com/users/rchao/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-03-19T10:19:56Z", "updated_at": "2019-03-26T18:23:22Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes, see below\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- TensorFlow installed from (source or binary): pip install tensorflow\r\n- TensorFlow version (use command below): `tensorflow==1.13.1` and `tf-nightly==1.14.1.dev20190318` (`v1.12.0-10310-g3db23915df 1.14.1-dev20190318`)\r\n- Python version: 3.7.2\r\n- Bazel version (if compiling from source): n/a\r\n- GCC/Compiler version (if compiling from source): n/a\r\n- CUDA/cuDNN version: n/a\r\n- GPU model and memory: n/a\r\n\r\n\r\n**Describe the current behavior**\r\nWhen collecting batch-level metrics, epochs are incorrectly numbered with the current `_samples_seen`\r\n\r\n**Describe the expected behavior**\r\nWhen collecting batch-level metrics, epochs should be numbered with the epoch number\r\n\r\n**Code to reproduce the issue**\r\n```\r\nfrom tensorflow import keras\r\n\r\n\r\nclass MyTensorBoard1(keras.callbacks.TensorBoard):\r\n    def _write_custom_summaries(self, step, logs=None):\r\n        print(logs, \"at step =\", step, \"with regular callback\")\r\n\r\n\r\nclass MyTensorBoard2(keras.callbacks.TensorBoard):\r\n    def _write_custom_summaries(self, step, logs=None):\r\n        print(logs, \"at step =\", step, \"with per-batch callback\")\r\n\r\n\r\nlayer = keras.layers.Input(shape=(1,))\r\nmodel = keras.models.Model(inputs=layer, outputs=layer)\r\nmodel.compile(optimizer='adam', loss='mse')\r\nCallback1 = MyTensorBoard1()\r\nCallback2 = MyTensorBoard2(update_freq='batch')\r\nmodel.fit(x=list(range(6)), y=list(range(6)), epochs=10, callbacks=[Callback1, Callback2])\r\n```\r\n\r\nTo run this code in current nightly, remove `Callback1` and focus on output of first epoch. Notice `at step = 6` in first epoch:\r\n\r\n```\r\nEpoch 1/10\r\n{'batch_loss': 0.0} at step = 0 with per-batch callback\r\n{'epoch_loss': 0.0} at step = 6 with per-batch callback\r\n6/6 [==============================] - 0s 15ms/sample - loss: 0.0000e+00\r\n```\r\n\r\n**Other info / logs**\r\nIn my opinion, the bug is here:\r\nhttps://github.com/tensorflow/tensorflow/blob/6612da89516247503f03ef76e974b51a434fb52e/tensorflow/python/keras/callbacks.py#L1158\r\n\r\nand still here:\r\nhttps://github.com/tensorflow/tensorflow/blob/c66b603990b9404dc1eb57de9d595aa0ffc8197f/tensorflow/python/keras/callbacks.py#L1288\r\n\r\nIn `on_epoch_end`, `step` should always be set to `epoch`."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26867", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26867/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26867/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26867/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26867", "id": 422593791, "node_id": "MDU6SXNzdWU0MjI1OTM3OTE=", "number": 26867, "title": "transform_graph tools fails to produce output for a particular graph definition/also strange behavior of the tool", "user": {"login": "drsealks", "id": 6204851, "node_id": "MDQ6VXNlcjYyMDQ4NTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6204851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drsealks", "html_url": "https://github.com/drsealks", "followers_url": "https://api.github.com/users/drsealks/followers", "following_url": "https://api.github.com/users/drsealks/following{/other_user}", "gists_url": "https://api.github.com/users/drsealks/gists{/gist_id}", "starred_url": "https://api.github.com/users/drsealks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drsealks/subscriptions", "organizations_url": "https://api.github.com/users/drsealks/orgs", "repos_url": "https://api.github.com/users/drsealks/repos", "events_url": "https://api.github.com/users/drsealks/events{/privacy}", "received_events_url": "https://api.github.com/users/drsealks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545273, "node_id": "MDU6TGFiZWwxMDk3NTQ1Mjcz", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:grappler", "name": "comp:grappler", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-19T08:10:13Z", "updated_at": "2019-03-27T00:25:21Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nNo\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nLinux Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\nn/a\r\n- TensorFlow installed from (source or binary):\r\nsource\r\n- TensorFlow version (use command below):\r\nv1.12.0-10232-g9a43dfe 1.13.1\r\n- Python version:\r\n3.7.1\r\n- Bazel version (if compiling from source):\r\nBuild label: 0.19.2\r\nBuild target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Mon Nov 19 16:25:09 2018 (1542644709)\r\nBuild timestamp: 1542644709\r\nBuild timestamp as int: 1542644709\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\nn/a\r\n- GPU model and memory:\r\nn/a\r\n\r\n\r\nYou can collect some of this information using our environment capture [script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n**Describe the current behavior**\r\nI was trying to use `transform_graph` tool to produce quantized version of a very simple graph. I noticed that in certain configurations of the graph(they are simple structurally) the tools complains about missing ops and so on. An example message:\r\n```\r\n2019-03-19 07:55:57.750401: W tensorflow/tools/graph_transforms/transform_utils.cc:441] Expected MobilenetV1/conv1/batch_normalization_v1/beta to be preserved.\r\n2019-03-19 07:55:57.750414: W tensorflow/tools/graph_transforms/transform_utils.cc:441] Expected MobilenetV1/conv1/batch_normalization_v1/gamma to be preserved.\r\n2019-03-19 07:55:57.750423: W tensorflow/tools/graph_transforms/transform_utils.cc:448] Generator function didn't preserve needed nodes, copying old replacements back in instead.\r\n```\r\nI tried to create a minimalistic reproducible example, where I started to notice more strange behavior. I will attach the python code for graph_def building below. For now this is the pb file I'm trying to work with:\r\n[saved_model.pb.tar.gz](https://github.com/tensorflow/tensorflow/files/2982144/saved_model.pb.tar.gz)\r\n\r\nIn my setup the tools fails with the following error:\r\n`2019-03-19 07:59:51.381714: E tensorflow/tools/graph_transforms/transform_utils.cc:577] Invalid input batch_normalization/gamma for node batch_normalization/FusedBatchNorm - name: \"batch_normalization/FusedBatchNorm\"`\r\n\r\nI call the the tool with the following configuration:\r\n`$tbin --in_graph=$in_graph --out_graph=$out_graph_clean_quant --inputs=$inputs --outputs=$outputs --transforms='add_default_attributes strip_unused_nodes() remove_nodes(op=Identity, op=CheckNumerics)  quantize_weights quantize_nodes fold_batch_norms fold_old_batch_norms strip_unused_nodes sort_by_execution_order'`\r\n\r\nThe tool will not fail if we change the depthwise conv to a normal conv2d. FusedBatchNorm does not lose any inputs, it just works. \r\n\r\nAnother observation: if we remove the following transformations `strip_unused_nodes() remove_nodes(op=Identity, op=CheckNumerics)` the tool will not fail.\r\n\r\nAnother observation. If we remove two aforementioned transformations, this is a piece of graph we get:\r\n![image](https://user-images.githubusercontent.com/6204851/54589454-940e8f80-4a1d-11e9-946f-a24d220908e3.png)\r\n\r\nFor some reason two FusedBatchNorm nodes receive Beta\\Gamma from the same nodes. I'm guessing this should not be the case. Furthermore, inside each of this nodes gamma\\variance and beta\\mean pairs receive values from the same reading ops. Note that there are only two additional inputs to FusedBatchNorm.\r\n![image](https://user-images.githubusercontent.com/6204851/54589580-ecde2800-4a1d-11e9-9679-b58f3b963735.png)\r\n\r\nHopefully it all makes sense.\r\n\r\n**Describe the expected behavior**\r\nTool should not fail when FusedBatchNorm is followed by DepthwiseConv2dNative.\r\n\r\n\r\n**Code to reproduce the issue**\r\nHere is some python self-contained code to reproduce the problem:\r\n\r\n```\r\nfrom tensorflow.contrib import keras\r\nimport tensorflow as tf\r\nimport os\r\n\r\n\r\ndef freeze_graph(model_dir, checkpoint_name, output_node_names):\r\n    \"\"\"Extract the sub graph defined by the output nodes and convert\r\n    all its variables into constant\r\n\r\n    Args:\r\n        model_dir: the root folder containing the checkpoint state file\r\n        output_node_names: a string, containing all the output node's names,\r\n                            comma separated\r\n    \"\"\"\r\n    if not tf.gfile.Exists(model_dir):\r\n        raise AssertionError(\r\n            \"Export directory doesn't exists. Please specify an export \"\r\n            \"directory: %s\" % model_dir)\r\n\r\n    if not output_node_names:\r\n        print(\"You need to supply the name of a node to --output_node_names.\")\r\n        return -1\r\n\r\n    absolute_model_dir = os.path.split(checkpoint_name)[0]\r\n    output_graph = os.path.join(absolute_model_dir, \"saved_model.pb\")\r\n\r\n    clear_devices = True\r\n\r\n    # We start a session using a temporary fresh Graph\r\n    with tf.Session() as sess:\r\n        sess.run(tf.global_variables_initializer())\r\n        saver = tf.train.Saver()\r\n        saver.restore(sess, checkpoint_name)\r\n        output_graph_def = tf.graph_util.convert_variables_to_constants(\r\n            sess,  # The session is used to retrieve the weights\r\n            tf.get_default_graph().as_graph_def(),  # The graph_def is used to retrieve the nodes\r\n            output_node_names  # The output node names are used to select the usefull nodes\r\n        )\r\n        with tf.gfile.GFile(output_graph, \"wb\") as f:\r\n            f.write(output_graph_def.SerializeToString())\r\n\r\n        with tf.gfile.GFile(output_graph, \"rb\") as f:\r\n            output_graph_def.ParseFromString(f.read())\r\n        print(\"%d ops in the final graph.\" % len(output_graph_def.node))\r\n\r\n\r\nsave_folder = os.path.join(os.path.expanduser('~'), 'tmp')\r\nos.makedirs(save_folder, exist_ok=True)\r\n\r\ninitializer = tf.contrib.layers.xavier_initializer_conv2d()\r\nwdw = tf.get_variable(shape=(3, 3, 32, 1), initializer=initializer, name=\"weights\")\r\nwc = tf.get_variable(shape=(1, 1, 32, 1), initializer=initializer, name=\"weights1\")\r\n\r\nconv_out = tf.placeholder(shape=(1, 300, 300, 3), dtype=tf.float32)\r\nconv_out = tf.nn.conv2d(conv_out, tf.get_variable(shape=(1, 1, 3, 32), initializer=initializer,name='w1'),\r\n                        strides=[1, 1, 1, 1],\r\n                        padding='SAME')\r\nconv_out = keras.layers.BatchNormalization()(conv_out, training=False)\r\n\r\nconv_out = tf.nn.depthwise_conv2d(conv_out, wdw, strides=[1, 1, 1, 1], padding='SAME')\r\n# conv_out = tf.nn.conv2d(conv_out, tf.get_variable(shape=(1, 1, 32, 32), initializer=initializer, name=\"weights32\"), strides=[1, 1, 1, 1], padding='SAME')\r\nconv_out = keras.layers.BatchNormalization()(conv_out, training=False)\r\nconv_out = tf.nn.relu(conv_out)\r\n#\r\nconv_out = tf.nn.conv2d(conv_out, wc, strides=[1, 1, 1, 1], padding='SAME')\r\nconv_out = keras.layers.BatchNormalization()(conv_out, training=False)\r\nconv_out = tf.nn.relu(conv_out)\r\n\r\nsaver = tf.train.Saver()\r\ncheckpoint_name = os.path.join(save_folder, 'model.chkpt')\r\nwith tf.Session() as s:\r\n    s.run(tf.global_variables_initializer())\r\n\r\n    save_path = saver.save(s, checkpoint_name)\r\n\r\nfreeze_graph(save_folder, checkpoint_name, [conv_out.op.name])\r\nprint(conv_out.op.name)\r\n```\r\n\r\n**Other info / logs**\r\nPlease, do let me know if I missed something. \r\nAlso, I might be misunderstanding something - please let me know if this is the case"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26843", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26843/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26843/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26843/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26843", "id": 422328723, "node_id": "MDU6SXNzdWU0MjIzMjg3MjM=", "number": 26843, "title": "SVD segfaults when given a 0x0 matrix", "user": {"login": "amilsted", "id": 1241345, "node_id": "MDQ6VXNlcjEyNDEzNDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1241345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amilsted", "html_url": "https://github.com/amilsted", "followers_url": "https://api.github.com/users/amilsted/followers", "following_url": "https://api.github.com/users/amilsted/following{/other_user}", "gists_url": "https://api.github.com/users/amilsted/gists{/gist_id}", "starred_url": "https://api.github.com/users/amilsted/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amilsted/subscriptions", "organizations_url": "https://api.github.com/users/amilsted/orgs", "repos_url": "https://api.github.com/users/amilsted/repos", "events_url": "https://api.github.com/users/amilsted/events{/privacy}", "received_events_url": "https://api.github.com/users/amilsted/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-18T16:55:58Z", "updated_at": "2019-03-19T21:05:42Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code: Yes.\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04 on WSL, also Colab\r\n- TensorFlow installed from (source or binary): binary (pip, no GPU)\r\n- TensorFlow version (use command below): b'v1.13.1-0-g6612da8951' 1.13.1\r\n- Python version: 3.6.8 (anaconda)\r\n\r\n**Describe the current behavior**\r\nRunning `tf.svd([[]])` leads to a segfault.\r\n\r\n**Describe the expected behavior**\r\nThis should probably raise an exception. Numpy returns something meaningless in this case, so is not a very good role model!\r\n\r\n**Code to reproduce the issue**\r\n```python\r\nimport tensorflow as tf\r\ntf.enable_v2_behavior()\r\ntf.svd([[]])\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26842", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26842/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26842/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26842/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26842", "id": 422325558, "node_id": "MDU6SXNzdWU0MjIzMjU1NTg=", "number": 26842, "title": "SVD handles small singular values poorly", "user": {"login": "amilsted", "id": 1241345, "node_id": "MDQ6VXNlcjEyNDEzNDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1241345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amilsted", "html_url": "https://github.com/amilsted", "followers_url": "https://api.github.com/users/amilsted/followers", "following_url": "https://api.github.com/users/amilsted/following{/other_user}", "gists_url": "https://api.github.com/users/amilsted/gists{/gist_id}", "starred_url": "https://api.github.com/users/amilsted/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amilsted/subscriptions", "organizations_url": "https://api.github.com/users/amilsted/orgs", "repos_url": "https://api.github.com/users/amilsted/repos", "events_url": "https://api.github.com/users/amilsted/events{/privacy}", "received_events_url": "https://api.github.com/users/amilsted/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-18T16:49:36Z", "updated_at": "2019-12-06T06:22:39Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code: Yes.\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04 on WSL, also Colab\r\n- TensorFlow installed from (source or binary): binary (pip, no GPU)\r\n- TensorFlow version (use command below): b'v1.13.1-0-g6612da8951' 1.13.1\r\n- Python version: 3.6.8 (anaconda)\r\n\r\n**The problem**\r\nPerforming an SVD of [this float32 matrix](https://github.com/tensorflow/tensorflow/files/2979211/matrix.zip) using `tf.svd()` (on CPU) results in `NaN` values in the `u` and `v` factors (no `NaN`s in the singular values). Numpy's (MKL's) SVD copes with this matrix fine, and returns many more nonzero singular values than the TF implementation. TF's SVD seems to zero singular values below a threshold. This is fine, assuming these values would have otherwise been inaccurate. However, the NaN's occur in the singular vectors corresponding to the *nonzero* singular values. Note also that not all the singular values are in descending order! This seems like a bug.\r\n\r\n**Describe the expected behavior**\r\nTensorFlow's SVD should be more robust to poorly-conditioned matrices.\r\n\r\n**Code to reproduce the issue**\r\n```python\r\nimport numpy as np\r\nimport tensorflow as tf\r\ntf.enable_v2_behavior()\r\nM = np.load(\"matrix.npy\")\r\ns_tf, u, v = tf.svd(M)\r\nprint(tf.norm(u).numpy(), tf.norm(v).numpy())  # prints \"nan nan\"\r\n\r\nu, s_np, vh = np.linalg.svd(M)\r\nprint(np.linalg.norm(u), np.linalg.norm(vh))  # prints some numbers\r\n\r\nprint(s_np)\r\nprint(s_tf.numpy())  # smaller singular values are zeroed\r\n```\r\n\r\nI think this is essentially the same as #8905, except that here I am using single precision. The ability of the SVD to handle ill-conditioned matrices is important for our application.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26841", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26841/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26841/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26841/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26841", "id": 422315808, "node_id": "MDU6SXNzdWU0MjIzMTU4MDg=", "number": 26841, "title": "Terribly slow conditional updates", "user": {"login": "phquanta", "id": 22856855, "node_id": "MDQ6VXNlcjIyODU2ODU1", "avatar_url": "https://avatars2.githubusercontent.com/u/22856855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phquanta", "html_url": "https://github.com/phquanta", "followers_url": "https://api.github.com/users/phquanta/followers", "following_url": "https://api.github.com/users/phquanta/following{/other_user}", "gists_url": "https://api.github.com/users/phquanta/gists{/gist_id}", "starred_url": "https://api.github.com/users/phquanta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phquanta/subscriptions", "organizations_url": "https://api.github.com/users/phquanta/orgs", "repos_url": "https://api.github.com/users/phquanta/repos", "events_url": "https://api.github.com/users/phquanta/events{/privacy}", "received_events_url": "https://api.github.com/users/phquanta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097543484, "node_id": "MDU6TGFiZWwxMDk3NTQzNDg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:runtime", "name": "comp:runtime", "color": "0052cc", "default": false, "description": "c++ runtime, performance issues (cpu)"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "saxenasaurabh", "id": 3967488, "node_id": "MDQ6VXNlcjM5Njc0ODg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3967488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saxenasaurabh", "html_url": "https://github.com/saxenasaurabh", "followers_url": "https://api.github.com/users/saxenasaurabh/followers", "following_url": "https://api.github.com/users/saxenasaurabh/following{/other_user}", "gists_url": "https://api.github.com/users/saxenasaurabh/gists{/gist_id}", "starred_url": "https://api.github.com/users/saxenasaurabh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saxenasaurabh/subscriptions", "organizations_url": "https://api.github.com/users/saxenasaurabh/orgs", "repos_url": "https://api.github.com/users/saxenasaurabh/repos", "events_url": "https://api.github.com/users/saxenasaurabh/events{/privacy}", "received_events_url": "https://api.github.com/users/saxenasaurabh/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "saxenasaurabh", "id": 3967488, "node_id": "MDQ6VXNlcjM5Njc0ODg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3967488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saxenasaurabh", "html_url": "https://github.com/saxenasaurabh", "followers_url": "https://api.github.com/users/saxenasaurabh/followers", "following_url": "https://api.github.com/users/saxenasaurabh/following{/other_user}", "gists_url": "https://api.github.com/users/saxenasaurabh/gists{/gist_id}", "starred_url": "https://api.github.com/users/saxenasaurabh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saxenasaurabh/subscriptions", "organizations_url": "https://api.github.com/users/saxenasaurabh/orgs", "repos_url": "https://api.github.com/users/saxenasaurabh/repos", "events_url": "https://api.github.com/users/saxenasaurabh/events{/privacy}", "received_events_url": "https://api.github.com/users/saxenasaurabh/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-03-18T16:30:10Z", "updated_at": "2019-03-20T16:37:36Z", "closed_at": null, "author_association": "NONE", "body": "I'm trying to implement conditional  tensor updates such as:\r\n\r\n\r\n#######################################################\r\nGiven i:\r\n\r\ntf.scatter_update(self.vOut,i,[tf.cond( tf.less(tf.cast(tf.random_uniform([1])[0],tf.float64),tf.minimum(tf.cast(1.,tf.float64),  tf.exp(-self.dUk(vv,hh,vIn,hIn,i,j,krepl)))),\r\n                 lambda:tf.slice(vv,[j,0],[1,self.n_v])[0],lambda:tf.slice(vIn,[i,j,0],[1,1,self.n_v])[0][0]) for j in kk])\r\n\r\n\r\n def U(self,x,y,x1,y1):\r\n            return tf.multiply(tf.cast(self.P1,tf.float64),tf.exp(-((tf.norm(x-y)+tf.norm(x1-y1))/self.P2)**2.))\r\n\r\n  def dU(self,x,y,v,z,x1,y1,v1,z1):    \r\n          return    tf.subtract(self.U(x,y,x1,y1),self.U(v,z,v1,z1))\r\n\r\n def dUk(self,vv,hh,vIn,hIn,i,j,krepl):    \r\n          return    tf.reduce_sum([tf.cond(tf.not_equal(p,i),\r\n             lambda: self.dU(tf.slice(vv,[j,0],[1,self.n_v])[0],tf.slice(vIn,[p,j,0],[1,1,self.n_v])[0][0], \r\n             tf.slice(vIn,[i,j,0],[1,1,self.n_v])[0][0],tf.slice(vIn,[p,j,0],[1,1,self.n_v])[0][0],\r\n             tf.slice(hh,[j,0],[1,self.n_h])[0],tf.slice(hIn,[p,j,0],[1,1,self.n_h])[0][0],\r\n             tf.slice(hIn,[i,j,0],[1,1,self.n_h])[0][0],tf.slice(hIn,[p,j,0],[1,1,self.n_h])[0][0]\r\n             ),\r\n             lambda: tf.cast(0., tf.float64)) for p in  krepl])\r\n #############################################################\r\n\r\nThe problem i'm encountering is being  terribly slow compared to just numpy computation, i.e.\r\n\r\npure dUk computation:\r\ndUk time (TF): 2.5306854248046875\r\ndUk time (Numpy) time: 0.0\r\n\r\nUpdate computation:\r\nTime for Scatter (TF): 12.936962366104126\r\nTime for Scatter (Numpy): 0.015621185302734375\r\n\r\nEverything is done on CPU.\r\n\r\nIs it normal to be that slow ?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26839", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26839/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26839/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26839/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26839", "id": 422310060, "node_id": "MDU6SXNzdWU0MjIzMTAwNjA=", "number": 26839, "title": "Numpy like slicing on Tensors", "user": {"login": "phquanta", "id": 22856855, "node_id": "MDQ6VXNlcjIyODU2ODU1", "avatar_url": "https://avatars2.githubusercontent.com/u/22856855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phquanta", "html_url": "https://github.com/phquanta", "followers_url": "https://api.github.com/users/phquanta/followers", "following_url": "https://api.github.com/users/phquanta/following{/other_user}", "gists_url": "https://api.github.com/users/phquanta/gists{/gist_id}", "starred_url": "https://api.github.com/users/phquanta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phquanta/subscriptions", "organizations_url": "https://api.github.com/users/phquanta/orgs", "repos_url": "https://api.github.com/users/phquanta/repos", "events_url": "https://api.github.com/users/phquanta/events{/privacy}", "received_events_url": "https://api.github.com/users/phquanta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2019-03-18T16:19:27Z", "updated_at": "2019-09-27T10:22:13Z", "closed_at": null, "author_association": "NONE", "body": "I was wondering if it is possible to implement Numpy like slicing annd updating a[1:10,2:20....]  in Tensorflow. It would make life much easier. Right now it code just gets bigger and uglier and bug prone.\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26831", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26831/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26831/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26831/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26831", "id": 422162500, "node_id": "MDU6SXNzdWU0MjIxNjI1MDA=", "number": 26831, "title": "Update README.md file of Tensorflow Lite Android example", "user": {"login": "arp95", "id": 8268392, "node_id": "MDQ6VXNlcjgyNjgzOTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8268392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arp95", "html_url": "https://github.com/arp95", "followers_url": "https://api.github.com/users/arp95/followers", "following_url": "https://api.github.com/users/arp95/following{/other_user}", "gists_url": "https://api.github.com/users/arp95/gists{/gist_id}", "starred_url": "https://api.github.com/users/arp95/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arp95/subscriptions", "organizations_url": "https://api.github.com/users/arp95/orgs", "repos_url": "https://api.github.com/users/arp95/repos", "events_url": "https://api.github.com/users/arp95/events{/privacy}", "received_events_url": "https://api.github.com/users/arp95/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "tofulawrence", "id": 24887415, "node_id": "MDQ6VXNlcjI0ODg3NDE1", "avatar_url": "https://avatars2.githubusercontent.com/u/24887415?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tofulawrence", "html_url": "https://github.com/tofulawrence", "followers_url": "https://api.github.com/users/tofulawrence/followers", "following_url": "https://api.github.com/users/tofulawrence/following{/other_user}", "gists_url": "https://api.github.com/users/tofulawrence/gists{/gist_id}", "starred_url": "https://api.github.com/users/tofulawrence/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tofulawrence/subscriptions", "organizations_url": "https://api.github.com/users/tofulawrence/orgs", "repos_url": "https://api.github.com/users/tofulawrence/repos", "events_url": "https://api.github.com/users/tofulawrence/events{/privacy}", "received_events_url": "https://api.github.com/users/tofulawrence/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tofulawrence", "id": 24887415, "node_id": "MDQ6VXNlcjI0ODg3NDE1", "avatar_url": "https://avatars2.githubusercontent.com/u/24887415?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tofulawrence", "html_url": "https://github.com/tofulawrence", "followers_url": "https://api.github.com/users/tofulawrence/followers", "following_url": "https://api.github.com/users/tofulawrence/following{/other_user}", "gists_url": "https://api.github.com/users/tofulawrence/gists{/gist_id}", "starred_url": "https://api.github.com/users/tofulawrence/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tofulawrence/subscriptions", "organizations_url": "https://api.github.com/users/tofulawrence/orgs", "repos_url": "https://api.github.com/users/tofulawrence/repos", "events_url": "https://api.github.com/users/tofulawrence/events{/privacy}", "received_events_url": "https://api.github.com/users/tofulawrence/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-18T11:14:24Z", "updated_at": "2019-03-19T17:38:41Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "<em>Please make sure that this is a documentation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:doc_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version: 1.7.1\r\n- Doc Link: - \r\n\r\n\r\n**Describe the documentation issue**\r\n\r\nUpdate the README.md file of Tensorflow Lite Android Example.\r\n\r\n**We welcome contributions by users. Will you be able to update submit a PR (use the [doc style guide](https://www.tensorflow.org/community/documentation)) to fix the doc Issue?**\r\n\r\nYes."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26806", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26806/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26806/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26806/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26806", "id": 421949524, "node_id": "MDU6SXNzdWU0MjE5NDk1MjQ=", "number": 26806, "title": "tflite runtime error with depthwise conv2D ", "user": {"login": "roymiles", "id": 6249994, "node_id": "MDQ6VXNlcjYyNDk5OTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6249994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roymiles", "html_url": "https://github.com/roymiles", "followers_url": "https://api.github.com/users/roymiles/followers", "following_url": "https://api.github.com/users/roymiles/following{/other_user}", "gists_url": "https://api.github.com/users/roymiles/gists{/gist_id}", "starred_url": "https://api.github.com/users/roymiles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roymiles/subscriptions", "organizations_url": "https://api.github.com/users/roymiles/orgs", "repos_url": "https://api.github.com/users/roymiles/repos", "events_url": "https://api.github.com/users/roymiles/events{/privacy}", "received_events_url": "https://api.github.com/users/roymiles/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "liyunlu0618", "id": 9705880, "node_id": "MDQ6VXNlcjk3MDU4ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/9705880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liyunlu0618", "html_url": "https://github.com/liyunlu0618", "followers_url": "https://api.github.com/users/liyunlu0618/followers", "following_url": "https://api.github.com/users/liyunlu0618/following{/other_user}", "gists_url": "https://api.github.com/users/liyunlu0618/gists{/gist_id}", "starred_url": "https://api.github.com/users/liyunlu0618/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liyunlu0618/subscriptions", "organizations_url": "https://api.github.com/users/liyunlu0618/orgs", "repos_url": "https://api.github.com/users/liyunlu0618/repos", "events_url": "https://api.github.com/users/liyunlu0618/events{/privacy}", "received_events_url": "https://api.github.com/users/liyunlu0618/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liyunlu0618", "id": 9705880, "node_id": "MDQ6VXNlcjk3MDU4ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/9705880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liyunlu0618", "html_url": "https://github.com/liyunlu0618", "followers_url": "https://api.github.com/users/liyunlu0618/followers", "following_url": "https://api.github.com/users/liyunlu0618/following{/other_user}", "gists_url": "https://api.github.com/users/liyunlu0618/gists{/gist_id}", "starred_url": "https://api.github.com/users/liyunlu0618/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liyunlu0618/subscriptions", "organizations_url": "https://api.github.com/users/liyunlu0618/orgs", "repos_url": "https://api.github.com/users/liyunlu0618/repos", "events_url": "https://api.github.com/users/liyunlu0618/events{/privacy}", "received_events_url": "https://api.github.com/users/liyunlu0618/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-03-17T17:18:17Z", "updated_at": "2020-01-15T04:16:01Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Custom code\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows/Ubuntu\r\n- TensorFlow installed from (source or binary): Tried source and binary\r\n- Python version: 3.6\r\n- CUDA/cuDNN version: 10/7.3\r\n- GPU model and memory: RTX 2070\r\n\r\n**Describe the current behavior**\r\n\r\nI run into the following error when trying to run a tflite model.\r\n`RuntimeError: tensorflow/lite/kernels/depthwise_conv.cc:104 params->depth_multiplier * SizeOfDimension(input, 3) != SizeOfDimension(filter, 3) (0 != 6)Node number 7 (DEPTHWISE_CONV_2D) failed to prepare.`\r\n\r\nThe code runs fine normally, just not after exporting to tflite.\r\nhttps://www.tensorflow.org/lite/guide/ops_compatibility -> States that the op is supported. \r\nI know it has been used for the MobileNet variants before.\r\nI specified rate=[1,1] and the input kernel is constant (tf.constant).\r\n\r\nThis error has also been reported in the comments of https://github.com/tensorflow/tensorflow/issues/20798\r\nI have tried with tf v1.12.0 and v2.0.\r\n\r\n**Describe the expected behavior**\r\nIn my case, the depth multiplier should be 1 and the size of the input channel dimension should be 6. \r\nI'm not sure why it says it is 0?\r\n\r\n**Code to reproduce the issue**\r\nI will provide a small snippet of code to reproduce the error, if it is not well known."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26804", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26804/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26804/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26804/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26804", "id": 421932702, "node_id": "MDU6SXNzdWU0MjE5MzI3MDI=", "number": 26804, "title": "when using model_to_estimator on a keras model -> accuracy and loss are not stored in events.out.tfevents.xxxxxxxxxx", "user": {"login": "tarrade", "id": 12021701, "node_id": "MDQ6VXNlcjEyMDIxNzAx", "avatar_url": "https://avatars0.githubusercontent.com/u/12021701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tarrade", "html_url": "https://github.com/tarrade", "followers_url": "https://api.github.com/users/tarrade/followers", "following_url": "https://api.github.com/users/tarrade/following{/other_user}", "gists_url": "https://api.github.com/users/tarrade/gists{/gist_id}", "starred_url": "https://api.github.com/users/tarrade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tarrade/subscriptions", "organizations_url": "https://api.github.com/users/tarrade/orgs", "repos_url": "https://api.github.com/users/tarrade/repos", "events_url": "https://api.github.com/users/tarrade/events{/privacy}", "received_events_url": "https://api.github.com/users/tarrade/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-03-17T14:54:56Z", "updated_at": "2019-07-26T09:43:46Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Mac OS\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): Yes\r\n- TensorFlow version (use command below):\r\n- Python version: 3.5\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n**Describe the current behavior**\r\n\r\nwhen using a keras model and transforming it with `model_to_estimator` accuracy and loss are not stored in`events.out.tfevents.xxxxxxxxxx` (used by TensorBoard for visualiztion). I am using `tf.estimator.train()` or `tf.estimator.train_and_evaluate(estimator, train_spec, eval_spec)` and in both cases I only get:\r\n`dict_keys(['global_step/sec', 'loss_1'])`\r\n\r\nusing `tf.estimator.train()` I am expecting loss and accuray in `events.out.tfevents.xxxxxxxxxx` for the training dataset\r\n\r\nusing `tf.estimator.train_and_evaluate(estimator, train_spec, eval_spec)` I am expecting loss and accuray in `events.out.tfevents.xxxxxxxxxx` for the training dataset abd testing datset.\r\n\r\nThe info are computed and display in the logfiles:\r\n```\r\nINFO:tensorflow:Done running local_init_op.\r\nINFO:tensorflow:Evaluation [10/100]\r\nINFO:tensorflow:Evaluation [20/100]\r\nINFO:tensorflow:Evaluation [30/100]\r\nINFO:tensorflow:Evaluation [40/100]\r\nINFO:tensorflow:Evaluation [50/100]\r\nINFO:tensorflow:Evaluation [60/100]\r\nINFO:tensorflow:Evaluation [70/100]\r\nINFO:tensorflow:Finished evaluation at 2019-03-16-12:28:05\r\nINFO:tensorflow:Saving dict for global step 1000: accuracy = 0.9766614, global_step = 1000, loss = 0.074898034\r\nINFO:tensorflow:Saving 'checkpoint_path' summary for global step 1000: results/Models/Mnist/tf_1_12/estimator/ckpt/model.ckpt-1000\r\n```\r\nIs this expected ? It is documented somehwere ? without such info in TensorBoard then it is impossible to see if the model is overfitting or not. I am not even sure which info is displayed in the logfile, right ? or is there some other magic way to get such info ?\r\n\r\nwhy tf.summary information are not propagated from keras to estimator model ? We don't have much control over the estimator model when it is converted from Keras\r\n\r\nOne option is to use a estimator model using keras layer so we can control everything but since Keras is now the official high level API from TensorFlow, I was thinking I could just transform it to an estimator model. I will be happy to test TF 2.0 if this will fix my issue. \r\n\r\n**Describe the expected behavior**\r\n\r\nwhen I am using the same keras model and running the `fit` method, I got in the `events.out.tfevents.xxxxxxxxxx` file:\r\n\r\n`dict_keys(['batch_acc', 'batch_loss', 'epoch_acc', 'epoch_loss', 'epoch_val_acc', 'epoch_val_loss'])`\r\n\r\nI got 6 variables inluding accuracy and loss for the training and test datset. This is what Iam expected.\r\n\r\n**Code to reproduce the issue**\r\ncode to inspect `events.out.tfevents.xxxxxxxxxx` files:\r\n```\r\nfrom tensorboard.backend.event_processing import event_accumulator\r\nimport numpy as np\r\n\r\ndef load_data_tensorboard(path):\r\n    event_acc = event_accumulator.EventAccumulator(path)\r\n    event_acc.Reload()\r\n    data = {}\r\n    \r\n    for tag in sorted(event_acc.Tags()[\"scalars\"]):\r\n        x, y = [], []\r\n        for scalar_event in event_acc.Scalars(tag):\r\n            x.append(scalar_event.step)\r\n            y.append(scalar_event.value)\r\n        data[tag] = (np.asarray(x), np.asarray(y))\r\n    return data\r\n```\r\none notebook contain the code but this is \"work in progress\":\r\nhttps://github.com/tarrade/proj_DL_models_and_pipelines_with_GCP/blob/master/notebook/08-Mnist_keras_estimator.ipynb"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26803", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26803/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26803/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26803/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26803", "id": 421929409, "node_id": "MDU6SXNzdWU0MjE5Mjk0MDk=", "number": 26803, "title": "[TF 2.0] timestep-wise sample weights not working with tf.data.Dataset and tf.keras.Model", "user": {"login": "jrabary", "id": 1025387, "node_id": "MDQ6VXNlcjEwMjUzODc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1025387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrabary", "html_url": "https://github.com/jrabary", "followers_url": "https://api.github.com/users/jrabary/followers", "following_url": "https://api.github.com/users/jrabary/following{/other_user}", "gists_url": "https://api.github.com/users/jrabary/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrabary/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrabary/subscriptions", "organizations_url": "https://api.github.com/users/jrabary/orgs", "repos_url": "https://api.github.com/users/jrabary/repos", "events_url": "https://api.github.com/users/jrabary/events{/privacy}", "received_events_url": "https://api.github.com/users/jrabary/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-03-17T14:30:06Z", "updated_at": "2019-10-22T14:31:43Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version (use command below): tf-nightly-2.0-preview\r\n\r\n**Describe the current behavior**\r\n\r\nWith some model such as object detection one need to weight losses per locations. In this case, the output tensor can have the following shape `[N, T, ...]` where N the batch size and T the locations. \r\nAccording to the documentation `tf.keras.Model` can handle timestep-wise sample weight by setting ` sample_weight_mode=\"temporal\"`. \r\nBut this seems not to be the case when we use `tf.Dataset` as inputs.\r\n\r\n**Code to reproduce the issue**\r\n\r\n```\r\nimport tensorflow as tf\r\n\r\n\r\nclass MyModel(tf.keras.Model):\r\n\r\n    def __init__(self):\r\n        super(MyModel, self).__init__(name='')\r\n\r\n        self.l1 = tf.keras.layers.Conv2D(10, 3)\r\n        self.o1 = tf.keras.layers.Conv2D(2, 1)\r\n        self.o2 = tf.keras.layers.Conv2D(3, 1, name='o2')\r\n\r\n        # print(self._output_names)\r\n\r\n    def call(self, inputs):\r\n        batch_size = tf.shape(inputs)[0]\r\n        y = self.l1(inputs)\r\n        y1 = self.o1(y)\r\n        y1 = tf.reshape(y1, [batch_size, -1, 2])\r\n        y2 = self.o2(y)\r\n        y2 = tf.reshape(y2, [batch_size, -1, 3])\r\n\r\n        return y1, y2\r\n\r\n\r\nclass Loss1(tf.keras.losses.Loss):\r\n\r\n    def call(self, targets, predictions):\r\n        losses = tf.math.abs(predictions - targets)\r\n        return tf.reduce_sum(losses, axis=2)\r\n\r\n\r\nx = tf.random.uniform([10, 16, 16, 3])\r\ny1 = tf.random.uniform([10, 14*14, 2])\r\ny2 = tf.random.uniform([10, 14*14, 3])\r\nw1 = tf.random.uniform([10, 14*14, 1])\r\nw2 = tf.random.uniform([10, 14*14, 1])\r\n\r\n\r\ndata = tf.data.Dataset.from_tensor_slices((x, (y1, y2), {'output_1': w1, 'output_2': w2})).batch(5).repeat()\r\n\r\n\r\nmodel = MyModel()\r\noptimizer = tf.keras.optimizers.SGD(0.001)\r\n\r\nmodel.compile(optimizer=optimizer,\r\n              loss=[Loss1(), Loss1()],\r\n              loss_weights=[1., 1.],\r\n              sample_weight_mode=\"temporal\",\r\n              run_eagerly=True)\r\n\r\n\r\nmodel.fit(data, epochs=5, steps_per_epoch=1)\r\n```\r\n\r\n**Other info / logs**\r\n\r\n```\r\nValueError: Found a sample_weight array with shape (5, 196, 1). In order to use timestep-wise sample weights, you should specify sample_weight_mode=\"temporal\" in compile(). If you just mean to use sample-wise weights, make sure your sample_weight array is 1D.\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26797", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26797/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26797/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26797/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26797", "id": 421888812, "node_id": "MDU6SXNzdWU0MjE4ODg4MTI=", "number": 26797, "title": "dilated convolution leads to incorrect graph optimization", "user": {"login": "ppwwyyxx", "id": 1381301, "node_id": "MDQ6VXNlcjEzODEzMDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1381301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ppwwyyxx", "html_url": "https://github.com/ppwwyyxx", "followers_url": "https://api.github.com/users/ppwwyyxx/followers", "following_url": "https://api.github.com/users/ppwwyyxx/following{/other_user}", "gists_url": "https://api.github.com/users/ppwwyyxx/gists{/gist_id}", "starred_url": "https://api.github.com/users/ppwwyyxx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ppwwyyxx/subscriptions", "organizations_url": "https://api.github.com/users/ppwwyyxx/orgs", "repos_url": "https://api.github.com/users/ppwwyyxx/repos", "events_url": "https://api.github.com/users/ppwwyyxx/events{/privacy}", "received_events_url": "https://api.github.com/users/ppwwyyxx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545273, "node_id": "MDU6TGFiZWwxMDk3NTQ1Mjcz", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:grappler", "name": "comp:grappler", "color": "0052cc", "default": false, "description": ""}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-03-17T06:43:59Z", "updated_at": "2019-09-25T14:47:27Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):archlinux\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:n/a\r\n- TensorFlow installed from (source or binary):binary\r\n- TensorFlow version (use command below):b'v1.13.1-0-g6612da8' 1.13.1\r\n- Python version:3.7\r\n- Bazel version (if compiling from source):n/a\r\n- GCC/Compiler version (if compiling from source):n/a\r\n- CUDA/cuDNN version: 10.0 / 7.5.0\r\n- GPU model and memory: GTX 1080Ti\r\n\r\nThe following code:\r\n```python\r\nimport numpy as np\r\nimport tensorflow as tf\r\n\r\nx = tf.placeholder(name='input', shape=[1, 1024, None, None], dtype=tf.float32)\r\n\r\nhidden = tf.layers.Conv2D(256, 3, activation=tf.nn.relu, dilation_rate=2, data_format='channels_first', padding='SAME')(x)\r\n\r\nlabel_logits = tf.layers.Conv2D(15, 1, data_format='channels_first', padding='SAME')(hidden)\r\nshp1 = tf.shape(label_logits)\r\n\r\nlabel_logits = tf.squeeze(label_logits, 0)\r\nshp2 = tf.shape(label_logits)\r\n\r\nsess = tf.Session()\r\nsess.run(tf.global_variables_initializer())\r\nwith sess.as_default():\r\n    v = np.random.rand(1, 1024, 200, 19)\r\n    print(sess.run([shp1, shp2], feed_dict={x: v}))\r\n```\r\nruns on GPU, and prints:\r\n```\r\n[array([  1,  15, 200,  19], dtype=int32), array([ 15, 256, 256], dtype=int32)]\r\n```\r\n\r\nThe shape of tensor was changed by a `squeeze`. This is terribly wrong.\r\n\r\nThe issue was originally reported at https://github.com/tensorpack/tensorpack/issues/1110\r\n\r\n![0316-23:43:26](https://user-images.githubusercontent.com/1381301/54486423-57883b80-4845-11e9-8137-c48c20aec743.png)\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26786", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26786/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26786/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26786/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26786", "id": 421810553, "node_id": "MDU6SXNzdWU0MjE4MTA1NTM=", "number": 26786, "title": "[tflite][java] Interpreter.reset_all_variables() is not supported on Android.", "user": {"login": "MiloslavPalaxo", "id": 13745388, "node_id": "MDQ6VXNlcjEzNzQ1Mzg4", "avatar_url": "https://avatars2.githubusercontent.com/u/13745388?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MiloslavPalaxo", "html_url": "https://github.com/MiloslavPalaxo", "followers_url": "https://api.github.com/users/MiloslavPalaxo/followers", "following_url": "https://api.github.com/users/MiloslavPalaxo/following{/other_user}", "gists_url": "https://api.github.com/users/MiloslavPalaxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/MiloslavPalaxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MiloslavPalaxo/subscriptions", "organizations_url": "https://api.github.com/users/MiloslavPalaxo/orgs", "repos_url": "https://api.github.com/users/MiloslavPalaxo/repos", "events_url": "https://api.github.com/users/MiloslavPalaxo/events{/privacy}", "received_events_url": "https://api.github.com/users/MiloslavPalaxo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-16T14:05:17Z", "updated_at": "2019-03-18T17:56:58Z", "closed_at": null, "author_association": "NONE", "body": "`Interpreter` does not support `reset_all_variables()` in the current Android API of TF Lite.\r\n\r\nThis function is critical for RNNs because without it all the batches after the first one produce wrong results.\r\n\r\n**System information**\r\n- OS Platform and Distribution: Linux Ubuntu 18.04\r\n- Mobile device: Pixel 3 XL\r\n- TensorFlow installed from: binary\r\n- TensorFlow version: v1.12.0-9708-gafab5b3 1.14.1-dev20190306\r\n- Python version: Python 3.7.1"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26784", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26784/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26784/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26784/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26784", "id": 421788107, "node_id": "MDU6SXNzdWU0MjE3ODgxMDc=", "number": 26784, "title": "[TF 2.0] Respect masking in Keras loss reduction (i.e., support an equivalent of default TF 1.0 loss reduction SUM_OVER_NONZERO_WEIGHTS)", "user": {"login": "foxik", "id": 560016, "node_id": "MDQ6VXNlcjU2MDAxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/560016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/foxik", "html_url": "https://github.com/foxik", "followers_url": "https://api.github.com/users/foxik/followers", "following_url": "https://api.github.com/users/foxik/following{/other_user}", "gists_url": "https://api.github.com/users/foxik/gists{/gist_id}", "starred_url": "https://api.github.com/users/foxik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/foxik/subscriptions", "organizations_url": "https://api.github.com/users/foxik/orgs", "repos_url": "https://api.github.com/users/foxik/repos", "events_url": "https://api.github.com/users/foxik/events{/privacy}", "received_events_url": "https://api.github.com/users/foxik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "pavithrasv", "id": 13326758, "node_id": "MDQ6VXNlcjEzMzI2NzU4", "avatar_url": "https://avatars0.githubusercontent.com/u/13326758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pavithrasv", "html_url": "https://github.com/pavithrasv", "followers_url": "https://api.github.com/users/pavithrasv/followers", "following_url": "https://api.github.com/users/pavithrasv/following{/other_user}", "gists_url": "https://api.github.com/users/pavithrasv/gists{/gist_id}", "starred_url": "https://api.github.com/users/pavithrasv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pavithrasv/subscriptions", "organizations_url": "https://api.github.com/users/pavithrasv/orgs", "repos_url": "https://api.github.com/users/pavithrasv/repos", "events_url": "https://api.github.com/users/pavithrasv/events{/privacy}", "received_events_url": "https://api.github.com/users/pavithrasv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pavithrasv", "id": 13326758, "node_id": "MDQ6VXNlcjEzMzI2NzU4", "avatar_url": "https://avatars0.githubusercontent.com/u/13326758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pavithrasv", "html_url": "https://github.com/pavithrasv", "followers_url": "https://api.github.com/users/pavithrasv/followers", "following_url": "https://api.github.com/users/pavithrasv/following{/other_user}", "gists_url": "https://api.github.com/users/pavithrasv/gists{/gist_id}", "starred_url": "https://api.github.com/users/pavithrasv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pavithrasv/subscriptions", "organizations_url": "https://api.github.com/users/pavithrasv/orgs", "repos_url": "https://api.github.com/users/pavithrasv/repos", "events_url": "https://api.github.com/users/pavithrasv/events{/privacy}", "received_events_url": "https://api.github.com/users/pavithrasv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-03-16T09:21:01Z", "updated_at": "2020-02-21T18:42:56Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- TensorFlow version (you are using): **TF 2.0.0a0**\r\n- Are you willing to contribute it (Yes/No): **Yes**\r\n\r\n**Describe the feature and the current behavior/state.**\r\n\r\nIn TF 1.0, default loss reduction was `SUM_OVER_NONZERO_WEIGHTS`. For NLP with sequences on inputs, it normalized losses by number of _valid elements_ (i.e., sum of non-padding words in input sentences).\r\n\r\nWith Keras API, default reduction `SUM_OVER_BATCH_SIZE` does not respect masking, so if a batch of sequences is passed on input, it is normalized by total batch size including padding (masked) elements. No reduction in Keras is available which would recover the previous TF 1.0 default `SUM_OVER_NONZERO_WEIGHTS` reduction.\r\n\r\n**Will this change the current api? How?**\r\n\r\nMy proposal is to respect masking in the `SUM_OVER_BATCH_SIZE` reduction. If a mask is set, then `BATCH_SIZE` should probably correspond to the number of unmasked elements anyway.\r\n\r\nAlternatively, a new reduction `SUM_OVER_MASKED_BATCH_SIZE` could be added.\r\n\r\n**Who will benefit with this feature?**\r\n\r\nI think anyone using masked losses, especially if _upgrading from TF 1_."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26781", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26781/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26781/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26781/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26781", "id": 421768662, "node_id": "MDU6SXNzdWU0MjE3Njg2NjI=", "number": 26781, "title": "Confusing documentation for  to tf.Graph in Tensorflow 2", "user": {"login": "canyon289", "id": 7213793, "node_id": "MDQ6VXNlcjcyMTM3OTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7213793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/canyon289", "html_url": "https://github.com/canyon289", "followers_url": "https://api.github.com/users/canyon289/followers", "following_url": "https://api.github.com/users/canyon289/following{/other_user}", "gists_url": "https://api.github.com/users/canyon289/gists{/gist_id}", "starred_url": "https://api.github.com/users/canyon289/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/canyon289/subscriptions", "organizations_url": "https://api.github.com/users/canyon289/orgs", "repos_url": "https://api.github.com/users/canyon289/repos", "events_url": "https://api.github.com/users/canyon289/events{/privacy}", "received_events_url": "https://api.github.com/users/canyon289/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-16T04:29:51Z", "updated_at": "2019-05-31T21:04:47Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n\r\n> tensorflow-estimator-2.0-preview==1.14.0.dev2019031500\r\n> tensorflow-probability==0.5.0\r\n\r\n- Doc Link : https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/Graph\r\n\r\n**Describe the documentation issue**\r\nI believe for TF2 these docs can be more explicit that tf.Graph should not be used directly, and instead provide guidance similar to what Alex does in his talk\r\nhttps://www.youtube.com/watch?v=Up9CvRLIIIw\r\n\r\nThe wording that `A default Graph is always registered` is confusing in TF2 verbiage. and I believe the warning that the graph will not be executed eagerly should also be made more prominent, potentially by moving it up.\r\n\r\nThe confusion compounds because after using this method the user is left with a `tf.Tensor` but we're advised not to use `tf.Session` so it's not entirely clear what should be done next to evaluate the graph.\r\n\r\nSome of my confusion is visible in this thread (Big thanks to @brianwa84 for the help)\r\nhttps://github.com/pymc-devs/pymc4/pull/93#issuecomment-473490764 for reference\r\n\r\nThanks in advance!\r\n\r\n**We welcome contributions by users. Will you be able to update submit a PR (use the [doc style guide](https://www.tensorflow.org/community/documentation)) to fix the doc Issue?**\r\nIf I can get some help on how to word things correctly then yes\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26776", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26776/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26776/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26776/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26776", "id": 421751261, "node_id": "MDU6SXNzdWU0MjE3NTEyNjE=", "number": 26776, "title": "Improve testing infrastructure to prevent breaking open source builds", "user": {"login": "samikama", "id": 10539540, "node_id": "MDQ6VXNlcjEwNTM5NTQw", "avatar_url": "https://avatars0.githubusercontent.com/u/10539540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samikama", "html_url": "https://github.com/samikama", "followers_url": "https://api.github.com/users/samikama/followers", "following_url": "https://api.github.com/users/samikama/following{/other_user}", "gists_url": "https://api.github.com/users/samikama/gists{/gist_id}", "starred_url": "https://api.github.com/users/samikama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samikama/subscriptions", "organizations_url": "https://api.github.com/users/samikama/orgs", "repos_url": "https://api.github.com/users/samikama/repos", "events_url": "https://api.github.com/users/samikama/events{/privacy}", "received_events_url": "https://api.github.com/users/samikama/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-16T00:59:30Z", "updated_at": "2019-03-19T17:57:32Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Recently pushes to the master branch done by tensorflow gardener frequently breaking the open source builds from the master and that is hindering the development on top of the tree by requested/suggested by google engineers through various configurations. Would it be possible to improve the testing of internal to external merges to make sure that opensource builds are not broken by a push from internal repositories?.\r\n\r\nFor example a push made today left master in broken state. In line https://github.com/tensorflow/tensorflow/blob/9a43dfeac58477c37cb356e3759b053d2bbd0247/tensorflow/tensorflow.bzl#L2189\r\nsome environment variables are referred however bazel clears the environment for genrules, we end up with an error message like below and can't build TF right now. It is possible to fix such issues but it likely to cost time for multiple people. Would it be possible to add a test that does a build with the instructions at [installation/build from source](https://www.tensorflow.org/install/source) still works.\r\n\r\n`   (cd /ssdscratch/.cache/bazel/_bazel_skama/184fadfe649ebd4ee26f07bbb482f004/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    PATH=/ssdscratch/work/XLAInt8/tensorflow/build/bin:/home/skama/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games \\\r\n  /bin/bash -c 'source external/bazel_tools/tools/genrule/genrule-setup.sh; bazel-out/host/bin/tensorflow/tools/build_info/gen_build_info --raw_generate \"bazel-out/host/genfiles/tensorflow/python/platform/build_info.py\" --build_config cuda --key_value  cuda_version_number=${TF_CUDA_VERSION} cudnn_version_number=${TF_CUDNN_VERSION} ')\r\nExecution platform: @bazel_tools//platforms:host_platform\r\n/bin/bash: TF_CUDA_VERSION: unbound variable\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\n`"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26755", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26755/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26755/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26755/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26755", "id": 421600820, "node_id": "MDU6SXNzdWU0MjE2MDA4MjA=", "number": 26755, "title": "Request for Leaky Relu quantization support", "user": {"login": "xiaomin05", "id": 31901820, "node_id": "MDQ6VXNlcjMxOTAxODIw", "avatar_url": "https://avatars0.githubusercontent.com/u/31901820?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaomin05", "html_url": "https://github.com/xiaomin05", "followers_url": "https://api.github.com/users/xiaomin05/followers", "following_url": "https://api.github.com/users/xiaomin05/following{/other_user}", "gists_url": "https://api.github.com/users/xiaomin05/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaomin05/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaomin05/subscriptions", "organizations_url": "https://api.github.com/users/xiaomin05/orgs", "repos_url": "https://api.github.com/users/xiaomin05/repos", "events_url": "https://api.github.com/users/xiaomin05/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaomin05/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jianlijianli", "id": 43797323, "node_id": "MDQ6VXNlcjQzNzk3MzIz", "avatar_url": "https://avatars3.githubusercontent.com/u/43797323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jianlijianli", "html_url": "https://github.com/jianlijianli", "followers_url": "https://api.github.com/users/jianlijianli/followers", "following_url": "https://api.github.com/users/jianlijianli/following{/other_user}", "gists_url": "https://api.github.com/users/jianlijianli/gists{/gist_id}", "starred_url": "https://api.github.com/users/jianlijianli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jianlijianli/subscriptions", "organizations_url": "https://api.github.com/users/jianlijianli/orgs", "repos_url": "https://api.github.com/users/jianlijianli/repos", "events_url": "https://api.github.com/users/jianlijianli/events{/privacy}", "received_events_url": "https://api.github.com/users/jianlijianli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jianlijianli", "id": 43797323, "node_id": "MDQ6VXNlcjQzNzk3MzIz", "avatar_url": "https://avatars3.githubusercontent.com/u/43797323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jianlijianli", "html_url": "https://github.com/jianlijianli", "followers_url": "https://api.github.com/users/jianlijianli/followers", "following_url": "https://api.github.com/users/jianlijianli/following{/other_user}", "gists_url": "https://api.github.com/users/jianlijianli/gists{/gist_id}", "starred_url": "https://api.github.com/users/jianlijianli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jianlijianli/subscriptions", "organizations_url": "https://api.github.com/users/jianlijianli/orgs", "repos_url": "https://api.github.com/users/jianlijianli/repos", "events_url": "https://api.github.com/users/jianlijianli/events{/privacy}", "received_events_url": "https://api.github.com/users/jianlijianli/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2019-03-15T16:23:31Z", "updated_at": "2020-03-09T17:44:30Z", "closed_at": null, "author_association": "NONE", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\nIf you open a GitHub issue, here is our policy:\r\n\r\n1. It must be a bug, a feature request, or a significant problem with documentation (for small docs fixes please send a PR instead).\r\n2. The form below must be filled out.\r\n3. It shouldn't be a TensorBoard issue. Those go [here](https://github.com/tensorflow/tensorboard/issues).\r\n\r\n**Here's why we have that policy**: TensorFlow developers respond to issues. We want to focus on work that benefits the whole community, e.g., fixing bugs and adding features. Support only helps individuals. GitHub also notifies thousands of people when issues are filed. We want them to see you communicating an interesting problem, rather than being redirected to Stack Overflow.\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nNo\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nLinux 18.04\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**:\r\n- **TensorFlow installed from (source or binary)**:\r\nSource\r\n- **TensorFlow version (use command below)**:\r\n1.13.1\r\n- **Python version**:\r\n2.7.12\r\n- **Bazel version (if compiling from source)**:\r\n0.21\r\n- **GCC/Compiler version (if compiling from source)**:\r\n5.4.0\r\n- **CUDA/cuDNN version**:\r\nNo\r\n- **GPU model and memory**:- *\r\n*Exact command to reproduce**:\r\ntflite_convert --output_file=yolo2.tflite --graph_def_file=yolo2.pb --input_arrays=input_1 --output_arrays=conv2d_23/BiasAdd --inference_type=QUANTIZED_UINT8 --mean_values=128 --std_dev_values=127 --default_ranges_min=0 --default_ranges_max=255\r\n\r\nYou can collect some of this information using our environment capture script:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\r\n\r\nYou can obtain the TensorFlow version with:\r\n\r\n```bash\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n```\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\nWhile trying to convert yolo-v2 tensorflow model to quantized tflite model, tflite_convert complains that LeakRelu quantization is not supported yet.\r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n2019-03-15 11:04:15.496254: F tensorflow/lite/toco/graph_transformations/quantize.cc:491] Unimplemented: this graph contains an operator of type LeakyRelu for which the quantized form is not yet implemented. Sorry, and patches welcome (that's a relatively fun patch to write, mostly providing the actual quantized arithmetic code for this op).\r\nAborted\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26748", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26748/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26748/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26748/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/26748", "id": 421570872, "node_id": "MDExOlB1bGxSZXF1ZXN0MjYxNTkyODc1", "number": 26748, "title": "Lite: Strided_slice 4-D bottleneck removed from kernel", "user": {"login": "ANSHUMAN87", "id": 32511895, "node_id": "MDQ6VXNlcjMyNTExODk1", "avatar_url": "https://avatars3.githubusercontent.com/u/32511895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ANSHUMAN87", "html_url": "https://github.com/ANSHUMAN87", "followers_url": "https://api.github.com/users/ANSHUMAN87/followers", "following_url": "https://api.github.com/users/ANSHUMAN87/following{/other_user}", "gists_url": "https://api.github.com/users/ANSHUMAN87/gists{/gist_id}", "starred_url": "https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ANSHUMAN87/subscriptions", "organizations_url": "https://api.github.com/users/ANSHUMAN87/orgs", "repos_url": "https://api.github.com/users/ANSHUMAN87/repos", "events_url": "https://api.github.com/users/ANSHUMAN87/events{/privacy}", "received_events_url": "https://api.github.com/users/ANSHUMAN87/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}], "state": "open", "locked": false, "assignee": {"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 21, "created_at": "2019-03-15T15:18:58Z", "updated_at": "2020-03-17T11:40:04Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/26748", "html_url": "https://github.com/tensorflow/tensorflow/pull/26748", "diff_url": "https://github.com/tensorflow/tensorflow/pull/26748.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/26748.patch"}, "body": "1:> Removed hard coding or bottleneck to 4-Dim\r\n2:> Add assumption, that begin size and input dim are equal\r\n3:> Add assumptions, that begin, end, stride should be of same size\r\n4:> Error message updated"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26739", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26739/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26739/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26739/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26739", "id": 421471795, "node_id": "MDU6SXNzdWU0MjE0NzE3OTU=", "number": 26739, "title": "[doc] use links in deprecation notice", "user": {"login": "ngc92", "id": 7938269, "node_id": "MDQ6VXNlcjc5MzgyNjk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7938269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngc92", "html_url": "https://github.com/ngc92", "followers_url": "https://api.github.com/users/ngc92/followers", "following_url": "https://api.github.com/users/ngc92/following{/other_user}", "gists_url": "https://api.github.com/users/ngc92/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngc92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngc92/subscriptions", "organizations_url": "https://api.github.com/users/ngc92/orgs", "repos_url": "https://api.github.com/users/ngc92/repos", "events_url": "https://api.github.com/users/ngc92/events{/privacy}", "received_events_url": "https://api.github.com/users/ngc92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-15T11:22:13Z", "updated_at": "2019-03-15T20:05:06Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Many deprecated functions currently contain a notice such as\r\n```\r\nWarning: THIS FUNCTION IS DEPRECATED. It will be removed in a future version. Instructions for updating: Use tf.data.experimental.ignore_errors().\r\n```\r\nIt would be really nice if the suggested replacement would actually link to the corresponding documentation."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26727", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26727/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26727/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26727/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26727", "id": 421345918, "node_id": "MDU6SXNzdWU0MjEzNDU5MTg=", "number": 26727, "title": "[Feature] Support RISCV with tfcompile --target_tuple", "user": {"login": "arcbbb", "id": 3256853, "node_id": "MDQ6VXNlcjMyNTY4NTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3256853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arcbbb", "html_url": "https://github.com/arcbbb", "followers_url": "https://api.github.com/users/arcbbb/followers", "following_url": "https://api.github.com/users/arcbbb/following{/other_user}", "gists_url": "https://api.github.com/users/arcbbb/gists{/gist_id}", "starred_url": "https://api.github.com/users/arcbbb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arcbbb/subscriptions", "organizations_url": "https://api.github.com/users/arcbbb/orgs", "repos_url": "https://api.github.com/users/arcbbb/repos", "events_url": "https://api.github.com/users/arcbbb/events{/privacy}", "received_events_url": "https://api.github.com/users/arcbbb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-15T04:13:08Z", "updated_at": "2019-03-19T22:48:12Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): 1.13.0\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n**Describe the feature and the current behavior/state.**\r\nthird_party/llvm/llvm.autogenerated.BUILD supports AArch64, ARM, PowerPC, and X86 in llvm_target_list, so I can use 'tfcompile --target_triple=aarch64-none-android' to generate  AArch64 ELF object.\r\nIt seems the tool that generates llvm.autogenerated.BUILD is not released yet, I suggest adding a RISCV target in llvm.autogenerated.BUILD.\r\n\r\n**Will this change the current api? How?**\r\nNo.\r\n**Who will benefit with this feature?**\r\nPeople who use RISCV cpus.\r\n**Any Other info.**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26713", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26713/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26713/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26713/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26713", "id": 421246476, "node_id": "MDU6SXNzdWU0MjEyNDY0NzY=", "number": 26713, "title": "Large Variation in Compute Times", "user": {"login": "xilenteyex", "id": 10864603, "node_id": "MDQ6VXNlcjEwODY0NjAz", "avatar_url": "https://avatars1.githubusercontent.com/u/10864603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xilenteyex", "html_url": "https://github.com/xilenteyex", "followers_url": "https://api.github.com/users/xilenteyex/followers", "following_url": "https://api.github.com/users/xilenteyex/following{/other_user}", "gists_url": "https://api.github.com/users/xilenteyex/gists{/gist_id}", "starred_url": "https://api.github.com/users/xilenteyex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xilenteyex/subscriptions", "organizations_url": "https://api.github.com/users/xilenteyex/orgs", "repos_url": "https://api.github.com/users/xilenteyex/repos", "events_url": "https://api.github.com/users/xilenteyex/events{/privacy}", "received_events_url": "https://api.github.com/users/xilenteyex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097543484, "node_id": "MDU6TGFiZWwxMDk3NTQzNDg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:runtime", "name": "comp:runtime", "color": "0052cc", "default": false, "description": "c++ runtime, performance issues (cpu)"}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-03-14T21:11:35Z", "updated_at": "2019-08-14T06:32:00Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04.1 LTS\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version (use command below): 1.12.0\r\n- Python version: Python 2.7.15rc1\r\n- Bazel version (if compiling from source): 0.21\r\n- GCC/Compiler version (if compiling from source): (Ubuntu 7.3.0-27ubuntu1~18.04) 7.3.0\r\n- CUDA/cuDNN version: 10.0/7.4.2\r\n- GPU model and memory: NVIDIA Corporation GP104GL [Quadro P5000] (2 GPUs)\r\n\r\n\r\n**Describe the current behavior**\r\nI am running a toy matrix multiplication example multiple times on TensorFlow ([code here](https://github.com/xilenteyex/toy_matmul_tf)). When I look into the timeline for multiple iterations, I see an increase in the time to compute the same graph over multiple iterations. Specifically, look at these three timelines:\r\n[Timeline 1](https://github.com/xilenteyex/toy_matmul_tf/blob/master/logs/timeline_matmul_2.15_1_.ctf.json)\r\n[Timeline 3](https://github.com/xilenteyex/toy_matmul_tf/blob/master/logs/timeline_matmul_2.15_3_.ctf.json)\r\n[Timeline 8](https://github.com/xilenteyex/toy_matmul_tf/blob/master/logs/timeline_matmul_2.15_8_.ctf.json)\r\nFor **MatMul_25**, [first iteration](https://github.com/xilenteyex/toy_matmul_tf/blob/master/logs/timeline_matmul_2.15_1_.ctf.json) shows compute time to be ~8000 ms, while [3rd iteration](https://github.com/xilenteyex/toy_matmul_tf/blob/master/logs/timeline_matmul_2.15_3_.ctf.json) shows that compute time is ~15000 ms and [8th iteration](https://github.com/xilenteyex/toy_matmul_tf/blob/master/logs/timeline_matmul_2.15_8_.ctf.json) shows that compute time is ~27000 ms.\r\n\r\n**Describe the expected behavior**\r\nI expect compute times of the same matrix multiplication operation to be stay similar over multiple iterations instead of increasing linearly. Is this the expected behavior or am I missing something ?\r\n\r\n**Code to reproduce the issue**\r\n[code to rerun the toy example can be found here.](https://github.com/xilenteyex/toy_matmul_tf)\r\n\r\n**Other info / logs**\r\n[Timelines generated when I ran the code are in this folder](https://github.com/xilenteyex/toy_matmul_tf/tree/master/logs)\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26711", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26711/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26711/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26711/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26711", "id": 421221820, "node_id": "MDU6SXNzdWU0MjEyMjE4MjA=", "number": 26711, "title": "Numpy operation on List of Tensor is considerably slow.", "user": {"login": "HanGuo97", "id": 18187806, "node_id": "MDQ6VXNlcjE4MTg3ODA2", "avatar_url": "https://avatars2.githubusercontent.com/u/18187806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HanGuo97", "html_url": "https://github.com/HanGuo97", "followers_url": "https://api.github.com/users/HanGuo97/followers", "following_url": "https://api.github.com/users/HanGuo97/following{/other_user}", "gists_url": "https://api.github.com/users/HanGuo97/gists{/gist_id}", "starred_url": "https://api.github.com/users/HanGuo97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HanGuo97/subscriptions", "organizations_url": "https://api.github.com/users/HanGuo97/orgs", "repos_url": "https://api.github.com/users/HanGuo97/repos", "events_url": "https://api.github.com/users/HanGuo97/events{/privacy}", "received_events_url": "https://api.github.com/users/HanGuo97/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-14T20:10:45Z", "updated_at": "2019-03-26T16:58:05Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): Docker\r\n- TensorFlow version (use command below): 2.0.0-alpha\r\n- Python version: 3.5\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: 10.\r\n- GPU model and memory: V100\r\n\r\n\r\nYou can collect some of this information using our environment capture [script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n**Describe the current behavior**\r\nNumpy operations on a list of Tensor is considerably slow. Commands to reproduce the results and corresponding time are shown below in the screenshot below.\r\n\r\n![image](https://user-images.githubusercontent.com/18187806/54388179-8f3f8980-4673-11e9-8009-a076402333c4.png)\r\n\r\n\r\n\r\n\r\n**Describe the expected behavior**\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26697", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26697/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26697/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26697/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26697", "id": 420978256, "node_id": "MDU6SXNzdWU0MjA5NzgyNTY=", "number": 26697, "title": "some tests in //tensorflow/lite/testing/ fail to build", "user": {"login": "herbakamil", "id": 17064705, "node_id": "MDQ6VXNlcjE3MDY0NzA1", "avatar_url": "https://avatars2.githubusercontent.com/u/17064705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/herbakamil", "html_url": "https://github.com/herbakamil", "followers_url": "https://api.github.com/users/herbakamil/followers", "following_url": "https://api.github.com/users/herbakamil/following{/other_user}", "gists_url": "https://api.github.com/users/herbakamil/gists{/gist_id}", "starred_url": "https://api.github.com/users/herbakamil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/herbakamil/subscriptions", "organizations_url": "https://api.github.com/users/herbakamil/orgs", "repos_url": "https://api.github.com/users/herbakamil/repos", "events_url": "https://api.github.com/users/herbakamil/events{/privacy}", "received_events_url": "https://api.github.com/users/herbakamil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "haozha111", "id": 6316921, "node_id": "MDQ6VXNlcjYzMTY5MjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6316921?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haozha111", "html_url": "https://github.com/haozha111", "followers_url": "https://api.github.com/users/haozha111/followers", "following_url": "https://api.github.com/users/haozha111/following{/other_user}", "gists_url": "https://api.github.com/users/haozha111/gists{/gist_id}", "starred_url": "https://api.github.com/users/haozha111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haozha111/subscriptions", "organizations_url": "https://api.github.com/users/haozha111/orgs", "repos_url": "https://api.github.com/users/haozha111/repos", "events_url": "https://api.github.com/users/haozha111/events{/privacy}", "received_events_url": "https://api.github.com/users/haozha111/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "haozha111", "id": 6316921, "node_id": "MDQ6VXNlcjYzMTY5MjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6316921?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haozha111", "html_url": "https://github.com/haozha111", "followers_url": "https://api.github.com/users/haozha111/followers", "following_url": "https://api.github.com/users/haozha111/following{/other_user}", "gists_url": "https://api.github.com/users/haozha111/gists{/gist_id}", "starred_url": "https://api.github.com/users/haozha111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haozha111/subscriptions", "organizations_url": "https://api.github.com/users/haozha111/orgs", "repos_url": "https://api.github.com/users/haozha111/repos", "events_url": "https://api.github.com/users/haozha111/events{/privacy}", "received_events_url": "https://api.github.com/users/haozha111/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-14T11:57:59Z", "updated_at": "2019-05-15T20:34:44Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n-  OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04.1 LTS\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: commit 6583b83dc9393118c60a9c11f15453c650fab89f\r\n- Python version: 2.7.15rc1\r\n- Installed using virtualenv? pip? conda?: sources\r\n- Bazel version (if compiling from source): 0.20.0\r\n- GCC/Compiler version (if compiling from source): gcc (Ubuntu 7.3.0-27ubuntu1~18.04) 7.3.0\r\n- CUDA/cuDNN version: -\r\n- GPU model and memory: -\r\n\r\n\r\n**Describe the problem**\r\nBuild errors occur in zip tests\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\nbazel test -k --verbose_failures --config=opt -- //tensorflow/lite/testing/...\r\n\r\n**Any other info / logs**\r\n```\r\nERROR: /local/people/kamil_herba/tensorflow-x86/tensorflow/lite/testing/BUILD:21:2: Couldn't build file tensorflow/lite/testing/gather.zip: Executing genrule //tensorflow/lite/testing:gather.zip.files failed (Se\r\ngmentation fault): bash failed: error executing command \r\n  (cd /root/.cache/bazel/_bazel_root/eee9defa2fa4c4fc557baa005719ebd9/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\r\n    PYTHON_BIN_PATH=/usr/local/bin/python \\\r\n    PYTHON_LIB_PATH=/usr/local/lib/python2.7/dist-packages \\\r\n    TF_DOWNLOAD_CLANG=0 \\\r\n    TF_NEED_CUDA=0 \\\r\n    TF_NEED_OPENCL_SYCL=0 \\\r\n    TF_NEED_ROCM=0 \\\r\n  /bin/bash -c 'source external/bazel_tools/tools/genrule/genrule-setup.sh; bazel-out/host/bin/tensorflow/lite/testing/generate_examples --toco bazel-out/host/bin/tensorflow/lite/toco/toco  --zip_to_output gathe\r\nr.zip  bazel-out/k8-opt/genfiles/tensorflow/lite/testing'): bash failed: error executing command \r\n  (cd /root/.cache/bazel/_bazel_root/eee9defa2fa4c4fc557baa005719ebd9/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\r\n    PYTHON_BIN_PATH=/usr/local/bin/python \\\r\n    PYTHON_LIB_PATH=/usr/local/lib/python2.7/dist-packages \\\r\n    TF_DOWNLOAD_CLANG=0 \\\r\n    TF_NEED_CUDA=0 \\\r\n    TF_NEED_OPENCL_SYCL=0 \\\r\n    TF_NEED_ROCM=0 \\\r\n  /bin/bash -c 'source external/bazel_tools/tools/genrule/genrule-setup.sh; bazel-out/host/bin/tensorflow/lite/testing/generate_examples --toco bazel-out/host/bin/tensorflow/lite/toco/toco  --zip_to_output gathe\r\nr.zip  bazel-out/k8-opt/genfiles/tensorflow/lite/testing')\r\n2019-03-14 11:48:24.311471: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2600000000 Hz\r\n2019-03-14 11:48:24.316264: I tensorflow/compiler/xla/service/service.cc:167] XLA service 0x4648a70 executing computations on platform Host. Devices:\r\n2019-03-14 11:48:24.316342: I tensorflow/compiler/xla/service/service.cc:174]   StreamExecutor device (0): <undefined>, <undefined>\r\nW0314 11:48:24.329004 140192886912768 deprecation.py:323] From /root/.cache/bazel/_bazel_root/eee9defa2fa4c4fc557baa005719ebd9/execroot/org_tensorflow/bazel-out/host/bin/tensorflow/lite/testing/generate_examples\r\n.runfiles/org_tensorflow/tensorflow/lite/testing/generate_examples.py:511: remove_training_nodes (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.compat.v1.graph_util.remove_training_nodes`\r\n/bin/bash: line 1:  8879 Segmentation fault      (core dumped) bazel-out/host/bin/tensorflow/lite/testing/generate_examples --toco bazel-out/host/bin/tensorflow/lite/toco/toco --zip_to_output gather.zip bazel-ou\r\nt/k8-opt/genfiles/tensorflow/lite/testing\r\nERROR: /local/people/kamil_herba/tensorflow-x86/tensorflow/lite/testing/BUILD:21:2: Couldn't build file tensorflow/lite/testing/gather_toco-flex.zip: Executing genrule //tensorflow/lite/testing:gather_toco-flex.\r\nzip.files failed (Segmentation fault): bash failed: error executing command \r\n  (cd /root/.cache/bazel/_bazel_root/eee9defa2fa4c4fc557baa005719ebd9/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\r\n    PYTHON_BIN_PATH=/usr/local/bin/python \\\r\n    PYTHON_LIB_PATH=/usr/local/lib/python2.7/dist-packages \\\r\n    TF_DOWNLOAD_CLANG=0 \\\r\n    TF_NEED_CUDA=0 \\\r\n    TF_NEED_OPENCL_SYCL=0 \\\r\n    TF_NEED_ROCM=0 \\\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26683", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26683/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26683/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26683/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26683", "id": 420809120, "node_id": "MDU6SXNzdWU0MjA4MDkxMjA=", "number": 26683, "title": "TFRecordWriter.flush() do not seem to flush", "user": {"login": "cih9088", "id": 11530592, "node_id": "MDQ6VXNlcjExNTMwNTky", "avatar_url": "https://avatars1.githubusercontent.com/u/11530592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cih9088", "html_url": "https://github.com/cih9088", "followers_url": "https://api.github.com/users/cih9088/followers", "following_url": "https://api.github.com/users/cih9088/following{/other_user}", "gists_url": "https://api.github.com/users/cih9088/gists{/gist_id}", "starred_url": "https://api.github.com/users/cih9088/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cih9088/subscriptions", "organizations_url": "https://api.github.com/users/cih9088/orgs", "repos_url": "https://api.github.com/users/cih9088/repos", "events_url": "https://api.github.com/users/cih9088/events{/privacy}", "received_events_url": "https://api.github.com/users/cih9088/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jsimsa", "id": 1072079, "node_id": "MDQ6VXNlcjEwNzIwNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1072079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsimsa", "html_url": "https://github.com/jsimsa", "followers_url": "https://api.github.com/users/jsimsa/followers", "following_url": "https://api.github.com/users/jsimsa/following{/other_user}", "gists_url": "https://api.github.com/users/jsimsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsimsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsimsa/subscriptions", "organizations_url": "https://api.github.com/users/jsimsa/orgs", "repos_url": "https://api.github.com/users/jsimsa/repos", "events_url": "https://api.github.com/users/jsimsa/events{/privacy}", "received_events_url": "https://api.github.com/users/jsimsa/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsimsa", "id": 1072079, "node_id": "MDQ6VXNlcjEwNzIwNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1072079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsimsa", "html_url": "https://github.com/jsimsa", "followers_url": "https://api.github.com/users/jsimsa/followers", "following_url": "https://api.github.com/users/jsimsa/following{/other_user}", "gists_url": "https://api.github.com/users/jsimsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsimsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsimsa/subscriptions", "organizations_url": "https://api.github.com/users/jsimsa/orgs", "repos_url": "https://api.github.com/users/jsimsa/repos", "events_url": "https://api.github.com/users/jsimsa/events{/privacy}", "received_events_url": "https://api.github.com/users/jsimsa/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-03-14T02:57:30Z", "updated_at": "2019-04-24T05:56:55Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04.5 LTS\r\nTensorFlow installed from (source or binary): pip\r\nTensorFlow version (use command below): v1.12.0-0-ga6d8ffae09 1.12.0\r\nPython version: 3.5.2:\r\nCUDA/cuDNN version: cuda-9.0, cudnn-7.3.1\r\nGPU model and memory: Titan Xp, Titan V\r\n\r\n\r\n\r\n**Describe the current behavior**\r\n```\r\nimport tensorflow as tf\r\n\r\nmystring = 'start blahblahblah end\\n' * 10000\r\n\r\n# https://www.zlib.net/manual.html\r\nZ_NO_FLUSH = 0\r\nZ_PARTIAL_FLUSH = 1\r\nZ_SYNC_FLUSH = 2\r\nZ_FULL_FLUSH = 3\r\n\r\nwriter = tf.python_io.TFRecordWriter('data', tf.io.TFRecordOptions(flush_mode=Z_NO_FLUSH))\r\nwriter.write(mystring.encode())\r\n# << - at this point, mystring is not fully written on disk as expected.\r\nwriter.flush()\r\n# << - still not fully written\r\nwriter.close()\r\n# << - now it is fully written\r\n```\r\n\r\nI found `flush_mode` option in `tf.io.TFRecordOptions`.\r\nAlthough it is only effect `compression_type` is None but anyway I tried from `0` (Z_NO_FLUSH) to `3` (Z_FULL_FLUSH) as stated in https://www.zlib.net/manual.html, none of them work.\r\nDo I miss something or is it a bug?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26671", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26671/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26671/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26671/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26671", "id": 420534971, "node_id": "MDU6SXNzdWU0MjA1MzQ5NzE=", "number": 26671, "title": "googletest.h used in open source project", "user": {"login": "herbakamil", "id": 17064705, "node_id": "MDQ6VXNlcjE3MDY0NzA1", "avatar_url": "https://avatars2.githubusercontent.com/u/17064705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/herbakamil", "html_url": "https://github.com/herbakamil", "followers_url": "https://api.github.com/users/herbakamil/followers", "following_url": "https://api.github.com/users/herbakamil/following{/other_user}", "gists_url": "https://api.github.com/users/herbakamil/gists{/gist_id}", "starred_url": "https://api.github.com/users/herbakamil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/herbakamil/subscriptions", "organizations_url": "https://api.github.com/users/herbakamil/orgs", "repos_url": "https://api.github.com/users/herbakamil/repos", "events_url": "https://api.github.com/users/herbakamil/events{/privacy}", "received_events_url": "https://api.github.com/users/herbakamil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, {"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}, {"login": "liyunlu0618", "id": 9705880, "node_id": "MDQ6VXNlcjk3MDU4ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/9705880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liyunlu0618", "html_url": "https://github.com/liyunlu0618", "followers_url": "https://api.github.com/users/liyunlu0618/followers", "following_url": "https://api.github.com/users/liyunlu0618/following{/other_user}", "gists_url": "https://api.github.com/users/liyunlu0618/gists{/gist_id}", "starred_url": "https://api.github.com/users/liyunlu0618/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liyunlu0618/subscriptions", "organizations_url": "https://api.github.com/users/liyunlu0618/orgs", "repos_url": "https://api.github.com/users/liyunlu0618/repos", "events_url": "https://api.github.com/users/liyunlu0618/events{/privacy}", "received_events_url": "https://api.github.com/users/liyunlu0618/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-03-13T14:36:07Z", "updated_at": "2019-10-07T22:25:14Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n-  OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04.1 LTS\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: commit 6583b83dc9393118c60a9c11f15453c650fab89f\r\n- Python version: 2.7.15rc1\r\n- Installed using virtualenv? pip? conda?: sources\r\n- Bazel version (if compiling from source): 0.20.0\r\n- GCC/Compiler version (if compiling from source): gcc (Ubuntu 7.3.0-27ubuntu1~18.04) 7.3.0\r\n- CUDA/cuDNN version: -\r\n- GPU model and memory: -\r\n\r\n\r\n\r\n**Describe the problem**\r\nDuring compilation I get an error:\r\n```\r\nERROR: /local/people/kamil_herba/tensorflow-x86/tensorflow/lite/testing/kernel_test/BUILD:81:1: Couldn't build file tensorflow/lite/testing/kernel_test/_objs/input_generator_test/input_generator_test.o: C++ comp\r\nilation of rule '//tensorflow/lite/testing/kernel_test:input_generator_test' failed (Exit 1)\r\ntensorflow/lite/testing/kernel_test/input_generator_test.cc:21:44: fatal error: testing/base/public/googletest.h: No such file or directory\r\ncompilation terminated.\r\n```\r\nI guess that ```googletest.h``` is some internal Google header file which shouldn't be use in open source projects.\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\nbazel test tensorflow/lite/testing/kernel_test:input_generator_test\r\n\r\n**Any other info / logs**\r\n@liyunlu0618 could you take a look on that?\r\n\r\nOther similar problems from the same commit\r\n- tensorflow/lite/testing/kernel_test/generate_diff_report.cc:\r\n```\r\ntensorflow/lite/testing/kernel_test/generate_diff_report.cc:22:3: error: 'string' was not declared in this scope\r\n   string base, test, output;\r\n```\r\n- tensorflow/lite/testing/kernel_test/util_test.cc\r\n```\r\ntesting/base/public/googletest.h: No such file or directory\r\n```\r\n- tensorflow/lite/testing/kernel_test/diff_analyzer_test.cc:\r\n```googletest.h``` is not used but ```FLAGS_test_tmpdir``` which probably comes from this header is used so it should be removed as well.\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26667", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26667/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26667/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26667/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26667", "id": 420511833, "node_id": "MDU6SXNzdWU0MjA1MTE4MzM=", "number": 26667, "title": "Multipose outputs", "user": {"login": "Death14Stroke", "id": 38498710, "node_id": "MDQ6VXNlcjM4NDk4NzEw", "avatar_url": "https://avatars2.githubusercontent.com/u/38498710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Death14Stroke", "html_url": "https://github.com/Death14Stroke", "followers_url": "https://api.github.com/users/Death14Stroke/followers", "following_url": "https://api.github.com/users/Death14Stroke/following{/other_user}", "gists_url": "https://api.github.com/users/Death14Stroke/gists{/gist_id}", "starred_url": "https://api.github.com/users/Death14Stroke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Death14Stroke/subscriptions", "organizations_url": "https://api.github.com/users/Death14Stroke/orgs", "repos_url": "https://api.github.com/users/Death14Stroke/repos", "events_url": "https://api.github.com/users/Death14Stroke/events{/privacy}", "received_events_url": "https://api.github.com/users/Death14Stroke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "miaout17", "id": 22063, "node_id": "MDQ6VXNlcjIyMDYz", "avatar_url": "https://avatars0.githubusercontent.com/u/22063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miaout17", "html_url": "https://github.com/miaout17", "followers_url": "https://api.github.com/users/miaout17/followers", "following_url": "https://api.github.com/users/miaout17/following{/other_user}", "gists_url": "https://api.github.com/users/miaout17/gists{/gist_id}", "starred_url": "https://api.github.com/users/miaout17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miaout17/subscriptions", "organizations_url": "https://api.github.com/users/miaout17/orgs", "repos_url": "https://api.github.com/users/miaout17/repos", "events_url": "https://api.github.com/users/miaout17/events{/privacy}", "received_events_url": "https://api.github.com/users/miaout17/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "miaout17", "id": 22063, "node_id": "MDQ6VXNlcjIyMDYz", "avatar_url": "https://avatars0.githubusercontent.com/u/22063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miaout17", "html_url": "https://github.com/miaout17", "followers_url": "https://api.github.com/users/miaout17/followers", "following_url": "https://api.github.com/users/miaout17/following{/other_user}", "gists_url": "https://api.github.com/users/miaout17/gists{/gist_id}", "starred_url": "https://api.github.com/users/miaout17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miaout17/subscriptions", "organizations_url": "https://api.github.com/users/miaout17/orgs", "repos_url": "https://api.github.com/users/miaout17/repos", "events_url": "https://api.github.com/users/miaout17/events{/privacy}", "received_events_url": "https://api.github.com/users/miaout17/received_events", "type": "User", "site_admin": false}, {"login": "liyunlu0618", "id": 9705880, "node_id": "MDQ6VXNlcjk3MDU4ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/9705880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liyunlu0618", "html_url": "https://github.com/liyunlu0618", "followers_url": "https://api.github.com/users/liyunlu0618/followers", "following_url": "https://api.github.com/users/liyunlu0618/following{/other_user}", "gists_url": "https://api.github.com/users/liyunlu0618/gists{/gist_id}", "starred_url": "https://api.github.com/users/liyunlu0618/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liyunlu0618/subscriptions", "organizations_url": "https://api.github.com/users/liyunlu0618/orgs", "repos_url": "https://api.github.com/users/liyunlu0618/repos", "events_url": "https://api.github.com/users/liyunlu0618/events{/privacy}", "received_events_url": "https://api.github.com/users/liyunlu0618/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-03-13T13:53:16Z", "updated_at": "2019-06-21T09:29:24Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version: tf-lite\r\n- Doc Link: https://www.tensorflow.org/lite/models/pose_estimation/overview\r\nhttps://medium.com/tensorflow/real-time-human-pose-estimation-in-the-browser-with-tensorflow-js-7dd0bc881cd5\r\n\r\n\r\n**By using the getOutputTensors function in tflite interpreter, I can get that there are 4 output arrays with dimension of  1*23*17*17, 1*23*17*34, 1*23*17*64 and 1*23*17*1. However in the tflite medium article or website, the usage of full output is not explained. How can I get the pose coordinates in the image? In the heatmap array, I am getting very low confidence scores close to 0.00 for every pixel. Here is what I have tried : https://stackoverflow.com/questions/55136861/how-to-use-outputs-of-posenet-model-in-tflite**\r\n\r\n**We welcome contributions by users. Will you be able to update submit a PR (use the [doc style guide](https://www.tensorflow.org/community/documentation)) to fix the doc Issue? - No**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26642", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26642/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26642/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26642/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26642", "id": 420317184, "node_id": "MDU6SXNzdWU0MjAzMTcxODQ=", "number": 26642, "title": "Will LSTMBlockFusedCell be supported in tensorflow 2.0?", "user": {"login": "npuichigo", "id": 11533479, "node_id": "MDQ6VXNlcjExNTMzNDc5", "avatar_url": "https://avatars3.githubusercontent.com/u/11533479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/npuichigo", "html_url": "https://github.com/npuichigo", "followers_url": "https://api.github.com/users/npuichigo/followers", "following_url": "https://api.github.com/users/npuichigo/following{/other_user}", "gists_url": "https://api.github.com/users/npuichigo/gists{/gist_id}", "starred_url": "https://api.github.com/users/npuichigo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/npuichigo/subscriptions", "organizations_url": "https://api.github.com/users/npuichigo/orgs", "repos_url": "https://api.github.com/users/npuichigo/repos", "events_url": "https://api.github.com/users/npuichigo/events{/privacy}", "received_events_url": "https://api.github.com/users/npuichigo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "qlzh727", "id": 5118881, "node_id": "MDQ6VXNlcjUxMTg4ODE=", "avatar_url": "https://avatars3.githubusercontent.com/u/5118881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qlzh727", "html_url": "https://github.com/qlzh727", "followers_url": "https://api.github.com/users/qlzh727/followers", "following_url": "https://api.github.com/users/qlzh727/following{/other_user}", "gists_url": "https://api.github.com/users/qlzh727/gists{/gist_id}", "starred_url": "https://api.github.com/users/qlzh727/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qlzh727/subscriptions", "organizations_url": "https://api.github.com/users/qlzh727/orgs", "repos_url": "https://api.github.com/users/qlzh727/repos", "events_url": "https://api.github.com/users/qlzh727/events{/privacy}", "received_events_url": "https://api.github.com/users/qlzh727/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "qlzh727", "id": 5118881, "node_id": "MDQ6VXNlcjUxMTg4ODE=", "avatar_url": "https://avatars3.githubusercontent.com/u/5118881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qlzh727", "html_url": "https://github.com/qlzh727", "followers_url": "https://api.github.com/users/qlzh727/followers", "following_url": "https://api.github.com/users/qlzh727/following{/other_user}", "gists_url": "https://api.github.com/users/qlzh727/gists{/gist_id}", "starred_url": "https://api.github.com/users/qlzh727/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qlzh727/subscriptions", "organizations_url": "https://api.github.com/users/qlzh727/orgs", "repos_url": "https://api.github.com/users/qlzh727/repos", "events_url": "https://api.github.com/users/qlzh727/events{/privacy}", "received_events_url": "https://api.github.com/users/qlzh727/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2019-03-13T04:55:02Z", "updated_at": "2019-10-08T08:48:33Z", "closed_at": null, "author_association": "NONE", "body": "I noticed that keras in tensorflow 2.0 unifies backend between CPU and GPU with CuDNN, but it's a little slow on CPU. Will you add LSTMBlockFusedCell or LSTMBlockCell to tf 2.0, since they have better performance?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26639", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26639/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26639/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26639/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26639", "id": 420306726, "node_id": "MDU6SXNzdWU0MjAzMDY3MjY=", "number": 26639, "title": "Nasnet models don't support custom image sizes even if include_top is set to False", "user": {"login": "dipanjanS", "id": 3448263, "node_id": "MDQ6VXNlcjM0NDgyNjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/3448263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dipanjanS", "html_url": "https://github.com/dipanjanS", "followers_url": "https://api.github.com/users/dipanjanS/followers", "following_url": "https://api.github.com/users/dipanjanS/following{/other_user}", "gists_url": "https://api.github.com/users/dipanjanS/gists{/gist_id}", "starred_url": "https://api.github.com/users/dipanjanS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dipanjanS/subscriptions", "organizations_url": "https://api.github.com/users/dipanjanS/orgs", "repos_url": "https://api.github.com/users/dipanjanS/repos", "events_url": "https://api.github.com/users/dipanjanS/events{/privacy}", "received_events_url": "https://api.github.com/users/dipanjanS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1105108936, "node_id": "MDU6TGFiZWwxMTA1MTA4OTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:model", "name": "comp:model", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2019-03-13T04:01:20Z", "updated_at": "2019-12-28T15:27:32Z", "closed_at": null, "author_association": "NONE", "body": "The general idea for fine-tuning pre-trained models with a custom image size is to set the `include_top` parameter to `False` when loading the models. However it doesn't seem to be working with the Nasnet models in `tf.keras` so far. All other models including Inception are working fine.\r\n\r\n__Note:__ I was using tensorflow 2.0 alpha so I'm not sure if that is the problem.\r\n\r\nI believe maybe some issue somewhere in checking dimension size along with the `include_top` flag but I might be wrong.\r\n\r\nFollowing is the stack trace.\r\n\r\n```\r\n\r\nCode executed:\r\nnasnet = tf.keras.applications.nasnet.NASNetLarge(include_top=False, weights='imagenet', \r\n                                                                                  input_shape=(100, 100, 3))\r\n\r\nError Message:\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-100-64f6d45dc54d> in <module>\r\n      1 nasnet = tf.keras.applications.nasnet.NASNetLarge(include_top=False, weights='imagenet', \r\n----> 2                                                                                 input_shape=(100, 100, 3))\r\n      3 nasnet.summary()\r\n\r\n/opt/anaconda3/lib/python3.6/site-packages/tensorflow/python/keras/applications/__init__.py in wrapper(*args, **kwargs)\r\n     68       kwargs['models'] = models\r\n     69       kwargs['utils'] = utils\r\n---> 70     return base_fun(*args, **kwargs)\r\n     71   return wrapper\r\n     72 \r\n\r\n/opt/anaconda3/lib/python3.6/site-packages/tensorflow/python/keras/applications/nasnet.py in NASNetLarge(*args, **kwargs)\r\n     37 @keras_modules_injection\r\n     38 def NASNetLarge(*args, **kwargs):\r\n---> 39   return nasnet.NASNetLarge(*args, **kwargs)\r\n     40 \r\n     41 \r\n\r\n/opt/anaconda3/lib/python3.6/site-packages/keras_applications/nasnet.py in NASNetLarge(input_shape, include_top, weights, input_tensor, pooling, classes, **kwargs)\r\n    364                   classes=classes,\r\n    365                   default_size=331,\r\n--> 366                   **kwargs)\r\n    367 \r\n    368 \r\n\r\n/opt/anaconda3/lib/python3.6/site-packages/keras_applications/nasnet.py in NASNet(input_shape, penultimate_filters, num_blocks, stem_block_filters, skip_reduction, filter_multiplier, include_top, weights, input_tensor, pooling, classes, default_size, **kwargs)\r\n    166                                       data_format=backend.image_data_format(),\r\n    167                                       require_flatten=True,\r\n--> 168                                       weights=weights)\r\n    169 \r\n    170     if backend.image_data_format() != 'channels_last':\r\n\r\n/opt/anaconda3/lib/python3.6/site-packages/keras_applications/imagenet_utils.py in _obtain_input_shape(input_shape, default_size, min_size, data_format, require_flatten, weights)\r\n    290                                  'and loading `imagenet` weights, '\r\n    291                                  '`input_shape` should be ' +\r\n--> 292                                  str(default_shape) + '.')\r\n    293         return default_shape\r\n    294     if input_shape:\r\n\r\nValueError: When setting `include_top=True` and loading `imagenet` weights, `input_shape` should be (331, 331, 3).\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26627", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26627/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26627/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26627/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26627", "id": 420223367, "node_id": "MDU6SXNzdWU0MjAyMjMzNjc=", "number": 26627, "title": "Improve tf_compile to allow emitting HLO module instead of/in addition to executable", "user": {"login": "gmagogsfm", "id": 1817752, "node_id": "MDQ6VXNlcjE4MTc3NTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1817752?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmagogsfm", "html_url": "https://github.com/gmagogsfm", "followers_url": "https://api.github.com/users/gmagogsfm/followers", "following_url": "https://api.github.com/users/gmagogsfm/following{/other_user}", "gists_url": "https://api.github.com/users/gmagogsfm/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmagogsfm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmagogsfm/subscriptions", "organizations_url": "https://api.github.com/users/gmagogsfm/orgs", "repos_url": "https://api.github.com/users/gmagogsfm/repos", "events_url": "https://api.github.com/users/gmagogsfm/events{/privacy}", "received_events_url": "https://api.github.com/users/gmagogsfm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097543484, "node_id": "MDU6TGFiZWwxMDk3NTQzNDg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:runtime", "name": "comp:runtime", "color": "0052cc", "default": false, "description": "c++ runtime, performance issues (cpu)"}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-12T21:54:58Z", "updated_at": "2019-05-17T05:45:04Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Currently tf_compile (tensorflow/compiler/aot) always emits executable. But there are use cases where dumping HLO module is more desired. This is a tracking bug to implement it."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26620", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26620/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26620/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26620/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26620", "id": 420109070, "node_id": "MDU6SXNzdWU0MjAxMDkwNzA=", "number": 26620, "title": "No improvement in performance of mobilenet_v1_1.0_224 on TFLite for GPU", "user": {"login": "FedyuninV", "id": 1192959, "node_id": "MDQ6VXNlcjExOTI5NTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1192959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FedyuninV", "html_url": "https://github.com/FedyuninV", "followers_url": "https://api.github.com/users/FedyuninV/followers", "following_url": "https://api.github.com/users/FedyuninV/following{/other_user}", "gists_url": "https://api.github.com/users/FedyuninV/gists{/gist_id}", "starred_url": "https://api.github.com/users/FedyuninV/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FedyuninV/subscriptions", "organizations_url": "https://api.github.com/users/FedyuninV/orgs", "repos_url": "https://api.github.com/users/FedyuninV/repos", "events_url": "https://api.github.com/users/FedyuninV/events{/privacy}", "received_events_url": "https://api.github.com/users/FedyuninV/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "impjdi", "id": 9742927, "node_id": "MDQ6VXNlcjk3NDI5Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9742927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/impjdi", "html_url": "https://github.com/impjdi", "followers_url": "https://api.github.com/users/impjdi/followers", "following_url": "https://api.github.com/users/impjdi/following{/other_user}", "gists_url": "https://api.github.com/users/impjdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/impjdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/impjdi/subscriptions", "organizations_url": "https://api.github.com/users/impjdi/orgs", "repos_url": "https://api.github.com/users/impjdi/repos", "events_url": "https://api.github.com/users/impjdi/events{/privacy}", "received_events_url": "https://api.github.com/users/impjdi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "impjdi", "id": 9742927, "node_id": "MDQ6VXNlcjk3NDI5Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9742927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/impjdi", "html_url": "https://github.com/impjdi", "followers_url": "https://api.github.com/users/impjdi/followers", "following_url": "https://api.github.com/users/impjdi/following{/other_user}", "gists_url": "https://api.github.com/users/impjdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/impjdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/impjdi/subscriptions", "organizations_url": "https://api.github.com/users/impjdi/orgs", "repos_url": "https://api.github.com/users/impjdi/repos", "events_url": "https://api.github.com/users/impjdi/events{/privacy}", "received_events_url": "https://api.github.com/users/impjdi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2019-03-12T17:17:23Z", "updated_at": "2019-12-03T17:25:10Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code: yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Android 8.0.0\r\n- Mobile device: Samsung S9+, Sony XPeria XZ2\r\n- TensorFlow installed from (source or binary): binary `'org.tensorflow:tensorflow-lite:0.0.0-gpu-experimental'`\r\n- TensorFlow version (use command below): - (used pretrained *.tflite file)\r\n- Python version: - (used pretrained *.tflite file)\r\n- Bazel version (if compiling from source): -\r\n- GCC/Compiler version (if compiling from source): -\r\n- CUDA/cuDNN version: -\r\n- GPU model and memory: Exynos 9810 Octa (Samsung), Sanpdragon 845 (Sony)\r\n\r\n**Describe the current behavior**\r\n\r\nNo differences in performance for Samsung S9+ between CPU and GPU versions.\r\n\r\n**Describe the expected behavior**\r\n\r\nAccording to [this TensorFlow's article on Medium](https://medium.com/tensorflow/tensorflow-lite-now-faster-with-mobile-gpus-developer-preview-e15797e6dee7) expected at least 3x improvement.\r\n\r\n**Code to reproduce the issue**\r\nTFLite archive for MobileNet v1 (224x224) has been downloaded from link from [article, mentioned above](https://medium.com/tensorflow/tensorflow-lite-now-faster-with-mobile-gpus-developer-preview-e15797e6dee7)\r\n\r\nCode:\r\n```java\r\n    private final int ImageHeight = 224;\r\n    private final int ImageWidth = 224;\r\n    private final int ImageChannels = 3;\r\n    private final int ImageSize = ImageHeight * ImageWidth * ImageChannels;\r\n\r\n    private final String tfliteFileName = \"mobilenet_v1_1.0_224.tflite\";\r\n\r\n    public String run(Context context, AssetManager assetManager) throws IOException {\r\n        AssetFileDescriptor fd = assetManager.openFd(tfliteFileName);\r\n        FileChannel fileChannel = new FileInputStream(fd.getFileDescriptor()).getChannel();\r\n        MappedByteBuffer model =\r\n            fileChannel.map(FileChannel.MapMode.READ_ONLY, fd.getStartOffset(), fd.getDeclaredLength());\r\n\r\n        int runCount = 100;\r\n        long elapsedTime = 0;\r\n\r\n        GpuDelegate delegate = new GpuDelegate();\r\n        Interpreter.Options options = (new Interpreter.Options()).addDelegate(delegate);\r\n\r\n        try(Interpreter tflite = new Interpreter(model, options)) {\r\n            Map<Integer, Object> output = new HashMap<Integer, Object>();\r\n            output.put(Integer.valueOf(0), new float[1][1001]);\r\n\r\n            Object inputData = 0;\r\n            float[][][][] in = new float[1][ImageHeight][ImageWidth][ImageChannels];\r\n            // For example: filling blob uniformly from -5. to 5. in Channel-first format.\r\n            int pos = 0;\r\n            for(int c = 0; c < ImageChannels; ++c) {\r\n                for(int j = 0; j < ImageHeight; ++j) {\r\n                    for(int i = 0; i < ImageWidth; ++i) {\r\n                        in[0][j][i][c] = 10 * (float)(pos++) / (ImageSize - 1) - 5;\r\n                    }\r\n                }\r\n            }\r\n            inputData = in;\r\n            Object[] input = new Object[] { inputData };\r\n            tflite.runForMultipleInputsOutputs(input, output);\r\n\r\n            for (int i = 0; i < runCount; i++) {\r\n                // run the second time to make sure all the buffers (and other lazy stuff) have been initialized\r\n                long timeStart = System.currentTimeMillis();\r\n                tflite.runForMultipleInputsOutputs(input, output);\r\n                float[][] res = (float[][]) output.get(0);\r\n                elapsedTime += System.currentTimeMillis() - timeStart;\r\n            }\r\n        }\r\n\r\n        delegate.close();\r\n\r\n        return \"RUN completed: \" + (elapsedTime / runCount) + \" ms\";\r\n    }\r\n```\r\n**Other info / logs**\r\n\r\n***Samsung (Exynos GPU)***\r\n\r\nVersion with GPUDelegate is a little bit slower (170 ms per run vs 140 ms)\r\n\r\n***Sony XPeria (Sanpdragon GPU)***\r\n\r\nVersion with GPUDelegate is a little bit faster (102 ms per run vs 125 ms).\r\n\r\nThe warning `WARNING: op code #42 cannot be handled by this delegate.` **does not** appear in LogCat during the execution, so it doesn't look like GpuDelegate couldn't handle some operation.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26608", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26608/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26608/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26608/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26608", "id": 419988054, "node_id": "MDU6SXNzdWU0MTk5ODgwNTQ=", "number": 26608, "title": "Subsequent gather_nd Operation leads to error: Tensor.graph is meaningless when eager execution is enabled.", "user": {"login": "meyerjo", "id": 1538444, "node_id": "MDQ6VXNlcjE1Mzg0NDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1538444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meyerjo", "html_url": "https://github.com/meyerjo", "followers_url": "https://api.github.com/users/meyerjo/followers", "following_url": "https://api.github.com/users/meyerjo/following{/other_user}", "gists_url": "https://api.github.com/users/meyerjo/gists{/gist_id}", "starred_url": "https://api.github.com/users/meyerjo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meyerjo/subscriptions", "organizations_url": "https://api.github.com/users/meyerjo/orgs", "repos_url": "https://api.github.com/users/meyerjo/repos", "events_url": "https://api.github.com/users/meyerjo/events{/privacy}", "received_events_url": "https://api.github.com/users/meyerjo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2019-03-12T13:32:21Z", "updated_at": "2019-10-07T18:39:54Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): 2.0.0-alpha0\r\n- Python version: python 3.5\r\n- CUDA/cuDNN version: 10.\r\n- GPU model and memory: TITAN\r\n\r\n**Describe the current behavior**\r\nGradient computation fails with the message: \"Tensor.graph is meaningless when eager execution is enabled.\"\r\n \r\nThe gradient becomes an IndexedSlices through the second gather_nd operation. On the IndexedSlices the check in https://github.com/tensorflow/tensorflow/blob/8cb1aa18882be9142a5e4d3977de0a076ce2c791/tensorflow/python/framework/ops.py#L5956-L5957 evaluates to True and in line 5965 the .graph attribute is called which in EagerExecution causes the error mentioned above.\r\nhttps://github.com/tensorflow/tensorflow/blob/8cb1aa18882be9142a5e4d3977de0a076ce2c791/tensorflow/python/framework/ops.py#L5965\r\n\r\nA workaround/fix for the problem can be achieved by adding another check to the if clause making sure that op_input is not an IndexedSlices: `and not isinstance(op_input, IndexedSlices)`\r\n\r\n```python\r\n    if (isinstance(op_input, (Operation, _TensorLike)) and\r\n       ((not isinstance(op_input, Tensor)) or type(op_input) == Tensor) and\r\n       (not isinstance(op_input, IndexedSlices))):  # pylint: disable=unidiomatic-typecheck\r\n```\r\n\r\n**Describe the expected behavior**\r\n\r\nGradients to be computed correctly\r\n\r\n**Code to reproduce the issue**\r\n\r\n\r\n```python\r\nimport tensorflow as tf\r\n\r\n\r\nclass DebugModel(tf.keras.Model):\r\n  def __init__(self):\r\n    super(DebugModel, self).__init__()\r\n    self.dense = tf.keras.layers.Dense(20, activation='relu', input_shape=(5,))\r\n\r\n  def __call__(self, input, *args, **kwargs):\r\n    x = self.dense(input)\r\n    ind = [[0], [1], [2]]\r\n    x = tf.gather_nd(x, ind)\r\n    ind = [[0], [1]]\r\n    x = tf.gather_nd(x, ind)\r\n    return x\r\n\r\nmy_model = DebugModel()\r\n\r\nmy_optim = tf.keras.optimizers.Adam(1e-3)\r\nwith tf.GradientTape() as tape:\r\n  out = my_model(tf.random.uniform((16,5)))\r\n  my_loss = -tf.reduce_mean(out)\r\n  grads = tape.gradient(my_loss, my_model.trainable_weights)\r\n  my_optim.apply_gradients(zip(grads, my_model.trainable_weights))\r\n```\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26596", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26596/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26596/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26596/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26596", "id": 419819625, "node_id": "MDU6SXNzdWU0MTk4MTk2MjU=", "number": 26596, "title": "Getting error - Expects arg[0] to be float but uint8 is provided while using bytebuffer for image data in tensorflow inference.", "user": {"login": "saraswathykrk", "id": 44539281, "node_id": "MDQ6VXNlcjQ0NTM5Mjgx", "avatar_url": "https://avatars3.githubusercontent.com/u/44539281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saraswathykrk", "html_url": "https://github.com/saraswathykrk", "followers_url": "https://api.github.com/users/saraswathykrk/followers", "following_url": "https://api.github.com/users/saraswathykrk/following{/other_user}", "gists_url": "https://api.github.com/users/saraswathykrk/gists{/gist_id}", "starred_url": "https://api.github.com/users/saraswathykrk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saraswathykrk/subscriptions", "organizations_url": "https://api.github.com/users/saraswathykrk/orgs", "repos_url": "https://api.github.com/users/saraswathykrk/repos", "events_url": "https://api.github.com/users/saraswathykrk/events{/privacy}", "received_events_url": "https://api.github.com/users/saraswathykrk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-03-12T06:19:20Z", "updated_at": "2019-11-12T09:20:03Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes, but have only modified the model name in tensorflow/examples/android and tried passing bytebuffer of bytes for the imagedata.\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: Yes, android phones - one plus 6\r\n- TensorFlow installed from (source or binary): github/tensorflow\r\n- TensorFlow version (use command below):1.13.1\r\n- Python version: 3.6\r\n- Bazel version (if compiling from source): NA\r\n- GCC/Compiler version (if compiling from source): NA\r\n- CUDA/cuDNN version: NA\r\n- GPU model and memory: NA\r\n\r\n\r\nYou can collect some of this information using our environment capture [script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n**Describe the current behavior**\r\nI have modified the tensorflow/examples/android/demo to use my custom tf model(created from mobilenet_v1 trained for posenet tfjs). Instead of float values, am passing the image as a byte buffer using the below code:-\r\n\r\nprivate String[] outputNames;\r\nByteBuffer imgData = null;\r\n\r\n        imgData =\r\n                ByteBuffer.allocateDirect(\r\n                          DIM_BATCH_SIZE  //1\r\n                * getImageSizeX()    //513\r\n                * getImageSizeY()    //513\r\n                * DIM_PIXEL_SIZE   //3\r\n                * getNumBytesPerChannel());    //4\r\n        imgData.order(ByteOrder.nativeOrder());\r\n\r\n        int pixel = 0;\r\n\r\n        for (int i = 0; i < 513; ++i) {\r\n            for (int j = 0; j < 513; ++j) {\r\n                final int val = intValues[pixel++];\r\n                imgData.putFloat( ((val >> 16) & 0xFF));\r\n                imgData.putFloat( ((val >> 8) & 0xFF));\r\n                imgData.putFloat( (val & 0xFF));\r\n            }\r\n        }\r\n\r\nImage size is 513 * 513.\r\n\r\n1. The interfaceinference.feed is running without any issues.\r\n\r\ninferenceInterface.feed(inputName, imgData, 1, inputSize, inputSize, 3, 4);\r\n\r\n2. It fails when I try to run interfaceinference.run.\r\n\r\ninferenceInterface.run(outputNames, logStats);\r\n\r\nHere outputNames is a String[]. Although in the tensorflow interface.java code, it seems to handle the feed for Byte Buffers, the tensor created is a byte buffer - uint8. Then how is the run failing?\r\n\r\n**Describe the expected behavior**\r\n\r\nThe inferenceInterface.run should be able to handle bytebuffer inputs as it is being handled in feed. \r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\nCode is provided above. Can reuse the existing model as in tensorflow/examples/android/demo and modify the TensorflowImageClassifier.java to pass the input image as a byteBuffer.\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n    \r\n    --------- beginning of crash\r\n2019-03-12 11:46:54.161 3453-3469/org.tensorflow.demo E/AndroidRuntime: FATAL EXCEPTION: inference\r\n    Process: org.tensorflow.demo, PID: 3453\r\n    java.lang.IllegalArgumentException: Expects arg[0] to be float but uint8 is provided\r\n        at org.tensorflow.Session.run(Native Method)\r\n        at org.tensorflow.Session.access$100(Session.java:48)\r\n        at org.tensorflow.Session$Runner.runHelper(Session.java:314)\r\n        at org.tensorflow.Session$Runner.run(Session.java:264)\r\n        at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:228)\r\n        at org.tensorflow.contrib.android.TensorFlowInferenceInterface.run(TensorFlowInferenceInterface.java:197)\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26586", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26586/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26586/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26586/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26586", "id": 419645948, "node_id": "MDU6SXNzdWU0MTk2NDU5NDg=", "number": 26586, "title": "tensorflow lite: error while converting frozen model to lite format", "user": {"login": "gjraza", "id": 44520447, "node_id": "MDQ6VXNlcjQ0NTIwNDQ3", "avatar_url": "https://avatars2.githubusercontent.com/u/44520447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gjraza", "html_url": "https://github.com/gjraza", "followers_url": "https://api.github.com/users/gjraza/followers", "following_url": "https://api.github.com/users/gjraza/following{/other_user}", "gists_url": "https://api.github.com/users/gjraza/gists{/gist_id}", "starred_url": "https://api.github.com/users/gjraza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gjraza/subscriptions", "organizations_url": "https://api.github.com/users/gjraza/orgs", "repos_url": "https://api.github.com/users/gjraza/repos", "events_url": "https://api.github.com/users/gjraza/events{/privacy}", "received_events_url": "https://api.github.com/users/gjraza/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "nutsiepully", "id": 1307460, "node_id": "MDQ6VXNlcjEzMDc0NjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1307460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nutsiepully", "html_url": "https://github.com/nutsiepully", "followers_url": "https://api.github.com/users/nutsiepully/followers", "following_url": "https://api.github.com/users/nutsiepully/following{/other_user}", "gists_url": "https://api.github.com/users/nutsiepully/gists{/gist_id}", "starred_url": "https://api.github.com/users/nutsiepully/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nutsiepully/subscriptions", "organizations_url": "https://api.github.com/users/nutsiepully/orgs", "repos_url": "https://api.github.com/users/nutsiepully/repos", "events_url": "https://api.github.com/users/nutsiepully/events{/privacy}", "received_events_url": "https://api.github.com/users/nutsiepully/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nutsiepully", "id": 1307460, "node_id": "MDQ6VXNlcjEzMDc0NjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1307460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nutsiepully", "html_url": "https://github.com/nutsiepully", "followers_url": "https://api.github.com/users/nutsiepully/followers", "following_url": "https://api.github.com/users/nutsiepully/following{/other_user}", "gists_url": "https://api.github.com/users/nutsiepully/gists{/gist_id}", "starred_url": "https://api.github.com/users/nutsiepully/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nutsiepully/subscriptions", "organizations_url": "https://api.github.com/users/nutsiepully/orgs", "repos_url": "https://api.github.com/users/nutsiepully/repos", "events_url": "https://api.github.com/users/nutsiepully/events{/privacy}", "received_events_url": "https://api.github.com/users/nutsiepully/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-03-11T19:33:27Z", "updated_at": "2019-06-17T22:42:58Z", "closed_at": null, "author_association": "NONE", "body": "\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nNo\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Win 10 pro\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: NA\r\n- TensorFlow installed from (source or binary):  Using Anaconda navigator\r\n- TensorFlow version (use command below): v1.12.0-9901-gf380d8b8e5 1.14.1-dev20190309\r\n- Python version:  Python 3.6.8\r\n- Bazel version (if compiling from source): NA\r\n- GCC/Compiler version (if compiling from source): NA\r\n- CUDA/cuDNN version: using cpu version\r\n- GPU model and memory: na\r\n\r\n\r\nYou can collect some of this information using our environment capture [script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n**Describe the current behavior**\r\nI am trying to quantize a model that is made using tfslim library. I froze it using graph_util.convert_variables_to_constants function and tried to convert it to tflite formate for quantization. I am using win 10 and tf-nighlty. the following error appears:\r\nTOCO failed. See console for info.\r\n2019-03-12 00:20:27.142300: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 221 operators, 366 arrays (0 quantized)\r\n2019-03-12 00:20:27.147170: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 221 operators, 366 arrays (0 quantized)\r\n2019-03-12 00:20:27.243872: F tensorflow/lite/toco/graph_transformations/propagate_fixed_sizes.cc:722] Check failed: start_array.data_type == ArrayDataType::kInt32 Range op inputs must be int32.\r\nFatal Python error: Aborted\r\n\r\nCurrent thread 0x00001f44 (most recent call first):\r\n  File \"c:\\anaconda3\\lib\\site-packages\\tensorflow\\lite\\toco\\python\\toco_from_protos.py\", line 33 in execute\r\n  File \"c:\\anaconda3\\lib\\site-packages\\absl\\app.py\", line 251 in _run_main\r\n  File \"c:\\anaconda3\\lib\\site-packages\\absl\\app.py\", line 300 in run\r\n  File \"c:\\anaconda3\\lib\\site-packages\\tensorflow\\python\\platform\\app.py\", line 40 in run\r\n  File \"c:\\anaconda3\\lib\\site-packages\\tensorflow\\lite\\toco\\python\\toco_from_protos.py\", line 59 in main\r\n  File \"C:\\anaconda3\\Scripts\\toco_from_protos.exe\\__main__.py\", line 9 in <module>\r\n  File \"c:\\anaconda3\\lib\\runpy.py\", line 85 in _run_code\r\n  File \"c:\\anaconda3\\lib\\runpy.py\", line 193 in _run_module_as_main\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Describe the expected behavior**\r\n\r\nShould convert frozen pb file to tflite with int8 quantization\r\n\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n# pb file in the below link \r\nhttps://drive.google.com/open?id=1Ba6aEuv2VTGD_bct24UBiMh7MFe_jkOr\r\n\r\n\r\ngraph_def_file = \"frozen_model_yolov3-tiny.pb\"\r\ninput_arrays = [\"input_to_model\"]\r\noutput_arrays = [\"concat_1\"]\r\n\r\nconverter = tf.lite.TFLiteConverter.from_frozen_graph(\r\n  graph_def_file, input_arrays, output_arrays)\r\ntflite_model = converter.convert()\r\nopen(\"converted_tiny_model.tflite\", \"wb\").write(tflite_model)\r\n\r\n\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n\r\n\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26579", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26579/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26579/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26579/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26579", "id": 419483716, "node_id": "MDU6SXNzdWU0MTk0ODM3MTY=", "number": 26579, "title": "[1.13] Incomplete information in the warning message on using tf.contrib.predictor", "user": {"login": "suyash", "id": 16324837, "node_id": "MDQ6VXNlcjE2MzI0ODM3", "avatar_url": "https://avatars2.githubusercontent.com/u/16324837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suyash", "html_url": "https://github.com/suyash", "followers_url": "https://api.github.com/users/suyash/followers", "following_url": "https://api.github.com/users/suyash/following{/other_user}", "gists_url": "https://api.github.com/users/suyash/gists{/gist_id}", "starred_url": "https://api.github.com/users/suyash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suyash/subscriptions", "organizations_url": "https://api.github.com/users/suyash/orgs", "repos_url": "https://api.github.com/users/suyash/repos", "events_url": "https://api.github.com/users/suyash/events{/privacy}", "received_events_url": "https://api.github.com/users/suyash/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1166103538, "node_id": "MDU6TGFiZWwxMTY2MTAzNTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/contrib", "name": "contrib", "color": "5319e7", "default": false, "description": "Anything that comes under contrib directory"}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-03-11T13:58:40Z", "updated_at": "2019-03-13T03:30:51Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a documentation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:doc_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version: 1.13.1\r\n- Doc Link: https://www.tensorflow.org/api_docs/python/tf/contrib/predictor/from_saved_model https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/saved_model/load https://www.tensorflow.org/alpha/guide/keras/saving_and_serializing\r\n\r\n\r\n**Describe the documentation issue**\r\n\r\nOn using `tf.contrib.predictor.from_saved_model` to get predictions from a saved_model, the warning message says that there _will_ be a new function to load saved models in TensorFlow 2.0, and nothing else.\r\n\r\nSpecifically, consider the following snippet of code (from https://colab.research.google.com/github/suyash/transformer/blob/master/imdb_sentiment_demo.ipynb)\r\n\r\n```py\r\np = predictor.from_saved_model(\r\n    export_dir, \r\n    input_names={\"input_text\": \"input_text:0\"}, \r\n    output_names={\r\n        \"prediction\": \"dense/Softmax:0\",\r\n        \"attention_0\": \"attention/attention_weights:0\",\r\n        \"attention_1\": \"attention_1/attention_weights:0\",\r\n    },\r\n)\r\noutputs = p({\"input_text\": inputs})\r\nprint(outputs[\"prediction\"])\r\nprint(outputs[\"attention_0\"])\r\nprint(outputs[\"attention_1\"])\r\n```\r\n\r\nThis prints the following warning message\r\n\r\n```\r\nWARNING:tensorflow:From /usr/local/lib/python3.6/dist-packages/tensorflow/contrib/predictor/saved_model_predictor.py:153: load (from tensorflow.python.saved_model.loader_impl) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nThis function will only be available through the v1 compatibility library as tf.compat.v1.saved_model.loader.load or tf.compat.v1.saved_model.load. There will be a new function for importing SavedModels in Tensorflow 2.0.\r\n```\r\n\r\nI have trying to figure out extracting multiple outputs from the same saved model. The current guide for saved models at alpha (https://www.tensorflow.org/alpha/guide/keras/saving_and_serializing) does not provide information on loading, while the equivalent for stable (https://www.tensorflow.org/guide/saved_model) does.\r\n\r\nI am trying to use the new `tf.saved_model.load` function. I have prepared a demo for my use-case at https://colab.research.google.com/gist/suyash/2c7e5b77ea4d94d5c3b8c3e178d06878. Specifically, I create a model with dense layers, convert it to an estimator, trained it while defining an `Exporter` for evaluation checkpoints.\r\n\r\nNow, when I load using the new function, I am able to obtain values for the `dense_2` tensor, however in an equivalent scenario, how do I get the values of the `dense_1` tensor in the current approach. As I show in my predictor example, the output of the predictor will have 3 keys, \"prediction\", \"attention_0\" and \"attention_1\". How do I get the output of the \"dense_1\" tensor in my 2.0 example?\r\n\r\n**We welcome contributions by users. Will you be able to update submit a PR (use the [doc style guide](https://www.tensorflow.org/community/documentation)) to fix the doc Issue?**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26576", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26576/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26576/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26576/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26576", "id": 419466041, "node_id": "MDU6SXNzdWU0MTk0NjYwNDE=", "number": 26576, "title": "SparseTensor takes ages to initialize and can not be saved independently", "user": {"login": "SumNeuron", "id": 22868585, "node_id": "MDQ6VXNlcjIyODY4NTg1", "avatar_url": "https://avatars3.githubusercontent.com/u/22868585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SumNeuron", "html_url": "https://github.com/SumNeuron", "followers_url": "https://api.github.com/users/SumNeuron/followers", "following_url": "https://api.github.com/users/SumNeuron/following{/other_user}", "gists_url": "https://api.github.com/users/SumNeuron/gists{/gist_id}", "starred_url": "https://api.github.com/users/SumNeuron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SumNeuron/subscriptions", "organizations_url": "https://api.github.com/users/SumNeuron/orgs", "repos_url": "https://api.github.com/users/SumNeuron/repos", "events_url": "https://api.github.com/users/SumNeuron/events{/privacy}", "received_events_url": "https://api.github.com/users/SumNeuron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-11T13:22:10Z", "updated_at": "2019-03-13T12:54:43Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): sorta\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: n/a\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): 1.11\r\n- Python version: 3.5\r\n- Bazel version (if compiling from source): n/a\r\n- GCC/Compiler version (if compiling from source): n/a\r\n- CUDA/cuDNN version: 9\r\n- GPU model and memory: Titan \r\n\r\n\r\nYou can collect some of this information using our environment capture [script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n**Describe the current behavior**\r\n\r\n\r\nIt takes a while for me to generate a `SparseTensor`\r\n\r\n\r\n```python\r\n# dense is an n x m matrix\r\n\r\nsparse = coo_matrix(dense) # almost instantaneous \r\n\r\n# for legibility\r\nsparse_indicies = list(zip(\r\n    sparse.row.astype(np.int64).tolist(), \r\n    sparse.col.astype(np.int64).tolist()\r\n)) # almost instantaneous\r\n\r\ntype_casted = (sparse.data).astype(np.float32) # almost instantaneous\r\n\r\n# takes ages (ok it takes several minutes...)\r\ninput_tensor = tf.SparseTensor(\r\n    indices     = sparse_indicies,\r\n    values      = type_casted,\r\n    dense_shape = sparse.shape\r\n) \r\n\r\n# save to file so I can load it to memory locally if it exists.\r\n\r\n```\r\n\r\nHow can I save it just by itself? I have tried pickle and npy without success.\r\n\r\n```python\r\nimport pickle, numpy as np\r\n\r\nfilename = os.path.expanduser('~/tmp/test.tmp')\r\n\r\nwith open(fn, 'wb') as f:\r\n    pickle.dump(input_tensor, f)\r\n    # throws \"TypeError: can't pickle _thread.RLock objects\"\r\n\r\n\r\nnp.save(fn, input_tensor)\r\n# throws \"TypeError: can't pickle _thread.RLock objects\"\r\n\r\n\r\n```\r\n\r\n\r\n\r\n**Describe the expected behavior**\r\n\r\neither SparseTensor should be more performant in initialization or should be saveable as a pickle object so I don't always have to re-initialize it\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n(see above)\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26574", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26574/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26574/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26574/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26574", "id": 419449846, "node_id": "MDU6SXNzdWU0MTk0NDk4NDY=", "number": 26574, "title": "Is it possible to set the random seed for tf.feature_column.categorical_column_with_hash_bucket on operation-level\uff1f", "user": {"login": "xielm12", "id": 14227379, "node_id": "MDQ6VXNlcjE0MjI3Mzc5", "avatar_url": "https://avatars3.githubusercontent.com/u/14227379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xielm12", "html_url": "https://github.com/xielm12", "followers_url": "https://api.github.com/users/xielm12/followers", "following_url": "https://api.github.com/users/xielm12/following{/other_user}", "gists_url": "https://api.github.com/users/xielm12/gists{/gist_id}", "starred_url": "https://api.github.com/users/xielm12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xielm12/subscriptions", "organizations_url": "https://api.github.com/users/xielm12/orgs", "repos_url": "https://api.github.com/users/xielm12/repos", "events_url": "https://api.github.com/users/xielm12/events{/privacy}", "received_events_url": "https://api.github.com/users/xielm12/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-11T12:43:31Z", "updated_at": "2019-03-12T16:18:07Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): 1.13.rc1\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\n API:tf.feature_column.categorical_column_with_hash_bucket can not set random seed\r\n**Will this change the current api? How?** \r\nYes, It will add a new parametre to set the random seed.\r\n**Who will benefit with this feature?**\r\nThe one who want to get two different hash bucket on the same field.\r\n**Any Other info.**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26572", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26572/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26572/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26572/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26572", "id": 419440606, "node_id": "MDU6SXNzdWU0MTk0NDA2MDY=", "number": 26572, "title": "Cuda 10: Failed to get device properties, error code: 3", "user": {"login": "huljar", "id": 24304044, "node_id": "MDQ6VXNlcjI0MzA0MDQ0", "avatar_url": "https://avatars2.githubusercontent.com/u/24304044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huljar", "html_url": "https://github.com/huljar", "followers_url": "https://api.github.com/users/huljar/followers", "following_url": "https://api.github.com/users/huljar/following{/other_user}", "gists_url": "https://api.github.com/users/huljar/gists{/gist_id}", "starred_url": "https://api.github.com/users/huljar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huljar/subscriptions", "organizations_url": "https://api.github.com/users/huljar/orgs", "repos_url": "https://api.github.com/users/huljar/repos", "events_url": "https://api.github.com/users/huljar/events{/privacy}", "received_events_url": "https://api.github.com/users/huljar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jch1", "id": 1811449, "node_id": "MDQ6VXNlcjE4MTE0NDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1811449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jch1", "html_url": "https://github.com/jch1", "followers_url": "https://api.github.com/users/jch1/followers", "following_url": "https://api.github.com/users/jch1/following{/other_user}", "gists_url": "https://api.github.com/users/jch1/gists{/gist_id}", "starred_url": "https://api.github.com/users/jch1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jch1/subscriptions", "organizations_url": "https://api.github.com/users/jch1/orgs", "repos_url": "https://api.github.com/users/jch1/repos", "events_url": "https://api.github.com/users/jch1/events{/privacy}", "received_events_url": "https://api.github.com/users/jch1/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jch1", "id": 1811449, "node_id": "MDQ6VXNlcjE4MTE0NDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1811449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jch1", "html_url": "https://github.com/jch1", "followers_url": "https://api.github.com/users/jch1/followers", "following_url": "https://api.github.com/users/jch1/following{/other_user}", "gists_url": "https://api.github.com/users/jch1/gists{/gist_id}", "starred_url": "https://api.github.com/users/jch1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jch1/subscriptions", "organizations_url": "https://api.github.com/users/jch1/orgs", "repos_url": "https://api.github.com/users/jch1/repos", "events_url": "https://api.github.com/users/jch1/events{/privacy}", "received_events_url": "https://api.github.com/users/jch1/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-03-11T12:20:14Z", "updated_at": "2020-02-17T07:37:01Z", "closed_at": null, "author_association": "NONE", "body": "I am using [keras-retinanet](https://github.com/fizyr/keras-retinanet) (0.5.0) to perform object detection on images using its TensorFlow backend. When I `load_model` their pre-trained COCO model, the GPU is initialized as expected:\r\n```\r\nUsing TensorFlow backend.\r\nWARNING:tensorflow:From .../virtualenv/lib64/python3.6/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nColocations handled automatically by placer.\r\n2019-03-11 11:26:25.063507: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:998] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2019-03-11 11:26:25.064403: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x55c2e09b7bb0 executing computations on platform CUDA. Devices:\r\n2019-03-11 11:26:25.064432: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): GeForce GTX 1080 Ti, Compute Capability 6.1\r\n2019-03-11 11:26:25.066831: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2993245000 Hz\r\n2019-03-11 11:26:25.067138: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x55c2e06ce580 executing computations on platform Host. Devices:\r\n2019-03-11 11:26:25.067163: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>\r\n2019-03-11 11:26:25.068038: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1433] Found device 0 with properties:\r\nname: GeForce GTX 1080 Ti major: 6 minor: 1 memoryClockRate(GHz): 1.6705\r\npciBusID: 0000:01:00.0\r\ntotalMemory: 10.92GiB freeMemory: 10.77GiB\r\n2019-03-11 11:26:25.068063: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1512] Adding visible gpu devices: 0\r\n2019-03-11 11:26:25.069446: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2019-03-11 11:26:25.069467: I tensorflow/core/common_runtime/gpu/gpu_device.cc:990]      0\r\n2019-03-11 11:26:25.069477: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1003] 0:   N\r\n2019-03-11 11:26:25.070214: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10481 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:01:00.0, compute capability: 6.1)\r\n.../virtualenv/lib64/python3.6/site-packages/keras/engine/saving.py:292: UserWarning: No training configuration found in save file: the model was *not* compiled. Compile it manually.\r\n  warnings.warn('No training configuration found in save file: '\r\n```\r\n\r\nHowever, when calling `predict_on_batch` on this model afterwards, the GPU cannot be initialized any more:\r\n```\r\n2019-03-11 11:26:52.699096: E tensorflow/core/grappler/clusters/utils.cc:83] Failed to get device properties, error code: 3\r\n2019-03-11 11:26:52.947157: W ./tensorflow/core/grappler/optimizers/graph_optimizer_stage.h:241] Failed to run optimizer ArithmeticOptimizer, stage RemoveStackStridedSliceSameAxis node clipped_boxes/strided_slice_2. Error: Pack node (boxes/stack) axis attribute is out of bounds: 2 \r\n2019-03-11 11:26:52.947225: W ./tensorflow/core/grappler/optimizers/graph_optimizer_stage.h:241] Failed to run optimizer ArithmeticOptimizer, stage RemoveStackStridedSliceSameAxis node clipped_boxes/strided_slice_3. Error: Pack node (boxes/stack) axis attribute is out of bounds: 2 \r\n2019-03-11 11:26:52.947245: W ./tensorflow/core/grappler/optimizers/graph_optimizer_stage.h:241] Failed to run optimizer ArithmeticOptimizer, stage RemoveStackStridedSliceSameAxis node clipped_boxes/strided_slice_4. Error: Pack node (boxes/stack) axis attribute is out of bounds: 2 \r\n2019-03-11 11:26:52.947271: W ./tensorflow/core/grappler/optimizers/graph_optimizer_stage.h:241] Failed to run optimizer ArithmeticOptimizer, stage RemoveStackStridedSliceSameAxis node clipped_boxes/strided_slice_5. Error: Pack node (boxes/stack) axis attribute is out of bounds: 2 \r\n2019-03-11 11:26:53.215964: W ./tensorflow/core/grappler/optimizers/graph_optimizer_stage.h:241] Failed to run optimizer ArithmeticOptimizer, stage RemoveStackStridedSliceSameAxis node clipped_boxes/strided_slice_2. Error: Pack node (boxes/stack) axis attribute is out of bounds: 2 \r\n2019-03-11 11:26:53.216024: W ./tensorflow/core/grappler/optimizers/graph_optimizer_stage.h:241] Failed to run optimizer ArithmeticOptimizer, stage RemoveStackStridedSliceSameAxis node clipped_boxes/strided_slice_3. Error: Pack node (boxes/stack) axis attribute is out of bounds: 2 \r\n2019-03-11 11:26:53.216042: W ./tensorflow/core/grappler/optimizers/graph_optimizer_stage.h:241] Failed to run optimizer ArithmeticOptimizer, stage RemoveStackStridedSliceSameAxis node clipped_boxes/strided_slice_4. Error: Pack node (boxes/stack) axis attribute is out of bounds: 2 \r\n2019-03-11 11:26:53.216068: W ./tensorflow/core/grappler/optimizers/graph_optimizer_stage.h:241] Failed to run optimizer ArithmeticOptimizer, stage RemoveStackStridedSliceSameAxis node clipped_boxes/strided_slice_5. Error: Pack node (boxes/stack) axis attribute is out of bounds: 2 \r\n2019-03-11 11:26:53.354507: E tensorflow/stream_executor/cuda/cuda_driver.cc:1131] failed to enqueue async memcpy from host to device: CUDA_ERROR_NOT_INITIALIZED: initialization error; GPU dst: 0x7fc4f4b62900; host src: 0x7fc77b201a00; size: 4=0x4\r\n```\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): no custom code, but TensorFlow is called through keras-retinanet\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Gentoo (Base System release 2.6)\r\n- TensorFlow installed from (source or binary): binary from PyPi\r\n- TensorFlow version: 1.13.1\r\n- Python version: 3.6.5\r\n- CUDA/cuDNN version: 10.0.130 / 7.4.2.24\r\n- GPU model and memory: Nvidia GeForce GTX 1080 Ti (11 GB memory)\r\n- Nvidia driver version: 418.43\r\n\r\n**Describe the current behavior**\r\nsee above\r\n\r\n**Describe the expected behavior**\r\nThere should be no error initializing the GPU when using `predict_on_batch`. On other machines I have used older versions (TF 1.10.0 with CUDA 9.0) and it worked fine.\r\n\r\n**Code to reproduce the issue**\r\n* Install CUDA 10, cuDNN 7.4.2\r\n* Install tensorflow-gpu 1.13.1 (or 1.13.0rc1/rc2) and keras-retinanet 0.5.0 into a virtualenv from PyPi\r\n* Download pre-trained COCO model from [here](https://github.com/fizyr/keras-retinanet/releases/download/0.5.0/resnet50_coco_best_v2.1.0.h5)\r\n* Load the model using `model = keras_retinanet.models.load_model('path/to/model.h5')` (will generate first blob of output above)\r\n* Predict bounding boxes on an image via `model.predict_on_batch(np.expand_dims(my_image, axis=0))` (will generate second blob of output above)\r\n\r\n**Other info / logs**\r\nI am reporting this here and not at the keras-retinanet project because it seems to be a TensorFlow internal issue. Furthermore, it has worked fine with the same version of keras-retinanet when using older versions of TF and CUDA (see above).\r\n\r\nThank you!"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26545", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26545/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26545/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26545/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26545", "id": 419199401, "node_id": "MDU6SXNzdWU0MTkxOTk0MDE=", "number": 26545, "title": "Issue on converting yolo to tflite with bazel-bin toco", "user": {"login": "antonino-tocco", "id": 12016054, "node_id": "MDQ6VXNlcjEyMDE2MDU0", "avatar_url": "https://avatars1.githubusercontent.com/u/12016054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antonino-tocco", "html_url": "https://github.com/antonino-tocco", "followers_url": "https://api.github.com/users/antonino-tocco/followers", "following_url": "https://api.github.com/users/antonino-tocco/following{/other_user}", "gists_url": "https://api.github.com/users/antonino-tocco/gists{/gist_id}", "starred_url": "https://api.github.com/users/antonino-tocco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antonino-tocco/subscriptions", "organizations_url": "https://api.github.com/users/antonino-tocco/orgs", "repos_url": "https://api.github.com/users/antonino-tocco/repos", "events_url": "https://api.github.com/users/antonino-tocco/events{/privacy}", "received_events_url": "https://api.github.com/users/antonino-tocco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "talumbau", "id": 1891418, "node_id": "MDQ6VXNlcjE4OTE0MTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1891418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/talumbau", "html_url": "https://github.com/talumbau", "followers_url": "https://api.github.com/users/talumbau/followers", "following_url": "https://api.github.com/users/talumbau/following{/other_user}", "gists_url": "https://api.github.com/users/talumbau/gists{/gist_id}", "starred_url": "https://api.github.com/users/talumbau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/talumbau/subscriptions", "organizations_url": "https://api.github.com/users/talumbau/orgs", "repos_url": "https://api.github.com/users/talumbau/repos", "events_url": "https://api.github.com/users/talumbau/events{/privacy}", "received_events_url": "https://api.github.com/users/talumbau/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "talumbau", "id": 1891418, "node_id": "MDQ6VXNlcjE4OTE0MTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1891418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/talumbau", "html_url": "https://github.com/talumbau", "followers_url": "https://api.github.com/users/talumbau/followers", "following_url": "https://api.github.com/users/talumbau/following{/other_user}", "gists_url": "https://api.github.com/users/talumbau/gists{/gist_id}", "starred_url": "https://api.github.com/users/talumbau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/talumbau/subscriptions", "organizations_url": "https://api.github.com/users/talumbau/orgs", "repos_url": "https://api.github.com/users/talumbau/repos", "events_url": "https://api.github.com/users/talumbau/events{/privacy}", "received_events_url": "https://api.github.com/users/talumbau/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2019-03-10T15:40:45Z", "updated_at": "2019-05-13T15:52:18Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.10\r\n- TensorFlow installed from (source or binary):\r\n- TensorFlow version (or github SHA if from source):  master\r\n\r\n\r\n**Provide the text output from tflite_convert**\r\n\r\n```\r\nI tensorflow/lite/toco/import_tensorflow.cc:1335] Converting unsupported operation: ExtractImagePatches\r\n2019-03-10 16:38:02.722378: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 211 operators, 370 arrays (0 quantized)\r\n2019-03-10 16:38:02.727060: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 211 operators, 370 arrays (0 quantized)\r\n2019-03-10 16:38:03.193935: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 97 operators, 189 arrays (0 quantized)\r\n2019-03-10 16:38:03.195613: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before Group bidirectional sequence lstm/rnn: 97 operators, 189 arrays (0 quantized)\r\n2019-03-10 16:38:03.196705: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 97 operators, 189 arrays (0 quantized)\r\n2019-03-10 16:38:03.198405: I tensorflow/lite/toco/allocate_transient_arrays.cc:345] Total transient array allocated size: 68550208 bytes, theoretical optimal value: 66453504 bytes.\r\n2019-03-10 16:38:03.202350: E tensorflow/lite/toco/toco_tooling.cc:456] We are continually in the process of adding support to TensorFlow Lite for more ops. It would be helpful if you could inform us of how this conversion went by opening a github issue at https://github.com/tensorflow/tensorflow/issues/new?template=40-tflite-op-request.md\r\n and pasting the following:\r\n\r\nSome of the operators in the model are not supported by the standard TensorFlow Lite runtime. If those are native TensorFlow operators, you might be able to use the extended runtime by passing --enable_select_tf_ops, or by setting target_ops=TFLITE_BUILTINS,SELECT_TF_OPS when calling tf.lite.TFLiteConverter(). Otherwise, if you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.lite.TFLiteConverter(). Here is a list of builtin operators you are using: CONCATENATION, CONV_2D, MAXIMUM, MAX_POOL_2D, MUL, PAD. Here is a list of operators for which you will need custom implementations: ExtractImagePatches.\r\nWe are continually in the process of adding support to TensorFlow Lite for more ops. It would be helpful if you could inform us of how this conversion went by opening a github issue at https://github.com/tensorflow/tensorflow/issues/new?template=40-tflite-op-request.md\r\n and pasting the following:\r\n\r\nSome of the operators in the model are not supported by the standard TensorFlow Lite runtime. If those are native TensorFlow operators, you might be able to use the extended runtime by passing --enable_select_tf_ops, or by setting target_ops=TFLITE_BUILTINS,SELECT_TF_OPS when calling tf.lite.TFLiteConverter(). Otherwise, if you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.lite.TFLiteConverter(). Here is a list of builtin operators you are using: CONCATENATION, CONV_2D, MAXIMUM, MAX_POOL_2D, MUL, PAD. Here is a list of operators for which you will need custom implementations: ExtractImagePatches.\r\n\r\n```\r\n\r\nAlso, please include a link to a GraphDef or the model if possible.\r\n\r\nModel is retrainer yolo\r\n\r\n**Any other info / logs**\r\n\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26532", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26532/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26532/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26532/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26532", "id": 419180750, "node_id": "MDU6SXNzdWU0MTkxODA3NTA=", "number": 26532, "title": "[TF 2.0 API Docs] tf.math.argmin", "user": {"login": "mandroid6", "id": 19585175, "node_id": "MDQ6VXNlcjE5NTg1MTc1", "avatar_url": "https://avatars2.githubusercontent.com/u/19585175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mandroid6", "html_url": "https://github.com/mandroid6", "followers_url": "https://api.github.com/users/mandroid6/followers", "following_url": "https://api.github.com/users/mandroid6/following{/other_user}", "gists_url": "https://api.github.com/users/mandroid6/gists{/gist_id}", "starred_url": "https://api.github.com/users/mandroid6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mandroid6/subscriptions", "organizations_url": "https://api.github.com/users/mandroid6/orgs", "repos_url": "https://api.github.com/users/mandroid6/repos", "events_url": "https://api.github.com/users/mandroid6/events{/privacy}", "received_events_url": "https://api.github.com/users/mandroid6/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-03-10T12:38:41Z", "updated_at": "2019-05-31T21:03:05Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "<em>Please make sure that this is a documentation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:doc_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version:  2.0\r\n- Doc Link: https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/math/argmin\r\n\r\n\r\n**Describe the documentation issue**\r\n\r\n- **Usage example**\r\n  No usage example is provided.\r\n\r\n- **Visuals, if Applicable**\r\n  No visuals are included.\r\n\r\n- **Raises listed and defined**\r\n  No raises listed\r\n\r\nMuch like #26530, documentation for tf.math.argmin is created from a generated file ``python/ops/gen_math_ops.py``; a link to the file that generates ``python/ops/gen_math_ops.py`` would be handy for users.\r\n\r\nRelated files to be updated: ``tensorflow/core/api_def/base_api/api_def_ArgMin.pbtxt``, ``/tensorflow/core/ops/math_ops.cc``\r\n**We welcome contributions by users. Will you be able to update submit a PR (use the [doc style guide](https://www.tensorflow.org/community/documentation)) to fix the doc Issue?**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26527", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26527/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26527/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26527/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26527", "id": 419168774, "node_id": "MDU6SXNzdWU0MTkxNjg3NzQ=", "number": 26527, "title": "Tensorflow segfaults with simple convolutional network", "user": {"login": "cjds", "id": 4957157, "node_id": "MDQ6VXNlcjQ5NTcxNTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/4957157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjds", "html_url": "https://github.com/cjds", "followers_url": "https://api.github.com/users/cjds/followers", "following_url": "https://api.github.com/users/cjds/following{/other_user}", "gists_url": "https://api.github.com/users/cjds/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjds/subscriptions", "organizations_url": "https://api.github.com/users/cjds/orgs", "repos_url": "https://api.github.com/users/cjds/repos", "events_url": "https://api.github.com/users/cjds/events{/privacy}", "received_events_url": "https://api.github.com/users/cjds/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097548274, "node_id": "MDU6TGFiZWwxMDk3NTQ4Mjc0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tfdbg", "name": "comp:tfdbg", "color": "0052cc", "default": false, "description": "tf debugger"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-10T10:10:02Z", "updated_at": "2019-03-11T21:50:11Z", "closed_at": null, "author_association": "NONE", "body": "\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux 18.04 \r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: No\r\n- TensorFlow installed from (source or binary): Pip\r\n- TensorFlow version (use command below): \r\ntensorflow                     1.13.1       \r\ntensorflow-estimator     1.13.0       \r\nb'v1.13.1-0-g6612da8951' 1.13.1\r\n- Python version: 3.6.7\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory: 1070 TI\r\n\r\n\r\nYou can collect some of this information using our environment capture [script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n**Describe the current behavior**\r\nReceiving a segmentation fault when I run this code\r\n\r\n**Describe the expected behavior**\r\nExpected model to be filled\r\n\r\n**Code to reproduce the issue**\r\n```\r\ndef load_image_into_numpy_array(image_path):\r\n  image = Image.open(image_path)\r\n  (im_width, im_height) = image.size\r\n  return np.array(image.getdata()).reshape(\r\n      (im_height, im_width, 3)).astype(np.uint8)\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    TEST_IMAGE_PATHS = 'train'\r\n    output = {}\r\n    model = keras.Sequential([\r\n        keras.layers.Conv2D(64, kernel_size=3, activation=tf.nn.relu, input_shape=(360, 640,  3)),\r\n        keras.layers.Flatten(),\r\n        keras.layers.Dense(128, activation=tf.nn.relu),\r\n        keras.layers.Dense(2, activation=tf.nn.softmax)\r\n    ])\r\n    model.compile(optimizer='adam',\r\n              loss='sparse_categorical_crossentropy',\r\n              metrics=['accuracy'])\r\n    labels = {}\r\n    print(\"Loaded labels\")\r\n    with open(\"labels.json\") as label_f:\r\n        labels = json.loads(''.join(label_f.readlines()))\r\n    train_images = []\r\n    train_labels = []\r\n    count = 0\r\n    for (dirpath, dirnames, filenames) in os.walk(TEST_IMAGE_PATHS):\r\n        for filename in filenames:\r\n            if filename in labels:\r\n                img = load_image_into_numpy_array(os.path.join(dirpath, filename))\r\n                train_images.append(img)\r\n                train_labels.append([labels[filename]])\r\n        else:\r\n            continue\r\n        break\r\n    train_images = np.array(train_images)\r\n    train_labels = np.array(train_labels)\r\n    model.fit(train_images, train_labels, epochs=5, batch_size=396)\r\n```\r\n\r\nAll images in TEST_IMAGE_PATHS are 360x640 \r\n\r\n**Other info / logs**\r\nHere's the gdb traceback\r\n\r\n```\r\n\r\nThread 1 \"python3\" received signal SIGSEGV, Segmentation fault.\r\n__memmove_avx_unaligned_erms () at ../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S:490\r\n490\t../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S: No such file or directory.\r\n(gdb) bt\r\n#0  __memmove_avx_unaligned_erms () at ../sysdeps/x86_64/multiarch/memmove-vec-unaligned-erms.S:490\r\n#1  0x00007fffcdd033bd in TF_NewTensor () from /home/cjds/.local/lib/python3.6/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#2  0x00007fffcdc5b8d5 in tensorflow::PyArrayToTF_Tensor(_object*, std::unique_ptr<TF_Tensor, tensorflow::detail::TFTensorDeleter>*) ()\r\n   from /home/cjds/.local/lib/python3.6/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#3  0x00007fffcdc5c5e5 in tensorflow::NdarrayToTensor(_object*, tensorflow::Tensor*) () from /home/cjds/.local/lib/python3.6/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#4  0x00007fffcdb06ad3 in tensorflow::(anonymous namespace)::RunCallableHelper(tensorflow::Session*, long, _object*, TF_Status*, absl::InlinedVector<_object*, 8ul, std::allocator<_object*> >*, TF_Buffer*) ()\r\n   from /home/cjds/.local/lib/python3.6/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#5  0x00007fffcdb0765c in tensorflow::TF_SessionRunCallable(TF_Session*, long, _object*, TF_Status*, absl::InlinedVector<_object*, 8ul, std::allocator<_object*> >*, TF_Buffer*) ()\r\n   from /home/cjds/.local/lib/python3.6/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#6  0x00007fffcdab59e0 in _wrap_TF_SessionRunCallable () from /home/cjds/.local/lib/python3.6/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26526", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26526/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26526/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26526/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26526", "id": 419167846, "node_id": "MDU6SXNzdWU0MTkxNjc4NDY=", "number": 26526, "title": "importing scope with map_fn twice causes internal bug", "user": {"login": "Imtinan1996", "id": 30050508, "node_id": "MDQ6VXNlcjMwMDUwNTA4", "avatar_url": "https://avatars1.githubusercontent.com/u/30050508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Imtinan1996", "html_url": "https://github.com/Imtinan1996", "followers_url": "https://api.github.com/users/Imtinan1996/followers", "following_url": "https://api.github.com/users/Imtinan1996/following{/other_user}", "gists_url": "https://api.github.com/users/Imtinan1996/gists{/gist_id}", "starred_url": "https://api.github.com/users/Imtinan1996/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Imtinan1996/subscriptions", "organizations_url": "https://api.github.com/users/Imtinan1996/orgs", "repos_url": "https://api.github.com/users/Imtinan1996/repos", "events_url": "https://api.github.com/users/Imtinan1996/events{/privacy}", "received_events_url": "https://api.github.com/users/Imtinan1996/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "skye", "id": 88808, "node_id": "MDQ6VXNlcjg4ODA4", "avatar_url": "https://avatars1.githubusercontent.com/u/88808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skye", "html_url": "https://github.com/skye", "followers_url": "https://api.github.com/users/skye/followers", "following_url": "https://api.github.com/users/skye/following{/other_user}", "gists_url": "https://api.github.com/users/skye/gists{/gist_id}", "starred_url": "https://api.github.com/users/skye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skye/subscriptions", "organizations_url": "https://api.github.com/users/skye/orgs", "repos_url": "https://api.github.com/users/skye/repos", "events_url": "https://api.github.com/users/skye/events{/privacy}", "received_events_url": "https://api.github.com/users/skye/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skye", "id": 88808, "node_id": "MDQ6VXNlcjg4ODA4", "avatar_url": "https://avatars1.githubusercontent.com/u/88808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skye", "html_url": "https://github.com/skye", "followers_url": "https://api.github.com/users/skye/followers", "following_url": "https://api.github.com/users/skye/following{/other_user}", "gists_url": "https://api.github.com/users/skye/gists{/gist_id}", "starred_url": "https://api.github.com/users/skye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skye/subscriptions", "organizations_url": "https://api.github.com/users/skye/orgs", "repos_url": "https://api.github.com/users/skye/repos", "events_url": "https://api.github.com/users/skye/events{/privacy}", "received_events_url": "https://api.github.com/users/skye/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2019-03-10T09:58:29Z", "updated_at": "2019-06-05T02:08:29Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Code is custom written\r\n- System OS Ubuntu 16.04\r\n- Mobile version N/A\r\n- Installed from binary\r\n- Tested on TF versions 1.12.0 and 1.13.1\r\n- Python version 3.5\r\n- Bazel version N/A\r\n- Compiler version N/A\r\n- CUDA/CUDNN 9/7.5\r\n- Graphics card GTX 1080 12GB\r\n\r\n**CURRENT BEHAVIOUR**: \r\nA graph is used that holds multiple map_fn functions inside it, trying to load the graph multiple times into different scopes as \"towers\" throws an internal bug error. The error is as follows:\r\n```\r\n\r\nInvalid loop structure: Loop \"create_t_fn/while/while_context\" has more than one LoopCond node: \r\n{{node tower_1/create_t_fn/while/LoopCond}} and {{node tower_0/create_t_fn/while/LoopCond}}. This is an internal bug, please file a bug report with instructions on how to reproduce the error.\r\n\r\n```\r\n\r\n**EXPECTED BEHAVIOUR**\r\n\r\nI should be able to load multiple graphs into different scopes, I have used this method of loading multiple graphs before, but none of those graphs used a map_fn function\r\n\r\n**CODE TO REPRODUCE ERROR**\r\n\r\n```\r\nwith self.graph.as_default():\r\n            for i, device in enumerate(gpu_device):\r\n                with tf.device('/device:GPU:%d'%device):\r\n                    tf.import_graph_def(graph_def, name='tower_%d' % i)\r\n                    with tf.name_scope('tower_%d' % i):\r\n                        print('...... Placing  graph into tower_%d on /device:GPU:%d' %(i, device))\r\n\r\n                        input_image_tensor = self.graph.get_tensor_by_name('tower_%d/input_img:0' % i)\r\n                        input_boxes_tensor = self.graph.get_tensor_by_name('tower_%d/bbox:0' % i)\r\n\r\n                        keypoints_tensor = self.graph.get_tensor_by_name('tower_%d/kpt:0' % i)\r\n\r\n                        self.tower_input_image_tensors.append(input_image_tensor)\r\n                        self.tower_input_boxes_tensors.append(input_boxes_tensor)\r\n                        self.tower_ouput_kpt_tensors.append(keypoints_tensor)\r\n```\r\n\r\nThe above code is used to load the graphs, the error is incurred only when I try to execute it using the code below:\r\n\r\n```\r\nfor t_idx, tower_data in enumerate(tower_data_splits):\r\n            if len(tower_data) > 0:\r\n\r\n                feed_dict[self.tower_input_boxes_tensors[t_idx]] = tower_data\r\n                feed_dict[self.tower_input_image_tensors[t_idx]] = image.copy()\r\n                print(\"Tower\",t_idx,\" gets data of shape \",tower_data.shape)\r\n                \r\n                out_tensors.append(self.tower_ouput_kpt_tensors[t_idx])\r\n\r\n        with self.sess.graph.as_default():\r\n            tower_outs = self.sess.run(out_tensors,feed_dict)\r\n\r\n```\r\n**Other info / logs**\r\n\r\nThe graph is custom created in TF, usage of the map_fn function can be seen below\r\n\r\n```\r\nT = tf.identity(tf.map_fn(lambda x: tf.convert_to_tensor([\r\n            [x[0,0], x[0,1],0],\r\n            [x[1,0], x[1,1],0],\r\n            [  0,      0,   1]], name = \"convert_t\"),set_val_udv, name = \"create_t_fn\"),name=\"T\")\r\n        \r\n```\r\n\r\n```\r\nscale_map = tf.identity(tf.map_fn(lambda x: tf.convert_to_tensor([\r\n            [x, x, 1],\r\n            [x, x, 1],\r\n            [1, 1, 1]], dtype=tf.float32),scale, name = \"create_scale_fn\"),name=\"scale_map\")\r\n\r\n```\r\n\r\nThe issues states that there's an issue in the first map_fn, but it will exist for any and all map_fn\r\n\r\nI have tried setting the `TF_ENABLE_WHILE_V2` and `TF_ENABLE_COND_V2` variables both via \r\n```\r\nos.environ['TF_ENABLE_WHILE_V2'] = '1'\r\nos.environ['TF_ENABLE_COND_V2'] = '1'\r\n```\r\nand via\r\n```\r\nexport TF_ENABLE_WHILE_V2 = '1'\r\nexport TF_ENABLE_COND_V2 = '1'\r\n```\r\n\r\nas  suggested by another issue, but this does not change anything, another implied quick fix was to add a name to all map_fn calls, but even that does not fix it"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26501", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26501/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26501/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26501/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26501", "id": 419029235, "node_id": "MDU6SXNzdWU0MTkwMjkyMzU=", "number": 26501, "title": "How to use libtensorflow-lite.a and tflite model on Raspi 3?", "user": {"login": "shubham9436", "id": 19433739, "node_id": "MDQ6VXNlcjE5NDMzNzM5", "avatar_url": "https://avatars3.githubusercontent.com/u/19433739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shubham9436", "html_url": "https://github.com/shubham9436", "followers_url": "https://api.github.com/users/shubham9436/followers", "following_url": "https://api.github.com/users/shubham9436/following{/other_user}", "gists_url": "https://api.github.com/users/shubham9436/gists{/gist_id}", "starred_url": "https://api.github.com/users/shubham9436/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shubham9436/subscriptions", "organizations_url": "https://api.github.com/users/shubham9436/orgs", "repos_url": "https://api.github.com/users/shubham9436/repos", "events_url": "https://api.github.com/users/shubham9436/events{/privacy}", "received_events_url": "https://api.github.com/users/shubham9436/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 19, "created_at": "2019-03-09T03:42:12Z", "updated_at": "2020-02-02T22:14:17Z", "closed_at": null, "author_association": "NONE", "body": "1. I want to install TensorFlow Lite on the Raspi. \r\nI'm reading the instructions to cross compile TensorFlow Lite https://www.tensorflow.org/lite/guide/build_rpi?hl=ru, but I have no idea what to do after generating libtensorflow-lite.a .\r\n\r\n2. Also, I have downloaded and converted mobilenet_v1_1.0_224.pb to .fb format.\r\nBut how do I use the .fb model to detect any object?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26499", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26499/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26499/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26499/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26499", "id": 419023589, "node_id": "MDU6SXNzdWU0MTkwMjM1ODk=", "number": 26499, "title": "Providing a Prebuilt Binary for TFLite Benchmark", "user": {"login": "fzyzcjy", "id": 5236035, "node_id": "MDQ6VXNlcjUyMzYwMzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/5236035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fzyzcjy", "html_url": "https://github.com/fzyzcjy", "followers_url": "https://api.github.com/users/fzyzcjy/followers", "following_url": "https://api.github.com/users/fzyzcjy/following{/other_user}", "gists_url": "https://api.github.com/users/fzyzcjy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fzyzcjy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fzyzcjy/subscriptions", "organizations_url": "https://api.github.com/users/fzyzcjy/orgs", "repos_url": "https://api.github.com/users/fzyzcjy/repos", "events_url": "https://api.github.com/users/fzyzcjy/events{/privacy}", "received_events_url": "https://api.github.com/users/fzyzcjy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-03-09T02:29:30Z", "updated_at": "2019-03-26T08:53:58Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): latest\r\n- Are you willing to contribute it (Yes/No): Y\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\nThere are many people benchmarking their tflite models using the https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/tools/benchmark . However, it seems that this does not provide a pre-built binary, so we have to build it by ourselves. Since there are many people needing to benchmark, I think the pre-built binary can benefit a lot of people and save their time. I would appreciate it if it could be done.\r\n\r\n**Will this change the current api? How?**\r\nN\r\n\r\n**Who will benefit with this feature?**\r\nEveryone who uses tflite benchmark\r\n\r\n**Any Other info.**\r\nN/A\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26498", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26498/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26498/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26498/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26498", "id": 419005092, "node_id": "MDU6SXNzdWU0MTkwMDUwOTI=", "number": 26498, "title": "Bazel always rebuild all code even I just modify single cpp file when config=cuda is used ", "user": {"login": "ttyio", "id": 365590, "node_id": "MDQ6VXNlcjM2NTU5MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/365590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ttyio", "html_url": "https://github.com/ttyio", "followers_url": "https://api.github.com/users/ttyio/followers", "following_url": "https://api.github.com/users/ttyio/following{/other_user}", "gists_url": "https://api.github.com/users/ttyio/gists{/gist_id}", "starred_url": "https://api.github.com/users/ttyio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ttyio/subscriptions", "organizations_url": "https://api.github.com/users/ttyio/orgs", "repos_url": "https://api.github.com/users/ttyio/repos", "events_url": "https://api.github.com/users/ttyio/events{/privacy}", "received_events_url": "https://api.github.com/users/ttyio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-03-09T00:08:27Z", "updated_at": "2019-08-10T13:29:51Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n\r\n- TensorFlow version (you are using): master branch\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n**Describe the feature and the current behavior/state.**\r\nWhen I change any file in tensorflow/compiler, bazel always rebuild all code when config=cuda is used, I did not hit the bug after remove config=cuda.\r\n\r\n**Will this change the current api? How?**\r\nNo.\r\n\r\n**Who will benefit with this feature?**\r\nAnyone who follow https://www.tensorflow.org/install/source\r\n\r\n**Any Other info.**"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26497", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26497/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26497/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26497/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26497", "id": 418996365, "node_id": "MDU6SXNzdWU0MTg5OTYzNjU=", "number": 26497, "title": "[TF 2.0 API Documentation Issue] `tf.lookup.StaticHashTable` usage example is incorrect", "user": {"login": "zmjjmz", "id": 1694612, "node_id": "MDQ6VXNlcjE2OTQ2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1694612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zmjjmz", "html_url": "https://github.com/zmjjmz", "followers_url": "https://api.github.com/users/zmjjmz/followers", "following_url": "https://api.github.com/users/zmjjmz/following{/other_user}", "gists_url": "https://api.github.com/users/zmjjmz/gists{/gist_id}", "starred_url": "https://api.github.com/users/zmjjmz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zmjjmz/subscriptions", "organizations_url": "https://api.github.com/users/zmjjmz/orgs", "repos_url": "https://api.github.com/users/zmjjmz/repos", "events_url": "https://api.github.com/users/zmjjmz/events{/privacy}", "received_events_url": "https://api.github.com/users/zmjjmz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-03-08T23:25:21Z", "updated_at": "2019-05-31T21:00:07Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version: 2.0 preview\r\n- Doc Link: [`tf.lookup.StaticHashTable`](https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/lookup/StaticHashTable#class_statichashtable)\r\n\r\n\r\n**Describe the documentation issue**\r\n\r\nThe example usage describes using `StaticHashTable.init.run()`, which is not possible since there is no `init` attribute (and it's missing from the documentation). [This comment](https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/ops/lookup_ops.py#L321) in `lookup_ops.py` indicates that it's definitely not the correct way to initialize the table in TF 2.\r\n\r\n**We welcome contributions by users. Will you be able to update submit a PR (use the [doc style guide](https://www.tensorflow.org/community/documentation)) to fix the doc Issue?**\r\n\r\nI don't think so, because I really have no idea what the correct way to initialize the table is :)\r\n\r\nI've tried a few things [as shown here](https://gist.github.com/zmjjmz/81138b0d62764fabe00085cd7091dd14#file-tokenize_layer_tf2-py-L50) but to no avail, usually ending in a `FailedPreconditionError` :(\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26495", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26495/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26495/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26495/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26495", "id": 418929603, "node_id": "MDU6SXNzdWU0MTg5Mjk2MDM=", "number": 26495, "title": "softmax_cross_entropy_with_logits_v2 doesn't support hypergradients of labels", "user": {"login": "fps7806", "id": 7218057, "node_id": "MDQ6VXNlcjcyMTgwNTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/7218057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fps7806", "html_url": "https://github.com/fps7806", "followers_url": "https://api.github.com/users/fps7806/followers", "following_url": "https://api.github.com/users/fps7806/following{/other_user}", "gists_url": "https://api.github.com/users/fps7806/gists{/gist_id}", "starred_url": "https://api.github.com/users/fps7806/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fps7806/subscriptions", "organizations_url": "https://api.github.com/users/fps7806/orgs", "repos_url": "https://api.github.com/users/fps7806/repos", "events_url": "https://api.github.com/users/fps7806/events{/privacy}", "received_events_url": "https://api.github.com/users/fps7806/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "pavithrasv", "id": 13326758, "node_id": "MDQ6VXNlcjEzMzI2NzU4", "avatar_url": "https://avatars0.githubusercontent.com/u/13326758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pavithrasv", "html_url": "https://github.com/pavithrasv", "followers_url": "https://api.github.com/users/pavithrasv/followers", "following_url": "https://api.github.com/users/pavithrasv/following{/other_user}", "gists_url": "https://api.github.com/users/pavithrasv/gists{/gist_id}", "starred_url": "https://api.github.com/users/pavithrasv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pavithrasv/subscriptions", "organizations_url": "https://api.github.com/users/pavithrasv/orgs", "repos_url": "https://api.github.com/users/pavithrasv/repos", "events_url": "https://api.github.com/users/pavithrasv/events{/privacy}", "received_events_url": "https://api.github.com/users/pavithrasv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pavithrasv", "id": 13326758, "node_id": "MDQ6VXNlcjEzMzI2NzU4", "avatar_url": "https://avatars0.githubusercontent.com/u/13326758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pavithrasv", "html_url": "https://github.com/pavithrasv", "followers_url": "https://api.github.com/users/pavithrasv/followers", "following_url": "https://api.github.com/users/pavithrasv/following{/other_user}", "gists_url": "https://api.github.com/users/pavithrasv/gists{/gist_id}", "starred_url": "https://api.github.com/users/pavithrasv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pavithrasv/subscriptions", "organizations_url": "https://api.github.com/users/pavithrasv/orgs", "repos_url": "https://api.github.com/users/pavithrasv/repos", "events_url": "https://api.github.com/users/pavithrasv/events{/privacy}", "received_events_url": "https://api.github.com/users/pavithrasv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-08T19:41:52Z", "updated_at": "2019-03-13T18:41:43Z", "closed_at": null, "author_association": "NONE", "body": "Current implementation of tf.nn.softmax_cross_entropy_with_logits_v2 doesn't correctly implement the  hypergradients w.r.t labels. I implemented a hypergradient demo where I used softmax_cross_entropy_with_logits_v2 to compute meta_loss, and a custom function to compute meta_loss2. We should either expect that:\r\n```\r\ntf.gradients(meta_loss, [a]) == tf.gradients(meta_loss2, [a])\r\n```\r\n\r\nOr that \r\n```\r\ntf.gradients(meta_loss, [a]) == None\r\n```\r\n\r\nInstead, TensorFlow incorrectly returns 0s for hypergradients of softmax_cross_entropy_with_logits_v2 w.r.t labels.\r\n\r\n\r\nCode to reproduce:\r\n```\r\nimport tensorflow as tf\r\n\r\n\r\na = tf.get_variable(\"a\", (2, 2)) * 10\r\nb = tf.get_variable(\"b\", (2, 2)) * 10\r\na2 = tf.get_variable(\"a2\", (2, 2)) * 10\r\n\r\nlabels = tf.nn.softmax(a, -1)\r\nlabels2 = tf.nn.softmax(a2, -1)\r\nloss = tf.reduce_sum(tf.nn.softmax_cross_entropy_with_logits_v2(labels=labels, logits=b))\r\ngrads = tf.gradients(loss, [b])\r\n\r\nb_tp1 = b + grads[0]\r\nmeta_loss = tf.nn.softmax_cross_entropy_with_logits_v2(labels=labels2, logits=b_tp1)\r\n\r\nlogits = tf.nn.log_softmax(b, -1)\r\nloss2 = tf.reduce_sum(-tf.reduce_sum(labels * logits))\r\ngrads2 = tf.gradients(loss2, [b])\r\nb2_tp1 = b + grads2[0]\r\n\r\nmeta_loss2 = tf.nn.softmax_cross_entropy_with_logits_v2(labels=labels2, logits=b2_tp1)\r\n\r\nsess = tf.Session()\r\nsess.run(tf.global_variables_initializer())\r\nprint(sess.run([tf.gradients(meta_loss, [a]), tf.gradients(meta_loss2, [a])]))\r\n```\r\n\r\n**System information**\r\n- TensorFlow-gpu 1.10.1\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26493", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26493/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26493/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26493/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26493", "id": 418920654, "node_id": "MDU6SXNzdWU0MTg5MjA2NTQ=", "number": 26493, "title": "Be able to save a stateful operation", "user": {"login": "Silb78dg", "id": 34553774, "node_id": "MDQ6VXNlcjM0NTUzNzc0", "avatar_url": "https://avatars0.githubusercontent.com/u/34553774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Silb78dg", "html_url": "https://github.com/Silb78dg", "followers_url": "https://api.github.com/users/Silb78dg/followers", "following_url": "https://api.github.com/users/Silb78dg/following{/other_user}", "gists_url": "https://api.github.com/users/Silb78dg/gists{/gist_id}", "starred_url": "https://api.github.com/users/Silb78dg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Silb78dg/subscriptions", "organizations_url": "https://api.github.com/users/Silb78dg/orgs", "repos_url": "https://api.github.com/users/Silb78dg/repos", "events_url": "https://api.github.com/users/Silb78dg/events{/privacy}", "received_events_url": "https://api.github.com/users/Silb78dg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "shivaniag", "id": 16565716, "node_id": "MDQ6VXNlcjE2NTY1NzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/16565716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivaniag", "html_url": "https://github.com/shivaniag", "followers_url": "https://api.github.com/users/shivaniag/followers", "following_url": "https://api.github.com/users/shivaniag/following{/other_user}", "gists_url": "https://api.github.com/users/shivaniag/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivaniag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivaniag/subscriptions", "organizations_url": "https://api.github.com/users/shivaniag/orgs", "repos_url": "https://api.github.com/users/shivaniag/repos", "events_url": "https://api.github.com/users/shivaniag/events{/privacy}", "received_events_url": "https://api.github.com/users/shivaniag/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-08T19:15:47Z", "updated_at": "2019-03-12T12:57:27Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version (you are using): tf 1.13\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n**Describe the feature and the current behavior/state.**\r\nCurrent behavior is the saver will crash trying to save a stateful operation.\r\nFeature behavior is the saver will have an additional option to save stateful operation with the known limitation that you will loose the state of your operation.\r\n\r\nThis could be useful if you want to save the state of your dataset iterator but your pipeline contains stateful operation (random crop for example).\r\n\r\n**Will this change the current api? How?**\r\nYes, by adding a new option?\r\n\r\n**Who will benefit with this feature?**\r\nAnyone who wants to save a stateful operation.\r\n\r\n**Any Other info.**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26478", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26478/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26478/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26478/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26478", "id": 418683026, "node_id": "MDU6SXNzdWU0MTg2ODMwMjY=", "number": 26478, "title": "Met unsupported operator of type Cast when quantize model get from quantize aware training", "user": {"login": "SystemErrorWang", "id": 26077659, "node_id": "MDQ6VXNlcjI2MDc3NjU5", "avatar_url": "https://avatars0.githubusercontent.com/u/26077659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SystemErrorWang", "html_url": "https://github.com/SystemErrorWang", "followers_url": "https://api.github.com/users/SystemErrorWang/followers", "following_url": "https://api.github.com/users/SystemErrorWang/following{/other_user}", "gists_url": "https://api.github.com/users/SystemErrorWang/gists{/gist_id}", "starred_url": "https://api.github.com/users/SystemErrorWang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SystemErrorWang/subscriptions", "organizations_url": "https://api.github.com/users/SystemErrorWang/orgs", "repos_url": "https://api.github.com/users/SystemErrorWang/repos", "events_url": "https://api.github.com/users/SystemErrorWang/events{/privacy}", "received_events_url": "https://api.github.com/users/SystemErrorWang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "liyunlu0618", "id": 9705880, "node_id": "MDQ6VXNlcjk3MDU4ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/9705880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liyunlu0618", "html_url": "https://github.com/liyunlu0618", "followers_url": "https://api.github.com/users/liyunlu0618/followers", "following_url": "https://api.github.com/users/liyunlu0618/following{/other_user}", "gists_url": "https://api.github.com/users/liyunlu0618/gists{/gist_id}", "starred_url": "https://api.github.com/users/liyunlu0618/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liyunlu0618/subscriptions", "organizations_url": "https://api.github.com/users/liyunlu0618/orgs", "repos_url": "https://api.github.com/users/liyunlu0618/repos", "events_url": "https://api.github.com/users/liyunlu0618/events{/privacy}", "received_events_url": "https://api.github.com/users/liyunlu0618/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "liyunlu0618", "id": 9705880, "node_id": "MDQ6VXNlcjk3MDU4ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/9705880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liyunlu0618", "html_url": "https://github.com/liyunlu0618", "followers_url": "https://api.github.com/users/liyunlu0618/followers", "following_url": "https://api.github.com/users/liyunlu0618/following{/other_user}", "gists_url": "https://api.github.com/users/liyunlu0618/gists{/gist_id}", "starred_url": "https://api.github.com/users/liyunlu0618/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liyunlu0618/subscriptions", "organizations_url": "https://api.github.com/users/liyunlu0618/orgs", "repos_url": "https://api.github.com/users/liyunlu0618/repos", "events_url": "https://api.github.com/users/liyunlu0618/events{/privacy}", "received_events_url": "https://api.github.com/users/liyunlu0618/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-08T08:26:22Z", "updated_at": "2019-03-12T00:05:01Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nyes, i tried to use quantize aware training, post training quantization and tflite converter to train and convert a custom mobilenetv2 model\r\n- OS Platform and Distribution :\r\nmacos 10.13.6\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\nNone\r\n- TensorFlow installed from (source or binary):\r\nconda install tensorflow\r\n- TensorFlow version (use command below):\r\ntensorflow 1.13\r\n- Python version:\r\npython 3.6.8\r\n- Bazel version (if compiling from source):\r\nnone\r\n- GCC/Compiler version (if compiling from source):\r\nnone\r\n- CUDA/cuDNN version:\r\nnone\r\n- GPU model and memory:\r\nnone\r\n\r\n\r\ni was training a mobilenetv2 model, using quantize aware training defined in tf.contrib.quantize, following the direction in [https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/quantize](url)\r\n\r\n tflite convert was used to convert the quantize aware trained model to 8bit fixed point. everything was fine until i saved frozen graph. i then use toco command line tool, and got this error massage:\r\n\"2019-03-08 16:13:24.208096: F ./tensorflow/lite/toco/toco_tooling.h:38] Check failed: s.ok() Unimplemented: this graph contains an operator of type Cast for which the quantized form is not yet implemented. Sorry, and patches welcome (that's a relatively fun patch to write, mostly providing the actual quantized arithmetic code for this op).\r\nFatal Python error: Aborted\"\r\n\r\ni also tried tflite converter python api, convert from session, convert from frozen graph and convert from saved models, and all got the same error message. by printing out ops in the gragh, i found some \"Cast\" ops in the graph, in batch norm layers mostly. i guess these cast operators were used building training graphs and folding batch norms, and should be deleted when building eval graph or freezing the graph. but i still get them in my frozen graph, so i would like to ask for some help to get rid of them (and other unsupported ops) and convert the model to 8bit\r\n\r\nthe nodes in graph_def is saved here [https://www.dropbox.com/s/mev825dzrzh7hrv/log.txt?dl=0](url) \r\nsaved frozen graph is available here [https://www.dropbox.com/s/8xbropujwwxm5tb/frozen_graph.pb?dl=0](url)\r\n\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26474", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26474/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26474/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26474/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26474", "id": 418662548, "node_id": "MDU6SXNzdWU0MTg2NjI1NDg=", "number": 26474, "title": "Android TFLite benchmark performance issue with deeplab segmentation model (DepthwiseConv2d)", "user": {"login": "anilsathyan7", "id": 1130185, "node_id": "MDQ6VXNlcjExMzAxODU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1130185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anilsathyan7", "html_url": "https://github.com/anilsathyan7", "followers_url": "https://api.github.com/users/anilsathyan7/followers", "following_url": "https://api.github.com/users/anilsathyan7/following{/other_user}", "gists_url": "https://api.github.com/users/anilsathyan7/gists{/gist_id}", "starred_url": "https://api.github.com/users/anilsathyan7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anilsathyan7/subscriptions", "organizations_url": "https://api.github.com/users/anilsathyan7/orgs", "repos_url": "https://api.github.com/users/anilsathyan7/repos", "events_url": "https://api.github.com/users/anilsathyan7/events{/privacy}", "received_events_url": "https://api.github.com/users/anilsathyan7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jianlijianli", "id": 43797323, "node_id": "MDQ6VXNlcjQzNzk3MzIz", "avatar_url": "https://avatars3.githubusercontent.com/u/43797323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jianlijianli", "html_url": "https://github.com/jianlijianli", "followers_url": "https://api.github.com/users/jianlijianli/followers", "following_url": "https://api.github.com/users/jianlijianli/following{/other_user}", "gists_url": "https://api.github.com/users/jianlijianli/gists{/gist_id}", "starred_url": "https://api.github.com/users/jianlijianli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jianlijianli/subscriptions", "organizations_url": "https://api.github.com/users/jianlijianli/orgs", "repos_url": "https://api.github.com/users/jianlijianli/repos", "events_url": "https://api.github.com/users/jianlijianli/events{/privacy}", "received_events_url": "https://api.github.com/users/jianlijianli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jianlijianli", "id": 43797323, "node_id": "MDQ6VXNlcjQzNzk3MzIz", "avatar_url": "https://avatars3.githubusercontent.com/u/43797323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jianlijianli", "html_url": "https://github.com/jianlijianli", "followers_url": "https://api.github.com/users/jianlijianli/followers", "following_url": "https://api.github.com/users/jianlijianli/following{/other_user}", "gists_url": "https://api.github.com/users/jianlijianli/gists{/gist_id}", "starred_url": "https://api.github.com/users/jianlijianli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jianlijianli/subscriptions", "organizations_url": "https://api.github.com/users/jianlijianli/orgs", "repos_url": "https://api.github.com/users/jianlijianli/repos", "events_url": "https://api.github.com/users/jianlijianli/events{/privacy}", "received_events_url": "https://api.github.com/users/jianlijianli/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2019-03-08T07:14:54Z", "updated_at": "2019-11-15T04:53:18Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\nThe benchmark tests were carried out using the following tools and devices:-\r\nBazel version:Build label: 0.23.1\r\nTensorflow Version: 1.13.0\r\nAndroid Device: OnePlus 3\r\n\r\n\r\n**Describe the current behavior**\r\nWe trained a segmentation model using deeplab with mobilenet with TF 1.13.0 to replicate the\r\nsegmentation model by tensorflow i.e 'deeplabv3_257_mv_gpu.tflite'(Using sample code  in repo for pascal voc).\r\nHowever there was significant time difference for average running time for 'DepthwiseConv2d', when we benchmarked the two tflite models with 'tflite android benchmark tool'.\r\nIn the official model avg time was around 28 ms; whereas in our own model it was around 103 ms.\r\nThe only difference between the two float models being the quantization levels i.e Ours was 0-255\r\nand official model has -1 to 0.99.Also, there is a difference in model size(Official:2.7Mb vs. Ours:3.3Mb).\r\n\r\nIt seems the official model is using a newer kernel for depthwiseconv2d and hence runs significantly faster compared to our trained model.Was the official model trained or optimised using TF2.0 tools?What could be done to achieve similar speed (DepthwiseConv2d) using TF 1.13.0 or do we have to migrate and retrain our model using TF 2.0?\r\n\r\n**Describe the expected behavior**\r\nThe depthwise conv2d performance should be same in the official model and the replicated model.\r\n\r\n**Code to reproduce the issue**\r\nBenchmark commands:-\r\n\r\n```\r\n# bazel build -c opt   --config=android_arm64   --cxxopt='--std=c++11' --copt=-DTFLITE_PROFILING_ENABLED tensorflow/lite/tools/benchmark:benchmark_model\r\n\r\n# adb shell /data/local/tmp/benchmark_model --graph=/data/local/tmp/deeplabv3_257_mv_gpu.tflite --num_threads=1\r\n```\r\n\r\nBenchmark results:-\r\n\r\n_Official model:-_\r\n\r\n```\r\nNumber of nodes executed: 70\r\n============================== Summary by node type ==============================\r\n\t             [Node type]\t  [count]\t  [avg ms]\t    [avg %]\t    [cdf %]\t  [mem KB]\t[times called]\r\n\t                 CONV_2D\t       38\t   137.792\t    76.447%\t    76.447%\t     0.000\t       38\r\n\t       DEPTHWISE_CONV_2D\t       17\t    27.808\t    15.428%\t    91.875%\t     0.000\t       17\r\n\t         RESIZE_BILINEAR\t        3\t    13.577\t     7.533%\t    99.408%\t     0.000\t        3\r\n\t           CONCATENATION\t        1\t     0.528\t     0.293%\t    99.701%\t     0.000\t        1\r\n\t                     ADD\t       10\t     0.410\t     0.227%\t    99.928%\t     0.000\t       10\r\n\t         AVERAGE_POOL_2D\t        1\t     0.129\t     0.072%\t   100.000%\t     0.000\t        1\r\n\r\nTimings (microseconds): count=50 first=180683 curr=179967 min=177601 max=186179 avg=180284 std=1486\r\nMemory (bytes): count=0\r\n70 nodes observe\r\n```\r\n\r\n\r\n_Replicated model:-_\r\n\r\n```\r\nNumber of nodes executed: 70\r\n============================== Summary by node type ==============================\r\n\t             [Node type]\t  [count]\t  [avg ms]\t    [avg %]\t    [cdf %]\t  [mem KB]\t[times called]\r\n\t                 CONV_2D\t       38\t   141.189\t    54.356%\t    54.356%\t     0.000\t       38\r\n\t       DEPTHWISE_CONV_2D\t       17\t   103.263\t    39.755%\t    94.110%\t     0.000\t       17\r\n\t         RESIZE_BILINEAR\t        3\t    14.178\t     5.458%\t    99.568%\t     0.000\t        3\r\n\t           CONCATENATION\t        1\t     0.554\t     0.213%\t    99.782%\t     0.000\t        1\r\n\t                     ADD\t       10\t     0.437\t     0.168%\t    99.950%\t     0.000\t       10\r\n\t         AVERAGE_POOL_2D\t        1\t     0.130\t     0.050%\t   100.000%\t     0.000\t        1\r\n\r\nTimings (microseconds): count=50 first=258703 curr=259361 min=255581 max=269627 avg=259789 std=3844\r\nMemory (bytes): count=0\r\n70 nodes observed\r\n```\r\n\r\n**Other info / logs**\r\n\r\nHowever using TF-12.0 with Bazel 0.16.0, the 'benchmark_model' built failed for 'official model'; but worked with replicated model.\r\n\r\nBazel build:-\r\n\r\n```\r\n# bazel build -c opt   --config=android_arm64   --cxxopt='--std=c++11' --linkopt='-llog' --copt=-DTFLITE_PROFILING_ENABLED tensorflow/contrib/lite/tools/benchmark:benchmark_model\r\n\r\n# adb shell /data/local/tmp/benchmark_model --graph=/data/local/tmp/deeplabv3_257_mv_gpu.tflite --num_threads=1\r\n```\r\n\r\n\r\nTF-Lite benchmark:-\r\n\r\nadb shell /data/local/tmp/benchmark_model --graph=/data/local/tmp/deeplabv3_257_mv_gpu.tflite --num_threads=1\r\nadb: /opt/intel/intelpython27/lib/libcrypto.so.1.0.0: no version information available (required by adb)\r\nSTARTING!\r\nNum runs: [50]\r\nInter-run delay (seconds): [-1]\r\nNum threads: [1]\r\nBenchmark name: []\r\nOutput prefix: []\r\nWarmup runs: [1]\r\nGraph: [/data/local/tmp/deeplabv3_257_mv_gpu.tflite]\r\nInput layers: []\r\nInput shapes: []\r\nUse nnapi : [0]\r\nnnapi error: unable to open library libneuralnetworks.so\r\nLoaded model /data/local/tmp/deeplabv3_257_mv_gpu.tflite\r\nresolved reporter\r\nDidn't find op for builtin opcode 'DEPTHWISE_CONV_2D' version '2'\r\n\r\nRegistration failed.\r\n\r\nFailed to construct interpreter\r\nAborted\r\n\r\nCan you provide the corresponding optimised pb file before tflite conversion, for the same model ?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26472", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26472/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26472/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26472/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26472", "id": 418646689, "node_id": "MDU6SXNzdWU0MTg2NDY2ODk=", "number": 26472, "title": "Keras model save/load is totally wrong with sessions", "user": {"login": "wookayin", "id": 1009873, "node_id": "MDQ6VXNlcjEwMDk4NzM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1009873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wookayin", "html_url": "https://github.com/wookayin", "followers_url": "https://api.github.com/users/wookayin/followers", "following_url": "https://api.github.com/users/wookayin/following{/other_user}", "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}", "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions", "organizations_url": "https://api.github.com/users/wookayin/orgs", "repos_url": "https://api.github.com/users/wookayin/repos", "events_url": "https://api.github.com/users/wookayin/events{/privacy}", "received_events_url": "https://api.github.com/users/wookayin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, {"login": "k-w-w", "id": 31663267, "node_id": "MDQ6VXNlcjMxNjYzMjY3", "avatar_url": "https://avatars2.githubusercontent.com/u/31663267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-w-w", "html_url": "https://github.com/k-w-w", "followers_url": "https://api.github.com/users/k-w-w/followers", "following_url": "https://api.github.com/users/k-w-w/following{/other_user}", "gists_url": "https://api.github.com/users/k-w-w/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-w-w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-w-w/subscriptions", "organizations_url": "https://api.github.com/users/k-w-w/orgs", "repos_url": "https://api.github.com/users/k-w-w/repos", "events_url": "https://api.github.com/users/k-w-w/events{/privacy}", "received_events_url": "https://api.github.com/users/k-w-w/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-03-08T06:11:14Z", "updated_at": "2019-10-29T08:52:31Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "## Bug report: Keras `model.save()` does not work with sessions\r\n\r\nActually, it only works with the default session.\r\n\r\nI know tf.keras is mainly targetting at TF 2.0, but it really doesn't play nice with conventional TF-1.x ways (e.g. Session). I encountered this bug and nailed down why it happens after a day. Arguably, I believe this is a severe bug and hard to realize when one encounters. This is also somewhat related to #26430.\r\n\r\n**In summary (the current behavior)**: if one is using a custom session created (say `MonitoredSession`, as it was a conventional way of opening and sessions in TF 1.x way), Keras model's load/save will be COMPLETELY not working.\r\n\r\n### System information\r\n\r\n- OS Platform and Distribution: Linux, but agnostic to Platform\r\n- TensorFlow installed from (source or binary): binary, pypi\r\n- TensorFlow version (use command below): **1.13.1**\r\n- Python version: 3.6\r\n\r\n## Code to reproduce the issue\r\n\r\nPlease see this notebook:\r\n\r\nhttps://gist.github.com/wookayin/0712261896799e0f655df50e910055df\r\n\r\nOr in a code:\r\n\r\n```python\r\nimport tensorflow as tf\r\n\r\nclass MyModel(tf.keras.models.Model):\r\n    def __init__(self):\r\n        super(MyModel, self).__init__()\r\n        self.layer = tf.keras.layers.Dense(5)\r\n        \r\n    def __call__(self, x):\r\n        return self.layer(x)\r\n    \r\nmodel = MyModel()\r\n\r\n# Build the model\r\nmodel(tf.zeros([3, 10]))\r\n\r\n# this is something like a train_op that \"changes\" the content of the variable.\r\nassign_op = model.variables[1].assign( tf.ones_like(model.variables[1]) )\r\n\r\n# Let's create a session\r\nsess = tf.train.SingularMonitoredSession()\r\n#sess.run(tf.global_variables_initializer())\r\n\r\n# we can see the 'bias' variable is initialized to ZERO\r\nassert sess.run(model.variables[1]).mean() == 0.0\r\n\r\n# Now let's make the 'bias' variable to all one...\r\nsess.run(assign_op)\r\n\r\n# sure it is ONE ...\r\nassert sess.run(model.variables[1]).mean() == 1.0\r\n\r\n# Let's save the Keras model parameter. The bias is set to ONE, right ?????\r\n# Since model.save_weights try to create a new op (another bug #26430)\r\n# and the graph has been finalized, we will 'unfinalize' the graph with a bit of hack\r\nsess.graph._finalized = False\r\nmodel.save_weights('/tmp/keras-one.h5')\r\nsess.graph.finalize()\r\n\r\n\r\n# Let's see what is stored in the model file ....\r\nimport h5py\r\nh = h5py.File(\"/tmp/keras-one.h5\")\r\nassert h['dense']['dense']['bias:0'].value.mean() == 1.0     # <------ This will fail\r\n# Actual output is: array([0., 0., 0., 0., 0.], dtype=float32)\r\n```\r\n\r\nThe above code does the following:\r\n\r\n* Build a Keras model\r\n* Initialize the layer (bias will be zero)\r\n* Update the trainable variable (e.g. bias: 0->1)\r\n* Save the model into a H5 File\r\n* Read the model file, but the bias variable is not 1 but 0 (same as the initialization)\r\n\r\n\r\n\r\n### Additional Information\r\n\r\n* `tf.Session()` behaves exactly the same as with `tf.train.MonitoredSession()`. In this case we need to run custom variable initializer ops.\r\n* However, when `tf.InteractiveSession()` is used, it works exactly as expected (the readout from `keras-one.h5` is 1.0)\r\n* It would work well in the eager mode.\r\n\r\n\r\n## A work-around\r\n\r\nIf we change the code as follows, it would work.\r\n\r\n```\r\nwith sess.as_default():\r\n    model.save_weights('/tmp/keras-one.h5')\r\n```\r\n\r\nA quick note: 'SingularMonitoredSession' object has no attribute 'as_default'\r\n\r\n\r\nThis is because [Keras only plays with **the default session**][keras-session] (see #26430 as well) and in this example the manually created session was never registered as default. Kinda makes sense as there is no way for `model.save()` function to be aware of the session... However, this leads to a **very inconsistent and unexpected behavior.** If no session is registered as default, `model.save()` should instead throw an error.\r\n\r\n[keras-session]: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/keras/backend.py#L401"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26468", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26468/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26468/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26468/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26468", "id": 418623675, "node_id": "MDU6SXNzdWU0MTg2MjM2NzU=", "number": 26468, "title": "Tensorflow.loadLibrary() not working on Windows", "user": {"login": "saif-ellafi", "id": 27952699, "node_id": "MDQ6VXNlcjI3OTUyNjk5", "avatar_url": "https://avatars3.githubusercontent.com/u/27952699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saif-ellafi", "html_url": "https://github.com/saif-ellafi", "followers_url": "https://api.github.com/users/saif-ellafi/followers", "following_url": "https://api.github.com/users/saif-ellafi/following{/other_user}", "gists_url": "https://api.github.com/users/saif-ellafi/gists{/gist_id}", "starred_url": "https://api.github.com/users/saif-ellafi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saif-ellafi/subscriptions", "organizations_url": "https://api.github.com/users/saif-ellafi/orgs", "repos_url": "https://api.github.com/users/saif-ellafi/repos", "events_url": "https://api.github.com/users/saif-ellafi/events{/privacy}", "received_events_url": "https://api.github.com/users/saif-ellafi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "sjamesr", "id": 4641539, "node_id": "MDQ6VXNlcjQ2NDE1Mzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/4641539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjamesr", "html_url": "https://github.com/sjamesr", "followers_url": "https://api.github.com/users/sjamesr/followers", "following_url": "https://api.github.com/users/sjamesr/following{/other_user}", "gists_url": "https://api.github.com/users/sjamesr/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjamesr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjamesr/subscriptions", "organizations_url": "https://api.github.com/users/sjamesr/orgs", "repos_url": "https://api.github.com/users/sjamesr/repos", "events_url": "https://api.github.com/users/sjamesr/events{/privacy}", "received_events_url": "https://api.github.com/users/sjamesr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sjamesr", "id": 4641539, "node_id": "MDQ6VXNlcjQ2NDE1Mzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/4641539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjamesr", "html_url": "https://github.com/sjamesr", "followers_url": "https://api.github.com/users/sjamesr/followers", "following_url": "https://api.github.com/users/sjamesr/following{/other_user}", "gists_url": "https://api.github.com/users/sjamesr/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjamesr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjamesr/subscriptions", "organizations_url": "https://api.github.com/users/sjamesr/orgs", "repos_url": "https://api.github.com/users/sjamesr/repos", "events_url": "https://api.github.com/users/sjamesr/events{/privacy}", "received_events_url": "https://api.github.com/users/sjamesr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2019-03-08T04:10:28Z", "updated_at": "2020-01-03T20:49:10Z", "closed_at": null, "author_association": "NONE", "body": "Running:\r\n\r\n`TensorFlow.loadLibrary(\"ner-dl/win/_lstm_ops.so\")`\r\n\r\nReturns:\r\n\r\n```\r\njava.lang.UnsatisfiedLinkError: ner-dl\\win\\_lstm_ops.so not found\r\n\tat org.tensorflow.TensorFlow.loadLibrary(TensorFlow.java:47)\r\n```\r\n\r\nWe're trying to load contrib .so files dynamically from java API. These .so files are generated on Windows by installing tensorflow through pip. Using python 3.6.8 to do so and retrieving them from the library source code. These libraries are from tensorflow.contrib, since this is what we're using on our graphs. To me, this sounds like a path resolving issue, since it's the same error than making up an invented path.\r\n\r\nWorks fine when using appropriate .so files on Linux and Mac.\r\n\r\nSame happens if using absolute paths btw:\r\n```\r\njava.lang.UnsatisfiedLinkError: C:\\Users\\saifa\\IdeaProjects\\spark-nlp\\src\\main\\resources\\ner-dl\\win\\_lstm_ops.so not found\r\n\tat org.tensorflow.TensorFlow.loadLibrary(TensorFlow.java:47)\r\n```\r\n\r\nIt seems this also happened to this poor guy here:\r\nhttps://stackoverflow.com/questions/50115117/using-ops-from-tensorflow-contrb-on-windows-via-java-api\r\n\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\n`TensorFlow.loadLibrary(\"ner-dl/win/_lstm_ops.so\")`\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nWindows 10\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):\r\nBinary from pip\r\n- TensorFlow version (use command below):\r\n`b'v1.12.0-rc2-3-ga6d8ffae09' 1.12.0`\r\n- Python version:\r\nUsing Java API\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n**Describe the current behavior**\r\nRunning\r\n`TensorFlow.loadLibrary(\"ner-dl/win/_lstm_ops.so\")`\r\nreturns \r\n```\r\njava.lang.UnsatisfiedLinkError: ner-dl\\win\\_lstm_ops.so not found\r\n\tat org.tensorflow.TensorFlow.loadLibrary(TensorFlow.java:47)\r\n```\r\n\r\n**Describe the expected behavior**\r\nShould be able to load libraries dynamically on Windows. This works fine from Linux and Mac.\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n`TensorFlow.loadLibrary(\"ner-dl/win/_lstm_ops.so\")`\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26466", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26466/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26466/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26466/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26466", "id": 418619992, "node_id": "MDU6SXNzdWU0MTg2MTk5OTI=", "number": 26466, "title": "Java API can not create empty tensor", "user": {"login": "egolearner", "id": 45122959, "node_id": "MDQ6VXNlcjQ1MTIyOTU5", "avatar_url": "https://avatars1.githubusercontent.com/u/45122959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/egolearner", "html_url": "https://github.com/egolearner", "followers_url": "https://api.github.com/users/egolearner/followers", "following_url": "https://api.github.com/users/egolearner/following{/other_user}", "gists_url": "https://api.github.com/users/egolearner/gists{/gist_id}", "starred_url": "https://api.github.com/users/egolearner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/egolearner/subscriptions", "organizations_url": "https://api.github.com/users/egolearner/orgs", "repos_url": "https://api.github.com/users/egolearner/repos", "events_url": "https://api.github.com/users/egolearner/events{/privacy}", "received_events_url": "https://api.github.com/users/egolearner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "sjamesr", "id": 4641539, "node_id": "MDQ6VXNlcjQ2NDE1Mzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/4641539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjamesr", "html_url": "https://github.com/sjamesr", "followers_url": "https://api.github.com/users/sjamesr/followers", "following_url": "https://api.github.com/users/sjamesr/following{/other_user}", "gists_url": "https://api.github.com/users/sjamesr/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjamesr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjamesr/subscriptions", "organizations_url": "https://api.github.com/users/sjamesr/orgs", "repos_url": "https://api.github.com/users/sjamesr/repos", "events_url": "https://api.github.com/users/sjamesr/events{/privacy}", "received_events_url": "https://api.github.com/users/sjamesr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sjamesr", "id": 4641539, "node_id": "MDQ6VXNlcjQ2NDE1Mzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/4641539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjamesr", "html_url": "https://github.com/sjamesr", "followers_url": "https://api.github.com/users/sjamesr/followers", "following_url": "https://api.github.com/users/sjamesr/following{/other_user}", "gists_url": "https://api.github.com/users/sjamesr/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjamesr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjamesr/subscriptions", "organizations_url": "https://api.github.com/users/sjamesr/orgs", "repos_url": "https://api.github.com/users/sjamesr/repos", "events_url": "https://api.github.com/users/sjamesr/events{/privacy}", "received_events_url": "https://api.github.com/users/sjamesr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-08T03:49:25Z", "updated_at": "2019-06-27T11:13:33Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):MAC OS 10.14.1\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:NO\r\n- TensorFlow installed from (source or binary):binary\r\n- TensorFlow version (use command below):1.8\r\n- Python version:None\r\n- Bazel version (if compiling from source):None\r\n- GCC/Compiler version (if compiling from source):None\r\n- CUDA/cuDNN version:None\r\n- GPU model and memory:None\r\n\r\nC++ API is able to create empty tensor\r\n```cpp\r\n        Tensor ts_indices(tensorflow::DT_INT64, tensorflow::TensorShape(\r\n                   { 0, 2 }));\r\n```\r\nHowever, Java API will raise Exception.\r\n```java\r\n        long[][] index = new long[0][2];\r\n        Tensors.create(index);\r\n ```\r\n> java.lang.IllegalArgumentException: cannot create Tensors with a 0 dimension\r\n\tat org.tensorflow.Tensor.fillShape(Tensor.java:703)\r\n\tat org.tensorflow.Tensor.create(Tensor.java:142)\r\n\tat org.tensorflow.Tensor.create(Tensor.java:115)\r\n\tat org.tensorflow.Tensors.create(Tensors.java:336)"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26465", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26465/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26465/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26465/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26465", "id": 418614828, "node_id": "MDU6SXNzdWU0MTg2MTQ4Mjg=", "number": 26465, "title": "Wrong built-in precision metric for estimator", "user": {"login": "bingyuanlee", "id": 48341272, "node_id": "MDQ6VXNlcjQ4MzQxMjcy", "avatar_url": "https://avatars2.githubusercontent.com/u/48341272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bingyuanlee", "html_url": "https://github.com/bingyuanlee", "followers_url": "https://api.github.com/users/bingyuanlee/followers", "following_url": "https://api.github.com/users/bingyuanlee/following{/other_user}", "gists_url": "https://api.github.com/users/bingyuanlee/gists{/gist_id}", "starred_url": "https://api.github.com/users/bingyuanlee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bingyuanlee/subscriptions", "organizations_url": "https://api.github.com/users/bingyuanlee/orgs", "repos_url": "https://api.github.com/users/bingyuanlee/repos", "events_url": "https://api.github.com/users/bingyuanlee/events{/privacy}", "received_events_url": "https://api.github.com/users/bingyuanlee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "yhliang2018", "id": 36285763, "node_id": "MDQ6VXNlcjM2Mjg1NzYz", "avatar_url": "https://avatars1.githubusercontent.com/u/36285763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhliang2018", "html_url": "https://github.com/yhliang2018", "followers_url": "https://api.github.com/users/yhliang2018/followers", "following_url": "https://api.github.com/users/yhliang2018/following{/other_user}", "gists_url": "https://api.github.com/users/yhliang2018/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhliang2018/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhliang2018/subscriptions", "organizations_url": "https://api.github.com/users/yhliang2018/orgs", "repos_url": "https://api.github.com/users/yhliang2018/repos", "events_url": "https://api.github.com/users/yhliang2018/events{/privacy}", "received_events_url": "https://api.github.com/users/yhliang2018/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yhliang2018", "id": 36285763, "node_id": "MDQ6VXNlcjM2Mjg1NzYz", "avatar_url": "https://avatars1.githubusercontent.com/u/36285763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yhliang2018", "html_url": "https://github.com/yhliang2018", "followers_url": "https://api.github.com/users/yhliang2018/followers", "following_url": "https://api.github.com/users/yhliang2018/following{/other_user}", "gists_url": "https://api.github.com/users/yhliang2018/gists{/gist_id}", "starred_url": "https://api.github.com/users/yhliang2018/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yhliang2018/subscriptions", "organizations_url": "https://api.github.com/users/yhliang2018/orgs", "repos_url": "https://api.github.com/users/yhliang2018/repos", "events_url": "https://api.github.com/users/yhliang2018/events{/privacy}", "received_events_url": "https://api.github.com/users/yhliang2018/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2019-03-08T03:22:55Z", "updated_at": "2019-04-03T01:44:25Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Y\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):  Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or binary): Source\r\n- TensorFlow version (use command below): 1.13.0\r\n- Python version: 3.7\r\n- Bazel version (if compiling from source): N/A\r\n- GCC/Compiler version (if compiling from source): N/A\r\n- CUDA/cuDNN version: N/A\r\n- GPU model and memory: N/A\r\n\r\n**Describe the current behavior**\r\nDuring my experiment with binary classification, I've noticed a significant discrepancy between _tf.estimator.DNNClassifier_ built-in metric of _precision_ from the one computed by _tf.metrics.precision_.\r\n\r\n**Describe the expected behavior**\r\nIf the calculations were correct. The score of _precision_ should agree with that of _tf.metrics.precision_.\r\n\r\n**Code to reproduce the issue**\r\n```\r\nimport numpy as np\r\nimport tensorflow as tf\r\n\r\n# tf.enable_eager_execution()\r\n\r\n# Metadata describing the text columns\r\nCSV_COLUMNS = \"...\".split(',')\r\n\r\nDEFAULTS = [...]\r\n\r\nKEY_COLUMN = 'KEY'\r\n\r\nLABEL_COLUMN = 'LABEL'\r\n\r\n# Create an input function reading a file using the Dataset API\r\n# Then provide the results to the Estimator API\r\ndef read_dataset(filename, mode, batch_size = 128):\r\n    def _input_fn():\r\n        def decode_csv(value_column):\r\n            columns = tf.decode_csv(value_column, record_defaults=DEFAULTS)\r\n            features = dict(zip(CSV_COLUMNS, columns))\r\n            \r\n            label = features.pop(LABEL_COLUMN)\r\n            \r\n            return features, label\r\n\r\n        # Create list of files that match pattern\r\n        file_list = tf.gfile.Glob(filename)\r\n\r\n        # Create dataset from file list\r\n        dataset = (tf.data.TextLineDataset(file_list).skip(1)  # Read text file, skip header\r\n                     .map(decode_csv))  # Transform each elem by applying decode_csv fn\r\n        \r\n        if mode == tf.estimator.ModeKeys.TRAIN:\r\n            num_epochs = None # indefinitely\r\n            dataset = dataset.shuffle(buffer_size=10*batch_size)\r\n            dataset = dataset.repeat(num_epochs).batch(batch_size)\r\n        else:\r\n            num_epochs = 1 # end-of-input after this\r\n            dataset = dataset.repeat(num_epochs).batch(10000)\r\n        \r\n        return dataset\r\n    return _input_fn\r\n\r\n# Define feature columns\r\ndef get_categorical(key, hash_bucket_size):\r\n    return tf.feature_column.categorical_column_with_hash_bucket(key, hash_bucket_size)\r\n\r\ndef get_numeric(key):\r\n    return tf.feature_column.numeric_column(key)\r\n\r\ndef get_cols():\r\n  # Define column types\r\n  return [\\\r\n             ...\r\ntf.feature_column.indicator_column(tf.feature_column.categorical_column_with_identity('PAXCOUNT',10)),\r\n             ...\r\n      ]\r\n\r\n# Create serving input function to be able to serve predictions later using provided inputs\r\ndef serving_input_fn():\r\n    feature_placeholders = {\r\n        ...\r\n        'PAXCOUNT': tf.placeholder(tf.int32, [None]),\r\n        ...\r\n        KEY_COLUMN: tf.placeholder_with_default(tf.constant(['nokey']), [None])\r\n    }\r\n    features = {\r\n        key: tf.expand_dims(tensor, -1)\r\n        for key, tensor in feature_placeholders.items()\r\n    }\r\n    return tf.estimator.export.ServingInputReceiver(features, feature_placeholders)\r\n\r\n# I've defined additional metric here\r\ndef my_precision(labels, predictions):\r\n    return {'my_precision': tf.metrics.precision(labels, \r\n                                                 tf.strings.to_number(predictions['classes']))}\r\n\r\n# I've defined additional metric here\r\ndef my_recall(labels, predictions):\r\n    return {'my_recall': tf.metrics.recall(labels,\r\n                                           tf.strings.to_number(predictions['classes']))}\r\n\r\n# I've defined additional metric here\r\ndef my_f1_score(labels, predictions):\r\n    return {'my_f1_score': tf.contrib.metrics.f1_score(labels, \r\n                                                    tf.strings.to_number(predictions['classes']))}\r\n\r\nestimator = tf.estimator.DNNClassifier(    \r\n                   hidden_units = [256,128,64],\r\n                   feature_columns = get_cols(),\r\n                   model_dir = outdir,\r\n                   n_classes = 2, \r\n                   optimizer = tf.train.AdamOptimizer(learning_rate=0.001),\r\n                   batch_norm = False)\r\n    \r\n# Custom metric is added here\r\nestimator = tf.estimator.add_metrics(estimator, my_f1_score)\r\nestimator = tf.estimator.add_metrics(estimator, my_precision)\r\nestimator = tf.estimator.add_metrics(estimator, my_recall)\r\n\r\nestimator.train(input_fn=read_dataset('train.csv', mode = tf.estimator.ModeKeys.TRAIN), steps = 1000)\r\nestimator.evaluate(input_fn=read_dataset('eval.csv', mode = tf.estimator.ModeKeys.EVAL))\r\n```\r\n\r\n**Other info / logs**\r\n**Output of Evaluation**\r\n```\r\n{'accuracy': 0.73864836,\r\n 'accuracy_baseline': 0.5066931,\r\n 'auc': 0.8154568,\r\n 'auc_precision_recall': 0.8016961,\r\n 'average_loss': 0.5324211,\r\n 'label/mean': 0.5066931,\r\n 'loss': 7318.703,\r\n 'my_f1_score': 0.6467407,\r\n 'my_precision': 0.6260541,\r\n 'my_recall': 0.66884124,\r\n 'precision': 0.78366596,\r\n 'prediction/mean': 0.46659818,\r\n 'recall': 0.66884094,\r\n 'global_step': 100}\r\n```\r\nNotice _precision_ is 0.78 while _my_precision_ is 0.62, thats a big difference!\r\n\r\nAdditionally, I have also added _my_ recall_ and _my_f1 score_, using _tf.metrics.recall_ and _tf.contrib.metrics.f1_score_ respectively.\r\n\r\nTaking F1_Score = 2 * ((Precision * Recall) / (Precision + Recall)) to validate F1Score, it seems to agree with _my_precision_ instead of the built-in _precision_ metric.\r\n\r\nDoes anyone face a similar issue like the above?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26453", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26453/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26453/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26453/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26453", "id": 418394218, "node_id": "MDU6SXNzdWU0MTgzOTQyMTg=", "number": 26453, "title": "Allow py_function to support functions that return RaggedTensor", "user": {"login": "woodshop", "id": 4654379, "node_id": "MDQ6VXNlcjQ2NTQzNzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/4654379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woodshop", "html_url": "https://github.com/woodshop", "followers_url": "https://api.github.com/users/woodshop/followers", "following_url": "https://api.github.com/users/woodshop/following{/other_user}", "gists_url": "https://api.github.com/users/woodshop/gists{/gist_id}", "starred_url": "https://api.github.com/users/woodshop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woodshop/subscriptions", "organizations_url": "https://api.github.com/users/woodshop/orgs", "repos_url": "https://api.github.com/users/woodshop/repos", "events_url": "https://api.github.com/users/woodshop/events{/privacy}", "received_events_url": "https://api.github.com/users/woodshop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "edloper", "id": 5790348, "node_id": "MDQ6VXNlcjU3OTAzNDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5790348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edloper", "html_url": "https://github.com/edloper", "followers_url": "https://api.github.com/users/edloper/followers", "following_url": "https://api.github.com/users/edloper/following{/other_user}", "gists_url": "https://api.github.com/users/edloper/gists{/gist_id}", "starred_url": "https://api.github.com/users/edloper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edloper/subscriptions", "organizations_url": "https://api.github.com/users/edloper/orgs", "repos_url": "https://api.github.com/users/edloper/repos", "events_url": "https://api.github.com/users/edloper/events{/privacy}", "received_events_url": "https://api.github.com/users/edloper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "edloper", "id": 5790348, "node_id": "MDQ6VXNlcjU3OTAzNDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5790348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edloper", "html_url": "https://github.com/edloper", "followers_url": "https://api.github.com/users/edloper/followers", "following_url": "https://api.github.com/users/edloper/following{/other_user}", "gists_url": "https://api.github.com/users/edloper/gists{/gist_id}", "starred_url": "https://api.github.com/users/edloper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edloper/subscriptions", "organizations_url": "https://api.github.com/users/edloper/orgs", "repos_url": "https://api.github.com/users/edloper/repos", "events_url": "https://api.github.com/users/edloper/events{/privacy}", "received_events_url": "https://api.github.com/users/edloper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-07T16:15:56Z", "updated_at": "2019-03-07T21:54:35Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version (you are using): 1.13.1\r\n- Are you willing to contribute it (Yes/No): No\r\n\r\n**Describe the feature and the current behavior/state.**\r\n`py_function` only supports functions that return `Tensor`s. However the wrapped function is executed in eager mode and therefore ideally should support other return types consistent with eager mode. As of tf-1.13.1, `py_function` attempts to convert the returned objects to `Tensor`s, but a `RaggedTensor` cannot be converted directly to a `Tensor`. Any attempt to return a `RaggedTensor` raises an exception during the attempted conversion. E.g.,\r\n\r\n```python\r\nwith tf.Graph().as_default():\r\n    elements = [[1., 2., 3.], [4., 5.]]\r\n    ragged1 = tf.ragged.constant(elements)\r\n    def py_func():\r\n        return tf.ragged.constant(elements)\r\n    \r\n    ragged2 = tf.py_function(\r\n        py_func, [], tf.dtypes.float32\r\n    )\r\n    with tf.Session() as sess:\r\n        print(sess.run(ragged1))\r\n        print(sess.run(ragged2))\r\n\r\n>>> <tf.RaggedTensorValue [[1.0, 2.0, 3.0], [4.0, 5.0]]>\r\n>>> ...\r\n>>> ValueError: TypeError: object of type 'RaggedTensor' has no len()\r\n```\r\n\r\nI propose that `py_function` detect which output arguments, if any, are `RaggedTensor`s and returns them without attempting to convert to `Tensor`s. If the proposal is rejected, I suggest that the documentation is updated to make clearer (either in the API or guides) that a `RaggedTensor` is not a suitable return type for functions wrapped by `py_function`. \r\n\r\n**Will this change the current api? How?** No.\r\n\r\n**Who will benefit with this feature?** Anyone who uses `RaggedTensor` in conjunction with `py_function`.\r\n\r\n**Any Other info.**\r\nAs a workaround, one can construct a `RaggedTensor` from the output of `py_function`. E.g.,\r\n\r\n```python\r\nwith tf.Graph().as_default():\r\n    elements = [[1., 2., 3.], [4., 5.]]\r\n    ragged1 = tf.ragged.constant(elements)\r\n    def py_func():\r\n        lengths = [len(element) for element in elements]\r\n        return sum(elements, []), lengths\r\n    \r\n    concatenated, lengths = tf.py_function(\r\n        py_func, [], [tf.dtypes.float32, tf.dtypes.int64]\r\n    )\r\n    ragged2 = tf.RaggedTensor.from_row_lengths(concatenated, lengths)\r\n    with tf.Session() as sess:\r\n        print(sess.run(ragged1))\r\n        print(sess.run(ragged2))\r\n\r\n>>> <tf.RaggedTensorValue [[1.0, 2.0, 3.0], [4.0, 5.0]]>\r\n>>> <tf.RaggedTensorValue [[1.0, 2.0, 3.0], [4.0, 5.0]]>\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26447", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26447/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26447/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26447/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26447", "id": 418330821, "node_id": "MDU6SXNzdWU0MTgzMzA4MjE=", "number": 26447, "title": "Add SAMD21 or SAMD51 TensorFlow Lite for Microcontrollers", "user": {"login": "sabas1080", "id": 2874292, "node_id": "MDQ6VXNlcjI4NzQyOTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/2874292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sabas1080", "html_url": "https://github.com/sabas1080", "followers_url": "https://api.github.com/users/sabas1080/followers", "following_url": "https://api.github.com/users/sabas1080/following{/other_user}", "gists_url": "https://api.github.com/users/sabas1080/gists{/gist_id}", "starred_url": "https://api.github.com/users/sabas1080/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sabas1080/subscriptions", "organizations_url": "https://api.github.com/users/sabas1080/orgs", "repos_url": "https://api.github.com/users/sabas1080/repos", "events_url": "https://api.github.com/users/sabas1080/events{/privacy}", "received_events_url": "https://api.github.com/users/sabas1080/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-03-07T14:13:16Z", "updated_at": "2019-08-01T21:53:14Z", "closed_at": null, "author_association": "NONE", "body": "A widely used platform is the SAMD21 and SAMD51 family with a large number of development boards\r\nhttps://www.adafruit.com/product/4064\r\nhttps://www.adafruit.com/product/2772\r\nhttps://www.sparkfun.com/products/13672\r\n\r\nSupport:\r\n- C++11\r\n- Arduino\r\n- Circuitpython\r\n- Makecode\r\n- Rust\r\n\r\nthey should be considered to be ported\r\n\r\n**System information**\r\n- TensorFlow version (you are using): Lite\r\n- Are you willing to contribute it (Yes/No): I can help with test\r\n\r\nThanks!\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26444", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26444/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26444/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26444/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26444", "id": 418319149, "node_id": "MDU6SXNzdWU0MTgzMTkxNDk=", "number": 26444, "title": "Tensorflow.js API documentation example issue line 19, incorect code, build error", "user": {"login": "raymondpittman", "id": 6395348, "node_id": "MDQ6VXNlcjYzOTUzNDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/6395348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raymondpittman", "html_url": "https://github.com/raymondpittman", "followers_url": "https://api.github.com/users/raymondpittman/followers", "following_url": "https://api.github.com/users/raymondpittman/following{/other_user}", "gists_url": "https://api.github.com/users/raymondpittman/gists{/gist_id}", "starred_url": "https://api.github.com/users/raymondpittman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raymondpittman/subscriptions", "organizations_url": "https://api.github.com/users/raymondpittman/orgs", "repos_url": "https://api.github.com/users/raymondpittman/repos", "events_url": "https://api.github.com/users/raymondpittman/events{/privacy}", "received_events_url": "https://api.github.com/users/raymondpittman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 1093464312, "node_id": "MDU6TGFiZWwxMDkzNDY0MzEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:others", "name": "type:others", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-07T13:50:58Z", "updated_at": "2019-03-15T20:59:30Z", "closed_at": null, "author_association": "NONE", "body": "In the object callback on **line 19** in the bottom example on this page:\r\n[See-sample-code-for-node.js-usage](https://www.tensorflow.org/js/tutorials/setup#see-sample-code-for-node.js-usage) has a little error.\r\n\r\n> Currently you have\r\n\r\n`onEpochEnd: (epoch, log) => console.log(`Epoch ${epoch}: loss = ${log.loss}`);`\r\n\r\n> You need to remove the ;\r\n\r\n`onEpochEnd: (epoch, log) => console.log(`Epoch ${epoch}: loss = ${log.loss}`)`\r\n\r\n> Compile error is as follows\r\n\r\n```\r\nSyntaxError: Unexpected token ;\r\n    at new Script (vm.js:80:7)\r\n    at createScript (vm.js:274:10)\r\n    at Object.runInThisContext (vm.js:326:10)\r\n    at Module._compile (internal/modules/cjs/loader.js:664:28)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:712:10)\r\n    at Module.load (internal/modules/cjs/loader.js:600:32)\r\n    at tryModuleLoad (internal/modules/cjs/loader.js:539:12)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:531:3)\r\n    at Function.Module.runMain (internal/modules/cjs/loader.js:754:12)\r\n    at startup (internal/bootstrap/node.js:283:19)\r\n```\r\n\r\n>  Node -v\r\n\r\n`v11.11.0`"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26442", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26442/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26442/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26442/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26442", "id": 418303404, "node_id": "MDU6SXNzdWU0MTgzMDM0MDQ=", "number": 26442, "title": "TFLite LSTM example produces different results for Lite and for standard Tensorflow for variable length input.", "user": {"login": "MiloslavPalaxo", "id": 13745388, "node_id": "MDQ6VXNlcjEzNzQ1Mzg4", "avatar_url": "https://avatars2.githubusercontent.com/u/13745388?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MiloslavPalaxo", "html_url": "https://github.com/MiloslavPalaxo", "followers_url": "https://api.github.com/users/MiloslavPalaxo/followers", "following_url": "https://api.github.com/users/MiloslavPalaxo/following{/other_user}", "gists_url": "https://api.github.com/users/MiloslavPalaxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/MiloslavPalaxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MiloslavPalaxo/subscriptions", "organizations_url": "https://api.github.com/users/MiloslavPalaxo/orgs", "repos_url": "https://api.github.com/users/MiloslavPalaxo/repos", "events_url": "https://api.github.com/users/MiloslavPalaxo/events{/privacy}", "received_events_url": "https://api.github.com/users/MiloslavPalaxo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "renjie-liu", "id": 36247193, "node_id": "MDQ6VXNlcjM2MjQ3MTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/36247193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/renjie-liu", "html_url": "https://github.com/renjie-liu", "followers_url": "https://api.github.com/users/renjie-liu/followers", "following_url": "https://api.github.com/users/renjie-liu/following{/other_user}", "gists_url": "https://api.github.com/users/renjie-liu/gists{/gist_id}", "starred_url": "https://api.github.com/users/renjie-liu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/renjie-liu/subscriptions", "organizations_url": "https://api.github.com/users/renjie-liu/orgs", "repos_url": "https://api.github.com/users/renjie-liu/repos", "events_url": "https://api.github.com/users/renjie-liu/events{/privacy}", "received_events_url": "https://api.github.com/users/renjie-liu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "renjie-liu", "id": 36247193, "node_id": "MDQ6VXNlcjM2MjQ3MTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/36247193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/renjie-liu", "html_url": "https://github.com/renjie-liu", "followers_url": "https://api.github.com/users/renjie-liu/followers", "following_url": "https://api.github.com/users/renjie-liu/following{/other_user}", "gists_url": "https://api.github.com/users/renjie-liu/gists{/gist_id}", "starred_url": "https://api.github.com/users/renjie-liu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/renjie-liu/subscriptions", "organizations_url": "https://api.github.com/users/renjie-liu/orgs", "repos_url": "https://api.github.com/users/renjie-liu/repos", "events_url": "https://api.github.com/users/renjie-liu/events{/privacy}", "received_events_url": "https://api.github.com/users/renjie-liu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2019-03-07T13:16:19Z", "updated_at": "2019-05-28T14:19:10Z", "closed_at": null, "author_association": "NONE", "body": "I have extended the LSTM example for TFLite `unidirectional_sequence_lstm_test.py` in `tensorflow/tensorflow/lite/experimental/examples/lstm` and it returns different results for standard Tensorflow and Tensorflow Lite.\r\n\r\nThe example project is available here: [https://github.com/MiloslavPalaxo/tflite-lstm-text](https://github.com/MiloslavPalaxo/tflite-lstm-text)\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 18.04\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): v1.12.0-9708-gafab5b3 1.14.1-dev20190306\r\n- Python version: 3.7\r\nsary to generate the problem.\r\n\r\n**Other info / logs**\r\n\r\n2019-03-07 14:12:33.453487: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 3400115000 Hz\r\n2019-03-07 14:12:33.454111: I tensorflow/compiler/xla/service/service.cc:162] XLA service 0x2644ff0 executing computations on platform Host. Devices:\r\n2019-03-07 14:12:33.454139: I tensorflow/compiler/xla/service/service.cc:169]   StreamExecutor device (0): <undefined>, <undefined>\r\nWARNING: Logging before flag parsing goes to stderr.\r\nW0307 14:12:33.472815 139655812351808 deprecation.py:506] From /home/XXX/.virtualenvs/tftest/lib/python3.7/site-packages/tensorflow/python/ops/init_ops.py:1257: calling VarianceScaling.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nCall initializer instance with the dtype argument instead of passing it to the constructor\r\nW0307 14:12:33.495823 139655812351808 deprecation.py:323] From /home/XXX/.virtualenvs/tftest/lib/python3.7/site-packages/tensorflow/lite/experimental/examples/lstm/rnn.py:218: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.cast` instead.\r\nW0307 14:12:33.645129 139655812351808 deprecation.py:506] From /home/XXX/.virtualenvs/tftest/lib/python3.7/site-packages/tensorflow/python/ops/variable_scope.py:883: calling Zeros.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nCall initializer instance with the dtype argument instead of passing it to the constructor\r\nW0307 14:12:34.316469 139655812351808 deprecation.py:323] From /home/XXX/ideaprojects/tflite-lstm-text/sentiment-lite3.py:151: softmax_cross_entropy_with_logits (from tensorflow.python.ops.nn_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\n\r\nFuture major versions of TensorFlow will allow gradients to flow\r\ninto the labels input on backprop by default.\r\n\r\nSee `tf.nn.softmax_cross_entropy_with_logits_v2`.\r\n\r\nW0307 14:13:07.583182 139655812351808 deprecation.py:323] From /home/XXX/.virtualenvs/tftest/lib/python3.7/site-packages/tensorflow/python/training/saver.py:1276: checkpoint_exists (from tensorflow.python.training.checkpoint_management) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse standard file APIs to check for files with this prefix.\r\nW0307 14:13:07.947111 139655812351808 deprecation.py:323] From /home/XXX/ideaprojects/tflite-lstm-text/sentiment-lite3.py:191: convert_variables_to_constants (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.compat.v1.graph_util.convert_variables_to_constants`\r\nW0307 14:13:07.947545 139655812351808 deprecation.py:323] From /home/XXX/.virtualenvs/tftest/lib/python3.7/site-packages/tensorflow/python/framework/graph_util_impl.py:247: extract_sub_graph (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.compat.v1.graph_util.extract_sub_graph`\r\nW0307 14:13:08.154012 139655812351808 deprecation.py:323] From /home/XXX/.virtualenvs/tftest/lib/python3.7/site-packages/tensorflow/python/tools/optimize_for_inference_lib.py:113: remove_training_nodes (from tensorflow.python.framework.graph_util_impl) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.compat.v1.graph_util.remove_training_nodes`\r\n[[0.5784946  0.17042728 0.25107813]\r\n [0.2503695  0.35664326 0.3929873 ]\r\n [0.26069233 0.3423219  0.39698583]\r\n [0.5784946  0.17042728 0.25107813]\r\n [0.5784946  0.17042728 0.25107813]]\r\n[[0.25950563 0.34442514 0.39606926]\r\n [0.25036934 0.3566433  0.3929873 ]\r\n [0.2606922  0.34232193 0.39698586]\r\n [0.25918585 0.34475493 0.3960592 ]\r\n [0.25936535 0.34485146 0.39578322]]\r\n\r\nFailure\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/unittest/case.py\", line 59, in testPartExecutor\r\n    yield\r\n  File \"/usr/lib/python3.7/unittest/case.py\", line 615, in run\r\n    testMethod()\r\n  File \"/home/XXX/.virtualenvs/tftest/lib/python3.7/site-packages/tensorflow/python/framework/test_util.py\", line 428, in wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/home/XXX/ideaprojects/tflite-lstm-text/sentiment-lite3.py\", line 271, in testDynamicRnnMultiRnnCell\r\n    self.assertTrue(np.allclose(expected_output, result, rtol=1e-6, atol=1e-2))\r\n  File \"/usr/lib/python3.7/unittest/case.py\", line 692, in assertTrue\r\n    raise self.failureException(msg)\r\nAssertionError: False is not true\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26436", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26436/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26436/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26436/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26436", "id": 418231314, "node_id": "MDU6SXNzdWU0MTgyMzEzMTQ=", "number": 26436, "title": "tf.contrib.training.HParams domain interval support", "user": {"login": "moritzmeister", "id": 8422705, "node_id": "MDQ6VXNlcjg0MjI3MDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8422705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moritzmeister", "html_url": "https://github.com/moritzmeister", "followers_url": "https://api.github.com/users/moritzmeister/followers", "following_url": "https://api.github.com/users/moritzmeister/following{/other_user}", "gists_url": "https://api.github.com/users/moritzmeister/gists{/gist_id}", "starred_url": "https://api.github.com/users/moritzmeister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moritzmeister/subscriptions", "organizations_url": "https://api.github.com/users/moritzmeister/orgs", "repos_url": "https://api.github.com/users/moritzmeister/repos", "events_url": "https://api.github.com/users/moritzmeister/events{/privacy}", "received_events_url": "https://api.github.com/users/moritzmeister/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1166103538, "node_id": "MDU6TGFiZWwxMTY2MTAzNTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/contrib", "name": "contrib", "color": "5319e7", "default": false, "description": "Anything that comes under contrib directory"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "nataliaponomareva", "id": 4313109, "node_id": "MDQ6VXNlcjQzMTMxMDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/4313109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nataliaponomareva", "html_url": "https://github.com/nataliaponomareva", "followers_url": "https://api.github.com/users/nataliaponomareva/followers", "following_url": "https://api.github.com/users/nataliaponomareva/following{/other_user}", "gists_url": "https://api.github.com/users/nataliaponomareva/gists{/gist_id}", "starred_url": "https://api.github.com/users/nataliaponomareva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nataliaponomareva/subscriptions", "organizations_url": "https://api.github.com/users/nataliaponomareva/orgs", "repos_url": "https://api.github.com/users/nataliaponomareva/repos", "events_url": "https://api.github.com/users/nataliaponomareva/events{/privacy}", "received_events_url": "https://api.github.com/users/nataliaponomareva/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nataliaponomareva", "id": 4313109, "node_id": "MDQ6VXNlcjQzMTMxMDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/4313109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nataliaponomareva", "html_url": "https://github.com/nataliaponomareva", "followers_url": "https://api.github.com/users/nataliaponomareva/followers", "following_url": "https://api.github.com/users/nataliaponomareva/following{/other_user}", "gists_url": "https://api.github.com/users/nataliaponomareva/gists{/gist_id}", "starred_url": "https://api.github.com/users/nataliaponomareva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nataliaponomareva/subscriptions", "organizations_url": "https://api.github.com/users/nataliaponomareva/orgs", "repos_url": "https://api.github.com/users/nataliaponomareva/repos", "events_url": "https://api.github.com/users/nataliaponomareva/events{/privacy}", "received_events_url": "https://api.github.com/users/nataliaponomareva/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-07T10:19:35Z", "updated_at": "2019-03-15T00:13:28Z", "closed_at": null, "author_association": "NONE", "body": "Hi, this is my first issue/feature request. I hope it's relevant :)\r\n\r\nI am currently working on hyperparameter optimisation and would like to use the HParams API but in my eyes there is a feature missing. Instead of having a discrete list of values for a parameter, I would like to represent a feasible interval, from which I can take values.\r\n\r\n**Describe the feature and the current behavior/state.**\r\nCurrently, the HParams class holds a set of hyperparameters as name-value pairs, that is a discrete set of values for each of the hyperparameters. I would like to be able to specify also the feasible interval from which the values are coming. Also the TensorBoard api for reporting experiment summaries provides the possibility to report the domain interval and I think it would be handy to have this information in the HParams class, too.\r\n\r\nThe TensorBoard API let's you specify the `domain_discrete` but you could also provide `domain_interval`.\r\n```\r\napi_pb2.HParamInfo(name='num_units',  \r\n                             display_name='Number of units',  \r\n                             type=api_pb2.DATA_TYPE_FLOAT64,  \r\n                             domain_discrete=num_units_list_val),\r\n```\r\n\r\n**Will this change the current api? How?**\r\nYes, this would require changing the API such that the User can also specify the interval of a parameter, for example:\r\n\r\n```\r\nadd_hparam(\r\n    name,\r\n    value,\r\n    start,\r\n    end\r\n)\r\n```\r\n\r\nFurthermore, the data structure would need to be changed to save the interval.\r\n[Tensor2Tensor has something similar](https://github.com/tensorflow/tensor2tensor/blob/master/tensor2tensor/layers/common_hparams.py) with RangedHParams.\r\n\r\n**Who will benefit with this feature?**\r\nAnyone working with intervals for hyperparameters compared to a fixed set of discrete values.\r\n\r\n**System information**\r\n- TensorFlow version (you are using): r1.12\r\n- Are you willing to contribute it (Yes/No): Yes, I am happy to help, but this would be my first contribution and I would need guidance"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26435", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26435/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26435/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26435/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26435", "id": 418222883, "node_id": "MDU6SXNzdWU0MTgyMjI4ODM=", "number": 26435, "title": "[Tflite] Unable to convert model to tflite with uneven input dimension", "user": {"login": "gustavz", "id": 29252883, "node_id": "MDQ6VXNlcjI5MjUyODgz", "avatar_url": "https://avatars3.githubusercontent.com/u/29252883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gustavz", "html_url": "https://github.com/gustavz", "followers_url": "https://api.github.com/users/gustavz/followers", "following_url": "https://api.github.com/users/gustavz/following{/other_user}", "gists_url": "https://api.github.com/users/gustavz/gists{/gist_id}", "starred_url": "https://api.github.com/users/gustavz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gustavz/subscriptions", "organizations_url": "https://api.github.com/users/gustavz/orgs", "repos_url": "https://api.github.com/users/gustavz/repos", "events_url": "https://api.github.com/users/gustavz/events{/privacy}", "received_events_url": "https://api.github.com/users/gustavz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-07T10:01:34Z", "updated_at": "2019-06-04T09:46:33Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): macOS High Sierra\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: -\r\n- TensorFlow installed from (source or binary): pip\r\n- TensorFlow version (use command below): 1.13\r\n- Python version: 3.6.5\r\n- Bazel version (if compiling from source): - \r\n- GCC/Compiler version (if compiling from source): -\r\n- CUDA/cuDNN version: -\r\n- GPU model and memory: -\r\n\r\nHi I have a fully convolutional CNN model (PoseNet to be precise), which is therefore able to process input of any dimension.\r\n\r\nConverting the model to tflite works perfectly with even Input dimensions like 224x224.\r\nBut I need it to get converted with uneven Input Dimensions something like 225x225 or 289x289.\r\n\r\nSetting these uneven input dimension in toco/ the tflite converter results in the following error:\r\n```\r\nRuntimeError: TOCO failed see console for info.\r\nb'2019-03-07 10:20:29.334193: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] \r\nBefore Removing unused ops: 213 operators, 318 arrays (0 quantized)\\n2019-03-07 10:20:29.340266: I tensorflow/contrib/lite/toco/graph_transformations/graph_transformations.cc:39] \r\nBefore general graph transformations: 213 operators, 318 arrays (0 quantized)\\n2019-03-07 10:20:29.348270: F tensorflow/contrib/lite/toco/graph_transformations/propagate_fixed_sizes.cc:991] \r\nCheck failed: height_with_paddings % block_height == 0 (1 vs. 0)\\n'\r\n```\r\n\r\nQuestions:\r\n\r\n1. Why does tflite need fixed input dimensions? (I suppose this reduces necessary computations and therefore allow faster inference)\r\n2. Why is it not possible to convert a model to tflite with uneven Input Dimensions even though the model is fully convolutional and can therefore generally handle those dimensions?\r\n3. Is there a workaround to fix my problem?\r\n4. Additional: Can someone who knows posenet explain to me why it needs this +1 padding to even input dimensions: (line 109 in: https://github.com/tensorflow/tfjs-models/blob/master/posenet/src/util.ts)\r\n\r\nThank you very much in advance!\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26417", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26417/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26417/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26417/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26417", "id": 418083262, "node_id": "MDU6SXNzdWU0MTgwODMyNjI=", "number": 26417, "title": "Missing warning or documentation for upcast in sparse_softmax_cross_entropy_with_logits?", "user": {"login": "anshulsamar", "id": 3238367, "node_id": "MDQ6VXNlcjMyMzgzNjc=", "avatar_url": "https://avatars3.githubusercontent.com/u/3238367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anshulsamar", "html_url": "https://github.com/anshulsamar", "followers_url": "https://api.github.com/users/anshulsamar/followers", "following_url": "https://api.github.com/users/anshulsamar/following{/other_user}", "gists_url": "https://api.github.com/users/anshulsamar/gists{/gist_id}", "starred_url": "https://api.github.com/users/anshulsamar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anshulsamar/subscriptions", "organizations_url": "https://api.github.com/users/anshulsamar/orgs", "repos_url": "https://api.github.com/users/anshulsamar/repos", "events_url": "https://api.github.com/users/anshulsamar/events{/privacy}", "received_events_url": "https://api.github.com/users/anshulsamar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-07T01:17:27Z", "updated_at": "2019-03-11T23:41:16Z", "closed_at": null, "author_association": "NONE", "body": "In the \"sparse_softmax_cross_entropy_with_logits\" function inside tensorflow/python/ops/nn_ops.py, logits that are in fp16 are automatically upcasted to fp32. At the end of the function, the result is cast back down to fp16. \r\n\r\nThis functionality ought to be exposed in documentation and/or a warning. For users doing mixed precision training, the expected behavior would be that the entire loss (softmax + cross entropy) is done in fp16. \r\n\r\nRelevant lines:\r\n```\r\nlogits = ops.convert_to_tensor(logits)\r\nprecise_logits = math_ops.cast(logits, dtypes.float32) if (dtypes.as_dtype(\r\n\tlogits.dtype) == dtypes.float16) else logits\r\n...\r\ncost, _ = gen_nn_ops.sparse_softmax_cross_entropy_with_logits(\r\n\tprecise_logits, labels, name=name)\r\n```\r\n\r\nThanks so much.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26411", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26411/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26411/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26411/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26411", "id": 417992098, "node_id": "MDU6SXNzdWU0MTc5OTIwOTg=", "number": 26411, "title": "GPU placement of tf.nn.conv2d during tf.data.Dataset.map call causes UnimplementedError (NHWC)", "user": {"login": "sbrodehl", "id": 7113492, "node_id": "MDQ6VXNlcjcxMTM0OTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/7113492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbrodehl", "html_url": "https://github.com/sbrodehl", "followers_url": "https://api.github.com/users/sbrodehl/followers", "following_url": "https://api.github.com/users/sbrodehl/following{/other_user}", "gists_url": "https://api.github.com/users/sbrodehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbrodehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbrodehl/subscriptions", "organizations_url": "https://api.github.com/users/sbrodehl/orgs", "repos_url": "https://api.github.com/users/sbrodehl/repos", "events_url": "https://api.github.com/users/sbrodehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sbrodehl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545273, "node_id": "MDU6TGFiZWwxMDk3NTQ1Mjcz", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:grappler", "name": "comp:grappler", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ezhulenev", "id": 1174378, "node_id": "MDQ6VXNlcjExNzQzNzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1174378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezhulenev", "html_url": "https://github.com/ezhulenev", "followers_url": "https://api.github.com/users/ezhulenev/followers", "following_url": "https://api.github.com/users/ezhulenev/following{/other_user}", "gists_url": "https://api.github.com/users/ezhulenev/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezhulenev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezhulenev/subscriptions", "organizations_url": "https://api.github.com/users/ezhulenev/orgs", "repos_url": "https://api.github.com/users/ezhulenev/repos", "events_url": "https://api.github.com/users/ezhulenev/events{/privacy}", "received_events_url": "https://api.github.com/users/ezhulenev/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ezhulenev", "id": 1174378, "node_id": "MDQ6VXNlcjExNzQzNzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1174378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ezhulenev", "html_url": "https://github.com/ezhulenev", "followers_url": "https://api.github.com/users/ezhulenev/followers", "following_url": "https://api.github.com/users/ezhulenev/following{/other_user}", "gists_url": "https://api.github.com/users/ezhulenev/gists{/gist_id}", "starred_url": "https://api.github.com/users/ezhulenev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ezhulenev/subscriptions", "organizations_url": "https://api.github.com/users/ezhulenev/orgs", "repos_url": "https://api.github.com/users/ezhulenev/repos", "events_url": "https://api.github.com/users/ezhulenev/events{/privacy}", "received_events_url": "https://api.github.com/users/ezhulenev/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2019-03-06T20:21:53Z", "updated_at": "2019-09-03T21:12:31Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): `Linux 4.20.13-arch1-1-ARCH #1 SMP PREEMPT Wed Feb 27 19:10:28 UTC 2019 x86_64 GNU/Linux`\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: None\r\n- TensorFlow installed from (source or binary): `community python-tensorflow-opt-cuda`\r\n- TensorFlow version (use command below): `1.13.1`\r\n- Python version: `3.7.2`\r\n- Bazel version (if compiling from source): None\r\n- GCC/Compiler version (if compiling from source): None\r\n- CUDA/cuDNN version: `10.1 / 7.5`\r\n- GPU model and memory: `Geforce GTX 1080 Ti 11GB`\r\n\r\n\r\nYou can collect some of this information using our environment capture [script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n**Describe the current behavior**\r\nEvaluation of `tf.nn.conv2d` in a `tf.data.Dataset.map` call fails during `Session.run()` call of `tf.data.iterator.get_next()` with error:\r\n```python\r\ntensorflow.python.framework.errors_impl.UnimplementedError: Generic conv implementation only supports NHWC tensor format for now.\r\n```\r\nSee the full error log and the attached code below for the full example.\r\n\r\nIt seems that the graph is successfully created, but the evaluation of the `tf.nn.conv2d` call (which is implicitly placed on the GPU) is not possible.\r\nThis is somehow related to the fact that this `tf.nn.conv2d` call is wrapped in a `tf.data.Dataset.map` call.\r\nSetting `data_format=\"NHWC\"` or `use_cudnn_on_gpu=False` procudes the same error.\r\n\r\n**Describe the expected behavior**\r\n`tf.nn.conv2d` should be evaluated, which is done iff the convolution is explicitly placed on the CPU (e.g. `with tf.device('/cpu:0'):` or `CUDA_VISIBLE_DEVICES=\"\"`).\r\n\r\n**Code to reproduce the issue**\r\n```python\r\nimport tensorflow as tf\r\n\r\n\r\nclass IteratorInitializerHook(tf.train.SessionRunHook):\r\n    \"\"\"Hook to initialise data iterator after Session is created.\"\"\"\r\n\r\n    def __init__(self, func=None):\r\n        super(IteratorInitializerHook, self).__init__()\r\n        self.iterator_initializer_func = func\r\n\r\n    def after_create_session(self, session, coord):\r\n        \"\"\"Initialise the iterator after the session has been created.\"\"\"\r\n        self.iterator_initializer_func(session)\r\n\r\n\r\nif __name__ == '__main__':\r\n\r\n    def apply_kernel(tensor, kernel=tf.random_normal([3, 3])):\r\n        t = tf.expand_dims(tensor, 0)\r\n        t = tf.expand_dims(t, -1)\r\n        k = tf.expand_dims(kernel, -1)\r\n        k = tf.expand_dims(k, -1)\r\n\r\n        # TODO the following line fails during Session.run\r\n        #  call of tf.data.Iterator.get_next() (last line in this file)\r\n        tf_conv = tf.nn.conv2d(t, k, [1, 1, 1, 1], \"SAME\")\r\n        return tf.squeeze(tf_conv)\r\n\r\n    def do_some_things(x, y):\r\n        x = apply_kernel(x)\r\n        return x, y\r\n\r\n    n, image_shape = 100, [256, 256]\r\n\r\n    ds = tf.data.Dataset.from_tensor_slices((\r\n        tf.random_uniform([n] + image_shape), tf.random_uniform([n])\r\n    ))\r\n    ds = ds.map(do_some_things)\r\n    iterator = tf.data.Iterator.from_structure(ds.output_types, ds.output_shapes)\r\n    data = iterator.get_next()\r\n    ds_init_op = iterator.make_initializer(ds)\r\n\r\n    with tf.train.SingularMonitoredSession(\r\n            hooks=[IteratorInitializerHook(lambda s: s.run(ds_init_op))],\r\n            config=tf.ConfigProto(log_device_placement=True)\r\n    ) as sess:\r\n        _ = sess.run(data)\r\n```\r\n\r\n**Other info / logs**\r\nHere is the full error log, including device placements.\r\n[tf-conv-NHWC-issue.log](https://github.com/tensorflow/tensorflow/files/2938294/tf-conv-NHWC-issue.log)\r\n\r\nHere is a zipped version of the python example\r\n[tf-conv-NHWC-issue.py.zip](https://github.com/tensorflow/tensorflow/files/2938289/tf-conv-NHWC-issue.py.zip)\r\n\r\n\r\nNot sure if this is important, but it seems that all tensorflow ops from the function which is called by `tf.data.Dataset.map` are not showing up in the device placement logs."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26410", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26410/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26410/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26410/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26410", "id": 417951354, "node_id": "MDU6SXNzdWU0MTc5NTEzNTQ=", "number": 26410, "title": "Add Minor Versions for cuDNN & CUDA in Tested build configurations tables", "user": {"login": "CA4GitHub", "id": 8238000, "node_id": "MDQ6VXNlcjgyMzgwMDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/8238000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CA4GitHub", "html_url": "https://github.com/CA4GitHub", "followers_url": "https://api.github.com/users/CA4GitHub/followers", "following_url": "https://api.github.com/users/CA4GitHub/following{/other_user}", "gists_url": "https://api.github.com/users/CA4GitHub/gists{/gist_id}", "starred_url": "https://api.github.com/users/CA4GitHub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CA4GitHub/subscriptions", "organizations_url": "https://api.github.com/users/CA4GitHub/orgs", "repos_url": "https://api.github.com/users/CA4GitHub/repos", "events_url": "https://api.github.com/users/CA4GitHub/events{/privacy}", "received_events_url": "https://api.github.com/users/CA4GitHub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-06T18:38:50Z", "updated_at": "2019-03-06T22:37:21Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a documentation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:doc_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version: 1.12\r\n- Doc Link: https://www.tensorflow.org/install/source#tested_build_configurations\r\n\r\n\r\n**Describe the documentation issue**\r\nThe tested build configurations table does not supply adequate information for the user since it does not provide minor versions for the cuDNN and CUDA tested in the build.  Please add this information.\r\n\r\n**We welcome contributions by users. Will you be able to update submit a PR (use the [doc style guide](https://www.tensorflow.org/community/documentation)) to fix the doc Issue?**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26409", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26409/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26409/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26409/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26409", "id": 417944000, "node_id": "MDU6SXNzdWU0MTc5NDQwMDA=", "number": 26409, "title": "[TF 2.0] tf.summary should be easier to use with graphs", "user": {"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 284285184, "node_id": "MDU6TGFiZWwyODQyODUxODQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tensorboard", "name": "comp:tensorboard", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-03-06T18:19:39Z", "updated_at": "2019-10-22T14:37:16Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "This feature request tracks improving the usability of tf.summary in TF 2.0 when used with graphs - specifically with `tf.function` and legacy graph mode.\r\n\r\nCurrently there are a number of interrelated limitations that make using tf.summary somewhat awkward and error-prone outside of eager mode:\r\n\r\n- In legacy graph mode, the writer must be configured in advance\r\n  - a writer resource handle must be created via `create_file_writer()` before any graph construction happens, or all summary-writing functions become no-ops\r\n  - note that resource initialization itself can be deferred (by calling `writer.init()` later), but all options to initialization, in particular the logdir, still must be passed earlier to `create_file_writer()`\r\n  - this means it's not possible to create a graph first, and then at execution time decide on the logdir it should emit summaries to; you need to define the logdir and then define the graph\r\n\r\n- In tf.functions it's a similar story\r\n  - the default writer is captured at graph construction time, aka the first function execution\r\n  - if later executions of the function use the same trace, they will still reflect the default writer from the first execution, rather than picking up any new default writer that may exist\r\n  - again, this means that you can't easily change the logdir in use at execution time; you would need to force the function to be re-traced to pick up the new default writer\r\n\r\n- tf.function has the additional complication that it can't own any state\r\n  - this means any writer created inside the function must be assigned a reference outside the function in order to still exist when the function is actually executed (since otherwise it's automatically deleted at the end of the trace and no longer exists at graph execution time)\r\n  - so it's not currently possible for a tf.function to have its own internal-only summary writer (akin to how they cannot currently have function local tf.Variables)\r\n  - furthermore, any mistakes here tend to generate opaque \"Resource not found\" errors that don't really communicate what the issue might be\r\n  - the safest approach is to always create the writer outside the tf.function and then just \"re-enter\" it within the tf.function via `with writer.as_default()`, and make sure the writer object exists as long as the tf.function is being used\r\n\r\n- The step and recording condition (`tf.summary.record_if()`) have milder but similar issues\r\n  - they are also captured at graph definition time\r\n  - however, they have a better workaround: set them to be either a `tf.Variable` or a placeholder (`tf.compat.v1.placeholder` for legacy graph mode, or a function argument for `tf.function`) and then set that value when executing the graph\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26408", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26408/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26408/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26408/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26408", "id": 417934872, "node_id": "MDU6SXNzdWU0MTc5MzQ4NzI=", "number": 26408, "title": "[TF 2.0] tf.summary built-in support in Estimator", "user": {"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 284285184, "node_id": "MDU6TGFiZWwyODQyODUxODQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tensorboard", "name": "comp:tensorboard", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-06T17:55:59Z", "updated_at": "2019-10-22T09:44:23Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "This feature request tracks making the Estimator summary-writing logic provide built-in support for the TF 2.0 tf.summary.scalar(), image(), etc. ops.\r\n\r\nBackground: the TF 1.x summary ops are supported automatically in Estimator via use of the `tf.estimator.RunConfig` option for `save_summary_steps`, which uses `tf.estimator.SummarySaverHook` under the hood. This means that Estimator model code can invoke `tf.summary.scalar()` and it will Just Work - the framework takes care of collecting the summary at the correct step or time interval and writing it out to the model output directory.\r\n\r\nCurrently, to use TF 2.0 summary ops, one needs to set up the summary writer, step tracking, etc. logic by hand."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26407", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26407/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26407/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26407/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26407", "id": 417934401, "node_id": "MDU6SXNzdWU0MTc5MzQ0MDE=", "number": 26407, "title": "[TF 2.0] tf.summary step argument should cast to int64", "user": {"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 284285184, "node_id": "MDU6TGFiZWwyODQyODUxODQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tensorboard", "name": "comp:tensorboard", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-06T17:54:47Z", "updated_at": "2019-04-03T14:52:27Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "The TF 2.0 versions of tf.summary.scalar(), image(), etc now require a `step` argument at the callsite. This step argument should allow at least any integral type and probably also floating point types (at least if they have no fractional part), but it currently requires a python integer or a `tf.int64` tensor.\r\n\r\nThis results in errors like:\r\n\r\n```python\r\ntf.summary.scalar('foo', 22, step=tf.constant(1))\r\n...\r\nValueError: Tensor conversion requested dtype int64 for Tensor with dtype int32: 'tf.Tensor(1, shape=(), dtype=int32)'\r\n```\r\n\r\n```python\r\ntf.summary.scalar('foo', 22, step=1.0)\r\n...\r\nTypeError: Cannot convert provided value to EagerTensor. Provided value: 1.0 Requested dtype: int64\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26406", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26406/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26406/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26406/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26406", "id": 417933110, "node_id": "MDU6SXNzdWU0MTc5MzMxMTA=", "number": 26406, "title": "[TF 2.0] tf.summary centralized step management", "user": {"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 284285184, "node_id": "MDU6TGFiZWwyODQyODUxODQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tensorboard", "name": "comp:tensorboard", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2019-03-06T17:51:32Z", "updated_at": "2020-02-17T22:34:11Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "This feature request tracks providing a way to centrally control the notion of the \"step\" of a given summary (used e.g. as the x-axis in TensorBoard scalar plots). In TF 1.x there was the global step, but in TF 2.0 it no longer exists and global state is generally discouraged.\r\n\r\nBackground: the TF 2.0 versions of tf.summary.scalar(), image(), etc now require a `step` argument at the callsite. This is because the new ops emit summaries immediately to the default file writer, so there's no subsequent `add_summary(merged_summaries, step=step)` call at which the step can be provided. This is inconvenient when working with nested code in which summaries are written from parts of the code that don't have easy access to a step variable, or when working with frameworks where the logical \"step\" isn't easily accessible to user code.\r\n\r\nNote that there is a provisional `tf.summary.experimental.set_step()` implementation that can be used to set a default step value or variable for all summary writing calls from that thread, but that may be changed or removed at any time because it's unclear if that's the right API for the long term."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26405", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26405/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26405/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26405/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26405", "id": 417932440, "node_id": "MDU6SXNzdWU0MTc5MzI0NDA=", "number": 26405, "title": "[TF 2.0] summary API migration paths", "user": {"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 284285184, "node_id": "MDU6TGFiZWwyODQyODUxODQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tensorboard", "name": "comp:tensorboard", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-03-06T17:49:50Z", "updated_at": "2019-08-24T01:56:32Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "This feature request tracks adding and improving migration paths in tf_upgrade_v2 to handle the various summary APIs.\r\n\r\nThe goal state is:\r\n1) 1.x tf.summary migrated to tf.compat.v1.summary by default (done)\r\n2) 1.x tf.summary migrated to tf.compat.v2.summary where possible to do correctly (not done, may not be feasible)\r\n3) 1.x tf.contrib.summary migrated to tf.compat.v2.summary with best-effort correctness (partly done)\r\n\r\nFor (2) it's not possible to do this correctly in all cases because the summary APIs depend on non-local context in different ways (e.g. file writer creation works differently) and return different results (1.x returns a Summary protocol buffer, 2.x a boolean). It might be worth seeing if we can add an option to the upgrade script to indicate a preference for the conservative approach (stick with tf.compat.v1) or the more aggressive upgrade (migrate to tf.compat.v2, but more likely to be broken).\r\n\r\nFor (3) we can't migrate to compat.v1 because contrib is not exposed in v1, so migrating to V2 is the only path forwards. Migration rules here are only partially implemented (for `scalar`, `audio`, `image`, and `histogram`). We still need rules for migrating the actual writer and recording control symbols.\r\n\r\nTracked internally at b/124529441."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26401", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26401/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26401/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26401/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26401", "id": 417853070, "node_id": "MDU6SXNzdWU0MTc4NTMwNzA=", "number": 26401, "title": "Tensor::FromProto should check the type of tensor", "user": {"login": "cjqw", "id": 3211963, "node_id": "MDQ6VXNlcjMyMTE5NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/3211963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjqw", "html_url": "https://github.com/cjqw", "followers_url": "https://api.github.com/users/cjqw/followers", "following_url": "https://api.github.com/users/cjqw/following{/other_user}", "gists_url": "https://api.github.com/users/cjqw/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjqw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjqw/subscriptions", "organizations_url": "https://api.github.com/users/cjqw/orgs", "repos_url": "https://api.github.com/users/cjqw/repos", "events_url": "https://api.github.com/users/cjqw/events{/privacy}", "received_events_url": "https://api.github.com/users/cjqw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-06T15:11:26Z", "updated_at": "2019-10-22T00:36:29Z", "closed_at": null, "author_association": "NONE", "body": "When deserializing a tensor from pb, there is a Tensor::FromProto function for us to use. However, this function do not do any checks on the type of the proto. This unexpected behaviour will cause core dump when the type of the proto and that of the tensor mismatch. Here is a toy example which will cause core dump when deserializing tensor proto.\r\n\r\n```\r\n// prepare tensor proto which have a string tensor\r\nTensorProto proto;\r\nTensor tensor(DT_STRING, {1});\r\ntensor.scalar<string>()() = \"foo\";\r\ntensor.AsProtoField(&tensorProto);\r\n// deserialze the tensor proto to a variant\r\nTensor newTensor(DT_VARIANT, {1});\r\nif (!newTensor.FromProto(tensorProto)) {\r\n  // FromProto is expected to failed\r\n  return false;\r\n}\r\n// the software will core on getting the FooVariant\r\nauto fooVariant = newTensor.scalar<Variant>()().get<FooVariant>();\r\n```\r\n\r\nThe code of  Tensor::FromProto\r\n```\r\nbool Tensor::FromProto(Allocator* a, const TensorProto& proto) {\r\n  CHECK_NOTNULL(a);\r\n  TensorBuffer* p = nullptr;\r\n  if (!TensorShape::IsValid(proto.tensor_shape())) return false;\r\n  if (proto.dtype() == DT_INVALID) return false;\r\n  TensorShape shape(proto.tensor_shape());\r\n  const int64 N = shape.num_elements();\r\n  if (N > 0 && proto.dtype()) {\r\n    bool dtype_error = false;\r\n    if (!proto.tensor_content().empty()) {\r\n      const auto& content = proto.tensor_content();\r\n      CASES_WITH_DEFAULT(proto.dtype(), p = Helper<T>::Decode(a, content, N),\r\n                         dtype_error = true, dtype_error = true);\r\n    } else {\r\n      CASES_WITH_DEFAULT(proto.dtype(), p = FromProtoField<T>(a, proto, N),\r\n                         dtype_error = true, dtype_error = true);\r\n    }\r\n    if (dtype_error || p == nullptr) return false;\r\n  }\r\n  shape_ = shape;\r\n  set_dtype(proto.dtype());\r\n  UnrefIfNonNull(buf_);\r\n  buf_ = p;\r\n  // TODO(misard) add tracking of which kernels and steps are calling\r\n  // FromProto.\r\n  if (buf_ != nullptr && buf_->data() != nullptr && LogMemory::IsEnabled()) {\r\n    LogMemory::RecordTensorAllocation(\"Unknown (from Proto)\",\r\n                                      LogMemory::UNKNOWN_STEP_ID, *this);\r\n  }\r\n  return true;\r\n}\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26398", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26398/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26398/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26398/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26398", "id": 417792170, "node_id": "MDU6SXNzdWU0MTc3OTIxNzA=", "number": 26398, "title": "Converting tensor2tensor transformer to tf-lite graph", "user": {"login": "stefan-falk", "id": 43335432, "node_id": "MDQ6VXNlcjQzMzM1NDMy", "avatar_url": "https://avatars1.githubusercontent.com/u/43335432?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefan-falk", "html_url": "https://github.com/stefan-falk", "followers_url": "https://api.github.com/users/stefan-falk/followers", "following_url": "https://api.github.com/users/stefan-falk/following{/other_user}", "gists_url": "https://api.github.com/users/stefan-falk/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefan-falk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefan-falk/subscriptions", "organizations_url": "https://api.github.com/users/stefan-falk/orgs", "repos_url": "https://api.github.com/users/stefan-falk/repos", "events_url": "https://api.github.com/users/stefan-falk/events{/privacy}", "received_events_url": "https://api.github.com/users/stefan-falk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1162044565, "node_id": "MDU6TGFiZWwxMTYyMDQ0NTY1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.12", "name": "TF 1.12", "color": "c2e0c6", "default": false, "description": "Issues related to TF 1.12"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, {"login": "haozha111", "id": 6316921, "node_id": "MDQ6VXNlcjYzMTY5MjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6316921?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haozha111", "html_url": "https://github.com/haozha111", "followers_url": "https://api.github.com/users/haozha111/followers", "following_url": "https://api.github.com/users/haozha111/following{/other_user}", "gists_url": "https://api.github.com/users/haozha111/gists{/gist_id}", "starred_url": "https://api.github.com/users/haozha111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haozha111/subscriptions", "organizations_url": "https://api.github.com/users/haozha111/orgs", "repos_url": "https://api.github.com/users/haozha111/repos", "events_url": "https://api.github.com/users/haozha111/events{/privacy}", "received_events_url": "https://api.github.com/users/haozha111/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2019-03-06T13:02:18Z", "updated_at": "2020-03-05T09:55:36Z", "closed_at": null, "author_association": "NONE", "body": "I am trying to convert the frozen transformer model from tensor2tensor to a tf-lite graph:\r\n\r\n```\r\n$ tflite_convert --output_file=/tmp/tf-lite/mdl --graph_def_file=frozen.pb --input_arrays=wave_input --output_arrays=outputs\r\n```\r\n\r\nI am getting the following error \r\n\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/sfalk/miniconda3/envs/t2t/bin/tflite_convert\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/sfalk/miniconda3/envs/t2t/lib/python3.5/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 412, in main\r\n    app.run(main=run_main, argv=sys.argv[:1])\r\n  File \"/home/sfalk/miniconda3/envs/t2t/lib/python3.5/site-packages/tensorflow/python/platform/app.py\", line 125, in run\r\n    _sys.exit(main(argv))\r\n  File \"/home/sfalk/miniconda3/envs/t2t/lib/python3.5/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 408, in run_main\r\n    _convert_model(tflite_flags)\r\n  File \"/home/sfalk/miniconda3/envs/t2t/lib/python3.5/site-packages/tensorflow/contrib/lite/python/tflite_convert.py\", line 162, in _convert_model\r\n    output_data = converter.convert()\r\n  File \"/home/sfalk/miniconda3/envs/t2t/lib/python3.5/site-packages/tensorflow/contrib/lite/python/lite.py\", line 453, in convert\r\n    **converter_kwargs)\r\n  File \"/home/sfalk/miniconda3/envs/t2t/lib/python3.5/site-packages/tensorflow/contrib/lite/python/convert.py\", line 342, in toco_convert_impl\r\n    input_data.SerializeToString())\r\n  File \"/home/sfalk/miniconda3/envs/t2t/lib/python3.5/site-packages/tensorflow/contrib/lite/python/convert.py\", line 135, in toco_convert_protos\r\n    (stdout, stderr))\r\nRuntimeError: TOCO failed see console for info.\r\n```\r\n\r\nI would seem that there are a lot of unsupported operations - does this cause the error? \r\n\r\nThe last line from the tflite_convert output says \r\n\r\n>  `F tensorflow/contrib/lite/toco/tooling_util.cc:968] Check failed: array->has_shape()`\r\n\r\nI don't know if anybody can make sense out of that ...\r\n\r\nIs it possible to fix this or is there simply no way to convert this graph at this point in time?\r\n\r\n<details><summary><b>Click to show full tflite_convert output</b></summary>\r\n<p>\r\n\r\n```\r\n2019-03-06 13:53:51.592675: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: RandomStandardNormal\r\n2019-03-06 13:53:51.592791: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: SplitV\r\n2019-03-06 13:53:51.594222: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Cos\r\n2019-03-06 13:53:51.594254: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: RFFT\r\n2019-03-06 13:53:51.594260: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1127] Op node missing output type attribute: stft/rfft\r\n2019-03-06 13:53:51.594263: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ComplexAbs\r\n2019-03-06 13:53:51.594283: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: LinSpace\r\n2019-03-06 13:53:51.594290: I tensorflow/contrib/lite/toco/import_tensorflow.cc:189] Unsupported data type in placeholder op: 2\r\n2019-03-06 13:53:51.594346: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: LinSpace\r\n2019-03-06 13:53:51.594352: I tensorflow/contrib/lite/toco/import_tensorflow.cc:189] Unsupported data type in placeholder op: 2\r\n2019-03-06 13:53:51.594399: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: SplitV\r\n2019-03-06 13:53:51.594531: I tensorflow/contrib/lite/toco/import_tensorflow.cc:189] Unsupported data type in placeholder op: 2\r\n2019-03-06 13:53:51.594564: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.596289: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Abs\r\n2019-03-06 13:53:51.596411: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Cos\r\n2019-03-06 13:53:51.596466: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Where\r\n2019-03-06 13:53:51.596473: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1127] Op node missing output type attribute: transformer_ext/body/parallel_0/body/encoder/pad_reduce/get_ids/Where\r\n2019-03-06 13:53:51.596591: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.596714: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.596835: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.597110: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.597220: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.597444: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.597699: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.597780: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ScatterNd\r\n2019-03-06 13:53:51.597900: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.598021: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.598154: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.598540: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.598656: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.599083: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.599551: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.599635: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ScatterNd\r\n2019-03-06 13:53:51.599755: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.599878: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.600066: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.600402: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.600518: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.600968: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.601443: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.601549: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ScatterNd\r\n2019-03-06 13:53:51.601745: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.601951: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.602150: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.602506: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.602647: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.603160: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.603627: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.603779: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ScatterNd\r\n2019-03-06 13:53:51.603972: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.604173: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.604374: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.604724: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.604852: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.605260: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.605712: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.605818: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ScatterNd\r\n2019-03-06 13:53:51.605950: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Cos\r\n2019-03-06 13:53:51.606029: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: MatrixBandPart\r\n2019-03-06 13:53:51.606257: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.606486: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.606714: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.606942: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.607165: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.607388: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.607628: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607651: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607659: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607666: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607672: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607679: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607686: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607693: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607700: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607707: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607714: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607720: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607727: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607733: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607740: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607747: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607753: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607760: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607766: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607802: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.607870: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: LoopCond\r\n2019-03-06 13:53:51.607876: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1127] Op node missing output type attribute: transformer_ext/while/LoopCond\r\n2019-03-06 13:53:51.608650: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608661: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608668: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608675: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608682: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608688: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608694: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608701: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608708: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608714: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608720: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608727: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608733: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608740: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608746: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608752: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608833: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608871: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608910: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.608919: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.609056: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.609098: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.609238: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.609276: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.609419: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.609460: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.609746: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.609797: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.609872: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.609893: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.610025: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.610086: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.610326: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.610390: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.610453: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.610462: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.610832: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.610871: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.610896: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.611271: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.611311: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.611333: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.611369: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.611379: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.611499: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.611536: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.611675: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.611712: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.611849: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.611886: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.612169: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.612207: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.612257: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.612266: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.612391: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.612526: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.612746: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.612783: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.612833: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.612842: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.613232: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.613295: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.613330: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.613729: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.613768: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.613793: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.613841: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.613862: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.613986: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.614023: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.614161: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.614213: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.614362: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.614411: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.614710: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.614774: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.614847: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.614868: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.615001: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.615051: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.615280: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.615343: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.615419: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.615440: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.615813: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.615863: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.615899: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616299: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: ListDiff\r\n2019-03-06 13:53:51.616350: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616386: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616447: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616456: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616582: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616591: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616597: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616605: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616611: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616618: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616624: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616630: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616636: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616643: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616649: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616656: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616662: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616669: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616675: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.616682: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Enter\r\n2019-03-06 13:53:51.617107: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: IsFinite\r\n2019-03-06 13:53:51.617115: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1127] Op node missing output type attribute: transformer_ext/while/ReduceLogSumExp/IsFinite\r\n2019-03-06 13:53:51.617189: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617197: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617203: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617209: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617215: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617221: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617227: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617232: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617237: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617243: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617249: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617255: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617261: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617267: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617310: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617317: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617323: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617329: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617335: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617341: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617346: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617352: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617357: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617363: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617369: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617374: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617380: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617385: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617391: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617446: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617453: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617459: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: GatherNd\r\n2019-03-06 13:53:51.617488: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Exit\r\n2019-03-06 13:53:51.617494: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Exit\r\n2019-03-06 13:53:51.617499: I tensorflow/contrib/lite/toco/import_tensorflow.cc:1080] Converting unsupported operation: Exit\r\n2019-03-06 13:53:51.956887: F tensorflow/contrib/lite/toco/tooling_util.cc:968] Check failed: array->has_shape() \r\nAborted (core dumped)\r\n```\r\n\r\n</p>\r\n</details><br/>\r\n\r\n**System information**\r\n\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\r\n- TensorFlow installed from (source or binary): pip\r\n- TensorFlow version (use command below): 1.12.0\r\n- Python version: 3.5.6\r\n- CUDA/cuDNN version: 9.0\r\n- GPU model and memory: 4x GeForce 1080 GTX\r\n\r\n```\r\n$ uname -spomvi\r\nLinux #48~16.04.1-Ubuntu SMP Tue Jan 29 18:03:48 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n$ pip freeze | grep tensor\r\nmesh-tensorflow==0.0.5\r\ntensor2tensor==1.12.0\r\ntensorboard==1.12.0\r\ntensorflow-gpu==1.12.0\r\ntensorflow-metadata==0.9.0\r\ntensorflow-probability==0.5.0\r\n```\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26393", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26393/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26393/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26393/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26393", "id": 417764141, "node_id": "MDU6SXNzdWU0MTc3NjQxNDE=", "number": 26393, "title": "Kubernetes GPU Docs & k8s-compatible Docker Images", "user": {"login": "bartoszkp", "id": 9852318, "node_id": "MDQ6VXNlcjk4NTIzMTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/9852318?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bartoszkp", "html_url": "https://github.com/bartoszkp", "followers_url": "https://api.github.com/users/bartoszkp/followers", "following_url": "https://api.github.com/users/bartoszkp/following{/other_user}", "gists_url": "https://api.github.com/users/bartoszkp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bartoszkp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bartoszkp/subscriptions", "organizations_url": "https://api.github.com/users/bartoszkp/orgs", "repos_url": "https://api.github.com/users/bartoszkp/repos", "events_url": "https://api.github.com/users/bartoszkp/events{/privacy}", "received_events_url": "https://api.github.com/users/bartoszkp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-06T11:49:07Z", "updated_at": "2019-03-11T17:27:18Z", "closed_at": null, "author_association": "NONE", "body": "- TensorFlow version: 1.13.1\r\n- Doc Link: https://www.tensorflow.org/install/gpu\r\n\r\nThe existing documentation on how to setup TensorFlow with docker&GPU is great. Unfortunately it doesn't work with Kubernetes. This [Kubernetes Engine GPUs](https://cloud.google.com/kubernetes-engine/docs/how-to/gpus) guide suggest using \"nvidia/cuda:10.0-runtime-ubuntu18.04\" docker image. TensorFlow docs suggest \"tensorflow/tensorflow:latest-gpu\". \r\n\r\nIdeally, we could use them both as base images, but that's of course impossible. \r\n\r\nThis of course depends also on which VM image you're using for the k8s nodes.\r\n\r\nIt would be great if the docs provide some some guidance on this setup. \r\n\r\nIt would be really awesome if a docker image compatible with one of k8s VM images was available containing both the necessary NVidia support for a k8s node and complete tensorflow-gpu package environment."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26385", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26385/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26385/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26385/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26385", "id": 417672662, "node_id": "MDU6SXNzdWU0MTc2NzI2NjI=", "number": 26385, "title": "TensorFlow Lite Android nightly runs inference x2 faster than latest version 1.13.1", "user": {"login": "pabloppp", "id": 4237014, "node_id": "MDQ6VXNlcjQyMzcwMTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/4237014?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pabloppp", "html_url": "https://github.com/pabloppp", "followers_url": "https://api.github.com/users/pabloppp/followers", "following_url": "https://api.github.com/users/pabloppp/following{/other_user}", "gists_url": "https://api.github.com/users/pabloppp/gists{/gist_id}", "starred_url": "https://api.github.com/users/pabloppp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pabloppp/subscriptions", "organizations_url": "https://api.github.com/users/pabloppp/orgs", "repos_url": "https://api.github.com/users/pabloppp/repos", "events_url": "https://api.github.com/users/pabloppp/events{/privacy}", "received_events_url": "https://api.github.com/users/pabloppp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-06T08:07:58Z", "updated_at": "2019-04-02T12:09:52Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Android \r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: OnePlus 6\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): `org.tensorflow:tensorflow-lite:0.0.0-nightly` / `org.tensorflow:tensorflow-lite:1.13.1`\r\n\r\n**Describe the current behavior**\r\nI am a contributor of [this library](https://github.com/the-super-toys/glimpse-android) where we use TensorFlow lite to run a custom model.\r\nWhen using the `org.tensorflow:tensorflow-lite:0.0.0-nightly` verstion of tensorflow lite we achieve an inference time of 22ms (the model setup takes about 5ms).\r\nIf we just change the version to `org.tensorflow:tensorflow-lite:1.13.1` without changing anything else in our code, the inference time goes up to 40ms (the model setup now takes less than 1ms).\r\n\r\nWhy could this be happening? Is this a bug or the nightly version will always provide a faster inference?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26378", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26378/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26378/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26378/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26378", "id": 417630399, "node_id": "MDU6SXNzdWU0MTc2MzAzOTk=", "number": 26378, "title": "Centos7.6+python37+tensorflow1.13.1 : ImportError: /lib64/libstdc++.so.6: version `CXXABI_1.3.8' not found", "user": {"login": "DachuanZhao", "id": 23434805, "node_id": "MDQ6VXNlcjIzNDM0ODA1", "avatar_url": "https://avatars0.githubusercontent.com/u/23434805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DachuanZhao", "html_url": "https://github.com/DachuanZhao", "followers_url": "https://api.github.com/users/DachuanZhao/followers", "following_url": "https://api.github.com/users/DachuanZhao/following{/other_user}", "gists_url": "https://api.github.com/users/DachuanZhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/DachuanZhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DachuanZhao/subscriptions", "organizations_url": "https://api.github.com/users/DachuanZhao/orgs", "repos_url": "https://api.github.com/users/DachuanZhao/repos", "events_url": "https://api.github.com/users/DachuanZhao/events{/privacy}", "received_events_url": "https://api.github.com/users/DachuanZhao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1205657510, "node_id": "MDU6TGFiZWwxMjA1NjU3NTEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:centos", "name": "subtype:centos", "color": "b619ea", "default": false, "description": "Centos Build/Installation issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 14, "created_at": "2019-03-06T05:32:36Z", "updated_at": "2019-11-12T18:29:05Z", "closed_at": null, "author_association": "NONE", "body": "```\r\nPython 3.7.1 (default, Dec 14 2018, 19:28:38) \r\n[GCC 7.3.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/imp.py\", line 242, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\nImportError: /lib64/libstdc++.so.6: version `CXXABI_1.3.8' not found (required by /home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/tensorflow/__init__.py\", line 24, in <module>\r\n    from tensorflow.python import pywrap_tensorflow  # pylint: disable=unused-import\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/tensorflow/python/__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 74, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/tensorflow/python/pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/tensorflow/python/pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/imp.py\", line 242, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"/home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\nImportError: /lib64/libstdc++.so.6: version `CXXABI_1.3.8' not found (required by /home/zhaodachuan/zhaodachuan/anaconda3/lib/python3.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so)\r\n\r\n\r\nFailed to load the native TensorFlow runtime.\r\n\r\nSee https://www.tensorflow.org/install/errors\r\n\r\nfor some common reasons and solutions.  Include the entire stack trace\r\nabove this error message when asking for help.\r\n\r\n```\r\n\r\n\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nCentOS Linux release 7.6.1810 (Core)\r\n- TensorFlow installed from (source or binary):\r\npip install tensorflow\r\n- TensorFlow version:\r\n1.13.1\r\n- Python version:\r\nPython 3.7.1\r\n- Installed using virtualenv? pip? conda?:\r\npip install tensorflow\r\n\r\n\r\n\r\n\r\n**Describe the problem**\r\nI think the problem is that the version of gcc is 4.8 on Centos7.6.\r\nWhat should I do to install tensorflow1.13 with Centos7+python37 ?\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n```\r\n$ pip install tensorflow\r\n$ python \r\n>>> import tensorflow\r\n```\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26372", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26372/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26372/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26372/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26372", "id": 417507166, "node_id": "MDU6SXNzdWU0MTc1MDcxNjY=", "number": 26372, "title": "[TF 2.0 API Docs] tf.keras.activations.softmax", "user": {"login": "BlackHoundNate", "id": 36240145, "node_id": "MDQ6VXNlcjM2MjQwMTQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/36240145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlackHoundNate", "html_url": "https://github.com/BlackHoundNate", "followers_url": "https://api.github.com/users/BlackHoundNate/followers", "following_url": "https://api.github.com/users/BlackHoundNate/following{/other_user}", "gists_url": "https://api.github.com/users/BlackHoundNate/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlackHoundNate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlackHoundNate/subscriptions", "organizations_url": "https://api.github.com/users/BlackHoundNate/orgs", "repos_url": "https://api.github.com/users/BlackHoundNate/repos", "events_url": "https://api.github.com/users/BlackHoundNate/events{/privacy}", "received_events_url": "https://api.github.com/users/BlackHoundNate/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-05T21:22:23Z", "updated_at": "2019-05-31T20:58:55Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a documentation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:doc_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version: 2.0\r\n- Doc Link: https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/activations/softmax\r\n\r\n\r\n**Describe the documentation issue**\r\n\r\n* The softmax activation function is not described in detail, and there is no recommendation about when to use it.\r\n\r\n* There is no usage example.\r\n\r\n* The description of the returned value could be more useful.\r\n\r\n**We welcome contributions by users. Will you be able to update submit a PR (use the [doc style guide](https://www.tensorflow.org/community/documentation)) to fix the doc Issue?**\r\n\r\nYes."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26359", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26359/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26359/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26359/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26359", "id": 417236561, "node_id": "MDU6SXNzdWU0MTcyMzY1NjE=", "number": 26359, "title": "RAM memory issue in Xavier ", "user": {"login": "Niran89", "id": 43031822, "node_id": "MDQ6VXNlcjQzMDMxODIy", "avatar_url": "https://avatars1.githubusercontent.com/u/43031822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Niran89", "html_url": "https://github.com/Niran89", "followers_url": "https://api.github.com/users/Niran89/followers", "following_url": "https://api.github.com/users/Niran89/following{/other_user}", "gists_url": "https://api.github.com/users/Niran89/gists{/gist_id}", "starred_url": "https://api.github.com/users/Niran89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Niran89/subscriptions", "organizations_url": "https://api.github.com/users/Niran89/orgs", "repos_url": "https://api.github.com/users/Niran89/repos", "events_url": "https://api.github.com/users/Niran89/events{/privacy}", "received_events_url": "https://api.github.com/users/Niran89/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547538, "node_id": "MDU6TGFiZWwxMDk3NTQ3NTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu", "name": "comp:gpu", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "tatianashp", "id": 986732, "node_id": "MDQ6VXNlcjk4NjczMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/986732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatianashp", "html_url": "https://github.com/tatianashp", "followers_url": "https://api.github.com/users/tatianashp/followers", "following_url": "https://api.github.com/users/tatianashp/following{/other_user}", "gists_url": "https://api.github.com/users/tatianashp/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatianashp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatianashp/subscriptions", "organizations_url": "https://api.github.com/users/tatianashp/orgs", "repos_url": "https://api.github.com/users/tatianashp/repos", "events_url": "https://api.github.com/users/tatianashp/events{/privacy}", "received_events_url": "https://api.github.com/users/tatianashp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tatianashp", "id": 986732, "node_id": "MDQ6VXNlcjk4NjczMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/986732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatianashp", "html_url": "https://github.com/tatianashp", "followers_url": "https://api.github.com/users/tatianashp/followers", "following_url": "https://api.github.com/users/tatianashp/following{/other_user}", "gists_url": "https://api.github.com/users/tatianashp/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatianashp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatianashp/subscriptions", "organizations_url": "https://api.github.com/users/tatianashp/orgs", "repos_url": "https://api.github.com/users/tatianashp/repos", "events_url": "https://api.github.com/users/tatianashp/events{/privacy}", "received_events_url": "https://api.github.com/users/tatianashp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-05T10:52:49Z", "updated_at": "2019-12-27T06:30:10Z", "closed_at": null, "author_association": "NONE", "body": "Hi,\r\nI am currently working on an application which runs ssd mobilenet based Object detector in Nvidia AGX Xavier Developer kit, which is flashed with Jetpack 4.1. \r\n\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): NO\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): LINUX UBUNTU 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: NO\r\n- TensorFlow installed from (source or binary): pip install --pre --extra-index-url https://developer.download.nvidia.com/compute/redist/jp/v411 tensorflow-gpu\r\n- TensorFlow version (use command below): 1.13.0\r\n- Python version: 2.7\r\n- Bazel version (if compiling from source): NA\r\n- GCC/Compiler version (if compiling from source): \r\n- CUDA/cuDNN version: CUDA 10.0/cuDNN 7.3.1.20\r\n- GPU model and memory:Xavier developer kit\r\n\r\nThe sofware specifications are as follows, \r\nUbuntu 18.04\r\ntf = 1.13.0 from pip install --pre --extra-index-url https://developer.download.nvidia.com/compute/redist/jp/v411 tensorflow-gpu\r\nCUDA 10.0\r\nCUDNN 7.3.1.20\r\n\r\nI have noticed that the algorithm is taking around 12GB out of 15.5GB RAM memory available in Xavier.\r\n\r\nI have made use of \"config = tf.ConfigProto(allow_soft_placement=True, log_device_placement=log_device)\" and \"config.gpu_options.allow_growth=allow_memory_growth\" in the code to control the memory growth. But still I could not see any improvement in the memory allocation.\r\n\r\nI have uninstalled tensorflow and installed it again too. But there is no much change.\r\n\r\nThe same algorithm allocates only about 2-3GB is GPU based Laptop.\r\n\r\nCould you help me to make a conclusion on this issue. Are there any more changes to be done specific to xavier for using the split model algorithm you have created ? Also can the split model code be used for mutilple cameras ? \r\n\r\nThanks in Advance !!!\r\n\r\n\r\nRegards,\r\nNiran"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26357", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26357/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26357/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26357/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26357", "id": 417231806, "node_id": "MDU6SXNzdWU0MTcyMzE4MDY=", "number": 26357, "title": "fatal error: tensorflow/cc/ops/array_ops.h", "user": {"login": "allendred", "id": 4343664, "node_id": "MDQ6VXNlcjQzNDM2NjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/4343664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allendred", "html_url": "https://github.com/allendred", "followers_url": "https://api.github.com/users/allendred/followers", "following_url": "https://api.github.com/users/allendred/following{/other_user}", "gists_url": "https://api.github.com/users/allendred/gists{/gist_id}", "starred_url": "https://api.github.com/users/allendred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allendred/subscriptions", "organizations_url": "https://api.github.com/users/allendred/orgs", "repos_url": "https://api.github.com/users/allendred/repos", "events_url": "https://api.github.com/users/allendred/events{/privacy}", "received_events_url": "https://api.github.com/users/allendred/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "yuefengz", "id": 1647833, "node_id": "MDQ6VXNlcjE2NDc4MzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1647833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuefengz", "html_url": "https://github.com/yuefengz", "followers_url": "https://api.github.com/users/yuefengz/followers", "following_url": "https://api.github.com/users/yuefengz/following{/other_user}", "gists_url": "https://api.github.com/users/yuefengz/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuefengz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuefengz/subscriptions", "organizations_url": "https://api.github.com/users/yuefengz/orgs", "repos_url": "https://api.github.com/users/yuefengz/repos", "events_url": "https://api.github.com/users/yuefengz/events{/privacy}", "received_events_url": "https://api.github.com/users/yuefengz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yuefengz", "id": 1647833, "node_id": "MDQ6VXNlcjE2NDc4MzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1647833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuefengz", "html_url": "https://github.com/yuefengz", "followers_url": "https://api.github.com/users/yuefengz/followers", "following_url": "https://api.github.com/users/yuefengz/following{/other_user}", "gists_url": "https://api.github.com/users/yuefengz/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuefengz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuefengz/subscriptions", "organizations_url": "https://api.github.com/users/yuefengz/orgs", "repos_url": "https://api.github.com/users/yuefengz/repos", "events_url": "https://api.github.com/users/yuefengz/events{/privacy}", "received_events_url": "https://api.github.com/users/yuefengz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-05T10:42:10Z", "updated_at": "2019-03-06T12:53:14Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):\r\n- TensorFlow version:\r\n- Python version:\r\n- Installed using virtualenv? pip? conda?:\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\nI use c++ API\r\n \r\n**Describe the problem**\r\nfatal error: tensorflow/cc/ops/array_ops.h\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\ncant find array_ops.h\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\ntensorflow/tensorflow/cc/ops/standard_ops.h:19:41: fatal error: tensorflow/cc/ops/array_ops.h:"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26353", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26353/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26353/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26353/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26353", "id": 417170315, "node_id": "MDU6SXNzdWU0MTcxNzAzMTU=", "number": 26353, "title": "[TF 2.0] Provide a tool to convert checkpoints for optimizers, from TF 1.x to TF 2.0.", "user": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-03-05T08:16:24Z", "updated_at": "2019-07-11T16:50:40Z", "closed_at": null, "author_association": "MEMBER", "body": "[Checkpoints will break with RNNs](https://github.com/tensorflow/tensorflow/issues/26350) and shared embedding columns, which is unfortunate but acceptable. For optimizers, though, [checkpoint breaking is a bit more extensive](https://github.com/tensorflow/tensorflow/issues/26349). \r\n\r\nIdeally this feature request would result in a function or tool that could **take the old checkpoint and some information about the old + new optimizers**, and **replace the old checkpoint with the new**. This should involve some variable renaming, and some new variables added in. (Hyperparameters are now variables, so we will need to add those in to the checkpoints, and set with reasonable values-- either the defaults, or with user-specified values.)\r\n\r\n**Priority**:\r\nP0 - optimizers\r\nP1 - RNNs\r\nP1 - shared embeddings"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26350", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26350/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26350/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26350/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26350", "id": 417167268, "node_id": "MDU6SXNzdWU0MTcxNjcyNjg=", "number": 26350, "title": "[TF 2.0] Checkpoint breaking change for RNN.", "user": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-05T08:07:11Z", "updated_at": "2019-07-03T17:17:26Z", "closed_at": null, "author_association": "MEMBER", "body": "**Type of breakage**: Breakage with changing code.\r\n\r\n**APIs that are affected**: \r\n\r\n1. [`tf.nn.dynamic_rnn`](https://www.tensorflow.org/api_docs/python/tf/nn/dynamic_rnn)\r\n2. [`tf.nn.static_rnn`](https://www.tensorflow.org/api_docs/python/tf/nn/static_rnn)\r\n3. [`tf.nn.bidirectional_dynamic_rnn`](https://www.tensorflow.org/api_docs/python/tf/nn/bidirectional_dynamic_rnn)\r\n4. [`tf.nn.static_bidirectional_rnn`](https://www.tensorflow.org/api_docs/python/tf/nn/static_bidirectional_rnn)\r\n5. All cells within the [`tf.nn.rnn_cell.*`](https://www.tensorflow.org/api_docs/python/tf/nn/rnn_cell) module.\r\n\r\n**Description of change**: The current TensorFlow RNN code is going to be replaced by `tf.keras` RNNs in TensorFlow 2.0. User will need to update their code to use the new Keras API. The weights of the Keras RNN cell are different from the existing TensorFlow RNN cell.\r\n\r\n**Variable name change map**: The RNN cell weights are in a different format between existing TensorFlow RNN cells and Keras cells. There is currently no direct mapping for that.\r\n\r\n**Target time window**: Undecided since the update requires a non-trivial user side change."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26349", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26349/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26349/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26349/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26349", "id": 417165082, "node_id": "MDU6SXNzdWU0MTcxNjUwODI=", "number": 26349, "title": "[TF 2.0] Checkpoint breaking change for all optimizers.", "user": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "karmel", "id": 667809, "node_id": "MDQ6VXNlcjY2NzgwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/667809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karmel", "html_url": "https://github.com/karmel", "followers_url": "https://api.github.com/users/karmel/followers", "following_url": "https://api.github.com/users/karmel/following{/other_user}", "gists_url": "https://api.github.com/users/karmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/karmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karmel/subscriptions", "organizations_url": "https://api.github.com/users/karmel/orgs", "repos_url": "https://api.github.com/users/karmel/repos", "events_url": "https://api.github.com/users/karmel/events{/privacy}", "received_events_url": "https://api.github.com/users/karmel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "karmel", "id": 667809, "node_id": "MDQ6VXNlcjY2NzgwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/667809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karmel", "html_url": "https://github.com/karmel", "followers_url": "https://api.github.com/users/karmel/followers", "following_url": "https://api.github.com/users/karmel/following{/other_user}", "gists_url": "https://api.github.com/users/karmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/karmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karmel/subscriptions", "organizations_url": "https://api.github.com/users/karmel/orgs", "repos_url": "https://api.github.com/users/karmel/repos", "events_url": "https://api.github.com/users/karmel/events{/privacy}", "received_events_url": "https://api.github.com/users/karmel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-05T08:00:03Z", "updated_at": "2019-07-05T06:24:07Z", "closed_at": null, "author_association": "MEMBER", "body": "**Type of breakage**: Breakage with changing code.\r\n\r\nAPIs that are affected: \r\n\r\n1. [`tf.train.GradientDescentOptimizer`](https://www.tensorflow.org/api_docs/python/tf/train/GradientDescentOptimizer)\r\n2. [`tf.train.MomentumOptimizer`](https://www.tensorflow.org/api_docs/python/tf/train/MomentumOptimizer)\r\n3. [`tf.train.RMSPropOptimizer`](https://www.tensorflow.org/api_docs/python/tf/train/RMSPropOptimizer)\r\n4. [`tf.train.AdamOptimizer`](https://www.tensorflow.org/api_docs/python/tf/train/AdamOptimizer)\r\n5. [`tf.train.AdadeltaOptimizer`](https://www.tensorflow.org/api_docs/python/tf/train/AdadeltaOptimizer)\r\n6. [`tf.train.AdagradOptimizer`](https://www.tensorflow.org/api_docs/python/tf/train/AdagradOptimizer)\r\n7. [`tf.train.FtrlOptimizer`](https://www.tensorflow.org/api_docs/python/tf/train/FtrlOptimizer)\r\n\r\n**Side Note**: there are two extra `tf.contrib`-owned optimizers that will also have breaking changes: \r\n\r\n1. [`tf.contrib.opt.NadamOptimizer`](https://www.tensorflow.org/api_docs/python/tf/contrib/opt/NadamOptimizer)\r\n2. [`tf.contrib.opt.AdaMaxOptimizer`](https://www.tensorflow.org/api_docs/python/tf/contrib/opt/AdaMaxOptimizer)\r\n\r\n**Description of change**: The current endpoint `tf.train.xxxOptimizer()` is being deprecated in favor of `tf.keras.optimizers.xxx()`. Specifically:\r\n\r\n1. `tf.train.GradientDescentOptimizer(lr=???)` -> `tf.keras.optimizers.SGD(learning_rate=???)`\r\n2. `tf.train.MomentumOptimizer(lr=???, momentum=???)` -> `tf.keras.optimizers.SGD(learning_rate=???, momentum=???)`\r\n3. `tf.train.RMSPropOptimizer(lr=???)` -> `tf.keras.optimizers.RMSprop(learning_rate=???)`\r\n4. `tf.train.AdamOptimizer(lr=???, beta1=???, beta2=???)` -> `tf.keras.optimizers.Adam(learning_rate=???, beta_1=???, beta_2=???)`\r\n5. `tf.train.AdadeltaOptimizer(lr=???)` -> `tf.keras.optimizers.Adadelta(learning_rate=???)`\r\n6. `tf.train.AdagradOptimizer(lr=???)` -> `tf.keras.optimizers.Adagrad(learning_rate=???)`\r\n7. `tf.train.FtrlOptimizer(lr=???)` -> `tf.keras.Ftrl(learning_rate=???)`\r\n\r\nTensorFlow users of `tf.train.xxxOptimizer()` will be updated to `tf.keras.optimizers.xxx()`, and checkpoints from the old `tf.train.xxxOptimizer()` calls will no longer work.\r\n\r\n**Variable name change map**:  The `tf.keras.optimizers.xxx` weights are in different format than existing `tf.train.xxxOptimizer`. There isn't direct mapping for that.\r\n\r\n**Target time window**: Undecided since the update requires non-trivial user side change."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26331", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26331/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26331/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26331/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26331", "id": 417006294, "node_id": "MDU6SXNzdWU0MTcwMDYyOTQ=", "number": 26331, "title": "tf.gradients returns incorrect results if used multiple times on CudnnLSTM", "user": {"login": "chrisc36", "id": 1463280, "node_id": "MDQ6VXNlcjE0NjMyODA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1463280?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisc36", "html_url": "https://github.com/chrisc36", "followers_url": "https://api.github.com/users/chrisc36/followers", "following_url": "https://api.github.com/users/chrisc36/following{/other_user}", "gists_url": "https://api.github.com/users/chrisc36/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisc36/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisc36/subscriptions", "organizations_url": "https://api.github.com/users/chrisc36/orgs", "repos_url": "https://api.github.com/users/chrisc36/repos", "events_url": "https://api.github.com/users/chrisc36/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisc36/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "protoget", "id": 5117188, "node_id": "MDQ6VXNlcjUxMTcxODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5117188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/protoget", "html_url": "https://github.com/protoget", "followers_url": "https://api.github.com/users/protoget/followers", "following_url": "https://api.github.com/users/protoget/following{/other_user}", "gists_url": "https://api.github.com/users/protoget/gists{/gist_id}", "starred_url": "https://api.github.com/users/protoget/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/protoget/subscriptions", "organizations_url": "https://api.github.com/users/protoget/orgs", "repos_url": "https://api.github.com/users/protoget/repos", "events_url": "https://api.github.com/users/protoget/events{/privacy}", "received_events_url": "https://api.github.com/users/protoget/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "protoget", "id": 5117188, "node_id": "MDQ6VXNlcjUxMTcxODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5117188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/protoget", "html_url": "https://github.com/protoget", "followers_url": "https://api.github.com/users/protoget/followers", "following_url": "https://api.github.com/users/protoget/following{/other_user}", "gists_url": "https://api.github.com/users/protoget/gists{/gist_id}", "starred_url": "https://api.github.com/users/protoget/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/protoget/subscriptions", "organizations_url": "https://api.github.com/users/protoget/orgs", "repos_url": "https://api.github.com/users/protoget/repos", "events_url": "https://api.github.com/users/protoget/events{/privacy}", "received_events_url": "https://api.github.com/users/protoget/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-04T21:44:02Z", "updated_at": "2019-04-15T16:55:16Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 18.04\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version (use command below):1.12.0\r\n- Python version: 3.6.7\r\n- Bazel version (if compiling from source): unknown\r\n- GCC/Compiler version (if compiling from source): unknown\r\n- CUDA/cuDNN version:  10.0 / 7.4\r\n- GPU model and memory: TI 1080, 12GB RAM\r\n\r\nI found some cases where fetching multiple gradient computations for the parameters of a CudnnLSTM seems to result in incorrect results. For example, the following code:\r\n\r\n```\r\nimport tensorflow as tf\r\nfrom tensorflow.contrib.cudnn_rnn.python.layers.cudnn_rnn import CudnnLSTM\r\n\r\nx = tf.fill((2, 1, 5), 0.5)\r\nlayer = CudnnLSTM(1, 5)\r\nlayer.build(x.shape)\r\noutput = layer.apply(x)[0]\r\n\r\nsess = tf.Session()\r\n\r\nloss = tf.reduce_sum(output)\r\nvars = tf.trainable_variables()\r\ngrad1 = tf.gradients(loss, vars)[0]\r\ngrad2 = tf.gradients(loss, vars)[0]\r\n\r\nsess.run(tf.global_variables_initializer())\r\ng1, g2 = sess.run([grad1, grad2])\r\nprint(g1[:10])\r\nprint(g2[:10])\r\nprint((g1 - g2)[:10])\r\n```\r\nShows the two gradient computation are far from equal, even though they are requesting exactly the same value. On my machine I saw:\r\n\r\n```\r\n[ 0.0290555   0.0290555   0.0290555   0.0290555   0.0290555  -0.00758932\r\n -0.00758932 -0.00758932 -0.00758932 -0.00758932]\r\n[1.7652620e-04 1.7652620e-04 1.7652620e-04 1.7652620e-04 1.7652620e-04\r\n 7.4650106e-06 7.4650106e-06 7.4650106e-06 7.4650106e-06 7.4650106e-06]\r\n[ 0.02887898  0.02887898  0.02887898  0.02887898  0.02887898 -0.00759678\r\n -0.00759678 -0.00759678 -0.00759678 -0.00759678]\r\n```\r\n\r\nwhich seems far too large for the difference to be a rounding issue.\r\n\r\nUsing `g1, g2 = [sess.run(grad1), sess.run(grad2)]` will fix the issue.\r\n\r\nThe issue also goes away if we use  `grads = sess.run([grad1, grad1])`, but seems to remain for other, non-trivial cases. For example, if we had done `grad2 = tf.gradients(loss*2, vars)[0]` `g2` should be twice as large as `g1`, but it will be way off."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26323", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26323/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26323/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26323/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26323", "id": 416855162, "node_id": "MDU6SXNzdWU0MTY4NTUxNjI=", "number": 26323, "title": "Pruning example, ValueError: Could not find a checkpoint at: .", "user": {"login": "cenh", "id": 6737225, "node_id": "MDQ6VXNlcjY3MzcyMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/6737225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cenh", "html_url": "https://github.com/cenh", "followers_url": "https://api.github.com/users/cenh/followers", "following_url": "https://api.github.com/users/cenh/following{/other_user}", "gists_url": "https://api.github.com/users/cenh/gists{/gist_id}", "starred_url": "https://api.github.com/users/cenh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cenh/subscriptions", "organizations_url": "https://api.github.com/users/cenh/orgs", "repos_url": "https://api.github.com/users/cenh/repos", "events_url": "https://api.github.com/users/cenh/events{/privacy}", "received_events_url": "https://api.github.com/users/cenh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1105108936, "node_id": "MDU6TGFiZWwxMTA1MTA4OTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:model", "name": "comp:model", "color": "0052cc", "default": false, "description": ""}, {"id": 1166103538, "node_id": "MDU6TGFiZWwxMTY2MTAzNTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/contrib", "name": "contrib", "color": "5319e7", "default": false, "description": "Anything that comes under contrib directory"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "suyoggupta", "id": 41447211, "node_id": "MDQ6VXNlcjQxNDQ3MjEx", "avatar_url": "https://avatars0.githubusercontent.com/u/41447211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suyoggupta", "html_url": "https://github.com/suyoggupta", "followers_url": "https://api.github.com/users/suyoggupta/followers", "following_url": "https://api.github.com/users/suyoggupta/following{/other_user}", "gists_url": "https://api.github.com/users/suyoggupta/gists{/gist_id}", "starred_url": "https://api.github.com/users/suyoggupta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suyoggupta/subscriptions", "organizations_url": "https://api.github.com/users/suyoggupta/orgs", "repos_url": "https://api.github.com/users/suyoggupta/repos", "events_url": "https://api.github.com/users/suyoggupta/events{/privacy}", "received_events_url": "https://api.github.com/users/suyoggupta/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "suyoggupta", "id": 41447211, "node_id": "MDQ6VXNlcjQxNDQ3MjEx", "avatar_url": "https://avatars0.githubusercontent.com/u/41447211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suyoggupta", "html_url": "https://github.com/suyoggupta", "followers_url": "https://api.github.com/users/suyoggupta/followers", "following_url": "https://api.github.com/users/suyoggupta/following{/other_user}", "gists_url": "https://api.github.com/users/suyoggupta/gists{/gist_id}", "starred_url": "https://api.github.com/users/suyoggupta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suyoggupta/subscriptions", "organizations_url": "https://api.github.com/users/suyoggupta/orgs", "repos_url": "https://api.github.com/users/suyoggupta/repos", "events_url": "https://api.github.com/users/suyoggupta/events{/privacy}", "received_events_url": "https://api.github.com/users/suyoggupta/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-04T15:27:49Z", "updated_at": "2019-03-08T22:22:59Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\nIf you open a GitHub issue, here is our policy:\r\n\r\n1. It must be a bug, a feature request, or a significant problem with documentation (for small docs fixes please send a PR instead).\r\n2. The form below must be filled out.\r\n3. It shouldn't be a TensorBoard issue. Those go [here](https://github.com/tensorflow/tensorboard/issues).\r\n\r\n**Here's why we have that policy**: TensorFlow developers respond to issues. We want to focus on work that benefits the whole community, e.g., fixing bugs and adding features. Support only helps individuals. GitHub also notifies thousands of people when issues are filed. We want them to see you communicating an interesting problem, rather than being redirected to Stack Overflow.\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No I have not\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Antergos Linux (Gnome Version 3.30.2)\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**: N/A\r\n- **TensorFlow installed from (source or binary)**: Source\r\n- **TensorFlow version (use command below)**: b'v1.13.1-0-g6612da8951' 1.13.1\r\n- **Python version**: 3.6.0\r\n- **Bazel version (if compiling from source)**: 0.22.1\r\n- **GCC/Compiler version (if compiling from source)**: gcc (GCC) 8.2.1 20181127\r\n- **CUDA/cuDNN version**: N/A\r\n- **GPU model and memory**: N/A\r\n- **Exact command to reproduce**: \r\n``\r\n$ examples_dir=contrib/model_pruning/examples\r\n$ bazel build -c opt $examples_dir/cifar10:cifar10_{train,eval}\r\n$ bazel-bin/$examples_dir/cifar10/cifar10_train --pruning_hparams=name=cifar10_pruning,begin_pruning_step=10000,end_pruning_step=100000,target_sparsity=0.9,sparsity_function_begin_step=10000,sparsity_function_end_step=100000\r\n$ bazel build -c opt contrib/model_pruning:strip_pruning_vars\r\n$ bazel-bin/contrib/model_pruning/strip_pruning_vars --checkpoint_path=/tmp/cifar10_train --output_node_names=softmax_linear/softmax_linear_2 --filename=cifar_pruned.pb\r\n``\r\n\r\n### Describe the problem\r\nWhen I run the commands above, it gets to train the model and everything, but fails when it tries to strip the pruning vars. Traceback is:\r\n``\r\n$ bazel-bin/tensorflow/contrib/model_pruning/strip_pruning_vars --checkpoint_path=/tmp/cifar10_train --output_node_names=softmax_linear/softmax_linear_2 --filename=cifar_pruned.pb\r\nTraceback (most recent call last):\r\n  File \"/home/cenh/tensorflow/bazel-bin/tensorflow/contrib/model_pruning/strip_pruning_vars.runfiles/org_tensorflow/tensorflow/contrib/model_pruning/python/strip_pruning_vars.py\", line 103, in <module>\r\n    app.run(main=main, argv=[sys.argv[0]] + unparsed)\r\n  File \"/home/cenh/tensorflow/bazel-bin/tensorflow/contrib/model_pruning/strip_pruning_vars.runfiles/org_tensorflow/tensorflow/python/platform/app.py\", line 40, in run\r\n    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)\r\n  File \"/home/cenh/tensorflow/bazel-bin/tensorflow/contrib/model_pruning/strip_pruning_vars.runfiles/absl_py/absl/app.py\", line 300, in run\r\n    _run_main(main, args)\r\n  File \"/home/cenh/tensorflow/bazel-bin/tensorflow/contrib/model_pruning/strip_pruning_vars.runfiles/absl_py/absl/app.py\", line 251, in _run_main\r\n    sys.exit(main(argv))\r\n  File \"/home/cenh/tensorflow/bazel-bin/tensorflow/contrib/model_pruning/strip_pruning_vars.runfiles/org_tensorflow/tensorflow/contrib/model_pruning/python/strip_pruning_vars.py\", line 78, in main\r\n    FLAGS.output_dir, FLAGS.filename)\r\n  File \"/home/cenh/tensorflow/bazel-bin/tensorflow/contrib/model_pruning/strip_pruning_vars.runfiles/org_tensorflow/tensorflow/contrib/model_pruning/python/strip_pruning_vars.py\", line 67, in strip_pruning_vars\r\n    checkpoint_dir, output_node_names)\r\n  File \"/home/cenh/tensorflow/bazel-bin/tensorflow/contrib/model_pruning/strip_pruning_vars.runfiles/org_tensorflow/tensorflow/contrib/model_pruning/python/strip_pruning_vars_lib.py\", line 132, in graph_def_from_checkpoint\r\n    .format(checkpoint_dir))\r\nValueError: Could not find a checkpoint at: .\r\n``\r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26321", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26321/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26321/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26321/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26321", "id": 416795456, "node_id": "MDU6SXNzdWU0MTY3OTU0NTY=", "number": 26321, "title": "LookupError: No gradient defined for operation 'MatrixLogarithm'", "user": {"login": "ZhangXiao96", "id": 18636846, "node_id": "MDQ6VXNlcjE4NjM2ODQ2", "avatar_url": "https://avatars2.githubusercontent.com/u/18636846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZhangXiao96", "html_url": "https://github.com/ZhangXiao96", "followers_url": "https://api.github.com/users/ZhangXiao96/followers", "following_url": "https://api.github.com/users/ZhangXiao96/following{/other_user}", "gists_url": "https://api.github.com/users/ZhangXiao96/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZhangXiao96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZhangXiao96/subscriptions", "organizations_url": "https://api.github.com/users/ZhangXiao96/orgs", "repos_url": "https://api.github.com/users/ZhangXiao96/repos", "events_url": "https://api.github.com/users/ZhangXiao96/events{/privacy}", "received_events_url": "https://api.github.com/users/ZhangXiao96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 1178505529, "node_id": "MDU6TGFiZWwxMTc4NTA1NTI5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/prtype:bugfix", "name": "prtype:bugfix", "color": "159b2e", "default": false, "description": "PR to fix a bug"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-04T13:13:53Z", "updated_at": "2019-03-11T11:16:31Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution :Linux Ununtu 14.04\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): 1.13.1\r\n- Python version: 3.6\r\n- CUDA/cuDNN version: 10.0/7.4.2\r\n- GPU model and memory: GeForce GTX 1080/ 8G\r\n\r\n**Describe the current behavior**\r\nThere is no gradient defined for tf.linalg.logm(), therefore it could not be used in training procedures.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26318", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26318/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26318/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26318/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26318", "id": 416754125, "node_id": "MDU6SXNzdWU0MTY3NTQxMjU=", "number": 26318, "title": "[FR] A better way instead of  `while True: sess.run(..)`", "user": {"login": "ghostplant", "id": 12099308, "node_id": "MDQ6VXNlcjEyMDk5MzA4", "avatar_url": "https://avatars2.githubusercontent.com/u/12099308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghostplant", "html_url": "https://github.com/ghostplant", "followers_url": "https://api.github.com/users/ghostplant/followers", "following_url": "https://api.github.com/users/ghostplant/following{/other_user}", "gists_url": "https://api.github.com/users/ghostplant/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghostplant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghostplant/subscriptions", "organizations_url": "https://api.github.com/users/ghostplant/orgs", "repos_url": "https://api.github.com/users/ghostplant/repos", "events_url": "https://api.github.com/users/ghostplant/events{/privacy}", "received_events_url": "https://api.github.com/users/ghostplant/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "karmel", "id": 667809, "node_id": "MDQ6VXNlcjY2NzgwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/667809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karmel", "html_url": "https://github.com/karmel", "followers_url": "https://api.github.com/users/karmel/followers", "following_url": "https://api.github.com/users/karmel/following{/other_user}", "gists_url": "https://api.github.com/users/karmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/karmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karmel/subscriptions", "organizations_url": "https://api.github.com/users/karmel/orgs", "repos_url": "https://api.github.com/users/karmel/repos", "events_url": "https://api.github.com/users/karmel/events{/privacy}", "received_events_url": "https://api.github.com/users/karmel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "karmel", "id": 667809, "node_id": "MDQ6VXNlcjY2NzgwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/667809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karmel", "html_url": "https://github.com/karmel", "followers_url": "https://api.github.com/users/karmel/followers", "following_url": "https://api.github.com/users/karmel/following{/other_user}", "gists_url": "https://api.github.com/users/karmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/karmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karmel/subscriptions", "organizations_url": "https://api.github.com/users/karmel/orgs", "repos_url": "https://api.github.com/users/karmel/repos", "events_url": "https://api.github.com/users/karmel/events{/privacy}", "received_events_url": "https://api.github.com/users/karmel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2019-03-04T11:21:15Z", "updated_at": "2019-03-07T18:49:33Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "I'd like to make tensorflow as the inference backend, and there are quantities of inference inputs to handle.\r\n\r\nCurrently, tensorflow manages multiple inference inputs as different execution triggers of `sess.run`, e.g:\r\n\r\n```python\r\nwhile True:\r\n    sess.run(infer_op)\r\n```\r\n\r\nHowever, the throughput is very bad because every inference task will run through python runtime and also tensorflow scheduler, so I require something like this **directly**:\r\n\r\n```python\r\n    sess.run(tf.loop_forever(infer_op))\r\n```\r\n\r\nYou can assume the infer_op read inputs from an one_shot_iterator, and I never want this loop to stop just like it is a long-run server.\r\n\r\nAnyway to do this at the moment, or the possibility to support this op like `tf.loop_forever` ?\r\n\r\nYou can also share a simple hack in tensorflow source code to make the `sess.run` (in C++ session) to repeat same computing again without returning data to python session. Thanks!"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26315", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26315/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26315/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26315/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26315", "id": 416732249, "node_id": "MDU6SXNzdWU0MTY3MzIyNDk=", "number": 26315, "title": "error: call of overloaded 'ResizeBilinearOpModel(<brace-enclosed initializer list>)' is ambiguous", "user": {"login": "herbakamil", "id": 17064705, "node_id": "MDQ6VXNlcjE3MDY0NzA1", "avatar_url": "https://avatars2.githubusercontent.com/u/17064705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/herbakamil", "html_url": "https://github.com/herbakamil", "followers_url": "https://api.github.com/users/herbakamil/followers", "following_url": "https://api.github.com/users/herbakamil/following{/other_user}", "gists_url": "https://api.github.com/users/herbakamil/gists{/gist_id}", "starred_url": "https://api.github.com/users/herbakamil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/herbakamil/subscriptions", "organizations_url": "https://api.github.com/users/herbakamil/orgs", "repos_url": "https://api.github.com/users/herbakamil/repos", "events_url": "https://api.github.com/users/herbakamil/events{/privacy}", "received_events_url": "https://api.github.com/users/herbakamil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "srjoglekar246", "id": 2099293, "node_id": "MDQ6VXNlcjIwOTkyOTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/2099293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srjoglekar246", "html_url": "https://github.com/srjoglekar246", "followers_url": "https://api.github.com/users/srjoglekar246/followers", "following_url": "https://api.github.com/users/srjoglekar246/following{/other_user}", "gists_url": "https://api.github.com/users/srjoglekar246/gists{/gist_id}", "starred_url": "https://api.github.com/users/srjoglekar246/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srjoglekar246/subscriptions", "organizations_url": "https://api.github.com/users/srjoglekar246/orgs", "repos_url": "https://api.github.com/users/srjoglekar246/repos", "events_url": "https://api.github.com/users/srjoglekar246/events{/privacy}", "received_events_url": "https://api.github.com/users/srjoglekar246/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "srjoglekar246", "id": 2099293, "node_id": "MDQ6VXNlcjIwOTkyOTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/2099293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srjoglekar246", "html_url": "https://github.com/srjoglekar246", "followers_url": "https://api.github.com/users/srjoglekar246/followers", "following_url": "https://api.github.com/users/srjoglekar246/following{/other_user}", "gists_url": "https://api.github.com/users/srjoglekar246/gists{/gist_id}", "starred_url": "https://api.github.com/users/srjoglekar246/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srjoglekar246/subscriptions", "organizations_url": "https://api.github.com/users/srjoglekar246/orgs", "repos_url": "https://api.github.com/users/srjoglekar246/repos", "events_url": "https://api.github.com/users/srjoglekar246/events{/privacy}", "received_events_url": "https://api.github.com/users/srjoglekar246/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-04T10:26:59Z", "updated_at": "2019-03-12T17:35:22Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n-  OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04.5 LTS - docker images tensorflow/tensorflow:latest and tensorflow/devel\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: -\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: commit a2bb5db1bf7931b0dc2cd08e53b8798489568198\r\n- Python version: Python 2.7.12\r\n- Installed using virtualenv? pip? conda?: sources\r\n- Bazel version (if compiling from source): 0.19.2\r\n- GCC/Compiler version (if compiling from source): gcc (Ubuntu 5.4.0-6ubuntu1~16.04.11) 5.4.0 20160609\r\n- CUDA/cuDNN version: -\r\n- GPU model and memory: -\r\n\r\n\r\n\r\n**Describe the problem**\r\nWhen building tensorflow/lite/kernels:resize_bilinear_test error occurs because there's ambiguity in constructor arguments and as the result which constructor to be used.\r\n```\r\ntensorflow/lite/kernels/resize_bilinear_test.cc:403:58: error: call of overloaded 'ResizeBilinearOpModel(<brace-enclosed initializer list>)' is ambiguous\r\n   ResizeBilinearOpModel m({TensorType_INT8, {1, 2, 2, 2}});\r\n                                                          ^\r\ntensorflow/lite/kernels/resize_bilinear_test.cc:29:12: note: candidate: tflite::{anonymous}::ResizeBilinearOpModel::ResizeBilinearOpModel(const tflite::TensorData&, std::initializer_list<int>)\r\n   explicit ResizeBilinearOpModel(const TensorData& input,\r\n            ^\r\ntensorflow/lite/kernels/resize_bilinear_test.cc:27:7: note: candidate: tflite::{anonymous}::ResizeBilinearOpModel::ResizeBilinearOpModel(const tflite::{anonymous}::ResizeBilinearOpModel&) <deleted>\r\n class ResizeBilinearOpModel : public SingleOpModel {\r\n       ^\r\ntensorflow/lite/kernels/resize_bilinear_test.cc:27:7: note: candidate: tflite::{anonymous}::ResizeBilinearOpModel::ResizeBilinearOpModel(tflite::{anonymous}::ResizeBilinearOpModel&&) <deleted>\r\nTarget //tensorflow/lite/kernels:resize_bilinear_test failed to build\r\n```\r\nIt's explained on [stack overflow](https://stackoverflow.com/questions/48011854/deleting-overloaded-function-c11-call-of-overloaded-is-ambiguous/48012069#48012069) and [second point of the document](https://timsong-cpp.github.io/cppwp/n3337/dcl.fct.def.delete)\r\n\r\nIt can be solved by changing places like:\r\n```\r\n ResizeBilinearOpModel m({TensorType_FLOAT32, {1, 2, 1, 1}});\r\n```\r\nto \r\n```\r\n ResizeBilinearOpModel m(TensorData({TensorType_FLOAT32, {1, 2, 1, 1}}));\r\n```\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\nbazel test --config=opt tensorflow/lite/kernels:resize_bilinear_test\r\n\r\n**Any other info / logs**\r\nBelow is a simplified code showing the same problem as occurring inside the test:\r\n```\r\nstruct Pair{\r\n\tint i;\r\n\tint j;\r\n\tPair(int i, int j = -1): i(i), j(j) {};\r\n};\r\n\r\nstruct B {\r\n\tB(const B&) = delete;\r\n\texplicit B(const Pair& p, int j = 0) {\r\n\t\tcout << p.i << \" \" << p.j << \" \" << j << endl;\r\n\t}\r\n};\r\n\r\nint main() {\r\n\tB b({1, 2});\r\n}\r\n```\r\nIt also causes:\r\n```\r\ndelete.cpp: In function \u2018int main()\u2019:\r\ndelete.cpp:32:12: error: call of overloaded \u2018B(<brace-enclosed initializer list>)\u2019 is ambiguous\r\n  B b({1, 2});\r\n            ^\r\ndelete.cpp:20:11: note: candidate: B::B(const Pair&, int)\r\n  explicit B(const Pair& p, int j = 0) {\r\n           ^\r\ndelete.cpp:19:2: note: candidate: B::B(const B&) <deleted>\r\n  B(const B&) = delete;\r\n  ^\r\n```\r\nIt doesn't matter that copy constructor is deleted as this resolution takes place later."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26302", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26302/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26302/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26302/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26302", "id": 416580025, "node_id": "MDU6SXNzdWU0MTY1ODAwMjU=", "number": 26302, "title": "[TF 2.0] StridedSlice issue with empty slice.", "user": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jaingaurav", "id": 84372, "node_id": "MDQ6VXNlcjg0Mzcy", "avatar_url": "https://avatars1.githubusercontent.com/u/84372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaingaurav", "html_url": "https://github.com/jaingaurav", "followers_url": "https://api.github.com/users/jaingaurav/followers", "following_url": "https://api.github.com/users/jaingaurav/following{/other_user}", "gists_url": "https://api.github.com/users/jaingaurav/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaingaurav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaingaurav/subscriptions", "organizations_url": "https://api.github.com/users/jaingaurav/orgs", "repos_url": "https://api.github.com/users/jaingaurav/repos", "events_url": "https://api.github.com/users/jaingaurav/events{/privacy}", "received_events_url": "https://api.github.com/users/jaingaurav/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaingaurav", "id": 84372, "node_id": "MDQ6VXNlcjg0Mzcy", "avatar_url": "https://avatars1.githubusercontent.com/u/84372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaingaurav", "html_url": "https://github.com/jaingaurav", "followers_url": "https://api.github.com/users/jaingaurav/followers", "following_url": "https://api.github.com/users/jaingaurav/following{/other_user}", "gists_url": "https://api.github.com/users/jaingaurav/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaingaurav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaingaurav/subscriptions", "organizations_url": "https://api.github.com/users/jaingaurav/orgs", "repos_url": "https://api.github.com/users/jaingaurav/repos", "events_url": "https://api.github.com/users/jaingaurav/events{/privacy}", "received_events_url": "https://api.github.com/users/jaingaurav/received_events", "type": "User", "site_admin": false}, {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-03-03T23:27:12Z", "updated_at": "2020-03-19T11:56:33Z", "closed_at": null, "author_association": "MEMBER", "body": "Empty arrays cause TypeErrors with `StridedSlice`. A one-liner to reproduce would be:\r\n\r\n```python\r\n tf.constant([1, 2, 3])[tf.constant([], dtype=tf.int32)]\r\n```\r\n\r\nWhich returns:\r\n\r\n```\r\nTypeError: Only integers, slices (`:`), ellipsis (`...`), tf.newaxis (`None`) and scalar tf.int32/tf.int64 tensors are valid indices, got <tf.Tensor: id=1, shape=(0,), dtype=int32, numpy=array([], dtype=int32)>\r\n```\r\n\r\nThe numpy equivalent:\r\n\r\n```python\r\nnp.array([1, 2, 3])[np.array([], dtype=np.int32)]\r\n```\r\n\r\nworks as expected."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26297", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26297/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26297/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26297/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26297", "id": 416517724, "node_id": "MDU6SXNzdWU0MTY1MTc3MjQ=", "number": 26297, "title": "Tensorflow lite gpu delegate inference using opengl and SSBO in android", "user": {"login": "anilsathyan7", "id": 1130185, "node_id": "MDQ6VXNlcjExMzAxODU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1130185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anilsathyan7", "html_url": "https://github.com/anilsathyan7", "followers_url": "https://api.github.com/users/anilsathyan7/followers", "following_url": "https://api.github.com/users/anilsathyan7/following{/other_user}", "gists_url": "https://api.github.com/users/anilsathyan7/gists{/gist_id}", "starred_url": "https://api.github.com/users/anilsathyan7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anilsathyan7/subscriptions", "organizations_url": "https://api.github.com/users/anilsathyan7/orgs", "repos_url": "https://api.github.com/users/anilsathyan7/repos", "events_url": "https://api.github.com/users/anilsathyan7/events{/privacy}", "received_events_url": "https://api.github.com/users/anilsathyan7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "impjdi", "id": 9742927, "node_id": "MDQ6VXNlcjk3NDI5Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9742927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/impjdi", "html_url": "https://github.com/impjdi", "followers_url": "https://api.github.com/users/impjdi/followers", "following_url": "https://api.github.com/users/impjdi/following{/other_user}", "gists_url": "https://api.github.com/users/impjdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/impjdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/impjdi/subscriptions", "organizations_url": "https://api.github.com/users/impjdi/orgs", "repos_url": "https://api.github.com/users/impjdi/repos", "events_url": "https://api.github.com/users/impjdi/events{/privacy}", "received_events_url": "https://api.github.com/users/impjdi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "impjdi", "id": 9742927, "node_id": "MDQ6VXNlcjk3NDI5Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9742927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/impjdi", "html_url": "https://github.com/impjdi", "followers_url": "https://api.github.com/users/impjdi/followers", "following_url": "https://api.github.com/users/impjdi/following{/other_user}", "gists_url": "https://api.github.com/users/impjdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/impjdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/impjdi/subscriptions", "organizations_url": "https://api.github.com/users/impjdi/orgs", "repos_url": "https://api.github.com/users/impjdi/repos", "events_url": "https://api.github.com/users/impjdi/events{/privacy}", "received_events_url": "https://api.github.com/users/impjdi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 71, "created_at": "2019-03-03T13:45:38Z", "updated_at": "2020-03-18T18:18:36Z", "closed_at": null, "author_association": "NONE", "body": "\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nYes, modified inference code from tflite gpu delegate android sample with additional code from https://www.tensorflow.org/lite/performance/gpu_advanced#android_2.\r\n- OS Platform and Distribution : Android 8.0.0\r\n- Mobile device: OnePlus 3\r\n- TensorFlow version: 12.0\r\n\r\n**Describe the current behavior**\r\nThe tensorflow lite gpu delegate documentation has provided a sample code for running the tflite inference efficiently on android, avoiding CPU_GPU memory copying with the help of opengl and SSBO in a egl context. However, this method does not seem to give any performance gains; rather it degraded the inference performance in terms of speed.The documentation mentions a method - 'interpreter.runInference(null, outputArray)' for running the inference in this case.Is this method same as the basic run method i.e interpreter.run(inputTensor, outputTensor). (There seems to be no method in the current api called 'interpreter.runInference').Is the method suggested currently supported in the experimental gpu delegate api (i.e accessing input image from opengl ssbo directly for running the inference)?How can we ensure that the model takes the input from this SSBO in GPU memory?\r\n\r\n** Expected behaviour**\r\nThe tflite inference using opengl ssbo should be faster than the basic gpu delegate inference, where data is copied every-time from cpu to gpu.\r\n\r\n**Other info / logs**\r\nWe measured the time for the 'tflite.run' method in android studio.The input was in the recommended ByteBuffer format.\r\n\r\nError: Cannot resolve method runInference(null, ?)"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26284", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26284/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26284/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26284/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26284", "id": 416389942, "node_id": "MDU6SXNzdWU0MTYzODk5NDI=", "number": 26284, "title": "Rename tf.nn.batch_normalization", "user": {"login": "Smokrow", "id": 24374591, "node_id": "MDQ6VXNlcjI0Mzc0NTkx", "avatar_url": "https://avatars2.githubusercontent.com/u/24374591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Smokrow", "html_url": "https://github.com/Smokrow", "followers_url": "https://api.github.com/users/Smokrow/followers", "following_url": "https://api.github.com/users/Smokrow/following{/other_user}", "gists_url": "https://api.github.com/users/Smokrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/Smokrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Smokrow/subscriptions", "organizations_url": "https://api.github.com/users/Smokrow/orgs", "repos_url": "https://api.github.com/users/Smokrow/repos", "events_url": "https://api.github.com/users/Smokrow/events{/privacy}", "received_events_url": "https://api.github.com/users/Smokrow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-02T11:57:12Z", "updated_at": "2020-02-08T01:11:04Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- TensorFlow version: 1.13\r\n- Doc Link: https://www.tensorflow.org/api_docs/python/tf/nn/batch_normalization\r\n\r\n\r\n**Describe the documentation issue**\r\ntf.nn.batch_normalization can actually be used to implement layer_normalization or group_normalization as well. (https://github.com/tensorflow/addons/pull/14)  Therefore the name of the function is quite confusing since the \"batch normalization\" is more or less a special case of this function (when you feed the right mean and variance tensor). \r\n\r\nI think something like \"normalization()\" could work as well and would be less confusing.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26278", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26278/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26278/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26278/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26278", "id": 416354055, "node_id": "MDU6SXNzdWU0MTYzNTQwNTU=", "number": 26278, "title": "tf.image.crop_and_resize() - weird alignment behavior?", "user": {"login": "ppwwyyxx", "id": 1381301, "node_id": "MDQ6VXNlcjEzODEzMDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1381301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ppwwyyxx", "html_url": "https://github.com/ppwwyyxx", "followers_url": "https://api.github.com/users/ppwwyyxx/followers", "following_url": "https://api.github.com/users/ppwwyyxx/following{/other_user}", "gists_url": "https://api.github.com/users/ppwwyyxx/gists{/gist_id}", "starred_url": "https://api.github.com/users/ppwwyyxx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ppwwyyxx/subscriptions", "organizations_url": "https://api.github.com/users/ppwwyyxx/orgs", "repos_url": "https://api.github.com/users/ppwwyyxx/repos", "events_url": "https://api.github.com/users/ppwwyyxx/events{/privacy}", "received_events_url": "https://api.github.com/users/ppwwyyxx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-03-02T03:55:39Z", "updated_at": "2020-01-24T01:30:11Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):n/a\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:n/a\r\n- TensorFlow installed from (source or binary):binary\r\n- TensorFlow version (use command below):b'v1.13.0-rc2-0-gc865ec5621' 1.13.0-rc2\r\n- Python version:3.7\r\n- Bazel version (if compiling from source):n/a\r\n- GCC/Compiler version (if compiling from source):n/a\r\n- CUDA/cuDNN version:n/a\r\n- GPU model and memory:n/a\r\n\r\nThis is a follow up on https://github.com/tensorflow/tensorflow/issues/6720#issuecomment-468830039 about `tf.image.crop_and_resize`. (cc @martinwicke )\r\n\r\nSuppose I have an image that looks like this:\r\n```\r\n[[ 0.  1.  2.  3.  4.]\r\n [ 5.  6.  7.  8.  9.]\r\n [10. 11. 12. 13. 14.]\r\n [15. 16. 17. 18. 19.]\r\n [20. 21. 22. 23. 24.]]\r\n```\r\nI wanted to crop the 2x2 patch that contains `[[6, 7], [11, 12]]`, and upsample it to 4x4. I expect to get the following outputs:\r\n```\r\n[[ 4.5  5.   5.5  6. ]\r\n [ 7.   7.5  8.   8.5]\r\n [ 9.5 10.  10.5 11. ]\r\n [12.  12.5 13.  13.5]]\r\n```\r\nI think this is a reasonable expectation. The above output, is also what I got if I do \"resize_and_crop\" instead of `tf.image.crop_and_resize`, __after the fix__ https://github.com/tensorflow/tensorflow/commit/371c96df55a7b23eb8d8496fb477b473fd137fcc yesterday that addressed the alignment issues in resize op.\r\n```python\r\nimport tensorflow as tf\r\nimport numpy as np\r\nimport tensorflow.contrib.eager as tfe\r\ntfe.enable_eager_execution()\r\nfrom tensorflow.python.ops.image_ops_impl import resize_images_v2\r\narr = np.arange(25).astype('float32').reshape(5, 5)\r\ninput4D = tf.reshape(arr, [1, 5, 5, 1])\r\nresize = resize_images_v2(input4D, [10, 10], method='bilinear')[0,:,:,0]   # resize\r\nprint(resize[2:6,2:6])  # crop\r\n# print expected output\r\n```\r\n\r\nOK, what is the correct \"boxes\" I should provide for `crop_and_resize`, in order to get the above output?\r\nHere is what the document says:\r\n\r\n> boxes: A Tensor of type float32. A 2-D tensor of shape [num_boxes, 4]. The i-th row of the tensor specifies the coordinates of a box in the box_ind[i] image and is specified in normalized coordinates [y1, x1, y2, x2]. A normalized coordinate value of y is mapped to the image coordinate at y * (image_height - 1), so as the [0, 1] interval of normalized image height is mapped to [0, image_height - 1] in image height coordinates. We do allow y1 > y2, in which case the sampled crop is an up-down flipped version of the original image. The width dimension is treated similarly. Normalized coordinates outside the [0, 1] range are allowed, in which case we use extrapolation_value to extrapolate the input image values.\r\n\r\nIt turns out, that the correct \"boxes\" I should use, is: `[3/16, 3/16, 9/16, 9/16]`. If you cannot tell why it is 3/16 and 9/16 from the above documentation, you and I are on the same page:\r\n```python\r\nimport tensorflow as tf\r\nimport numpy as np\r\nimport tensorflow.contrib.eager as tfe\r\ntfe.enable_eager_execution()\r\n\r\n# want to crop 2x2 out of a 5x5 image, and resize to 4x4\r\nimage = np.arange(25).astype('float32').reshape(5, 5)\r\ntarget = 4\r\nprint(tf.image.crop_and_resize(\r\n    image[None, :, :, None],\r\n    np.asarray([[3/16,3/16,9/16,9/16]]), [0], [target, target])[0][:, :, 0])\r\n# print expected output\r\n```\r\n\r\nThis function has weird alignment issues like those fixed in #6720 . It's less of a problem than #6720 because at least we can provide some box coordinates to make it work as expected, and you can say it's just how this function is defined. \r\nThere is actually [a formula](https://github.com/tensorpack/tensorpack/blob/1cdd2e9efb6ffe3066a010e677ef9e76547faaa3/examples/FasterRCNN/modeling/model_box.py#L104-L135) that I use in my code to compute the coordinates in order to use this function. \r\n\r\nBut I do hope this function can have a better-defined behavior and fit reasonable expectation. In my experiments this ill-posed behavior actually hurt my models (which I believe also hurt other models like TF's object detection)."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26275", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26275/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26275/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26275/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26275", "id": 416350814, "node_id": "MDU6SXNzdWU0MTYzNTA4MTQ=", "number": 26275, "title": "`tensorflow.python.client.device_lib.list_local_devices()`  crushes when none of GPU has enough free memory", "user": {"login": "yoshihikoueno", "id": 38683757, "node_id": "MDQ6VXNlcjM4NjgzNzU3", "avatar_url": "https://avatars0.githubusercontent.com/u/38683757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoshihikoueno", "html_url": "https://github.com/yoshihikoueno", "followers_url": "https://api.github.com/users/yoshihikoueno/followers", "following_url": "https://api.github.com/users/yoshihikoueno/following{/other_user}", "gists_url": "https://api.github.com/users/yoshihikoueno/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoshihikoueno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoshihikoueno/subscriptions", "organizations_url": "https://api.github.com/users/yoshihikoueno/orgs", "repos_url": "https://api.github.com/users/yoshihikoueno/repos", "events_url": "https://api.github.com/users/yoshihikoueno/events{/privacy}", "received_events_url": "https://api.github.com/users/yoshihikoueno/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547538, "node_id": "MDU6TGFiZWwxMDk3NTQ3NTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu", "name": "comp:gpu", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jaingaurav", "id": 84372, "node_id": "MDQ6VXNlcjg0Mzcy", "avatar_url": "https://avatars1.githubusercontent.com/u/84372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaingaurav", "html_url": "https://github.com/jaingaurav", "followers_url": "https://api.github.com/users/jaingaurav/followers", "following_url": "https://api.github.com/users/jaingaurav/following{/other_user}", "gists_url": "https://api.github.com/users/jaingaurav/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaingaurav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaingaurav/subscriptions", "organizations_url": "https://api.github.com/users/jaingaurav/orgs", "repos_url": "https://api.github.com/users/jaingaurav/repos", "events_url": "https://api.github.com/users/jaingaurav/events{/privacy}", "received_events_url": "https://api.github.com/users/jaingaurav/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaingaurav", "id": 84372, "node_id": "MDQ6VXNlcjg0Mzcy", "avatar_url": "https://avatars1.githubusercontent.com/u/84372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaingaurav", "html_url": "https://github.com/jaingaurav", "followers_url": "https://api.github.com/users/jaingaurav/followers", "following_url": "https://api.github.com/users/jaingaurav/following{/other_user}", "gists_url": "https://api.github.com/users/jaingaurav/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaingaurav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaingaurav/subscriptions", "organizations_url": "https://api.github.com/users/jaingaurav/orgs", "repos_url": "https://api.github.com/users/jaingaurav/repos", "events_url": "https://api.github.com/users/jaingaurav/events{/privacy}", "received_events_url": "https://api.github.com/users/jaingaurav/received_events", "type": "User", "site_admin": false}, {"login": "tatianashp", "id": 986732, "node_id": "MDQ6VXNlcjk4NjczMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/986732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatianashp", "html_url": "https://github.com/tatianashp", "followers_url": "https://api.github.com/users/tatianashp/followers", "following_url": "https://api.github.com/users/tatianashp/following{/other_user}", "gists_url": "https://api.github.com/users/tatianashp/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatianashp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatianashp/subscriptions", "organizations_url": "https://api.github.com/users/tatianashp/orgs", "repos_url": "https://api.github.com/users/tatianashp/repos", "events_url": "https://api.github.com/users/tatianashp/events{/privacy}", "received_events_url": "https://api.github.com/users/tatianashp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-02T03:14:05Z", "updated_at": "2020-01-01T06:22:40Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\nLinux Ubuntu 18.10\r\n\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):\r\nBinary\r\n\r\n- TensorFlow version (use command below):\r\n1.13.1\r\n\r\n- Python version:\r\n3.6.7\r\n\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\nCUDA10.0/cuDNN _7.5.0.56\r\n\r\n- GPU model and memory:\r\n0: GTX 1060 TI 6GB\r\n1: GTX 1050 Ti 4GB\r\n\r\nYou can collect some of this information using our environment capture [script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\nb'v1.13.1-0-g6612da8951' 1.13.1\r\n\r\n**Describe the current behavior**\r\nIf I run list_local_devices() in order to get the number of GPUs available while almost all of memory is already allocated on all the GPUs, the process crashes due to CUDA_ERROR_OUT_OF_MEMORY.\r\nThere's no problem at all if at least one GPU has substantial amount of free memory.\r\n\r\nError Message:\r\n\r\n> 2019-03-02 12:26:38.852155: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n> 2019-03-02 12:26:38.989613: W tensorflow/compiler/xla/service/platform_util.cc:240] unable to create StreamExecutor for CUDA:0: failed initializing StreamExecutor for CUDA device ordinal 0: Internal: failed call to cuDevicePrimaryCtxRetain: CUDA_ERROR_OUT_OF_MEMORY: out of memory; total memory reported: 6370295808\r\n> 2019-03-02 12:26:38.999115: W tensorflow/compiler/xla/service/platform_util.cc:240] unable to create StreamExecutor for CUDA:1: failed initializing StreamExecutor for CUDA device ordinal 1: Internal: failed call to cuDevicePrimaryCtxRetain: CUDA_ERROR_OUT_OF_MEMORY: out of memory; total memory reported: 4236312576\r\n> 2019-03-02 12:26:38.999399: F tensorflow/stream_executor/lib/statusor.cc:34] Attempting to fetch value instead of handling error Internal: no supported devices found for platform CUDA\r\n> \r\n\r\n\r\n**Describe the expected behavior**\r\nIf none of GPUs is available, it could just return the empty list, not crushing itself.\r\nI wrote my code for training a model in the way it fully makes use of all the available resources, but I have another code for doing various stuff and I want it to run on CPU when GPU is not available.\r\nI expected get_available_gpus() to return the empty list when none of them is available.\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n```python\r\nfrom tensorflow.python.client import device_lib\r\n\r\ndef get_available_gpus():\r\n    local_device_protos = device_lib.list_local_devices()\r\n    return [x.name for x in local_device_protos if x.device_type == 'GPU']\r\n\r\nget_available_gpus()\r\n```\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\nthe result of `nvidia-smi`\r\n\r\n```\r\nSat Mar  2 12:41:52 2019       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 418.39       Driver Version: 418.39       CUDA Version: 10.1     |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  GeForce GTX 106...  On   | 00000000:01:00.0  On |                  N/A |\r\n| 40%   55C    P2    41W / 120W |   6033MiB /  6075MiB |     51%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   1  GeForce GTX 105...  On   | 00000000:03:00.0 Off |                  N/A |\r\n| 30%   41C    P0    N/A /  75W |   3997MiB /  4040MiB |     59%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID   Type   Process name                             Usage      |\r\n|=============================================================================|\r\n|    0      1960      G   /usr/lib/xorg/Xorg                            27MiB |\r\n|    0      2557      G   /usr/bin/gnome-shell                          60MiB |\r\n|    0     13385      C   python                                      5933MiB |\r\n|    1     13385      C   python                                      3985MiB |\r\n+-----------------------------------------------------------------------------+\r\n\r\n```\r\n\r\nHere is my current workaround\r\n```python\r\ndef get_available_gpus(workaround=True):\r\n    if workaround:\r\n        ret = os.spawnl(os.P_WAIT, python_path, python_path, 'metax/get_num_gpus.py')\r\n        if ret < 0:\r\n            # detecting aborted process\r\n            return []\r\n    local_device_protos = device_lib.list_local_devices()\r\n    return [x.name for x in local_device_protos if x.device_type == 'GPU']\r\n```\r\nFor now, I'm creating a child process to see if it crushes."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26270", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26270/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26270/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26270/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26270", "id": 416325409, "node_id": "MDU6SXNzdWU0MTYzMjU0MDk=", "number": 26270, "title": "[TF 2.0 API Docs] tf.custom_gradient", "user": {"login": "tsbertalan", "id": 306137, "node_id": "MDQ6VXNlcjMwNjEzNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/306137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsbertalan", "html_url": "https://github.com/tsbertalan", "followers_url": "https://api.github.com/users/tsbertalan/followers", "following_url": "https://api.github.com/users/tsbertalan/following{/other_user}", "gists_url": "https://api.github.com/users/tsbertalan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsbertalan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsbertalan/subscriptions", "organizations_url": "https://api.github.com/users/tsbertalan/orgs", "repos_url": "https://api.github.com/users/tsbertalan/repos", "events_url": "https://api.github.com/users/tsbertalan/events{/privacy}", "received_events_url": "https://api.github.com/users/tsbertalan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 1256103877, "node_id": "MDU6TGFiZWwxMjU2MTAzODc3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/good%20first%20issue", "name": "good first issue", "color": "c4ef8b", "default": true, "description": "Good first issue for newcomers."}, {"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2019-03-01T23:58:28Z", "updated_at": "2020-03-09T14:15:36Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a documentation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:doc_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version: 1.13.1\r\n- Doc Link: https://www.tensorflow.org/api_docs/python/tf/custom_gradient\r\n\r\nI've been having some difficulty using `custom_gradient` recently. Before implementing the op I actually have in mind, I'm trying to make a [simple polynomial op](https://gist.github.com/tsbertalan/b6c02bf6e39116d8446faa0159a011af) with `custom_gradient` in an effort to get my head around the requirements.. The documentation is not at all clear on how summing over batch and output indices should be done, and (until recently) wasn't clear on whether we should return the full *Jacobian* of the operation, or just the vector-Jacobian-product (\"VJP\") function. (I did notice some explanation of the latter issue made it in in the 1.12 -> 1.13 update, which was helpful).\r\n\r\nI think this problem applies both the derivative WRT the op's input, and WRT to the parameters (called `grad_xs` and `grad_vars` in the documentation). However, when I incorporated the VJP tidbit in my sample code, I got correct results for the former, but not the latter, I believe because the implicit sum over batch was already present in the supplied `grad_ys`, and because the VJP also collapses out the index across `grad_ys`.\r\n\r\nSo, the lack of clarity about sums (accidentally) only hit me when trying to write the `grad_vars` part. In my [gist linked above](https://gist.github.com/tsbertalan/b6c02bf6e39116d8446faa0159a011af), I had to use a `reduce_sum` when computing $dy/dp$, which, for a polynomial, is the corresponding powers of $x$. (Since $dy/dx$ doesn't depend on $x$, this issue didn't appear when writing the `grad_xs` part.)\r\n\r\nIn addition to simply saying what you mean in this documentation (the sum of the gradient over examples is not \"the gradient\"--only the per-example gradient truly deserves that name! But I suppose that particular fight is a lost cause.), it would be good if there were at least some examples that exercised the `grad_vars` part and the `variables=None` keyword argument."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26268", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26268/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26268/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26268/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26268", "id": 416317343, "node_id": "MDU6SXNzdWU0MTYzMTczNDM=", "number": 26268, "title": "Even in eager mode, Keras is passing custom models non-eager tensors in 'fit'", "user": {"login": "malmaud", "id": 987837, "node_id": "MDQ6VXNlcjk4NzgzNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/987837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/malmaud", "html_url": "https://github.com/malmaud", "followers_url": "https://api.github.com/users/malmaud/followers", "following_url": "https://api.github.com/users/malmaud/following{/other_user}", "gists_url": "https://api.github.com/users/malmaud/gists{/gist_id}", "starred_url": "https://api.github.com/users/malmaud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/malmaud/subscriptions", "organizations_url": "https://api.github.com/users/malmaud/orgs", "repos_url": "https://api.github.com/users/malmaud/repos", "events_url": "https://api.github.com/users/malmaud/events{/privacy}", "received_events_url": "https://api.github.com/users/malmaud/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1445545631, "node_id": "MDU6TGFiZWwxNDQ1NTQ1NjMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.14", "name": "TF 1.14", "color": "5319e7", "default": false, "description": "for issues seen with TF 1.14"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "pavithrasv", "id": 13326758, "node_id": "MDQ6VXNlcjEzMzI2NzU4", "avatar_url": "https://avatars0.githubusercontent.com/u/13326758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pavithrasv", "html_url": "https://github.com/pavithrasv", "followers_url": "https://api.github.com/users/pavithrasv/followers", "following_url": "https://api.github.com/users/pavithrasv/following{/other_user}", "gists_url": "https://api.github.com/users/pavithrasv/gists{/gist_id}", "starred_url": "https://api.github.com/users/pavithrasv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pavithrasv/subscriptions", "organizations_url": "https://api.github.com/users/pavithrasv/orgs", "repos_url": "https://api.github.com/users/pavithrasv/repos", "events_url": "https://api.github.com/users/pavithrasv/events{/privacy}", "received_events_url": "https://api.github.com/users/pavithrasv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pavithrasv", "id": 13326758, "node_id": "MDQ6VXNlcjEzMzI2NzU4", "avatar_url": "https://avatars0.githubusercontent.com/u/13326758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pavithrasv", "html_url": "https://github.com/pavithrasv", "followers_url": "https://api.github.com/users/pavithrasv/followers", "following_url": "https://api.github.com/users/pavithrasv/following{/other_user}", "gists_url": "https://api.github.com/users/pavithrasv/gists{/gist_id}", "starred_url": "https://api.github.com/users/pavithrasv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pavithrasv/subscriptions", "organizations_url": "https://api.github.com/users/pavithrasv/orgs", "repos_url": "https://api.github.com/users/pavithrasv/repos", "events_url": "https://api.github.com/users/pavithrasv/events{/privacy}", "received_events_url": "https://api.github.com/users/pavithrasv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2019-03-01T23:18:04Z", "updated_at": "2020-02-07T20:57:00Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): 10.14\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): '1.14.1-dev20190301'\r\n- Python version: 3.7\r\n\r\n**Describe the current behavior**\r\nWhen calling `keras.model.fit` on a custom model, it seems the model is passed a graph-mode tensor instead of an eager tenser, even when in eager mode.\r\n\r\n**Describe the expected behavior**\r\nIf in eager mode, the tensors passed to the `call` method of a custom model should be eager tensors. Otherwise, the advantages of eager mode, like the ability to use native control flow, are lost.\r\n\r\n**Code to reproduce the issue**\r\n\r\n```python\r\nimport tensorflow as tf\r\ntf.enable_v2_behavior()\r\nfrom tensorflow import keras\r\n\r\nclass MyModel(keras.Model):\r\n    def call(self, x):\r\n        if x > 0:\r\n            return x + 1\r\n        else:\r\n            return x - 1\r\n            \r\nm = MyModel()\r\nm(tf.constant(0))  # This works, returns -1 as expected\r\nm.compile(loss='mse', optimizer='sgd')\r\nm.fit(tf.constant(0), tf.constant(1)) # This fails\r\n```\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-55-2c7beacc3d4f> in <module>\r\n----> 1 m.fit(tf.constant(0), tf.constant(1))\r\n\r\n/anaconda3/lib/python3.7/site-packages/tensorflow/python/keras/engine/training.py in fit(self, x, y, batch_size, epochs, verbose, callbacks, validation_split, validation_data, shuffle, class_weight, sample_weight, initial_epoch, steps_per_epoch, validation_steps, validation_freq, max_queue_size, workers, use_multiprocessing, **kwargs)\r\n    804         steps=steps_per_epoch,\r\n    805         validation_split=validation_split,\r\n--> 806         shuffle=shuffle)\r\n    807 \r\n    808     # Prepare validation data.\r\n\r\n/anaconda3/lib/python3.7/site-packages/tensorflow/python/keras/engine/training.py in _standardize_user_data(self, x, y, sample_weight, class_weight, batch_size, check_steps, steps_name, steps, validation_split, shuffle, extract_tensors_from_dataset)\r\n   2501       else:\r\n   2502         cast_inputs = x_input\r\n-> 2503       self._set_inputs(cast_inputs)\r\n   2504     else:\r\n   2505       y_input = y\r\n\r\n/anaconda3/lib/python3.7/site-packages/tensorflow/python/training/tracking/base.py in _method_wrapper(self, *args, **kwargs)\r\n    454     self._setattr_tracking = False  # pylint: disable=protected-access\r\n    455     try:\r\n--> 456       result = method(self, *args, **kwargs)\r\n    457     finally:\r\n    458       self._setattr_tracking = previous_value  # pylint: disable=protected-access\r\n\r\n/anaconda3/lib/python3.7/site-packages/tensorflow/python/keras/engine/training.py in _set_inputs(self, inputs, outputs, training)\r\n   2773             outputs = self.call(inputs, training=training)\r\n   2774           else:\r\n-> 2775             outputs = self.call(inputs)\r\n   2776           # Reset to the previously saved value. If `call()` had `add_metric`\r\n   2777           # or `add_loss`, then `_contains_symbolic_tensors` will have been set\r\n\r\n<ipython-input-52-94b7a4f52815> in call(self, x)\r\n      1 class MyModel(keras.Model):\r\n      2     def call(self, x):\r\n----> 3         if x > 0:\r\n      4             return x+1\r\n      5         else:\r\n\r\n/anaconda3/lib/python3.7/site-packages/tensorflow/python/framework/ops.py in __bool__(self)\r\n    658       `TypeError`.\r\n    659     \"\"\"\r\n--> 660     raise TypeError(\"Using a `tf.Tensor` as a Python `bool` is not allowed. \"\r\n    661                     \"Use `if t is not None:` instead of `if t:` to test if a \"\r\n    662                     \"tensor is defined, and use TensorFlow ops such as \"\r\n\r\nTypeError: Using a `tf.Tensor` as a Python `bool` is not allowed. Use `if t is not None:` instead of `if t:` to test if a tensor is defined, and use TensorFlow ops such as tf.cond to execute subgraphs conditioned on the value of a tensor.\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26259", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26259/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26259/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/26259/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/26259", "id": 416158405, "node_id": "MDU6SXNzdWU0MTYxNTg0MDU=", "number": 26259, "title": "Any plan to add SoftClippingand SmoothMax", "user": {"login": "dmilos", "id": 15868860, "node_id": "MDQ6VXNlcjE1ODY4ODYw", "avatar_url": "https://avatars0.githubusercontent.com/u/15868860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmilos", "html_url": "https://github.com/dmilos", "followers_url": "https://api.github.com/users/dmilos/followers", "following_url": "https://api.github.com/users/dmilos/following{/other_user}", "gists_url": "https://api.github.com/users/dmilos/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmilos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmilos/subscriptions", "organizations_url": "https://api.github.com/users/dmilos/orgs", "repos_url": "https://api.github.com/users/dmilos/repos", "events_url": "https://api.github.com/users/dmilos/events{/privacy}", "received_events_url": "https://api.github.com/users/dmilos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jianlijianli", "id": 43797323, "node_id": "MDQ6VXNlcjQzNzk3MzIz", "avatar_url": "https://avatars3.githubusercontent.com/u/43797323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jianlijianli", "html_url": "https://github.com/jianlijianli", "followers_url": "https://api.github.com/users/jianlijianli/followers", "following_url": "https://api.github.com/users/jianlijianli/following{/other_user}", "gists_url": "https://api.github.com/users/jianlijianli/gists{/gist_id}", "starred_url": "https://api.github.com/users/jianlijianli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jianlijianli/subscriptions", "organizations_url": "https://api.github.com/users/jianlijianli/orgs", "repos_url": "https://api.github.com/users/jianlijianli/repos", "events_url": "https://api.github.com/users/jianlijianli/events{/privacy}", "received_events_url": "https://api.github.com/users/jianlijianli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jianlijianli", "id": 43797323, "node_id": "MDQ6VXNlcjQzNzk3MzIz", "avatar_url": "https://avatars3.githubusercontent.com/u/43797323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jianlijianli", "html_url": "https://github.com/jianlijianli", "followers_url": "https://api.github.com/users/jianlijianli/followers", "following_url": "https://api.github.com/users/jianlijianli/following{/other_user}", "gists_url": "https://api.github.com/users/jianlijianli/gists{/gist_id}", "starred_url": "https://api.github.com/users/jianlijianli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jianlijianli/subscriptions", "organizations_url": "https://api.github.com/users/jianlijianli/orgs", "repos_url": "https://api.github.com/users/jianlijianli/repos", "events_url": "https://api.github.com/users/jianlijianli/events{/privacy}", "received_events_url": "https://api.github.com/users/jianlijianli/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-01T15:39:04Z", "updated_at": "2019-03-01T19:24:11Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n**System information**\r\n- TensorFlow version (you are using):\r\n- Are you willing to contribute it (Yes/No):\r\nYes.\r\n**Describe the feature and the current behavior/state.**\r\nSoftClipping for activation. [https://en.wikipedia.org/wiki/Activation_function]\r\nSmootMax for pooling. [https://en.wikipedia.org/wiki/Smooth_maximum]\r\n**Will this change the current api? How?**\r\nNo. This is new feature.\r\n**Who will benefit with this feature?**\r\nEverybody. \r\nSmoothClipping is smoot function and can not suffer from vanishing/exploding gradients. \r\nSo with this we will have faster learning. https://github.com/tiny-dnn/tiny-dnn/pull/1014.  Only 10 layers achieve 99.35% on MNIST set, Comparing to original 12 and 99.0%\r\n**Any Other info.**\r\n"}]