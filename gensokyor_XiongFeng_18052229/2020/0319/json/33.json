[{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14441", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14441/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14441/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14441/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14441", "id": 272847643, "node_id": "MDU6SXNzdWUyNzI4NDc2NDM=", "number": 14441, "title": "GPU support for sparse_dense_binary_op_shared.cc", "user": {"login": "pierrebaque", "id": 3343714, "node_id": "MDQ6VXNlcjMzNDM3MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3343714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pierrebaque", "html_url": "https://github.com/pierrebaque", "followers_url": "https://api.github.com/users/pierrebaque/followers", "following_url": "https://api.github.com/users/pierrebaque/following{/other_user}", "gists_url": "https://api.github.com/users/pierrebaque/gists{/gist_id}", "starred_url": "https://api.github.com/users/pierrebaque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pierrebaque/subscriptions", "organizations_url": "https://api.github.com/users/pierrebaque/orgs", "repos_url": "https://api.github.com/users/pierrebaque/repos", "events_url": "https://api.github.com/users/pierrebaque/events{/privacy}", "received_events_url": "https://api.github.com/users/pierrebaque/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-11-10T07:49:04Z", "updated_at": "2017-11-22T07:18:04Z", "closed_at": null, "author_association": "NONE", "body": "Are you planning to add GPU support for the operations defined in \r\ntensorflow/tensorflow/core/kernels/sparse_dense_binary_op_shared.cc\r\n\r\nI see that there is a GPU version for the sparse to dense Matrix-Multiplication version \r\ntensorflow/tensorflow/core/kernels/sparse_tensor_dense_matmul_op.cc \r\n\r\nbut being able to use the GPU for Component-Wise operations would be very helpful.\r\n\r\nThank you.\r\n\r\nRegards,\r\nPierre"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14428", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14428/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14428/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14428/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14428", "id": 272787772, "node_id": "MDU6SXNzdWUyNzI3ODc3NzI=", "number": 14428, "title": "error when I try mpi_collectives features", "user": {"login": "thzhao", "id": 16260616, "node_id": "MDQ6VXNlcjE2MjYwNjE2", "avatar_url": "https://avatars0.githubusercontent.com/u/16260616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thzhao", "html_url": "https://github.com/thzhao", "followers_url": "https://api.github.com/users/thzhao/followers", "following_url": "https://api.github.com/users/thzhao/following{/other_user}", "gists_url": "https://api.github.com/users/thzhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/thzhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thzhao/subscriptions", "organizations_url": "https://api.github.com/users/thzhao/orgs", "repos_url": "https://api.github.com/users/thzhao/repos", "events_url": "https://api.github.com/users/thzhao/events{/privacy}", "received_events_url": "https://api.github.com/users/thzhao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-11-10T01:12:09Z", "updated_at": "2017-11-10T21:46:23Z", "closed_at": null, "author_association": "NONE", "body": "I want to try mpi_collectives features in tensorflow 1.4, but when I run mpi_allreduce_test.py example using python2.7 in contrib/mpi_collectives, I got error.\r\n\r\nI installed tensorflow with openmpi.\r\n\r\nmpirun -n 2 python mpi_allreduce_test.py\r\n======================================================================\r\nERROR: test_mpi_allreduce (__main__.AllreduceTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"mpi_allreduce_test.py\", line 82, in test_mpi_allreduce\r\n    average=average_allreduce)\r\n  File \"/usr/lib/python2.7/site-packages/tensorflow/contrib/mpi_collectives/__init__.py\", line 160, in allreduce\r\n    mpi_size = tf.cast(size(), tensor.dtype)\r\n  File \"/usr/lib/python2.7/site-packages/tensorflow/contrib/mpi_collectives/mpi_ops.py\", line 71, in size\r\n    return MPI_LIB.mpi_size(name=name)\r\nAttributeError: 'module' object has no attribute 'mpi_size'\r\n\r\n----------------------------------------------------------------------\r\nRan 2 tests in 0.034s\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14425", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14425/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14425/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14425/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14425", "id": 272768970, "node_id": "MDU6SXNzdWUyNzI3Njg5NzA=", "number": 14425, "title": "Support Windows builds through clang", "user": {"login": "therc", "id": 13481082, "node_id": "MDQ6VXNlcjEzNDgxMDgy", "avatar_url": "https://avatars3.githubusercontent.com/u/13481082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/therc", "html_url": "https://github.com/therc", "followers_url": "https://api.github.com/users/therc/followers", "following_url": "https://api.github.com/users/therc/following{/other_user}", "gists_url": "https://api.github.com/users/therc/gists{/gist_id}", "starred_url": "https://api.github.com/users/therc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/therc/subscriptions", "organizations_url": "https://api.github.com/users/therc/orgs", "repos_url": "https://api.github.com/users/therc/repos", "events_url": "https://api.github.com/users/therc/events{/privacy}", "received_events_url": "https://api.github.com/users/therc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-09T23:40:45Z", "updated_at": "2017-11-10T18:42:02Z", "closed_at": null, "author_association": "NONE", "body": "Right now, the tested configurations for Linux, Mac and Windows use gcc, clang and MSVC, as seen at \r\nhttps://www.tensorflow.org/install/install_sources#tested_source_configurations\r\n\r\nLinux can be made to compile with clang, too, if you use the right magic trick (`--config=cuda_clang`). All that's left is Windows, which is probably the trickiest of the three.\r\n\r\nBonus points for allowing to cross-build for Windows under Linux. The main problem there might be with CUDA and getting its SDK installed on a Linux system (just a wild guess).\r\n\r\n(Forked from an existing discussion under https://github.com/tensorflow/tensorflow/issues/12052)"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14369", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14369/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14369/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14369/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14369", "id": 272269154, "node_id": "MDU6SXNzdWUyNzIyNjkxNTQ=", "number": 14369, "title": "configure.py should remember previous session as defaults", "user": {"login": "johnsrude", "id": 15482785, "node_id": "MDQ6VXNlcjE1NDgyNzg1", "avatar_url": "https://avatars1.githubusercontent.com/u/15482785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnsrude", "html_url": "https://github.com/johnsrude", "followers_url": "https://api.github.com/users/johnsrude/followers", "following_url": "https://api.github.com/users/johnsrude/following{/other_user}", "gists_url": "https://api.github.com/users/johnsrude/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnsrude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnsrude/subscriptions", "organizations_url": "https://api.github.com/users/johnsrude/orgs", "repos_url": "https://api.github.com/users/johnsrude/repos", "events_url": "https://api.github.com/users/johnsrude/events{/privacy}", "received_events_url": "https://api.github.com/users/johnsrude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-11-08T16:47:28Z", "updated_at": "2018-02-09T17:36:12Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n[tf_env.txt](https://github.com/tensorflow/tensorflow/files/1454666/tf_env.txt)\r\n\r\nBranch tensorflow-r1.4\r\n\r\n### Describe the problem\r\n\r\nUsing instructions at https://www.tensorflow.org/install/install_sources to build from source.  When run configure.py a second time, defaults should be the options chosen the previous time.  Filling out all the questions again is exceedingly tedious.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14233", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14233/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14233/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14233/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14233", "id": 271135920, "node_id": "MDU6SXNzdWUyNzExMzU5MjA=", "number": 14233, "title": "graph_editor doesn't update graph_version", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-11-03T22:32:02Z", "updated_at": "2018-10-19T23:33:00Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Symptom:\r\n1. session.run\r\n2. modify the graph with tf.contrib.graph_editor\r\n3. session.run\r\n\r\nSession.run in step 3 will use the same graph as in step 1 (pre-modification)\r\n\r\nThe reason is that session.py looks at [self._graph.version]( https://github.com/tensorflow/tensorflow/blob/4e75ae1f1e8c6479cfa86fde1a940453945e6671/tensorflow/python/client/session.py#L1345) when deciding whether to trigger TF_ExtendGraph. Since `graph_editor` doesn't update graph_version, it will reuse the previous graph.\r\n\r\nSuggestion: every graph-modifying method in `graph_editor` should increment `version` attribute for the graph\r\n\r\n@purpledog "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14221", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14221/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14221/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14221/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14221", "id": 271057006, "node_id": "MDU6SXNzdWUyNzEwNTcwMDY=", "number": 14221, "title": "bayeslfow.hmc - provide option for skipping the MH step", "user": {"login": "botev", "id": 1889878, "node_id": "MDQ6VXNlcjE4ODk4Nzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1889878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/botev", "html_url": "https://github.com/botev", "followers_url": "https://api.github.com/users/botev/followers", "following_url": "https://api.github.com/users/botev/following{/other_user}", "gists_url": "https://api.github.com/users/botev/gists{/gist_id}", "starred_url": "https://api.github.com/users/botev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/botev/subscriptions", "organizations_url": "https://api.github.com/users/botev/orgs", "repos_url": "https://api.github.com/users/botev/repos", "events_url": "https://api.github.com/users/botev/events{/privacy}", "received_events_url": "https://api.github.com/users/botev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-03T17:26:32Z", "updated_at": "2017-11-04T00:20:44Z", "closed_at": null, "author_association": "NONE", "body": "Currently `tf.contrib.bayesflow.hmc.kernel` returns directly the update x and value of the potential after the Metropolis-Hasting steps. It would be useful to have an option to omitting the MH step. This, for instance, is required for implementing HVI [1], where we want to propagate gradients through the HMC step and not reject any samples:\r\n\r\n[1] https://arxiv.org/pdf/1410.6460.pdf\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14205", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14205/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14205/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14205/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14205", "id": 270905011, "node_id": "MDU6SXNzdWUyNzA5MDUwMTE=", "number": 14205, "title": "TensorFlow r1.4 does not be compiled from 32bit environment.", "user": {"login": "daisylab", "id": 31073109, "node_id": "MDQ6VXNlcjMxMDczMTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/31073109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daisylab", "html_url": "https://github.com/daisylab", "followers_url": "https://api.github.com/users/daisylab/followers", "following_url": "https://api.github.com/users/daisylab/following{/other_user}", "gists_url": "https://api.github.com/users/daisylab/gists{/gist_id}", "starred_url": "https://api.github.com/users/daisylab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daisylab/subscriptions", "organizations_url": "https://api.github.com/users/daisylab/orgs", "repos_url": "https://api.github.com/users/daisylab/repos", "events_url": "https://api.github.com/users/daisylab/events{/privacy}", "received_events_url": "https://api.github.com/users/daisylab/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-03T08:23:44Z", "updated_at": "2017-11-03T18:16:36Z", "closed_at": null, "author_association": "NONE", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\nIf you open a GitHub issue, here is our policy:\r\n\r\n1. It must be a bug or a feature request.\r\n2. The form below must be filled out.\r\n3. It shouldn't be a TensorBoard issue. Those go [here](https://github.com/tensorflow/tensorboard/issues).\r\n\r\n**Here's why we have that policy**: TensorFlow developers respond to issues. We want to focus on work that benefits the whole community, e.g., fixing bugs and adding features. Support only helps individuals. GitHub also notifies thousands of people when issues are filed. We want them to see you communicating an interesting problem, rather than being redirected to Stack Overflow.\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: None\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Slackware 14.2 32bit\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: r1.4\r\n- **Python version**: 3.6.3\r\n- **Bazel version (if compiling from source)**: 0.5.4\r\n- **GCC/Compiler version (if compiling from source)**: 5.3.0\r\n- **CUDA/cuDNN version**: None\r\n- **GPU model and memory**: None\r\n- **Exact command to reproduce**: bazel build --config=opt //tensorflow/tools/pip_package:build_pip_package and set optimization flags to -march=i686\r\n\r\nYou can collect some of this information using our environment capture script:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\r\n\r\nYou can obtain the TensorFlow version with\r\n\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\n\r\nInstalling TensorFlow r1.4 on a Linux system with 32bit kernel does not work. I think the error comes from the configuration of the nsync, which does not care 32bit environment. \r\n\r\nI googled it, and found a workaround.\r\n[https://lengerrong.blogspot.kr/2017/09/fix-up-configurable-attribute-copts.html](https://lengerrong.blogspot.kr/2017/09/fix-up-configurable-attribute-copts.html)\r\n\r\nand added \r\n\r\n`\"//conditions\"default\": []'`\r\n\r\nto the appropriate place.\r\n\r\nHowever, I think that it will be much better if the official configure system of the TensorFlow supports the 32bit system.\r\n\r\nThanks.\r\nSungjin.\r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\nNone.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14194", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14194/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14194/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14194/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14194", "id": 270841160, "node_id": "MDU6SXNzdWUyNzA4NDExNjA=", "number": 14194, "title": "Make CMake on TensorFlow Incrementally Compile on Windows", "user": {"login": "johnsrude", "id": 15482785, "node_id": "MDQ6VXNlcjE1NDgyNzg1", "avatar_url": "https://avatars1.githubusercontent.com/u/15482785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnsrude", "html_url": "https://github.com/johnsrude", "followers_url": "https://api.github.com/users/johnsrude/followers", "following_url": "https://api.github.com/users/johnsrude/following{/other_user}", "gists_url": "https://api.github.com/users/johnsrude/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnsrude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnsrude/subscriptions", "organizations_url": "https://api.github.com/users/johnsrude/orgs", "repos_url": "https://api.github.com/users/johnsrude/repos", "events_url": "https://api.github.com/users/johnsrude/events{/privacy}", "received_events_url": "https://api.github.com/users/johnsrude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-11-02T23:35:27Z", "updated_at": "2018-09-28T17:27:44Z", "closed_at": null, "author_association": "NONE", "body": "I'm working with the tensorflow r1.4 branch on Windows 7 with Visual Studio 2015.   When I configure\r\n\r\n```\r\ncmake C:\\Users\\Kevin\\dev\\tensorflow-r1.4\\tensorflow\\contrib\\cmake -A x64 -DCMAKE_BUILD_TYPE=Release -DSWIG_EXECUTABLE=C:/Users/Kevin/dev/swigwin-3.0.12/swig.exe -DPYTHON_EXECUTABLE=C:/ProgramData/Anaconda3/python.exe -DPYTHON_LIBRARIES=C:/ProgramData/Anaconda3/libs/python35.lib -DPYTHON_INCLUDE_DIR=C:\\ProgramData\\Anaconda3\\include -DNUMPY_INCLUDE_DIR=C:\\ProgramData\\Anaconda3\\Lib\\site-packages\\numpy\\core\\include -Dtensorflow_ENABLE_GPU=ON -DCUDNN_HOME=\"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v8.0\"\r\n```\r\nand run\r\n\r\n```\r\npowershell \"MSBuild /m /p:Configuration=Release tf_python_build_pip_package.vcxproj | tee msbuild.txt\"\r\n```\r\nthe build always compiles all the projects, even the projects already compiled.\r\n\r\nLooking at the first few lines of msbuild.txt I see\r\n\r\n```\r\nMicrosoft (R) Build Engine version 14.0.25420.1\r\nCopyright (C) Microsoft Corporation. All rights reserved.\r\n\r\nBuild started 11/2/2017 4:35:58 PM.\r\n     1>Project \"C:\\users\\kevin\\dev\\tensorflow-r1.4\\tensorflow\\contrib\\cmake\\tf_python_build_pip_package.vcxproj\" on node 1 (default targets).\r\n     1>Project \"C:\\users\\kevin\\dev\\tensorflow-r1.4\\tensorflow\\contrib\\cmake\\tf_python_build_pip_package.vcxproj\" (1) is building \"C:\\Users\\Kevin\\dev\\tensorflow-r1.4\\tensorflow\\contrib\\cmake\\ZERO_CHECK.vcxproj\" (2) on node 1 (default targets).\r\n     2>InitializeBuildStatus:\r\n         Creating \"x64\\Release\\ZERO_CHECK\\ZERO_CHECK.tlog\\unsuccessfulbuild\" because \"AlwaysCreate\" was specified.\r\n       CustomBuild:\r\n         Checking Build System\r\n         CMake is re-running because C:/Users/Kevin/dev/tensorflow-r1.4/tensorflow/contrib/cmake/CMakeFiles/generate.stamp is out-of-date.\r\n           the file 'C:/Users/Kevin/dev/tensorflow-r1.4/tensorflow/contrib/cmake/CMakeFiles/tf_core_gpu_kernels.dir/__/__/core/kernels/tf_core_gpu_kernels_generated_cwise_op_gpu_igammas.cu.cc.obj.depend'\r\n           is newer than 'C:/Users/Kevin/dev/tensorflow-r1.4/tensorflow/contrib/cmake/CMakeFiles/generate.stamp.depend'\r\n           result='-1'\r\n         -- Configuring done\r\n```\r\nThe issue isn't the multicore builds, I'm just using multicore builds to speed up the overall build, which takes 5 hours on one core.\r\n\r\nThe problem appears to be that the generate.stamp isn't what's expected."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14186", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14186/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14186/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14186/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14186", "id": 270658556, "node_id": "MDU6SXNzdWUyNzA2NTg1NTY=", "number": 14186, "title": "TF 1.4 build_all_android.sh fails with nsync.a", "user": {"login": "eaigner", "id": 112197, "node_id": "MDQ6VXNlcjExMjE5Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/112197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eaigner", "html_url": "https://github.com/eaigner", "followers_url": "https://api.github.com/users/eaigner/followers", "following_url": "https://api.github.com/users/eaigner/following{/other_user}", "gists_url": "https://api.github.com/users/eaigner/gists{/gist_id}", "starred_url": "https://api.github.com/users/eaigner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eaigner/subscriptions", "organizations_url": "https://api.github.com/users/eaigner/orgs", "repos_url": "https://api.github.com/users/eaigner/repos", "events_url": "https://api.github.com/users/eaigner/events{/privacy}", "received_events_url": "https://api.github.com/users/eaigner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2017-11-02T13:46:16Z", "updated_at": "2018-09-21T03:31:00Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Running\r\n\r\n    NDK_ROOT=\"$HOME/Library/Android/sdk/ndk-bundle\" bash $MAKEFILE_DIR/build_all_android.sh\r\n\r\nresults in this error\r\n\r\n```\r\n/Users/era/Library/Android/sdk/ndk-bundle/toolchains/arm-linux-androideabi-4.9/prebuilt/darwin-x86_64/bin/../lib/gcc/arm-linux-androideabi/4.9.x/../../../../arm-linux-androideabi/bin/ld: error: tensorflow/contrib/makefile/downloads/nsync/builds/armeabi-v7a.android.c++11/nsync.a: malformed archive header name at 8\r\n/Users/era/Library/Android/sdk/ndk-bundle/toolchains/arm-linux-androideabi-4.9/prebuilt/darwin-x86_64/bin/../lib/gcc/arm-linux-androideabi/4.9.x/../../../../arm-linux-androideabi/bin/ld: error: tensorflow/contrib/makefile/downloads/nsync/builds/armeabi-v7a.android.c++11/nsync.a: malformed archive header name at 8\r\n/Users/era/Library/Android/sdk/ndk-bundle/toolchains/arm-linux-androideabi-4.9/prebuilt/darwin-x86_64/bin/../lib/gcc/arm-linux-androideabi/4.9.x/../../../../arm-linux-androideabi/bin/ld: fatal error: tensorflow/contrib/makefile/downloads/nsync/builds/armeabi-v7a.android.c++11/nsync.a: attempt to map 60 bytes at offset 67800 exceeds size of file; the file may be corrupt\r\ncollect2: error: ld returned 1 exit status\r\nmake: *** [.../tensorflow/tensorflow/contrib/makefile/gen/bin/benchmark] Error 1\r\n```\r\n\r\nNDK version 15c, Android Studio 3.0, macOS High Sierra 10.13.1"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14165", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14165/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14165/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14165/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14165", "id": 270476726, "node_id": "MDU6SXNzdWUyNzA0NzY3MjY=", "number": 14165, "title": "Equivalent of caffe iter_size in TF", "user": {"login": "paragon00", "id": 31834007, "node_id": "MDQ6VXNlcjMxODM0MDA3", "avatar_url": "https://avatars3.githubusercontent.com/u/31834007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paragon00", "html_url": "https://github.com/paragon00", "followers_url": "https://api.github.com/users/paragon00/followers", "following_url": "https://api.github.com/users/paragon00/following{/other_user}", "gists_url": "https://api.github.com/users/paragon00/gists{/gist_id}", "starred_url": "https://api.github.com/users/paragon00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paragon00/subscriptions", "organizations_url": "https://api.github.com/users/paragon00/orgs", "repos_url": "https://api.github.com/users/paragon00/repos", "events_url": "https://api.github.com/users/paragon00/events{/privacy}", "received_events_url": "https://api.github.com/users/paragon00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-11-01T22:42:32Z", "updated_at": "2019-04-04T02:55:55Z", "closed_at": null, "author_association": "NONE", "body": "\r\nCan we get the equivalent of caffe's iter_size parameter in TF? This accumulates gradient calcs over several GPU cycles before doing the weight update. It effectively allows a larger batch size. TensorFlow doesn't natively have this but some ppl seem to have implemented sth like it themselves, e.g\r\n\r\nhttps://stackoverflow.com/questions/42156957/how-to-update-model-parameters-with-accumulated-gradients\r\n\r\nI think it'd be a useful parameter to have as part of official TF ... or is there some easy way to implement this functionality already?\r\n\r\nShaun"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14134", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14134/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14134/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14134/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14134", "id": 270040521, "node_id": "MDU6SXNzdWUyNzAwNDA1MjE=", "number": 14134, "title": "Eager: Random seeds", "user": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736653459, "node_id": "MDU6TGFiZWw3MzY2NTM0NTk=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:eager", "name": "comp:eager", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "asimshankar", "id": 16018, "node_id": "MDQ6VXNlcjE2MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/16018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asimshankar", "html_url": "https://github.com/asimshankar", "followers_url": "https://api.github.com/users/asimshankar/followers", "following_url": "https://api.github.com/users/asimshankar/following{/other_user}", "gists_url": "https://api.github.com/users/asimshankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/asimshankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asimshankar/subscriptions", "organizations_url": "https://api.github.com/users/asimshankar/orgs", "repos_url": "https://api.github.com/users/asimshankar/repos", "events_url": "https://api.github.com/users/asimshankar/events{/privacy}", "received_events_url": "https://api.github.com/users/asimshankar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-10-31T17:05:07Z", "updated_at": "2018-12-14T18:49:29Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "(This applies only when [eager execution](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/eager/README.md) has been enabled via `tfe.enable_eager_execution()`) \r\n\r\nSetting the [graph-level random](https://www.tensorflow.org/api_docs/python/tf/set_random_seed) seed exactly once, before any operations are executed, works as intended; however, subsequent invocations to `tf.set_random_seed()` will not reset operation randomness. Furthermore, keyword arguments that set operation-level seeds have no effect when executing in eager mode. Random sequences generated by the same graph-seed will vary depending upon whether you are constructing a graph or executing eagerly.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14117", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14117/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14117/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14117/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14117", "id": 269825611, "node_id": "MDU6SXNzdWUyNjk4MjU2MTE=", "number": 14117, "title": "Error in CMake generated build script", "user": {"login": "cloudhan", "id": 1279292, "node_id": "MDQ6VXNlcjEyNzkyOTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1279292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cloudhan", "html_url": "https://github.com/cloudhan", "followers_url": "https://api.github.com/users/cloudhan/followers", "following_url": "https://api.github.com/users/cloudhan/following{/other_user}", "gists_url": "https://api.github.com/users/cloudhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/cloudhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cloudhan/subscriptions", "organizations_url": "https://api.github.com/users/cloudhan/orgs", "repos_url": "https://api.github.com/users/cloudhan/repos", "events_url": "https://api.github.com/users/cloudhan/events{/privacy}", "received_events_url": "https://api.github.com/users/cloudhan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-10-31T03:49:01Z", "updated_at": "2018-04-05T14:47:01Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Windows 10 1709\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.4.0-rc1\r\n- **Python version**: 3.5\r\n- **Bazel version (if compiling from source)**: - (I use cmake)\r\n- **CUDA/cuDNN version**: 9.0/7\r\n- **GPU model and memory**: Notebook 1070 8G\r\n- **Exact command to reproduce**: \r\nUse cmake to generate build script for `Visual Studio 2017 Win64`\r\n`CMAKE_C_COMPILER`, `CMAKE_CXX_COMPILER` and `CUDA_HOST_COMPILER` should be set manually, otherwise, it will failed the compilation phase calling to NVCC\r\n\r\n\r\n### Describe the problem\r\nThis problem happens when building with Visual Studio 2017.4 + CUDA 9.0 + cuDNN 7 + CMake + GPU build.\r\n\r\nSorry for lack of information. I build it yesterday (and failed) and it take so long the compile through and I didn't keep the log. This problem is LINK ERRORs. What I can identify is they are in the generated build script. The problems happens exactly  in\r\n```\r\n_beam_search_ops.vcxproj\r\n_gru_ops.vcxproj\r\n_lstm_ops.vcxproj\r\n_nearest_neighbor_ops.vcxproj\r\n```\r\ne.g. in  `_beam_search_ops.vcxproj` around line 103\r\n```\r\n    <Link>\r\n      <AdditionalDependencies>\\pywrap_tensorflow_internal.lib;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\lib\\x64\\cudart_static.lib;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\lib\\x64\\cuda.lib;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\lib\\x64\\cublas.lib;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\lib\\x64\\cublas_device.lib;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\lib\\x64\\cufft.lib;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\lib\\x64\\curand.lib;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\extras\\CUPTI\\libx64\\cupti.lib;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\lib\\x64\\cusolver.lib;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0\\lib\\x64\\cudnn.lib;kernel32.lib;user32.lib;gdi32.lib;winspool.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;comdlg32.lib;advapi32.lib</AdditionalDependencies>\r\n      <AdditionalLibraryDirectories>%(AdditionalLibraryDirectories)</AdditionalLibraryDirectories>\r\n      <AdditionalOptions>%(AdditionalOptions) /machine:x64 /ignore:4049 /ignore:4197 /ignore:4217 /ignore:4221</AdditionalOptions>\r\n      <GenerateDebugInformation>false</GenerateDebugInformation>\r\n      <IgnoreSpecificDefaultLibraries>%(IgnoreSpecificDefaultLibraries)</IgnoreSpecificDefaultLibraries>\r\n      <ImportLibrary>D:/workspaces/tensorflow/tensorflow/contrib/cmake/build/Release/_beam_search_ops.lib</ImportLibrary>\r\n      <ProgramDataBaseFile>D:/workspaces/tensorflow/tensorflow/contrib/cmake/build/Release/_beam_search_ops.pdb</ProgramDataBaseFile>\r\n      <SubSystem>Console</SubSystem>\r\n    </Link>\r\n```\r\n\r\nYou can see a `\\pywrap_tensorflow_internal.lib` in `<AdditionalDependencies>` cause the LINK ERROR, since the linker can't find file `pywrap_tensorflow_internal.lib`.\r\n\r\nThe prefix **backslash** seems to be the cause. I suspect it should be some `${BLAH_env_VARIBALE}pywrap_tensorflow_internal.lib` and this `${BLAH_env_VARIBALE}` happens to be empty string and results to a `\\pywrap_tensorflow_internal.lib`.\r\n\r\nAll four `.vcxproj` files comes from function call `AddUserOps` in `tf_python.cmake` , where the `AddUserOps` is defined in `tf_cc_ops.cmake` file. Due to my poor eye sight, I can't decide where is the problem from here...\r\n\r\nNotice, I CAN see the file `pywrap_tensorflow_internal.lib` in some directory so it should be problem related with the path ."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14081", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14081/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14081/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14081/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14081", "id": 269463917, "node_id": "MDU6SXNzdWUyNjk0NjM5MTc=", "number": 14081, "title": "Feature Request: C++ gradient for Cast", "user": {"login": "DavidYKay", "id": 171287, "node_id": "MDQ6VXNlcjE3MTI4Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/171287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DavidYKay", "html_url": "https://github.com/DavidYKay", "followers_url": "https://api.github.com/users/DavidYKay/followers", "following_url": "https://api.github.com/users/DavidYKay/following{/other_user}", "gists_url": "https://api.github.com/users/DavidYKay/gists{/gist_id}", "starred_url": "https://api.github.com/users/DavidYKay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DavidYKay/subscriptions", "organizations_url": "https://api.github.com/users/DavidYKay/orgs", "repos_url": "https://api.github.com/users/DavidYKay/repos", "events_url": "https://api.github.com/users/DavidYKay/events{/privacy}", "received_events_url": "https://api.github.com/users/DavidYKay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-10-30T02:26:02Z", "updated_at": "2018-01-05T22:27:52Z", "closed_at": null, "author_association": "NONE", "body": "Implement the gradient for Cast in C++ so that it is available for TF_AddGradients.\r\n\r\nThis is the Python code that I believe would need to be ported:\r\n\r\nhttps://github.com/tensorflow/tensorflow/blob/27767d8e9c1325979cf32ff5b81c10df9006fd57/tensorflow/python/ops/math_grad.py#L1109-L1120\r\n\r\nWill be asking @bpiel for guidance if I get stuck!"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14075", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14075/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14075/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14075/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14075", "id": 269413861, "node_id": "MDU6SXNzdWUyNjk0MTM4NjE=", "number": 14075, "title": "Momentum SGD is very slow with large embedding layer", "user": {"login": "TomorrowIsAnOtherDay", "id": 25046619, "node_id": "MDQ6VXNlcjI1MDQ2NjE5", "avatar_url": "https://avatars0.githubusercontent.com/u/25046619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomorrowIsAnOtherDay", "html_url": "https://github.com/TomorrowIsAnOtherDay", "followers_url": "https://api.github.com/users/TomorrowIsAnOtherDay/followers", "following_url": "https://api.github.com/users/TomorrowIsAnOtherDay/following{/other_user}", "gists_url": "https://api.github.com/users/TomorrowIsAnOtherDay/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomorrowIsAnOtherDay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomorrowIsAnOtherDay/subscriptions", "organizations_url": "https://api.github.com/users/TomorrowIsAnOtherDay/orgs", "repos_url": "https://api.github.com/users/TomorrowIsAnOtherDay/repos", "events_url": "https://api.github.com/users/TomorrowIsAnOtherDay/events{/privacy}", "received_events_url": "https://api.github.com/users/TomorrowIsAnOtherDay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-10-29T16:38:27Z", "updated_at": "2017-10-31T00:06:56Z", "closed_at": null, "author_association": "NONE", "body": "Hi, I have an (256 col* 500000row) embedding layer in my model and I found that Momentum SGD is 10x slower than adam optimizer. When I printed the global variables using API :tf.global_variables(), I found a large Momentum  variable created by optimizer, does that means Momentum SGD have not  supported sparse update yet?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14065", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14065/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14065/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14065/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14065", "id": 269369912, "node_id": "MDU6SXNzdWUyNjkzNjk5MTI=", "number": 14065, "title": "[feature] \"Periodic\" mode for tf.pad", "user": {"login": "hmunozb", "id": 9600165, "node_id": "MDQ6VXNlcjk2MDAxNjU=", "avatar_url": "https://avatars0.githubusercontent.com/u/9600165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hmunozb", "html_url": "https://github.com/hmunozb", "followers_url": "https://api.github.com/users/hmunozb/followers", "following_url": "https://api.github.com/users/hmunozb/following{/other_user}", "gists_url": "https://api.github.com/users/hmunozb/gists{/gist_id}", "starred_url": "https://api.github.com/users/hmunozb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hmunozb/subscriptions", "organizations_url": "https://api.github.com/users/hmunozb/orgs", "repos_url": "https://api.github.com/users/hmunozb/repos", "events_url": "https://api.github.com/users/hmunozb/events{/privacy}", "received_events_url": "https://api.github.com/users/hmunozb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-29T04:20:00Z", "updated_at": "2017-11-08T05:33:08Z", "closed_at": null, "author_association": "NONE", "body": "\r\n### System information\r\nN/A\r\n\r\n\r\n### Describe the problem\r\nIf I have a matrix\r\n```\r\n[[1, 2, 3],\r\n [4, 5, 6],\r\n [7, 8, 9]]\r\n```\r\n\r\nIt would be nice if I could use something like tf.pad( ... 'PERIODIC') to pad around the dimensions to get a matrix like\r\n```\r\n[ [9, 7, 8, 9, 7],\r\n  [3, 1, 2, 3, 1],\r\n  [6, 4, 5, 6, 4],\r\n  [9, 7, 8, 9, 7],\r\n  [3, 1, 2, 3, 1] ]\r\n```\r\n\r\nWhile there seems to be a work around by manually slicing and joining, this would seem nifty to have in tf.pad already to make expressions that assume periodic boundary conditions a bit easier.\r\n### Source code / logs\r\nN/A\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14025", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14025/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14025/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14025/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14025", "id": 269032327, "node_id": "MDU6SXNzdWUyNjkwMzIzMjc=", "number": 14025, "title": "compile tensorflow-1.4.0-rc1 failed with error: SWIGing tensorflow/python/tensorflow.i failed (Segmentation fault): swig failed: error executing command", "user": {"login": "Leslie-Fang", "id": 16850179, "node_id": "MDQ6VXNlcjE2ODUwMTc5", "avatar_url": "https://avatars2.githubusercontent.com/u/16850179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Leslie-Fang", "html_url": "https://github.com/Leslie-Fang", "followers_url": "https://api.github.com/users/Leslie-Fang/followers", "following_url": "https://api.github.com/users/Leslie-Fang/following{/other_user}", "gists_url": "https://api.github.com/users/Leslie-Fang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Leslie-Fang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Leslie-Fang/subscriptions", "organizations_url": "https://api.github.com/users/Leslie-Fang/orgs", "repos_url": "https://api.github.com/users/Leslie-Fang/repos", "events_url": "https://api.github.com/users/Leslie-Fang/events{/privacy}", "received_events_url": "https://api.github.com/users/Leslie-Fang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-10-27T08:50:42Z", "updated_at": "2018-01-12T18:40:43Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\nIf you open a GitHub issue, here is our policy:\r\n\r\nIt must be a bug or a feature request.\r\nThe form below must be filled out.\r\nIt shouldn't be a TensorBoard issue. Those go here.\r\nHere's why we have that policy: TensorFlow developers respond to issues. We want to focus on work that benefits the whole community, e.g., fixing bugs and adding features. Support only helps individuals. GitHub also notifies thousands of people when issues are filed. We want them to see you communicating an interesting problem, rather than being redirected to Stack Overflow.\r\n\r\nSystem information\r\n\r\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 17.10 beta2\r\nTensorFlow installed from (source or binary): source\r\nTensorFlow version (use command below): TensorFlow 1.4.0-rc1\r\nPython version: Python 2.7.14\r\nBazel version (if compiling from source): bazel 0.6.0\r\nCUDA/cuDNN version:\r\nGPU model and memory:\r\nExact command to reproduce:\r\nbazel build --config=mkl --copt=\"-g\" --copt=\"-DEIGEN_USE_VML\" --copt=\"-mavx2\" --copt=\"-mfma\" --copt=\"-O3\" --verbose_failures --copt=\"-L/opt/intel/gcc/lib64\" -s -c opt //tensorflow/tools/pip_package:build_pip_package\r\nYou can collect some of this information using our environment capture script:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\r\n\r\nYou can obtain the TensorFlow version with\r\n\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\nDescribe the problem\r\n\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\nFailed to use bazel 0.6.0 to compile tensorflow 1.4.0-rc1 on Ubuntu 17.10beta2\r\n\r\ninstall Bazel\r\ndownload bazel-0.6.0-installer-linux-x86_64.sh\r\nbash bazel-0.6.0-installer-linux-x86_64.sh to install bazel\r\nsource /usr/local/lib/bazel/bin/bazel-complete.bash\r\n\r\ncompile tensorflow\r\n./configure\r\n\r\nbazel build --config=mkl --copt=\"-g\" --copt=\"-DEIGEN_USE_VML\" --copt=\"-mavx2\" --copt=\"-mfma\" --copt=\"-O3\" --verbose_failures --copt=\"-L/opt/intel/gcc/lib64\" -s -c opt //tensorflow/tools/pip_package:build_pip_package\r\n\r\ncompile failed\r\nSource code / logs\r\n\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n_ERROR: /home/automation/tensorflow-1.4.0-rc1/tensorflow/python/BUILD:2953:1: SWIGing tensorflow/python/tensorflow.i failed (Segmentation fault): swig failed: error executing command\r\n(cd /root/.cache/bazel/_bazel_root/35d546f7441fd09e73ff30ea3d9aa112/execroot/org_tensorflow && \r\nexec env - \r\nbazel-out/host/bin/external/swig/swig -c++ -python -module pywrap_tensorflow_internal -o bazel-out/local-opt/bin/tensorflow/python/pywrap_tensorflow_internal.cc -outdir bazel-out/local-opt/bin/tensorflow/python -ltensorflow/python/client/device_lib.i -ltensorflow/python/client/events_writer.i -ltensorflow/python/client/tf_session.i -ltensorflow/python/client/tf_sessionrun_wrapper.i -ltensorflow/python/framework/cpp_shape_inference.i -ltensorflow/python/framework/python_op_gen.i -ltensorflow/python/grappler/cluster.i -ltensorflow/python/grappler/cost_analyzer.i -ltensorflow/python/grappler/item.i -ltensorflow/python/grappler/model_analyzer.i -ltensorflow/python/grappler/tf_optimizer.i -ltensorflow/python/lib/core/py_func.i -ltensorflow/python/lib/core/strings.i -ltensorflow/python/lib/io/file_io.i -ltensorflow/python/lib/io/py_record_reader.i -ltensorflow/python/lib/io/py_record_writer.i -ltensorflow/python/platform/base.i -ltensorflow/python/pywrap_tfe.i -ltensorflow/python/training/quantize_training.i -ltensorflow/python/training/server_lib.i -ltensorflow/python/util/kernel_registry.i -ltensorflow/python/util/port.i -ltensorflow/python/util/py_checkpoint_reader.i -ltensorflow/python/util/stat_summarizer.i -ltensorflow/python/util/tfprof.i -ltensorflow/python/util/transform_graph.i -Ibazel-out/local-opt/genfiles -Iexternal/eigen_archive -Iexternal/grpc -Iexternal/protobuf_archive -Iexternal/swig -Iexternal/boringssl -Ibazel-out/local-opt/genfiles/external/local_config_python -Iexternal/nsync -Iexternal/gemmlowp -Iexternal/jpeg -Iexternal/com_googlesource_code_re2 -Iexternal/mkl -Iexternal/jsoncpp_git -Iexternal/zlib_archive -Iexternal/highwayhash -Iexternal/gif_archive -Iexternal/mkl_dnn -Ibazel-out/local-opt/genfiles/external/jpeg -Iexternal/lmdb -Iexternal/png_archive -Iexternal/farmhash_archive -Iexternal/sqlite_archive -Iexternal/swig/Lib -Iexternal/swig/Lib/cffi -Iexternal/swig/Lib/python -Iexternal/swig/Lib/std -Iexternal/swig/Lib/typemaps tensorflow/python/tensorflow.i): swig failed: error executing command\r\n(cd /root/.cache/bazel/bazel_root/35d546f7441fd09e73ff30ea3d9aa112/execroot/org_tensorflow && \r\nexec env - \r\nbazel-out/host/bin/external/swig/swig -c++ -python -module pywrap_tensorflow_internal -o bazel-out/local-opt/bin/tensorflow/python/pywrap_tensorflow_internal.cc -outdir bazel-out/local-opt/bin/tensorflow/python -ltensorflow/python/client/device_lib.i -ltensorflow/python/client/events_writer.i -ltensorflow/python/client/tf_session.i -ltensorflow/python/client/tf_sessionrun_wrapper.i -ltensorflow/python/framework/cpp_shape_inference.i -ltensorflow/python/framework/python_op_gen.i -ltensorflow/python/grappler/cluster.i -ltensorflow/python/grappler/cost_analyzer.i -ltensorflow/python/grappler/item.i -ltensorflow/python/grappler/model_analyzer.i -ltensorflow/python/grappler/tf_optimizer.i -ltensorflow/python/lib/core/py_func.i -ltensorflow/python/lib/core/strings.i -ltensorflow/python/lib/io/file_io.i -ltensorflow/python/lib/io/py_record_reader.i -ltensorflow/python/lib/io/py_record_writer.i -ltensorflow/python/platform/base.i -ltensorflow/python/pywrap_tfe.i -ltensorflow/python/training/quantize_training.i -ltensorflow/python/training/server_lib.i -ltensorflow/python/util/kernel_registry.i -ltensorflow/python/util/port.i -ltensorflow/python/util/py_checkpoint_reader.i -ltensorflow/python/util/stat_summarizer.i -ltensorflow/python/util/tfprof.i -ltensorflow/python/util/transform_graph.i -Ibazel-out/local-opt/genfiles -Iexternal/eigen_archive -Iexternal/grpc -Iexternal/protobuf_archive -Iexternal/swig -Iexternal/boringssl -Ibazel-out/local-opt/genfiles/external/local_config_python -Iexternal/nsync -Iexternal/gemmlowp -Iexternal/jpeg -Iexternal/com_googlesource_code_re2 -Iexternal/mkl -Iexternal/jsoncpp_git -Iexternal/zlib_archive -Iexternal/highwayhash -Iexternal/gif_archive -Iexternal/mkl_dnn -Ibazel-out/local-opt/genfiles/external/jpeg -Iexternal/lmdb -Iexternal/png_archive -Iexternal/farmhash_archive -Iexternal/sqlite_archive -Iexternal/swig/Lib -Iexternal/swig/Lib/cffi -Iexternal/swig/Lib/python -Iexternal/swig/Lib/std -Iexternal/swig/Lib/typemaps tensorflow/python/tensorflow.i)."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14012", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14012/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14012/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/14012/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/14012", "id": 268944855, "node_id": "MDU6SXNzdWUyNjg5NDQ4NTU=", "number": 14012, "title": "tfdbg ps -b command does not work on Windows", "user": {"login": "hsm207", "id": 2398765, "node_id": "MDQ6VXNlcjIzOTg3NjU=", "avatar_url": "https://avatars0.githubusercontent.com/u/2398765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hsm207", "html_url": "https://github.com/hsm207", "followers_url": "https://api.github.com/users/hsm207/followers", "following_url": "https://api.github.com/users/hsm207/following{/other_user}", "gists_url": "https://api.github.com/users/hsm207/gists{/gist_id}", "starred_url": "https://api.github.com/users/hsm207/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hsm207/subscriptions", "organizations_url": "https://api.github.com/users/hsm207/orgs", "repos_url": "https://api.github.com/users/hsm207/repos", "events_url": "https://api.github.com/users/hsm207/events{/privacy}", "received_events_url": "https://api.github.com/users/hsm207/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2017-10-26T23:40:05Z", "updated_at": "2018-12-07T18:47:04Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Issue:\r\n\r\nThe tfdbg ps -b command does not annotate the source file source file beginning at the given line i.e. the output of ps -b 10 source.py is the same as ps source.py.\r\n\r\nSteps to reproduce:\r\n\r\n1. Open the command prompt\r\n2. Run python -m tensorflow.python.debug.examples.debug_mnist --debug\r\n3. Press r\r\n4. Type ps -b 10 path/to/debug_mnist\r\n\r\nSystem information:\r\n\r\n* Tensorflow 1.3.0 (installed using Anaconda)\r\n* OS: Windows-10-10.0.15063-SP0\r\n* Python: 3.6.1\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13989", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13989/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13989/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13989/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13989", "id": 268684393, "node_id": "MDU6SXNzdWUyNjg2ODQzOTM=", "number": 13989, "title": "Fused batch norm can be folded with atrous conv2d ", "user": {"login": "liyinhgqw", "id": 1586024, "node_id": "MDQ6VXNlcjE1ODYwMjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1586024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liyinhgqw", "html_url": "https://github.com/liyinhgqw", "followers_url": "https://api.github.com/users/liyinhgqw/followers", "following_url": "https://api.github.com/users/liyinhgqw/following{/other_user}", "gists_url": "https://api.github.com/users/liyinhgqw/gists{/gist_id}", "starred_url": "https://api.github.com/users/liyinhgqw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liyinhgqw/subscriptions", "organizations_url": "https://api.github.com/users/liyinhgqw/orgs", "repos_url": "https://api.github.com/users/liyinhgqw/repos", "events_url": "https://api.github.com/users/liyinhgqw/events{/privacy}", "received_events_url": "https://api.github.com/users/liyinhgqw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-10-26T09:14:46Z", "updated_at": "2019-04-19T01:21:01Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "### Describe the problem\r\nAs we can fold batch norm with convolution, we should also fold batch norm with atrous convolution, which has not been implemented.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13947", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13947/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13947/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13947/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13947", "id": 268018786, "node_id": "MDU6SXNzdWUyNjgwMTg3ODY=", "number": 13947, "title": "Tensorflow import fails with Segmentation fault error", "user": {"login": "abraham221986", "id": 33060123, "node_id": "MDQ6VXNlcjMzMDYwMTIz", "avatar_url": "https://avatars0.githubusercontent.com/u/33060123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abraham221986", "html_url": "https://github.com/abraham221986", "followers_url": "https://api.github.com/users/abraham221986/followers", "following_url": "https://api.github.com/users/abraham221986/following{/other_user}", "gists_url": "https://api.github.com/users/abraham221986/gists{/gist_id}", "starred_url": "https://api.github.com/users/abraham221986/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abraham221986/subscriptions", "organizations_url": "https://api.github.com/users/abraham221986/orgs", "repos_url": "https://api.github.com/users/abraham221986/repos", "events_url": "https://api.github.com/users/abraham221986/events{/privacy}", "received_events_url": "https://api.github.com/users/abraham221986/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-24T12:50:14Z", "updated_at": "2017-10-25T21:23:45Z", "closed_at": null, "author_association": "NONE", "body": "Hello\r\n\r\nI have pip3 installed tensorflow CPU only\r\nPython version:  3.5.2\r\nOS:LSB Version:    :base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch\r\nDistributor ID: RedHatEnterpriseServer\r\nDescription:    Red Hat Enterprise Linux Server release 6.8 (Santiago)\r\nRelease:        6.8\r\nCodename:       Santiago\r\n\r\nInstall command: pip3 install tensorflow\r\n\r\necho $LD_LIBRARY_PATH\r\n:/usr/local/lib:/grapps/hadoop/instantclient/instantclient_11_2:/usr/local/lib:/opt/glibc-2.14/lib\r\n\r\n\r\nPython 3.5.2 (default, Mar 23 2017, 07:51:35)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-17)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>>\r\n>>> import tensorflow\r\nSegmentation fault\r\n\r\n\r\nAlso tried to import scipy,numpy and matplotlib before importing tensorflow as per suggestion seens in some other cases https://github.com/tensorflow/tensorflow/issues/2034. \r\n\r\nBut nothing solved the issue. \r\n\r\nThanks for the advice \r\n\r\nAbraham \r\n\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13926", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13926/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13926/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13926/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13926", "id": 267818222, "node_id": "MDU6SXNzdWUyNjc4MTgyMjI=", "number": 13926, "title": "Build from source issue (CUDA 7.5)", "user": {"login": "mtngld", "id": 4756911, "node_id": "MDQ6VXNlcjQ3NTY5MTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4756911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtngld", "html_url": "https://github.com/mtngld", "followers_url": "https://api.github.com/users/mtngld/followers", "following_url": "https://api.github.com/users/mtngld/following{/other_user}", "gists_url": "https://api.github.com/users/mtngld/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtngld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtngld/subscriptions", "organizations_url": "https://api.github.com/users/mtngld/orgs", "repos_url": "https://api.github.com/users/mtngld/repos", "events_url": "https://api.github.com/users/mtngld/events{/privacy}", "received_events_url": "https://api.github.com/users/mtngld/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2017-10-23T21:08:31Z", "updated_at": "2018-01-19T16:43:43Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 14.04\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.4 RC0\r\n- **Python version**: 3.4.3\r\n- **Bazel version (if compiling from source)**: 0.7\r\n- **CUDA/cuDNN version**: CUDA7.5 , cudnn v5.1\r\n- **GPU model and memory**: GeForce GTX TITAN \r\n- **Exact command to reproduce**: `bazel build --config opt --config=cuda //tensorflow/tools/pip_package:build_pip_package`\r\n\r\n### Describe the problem\r\nI am trying to build tensorflow 1.4 RC0 from source, getting compilation error that 'cusolverEigMode_t' has not been declared.\r\n\r\nLooks like this is the commit where this code was added:\r\nhttps://github.com/tensorflow/tensorflow/commit/e3413de529c3f762885efd62932f76445ed22653#diff-e4b1fa736000720d06dab76006540ec4R467\r\n\r\nI tried grepping for `cusolverEigMode_t`in my `/usr/local/cuda/` but could not find any reference, is it possible that `cusolverEigMode_t` is not supported in CUDA 7.5? \r\nIn that case, it should be noted that 1.4 is only supported for CUDA 8.0 and above\r\n\r\n### Source code / logs\r\n```\r\nERROR: /home/xxxxx/downloads/tensorflow/tensorflow/core/kernels/BUILD:839:1: C++ compilation of rule '//tensorflow/core/kernels:where_op' failed (Exit 1).\r\nIn file included from tensorflow/core/kernels/where_op.cc:42:0:\r\n./tensorflow/core/kernels/cuda_solvers.h:299:16: error: 'cusolverEigMode_t' has not been declared\r\n   Status Heevd(cusolverEigMode_t jobz, cublasFillMode_t uplo, int n,\r\n                ^\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13869", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13869/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13869/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13869/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13869", "id": 267313661, "node_id": "MDU6SXNzdWUyNjczMTM2NjE=", "number": 13869, "title": "conv2d_transpose crashing, \"NotFoundError: No algorithm worked!\", only with batch size >=2^16", "user": {"login": "sullivak", "id": 3643255, "node_id": "MDQ6VXNlcjM2NDMyNTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/3643255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sullivak", "html_url": "https://github.com/sullivak", "followers_url": "https://api.github.com/users/sullivak/followers", "following_url": "https://api.github.com/users/sullivak/following{/other_user}", "gists_url": "https://api.github.com/users/sullivak/gists{/gist_id}", "starred_url": "https://api.github.com/users/sullivak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sullivak/subscriptions", "organizations_url": "https://api.github.com/users/sullivak/orgs", "repos_url": "https://api.github.com/users/sullivak/repos", "events_url": "https://api.github.com/users/sullivak/events{/privacy}", "received_events_url": "https://api.github.com/users/sullivak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-10-20T21:46:31Z", "updated_at": "2019-07-09T15:22:19Z", "closed_at": null, "author_association": "NONE", "body": "I'm getting a crash running a simple autoencoder network, stack trace below. Interestingly if I trim the batch size of the input (validate_vecs_normed) to 65535, everything is fine. E.g.\r\n`validate_vecs_normed.shape (65536, 75)` crashes, `validate_vecs_normed.shape (65536, 75)` does not. The size of input is less than 20 MB so should be plenty of room with a 12GB card.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  [...snip...] \r\n    recon, batch_cost = sess.run([decoded, cost], feed_dict={x_in_unrav: validate_vecs_normed})\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 895, in run\r\n    run_metadata_ptr)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1124, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1321, in _do_run\r\n    options, run_metadata)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py\", line 1340, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.NotFoundError: No algorithm worked!\r\n\t [[Node: conv2d_transpose = Conv2DBackpropInput[T=DT_FLOAT, data_format=\"NHWC\", padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](stack, W_0/read, enc_output_0)]]\r\n\t [[Node: cost/_25 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_47_cost\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\r\n\r\nCaused by op u'conv2d_transpose', defined at:\r\n  [...snip...]\r\n    saver = tf.train.import_meta_graph(os.path.join(model_dir, model_meta_format.format(fold_ind)))\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/training/saver.py\", line 1698, in import_meta_graph\r\n    **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/meta_graph.py\", line 656, in import_scoped_meta_graph\r\n    producer_op_list=producer_op_list)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/importer.py\", line 313, in import_graph_def\r\n    op_def=op_def)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2630, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 1204, in __init__\r\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n\r\nNotFoundError (see above for traceback): No algorithm worked!\r\n\t [[Node: conv2d_transpose = Conv2DBackpropInput[T=DT_FLOAT, data_format=\"NHWC\", padding=\"VALID\", strides=[1, 2, 2, 1], use_cudnn_on_gpu=true, _device=\"/job:localhost/replica:0/task:0/gpu:0\"](stack, W_0/read, enc_output_0)]]\r\n\t [[Node: cost/_25 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_47_cost\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\r\n```\r\nPossibly related to #11327 or #9576 but not sure. One other thing, when running same code on tensorflow 1.0.1, there was no crash, but the return value \"decoded\" was all zeros when running a large batch size, and normal with smaller. I'm not sure if it's the same 65535/65536 threshold, I hadn't found it at that point.\r\n\r\nJust for fun I ran with `TF_USE_CUDNN=0` but that crashes with `UnimplementedError (see above for traceback): Conv2D for GPU is not currently supported without cudnn`\r\n\r\nOS: Ubuntu 16.04. \r\nRunning docker image based on tensorflow/tensorflow:1.3.0-devel-gpu (so python 2.7.12, CUDA v8.0, cuDNN v6.0), with nvidia-docker 17.05.0-ce. \r\nDocker image tensorflow/tensorflow:1.0.1-gpu returns all zeros instead of crashing.\r\nGPUs: 2x Titan X (Pascal).\r\n\r\n\r\n\r\n\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13851", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13851/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13851/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13851/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13851", "id": 267091702, "node_id": "MDU6SXNzdWUyNjcwOTE3MDI=", "number": 13851, "title": "Fail in configuration due to different CUDA libraries path", "user": {"login": "Randl", "id": 3028543, "node_id": "MDQ6VXNlcjMwMjg1NDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/3028543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Randl", "html_url": "https://github.com/Randl", "followers_url": "https://api.github.com/users/Randl/followers", "following_url": "https://api.github.com/users/Randl/following{/other_user}", "gists_url": "https://api.github.com/users/Randl/gists{/gist_id}", "starred_url": "https://api.github.com/users/Randl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Randl/subscriptions", "organizations_url": "https://api.github.com/users/Randl/orgs", "repos_url": "https://api.github.com/users/Randl/repos", "events_url": "https://api.github.com/users/Randl/events{/privacy}", "received_events_url": "https://api.github.com/users/Randl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-10-20T07:52:18Z", "updated_at": "2018-01-26T00:19:01Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 17.04\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 49f9c6f890c938955fa2d448ac5b556b9a6d9aa0\r\n- **Python version**: Python 3.5.3\r\n- **Bazel version (if compiling from source)**: bazel release 0.6.1\r\n- **CUDA/cuDNN version**: CUDA 8, cuDNN 7\r\n- **GPU model and memory**: GeForce GTX 1080 \r\n\r\n### Describe the problem\r\nAs for now, TF assumes that CUDA liibs are located at `CUDA_PATH/lib64/`, however Ubuntu installs CUDA to `/usr/lib/x86_64-linux-gnu/`, which makes configuration impossible: I can't specify cuda path such that it'll find `/usr/lib/x86_64-linux-gnu/libcudart.so.8.0`\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13796", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13796/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13796/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13796/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13796", "id": 266343440, "node_id": "MDU6SXNzdWUyNjYzNDM0NDA=", "number": 13796, "title": "Feature Request: use S3 for checkpoint loading/saving", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2017-10-18T02:51:38Z", "updated_at": "2020-03-12T16:02:57Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "EFS is not available in most AWS regions. For distributed TensorFlow in those regions one would have to rely on S3 to save/restore checkpoints"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13740", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13740/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13740/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13740/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13740", "id": 265653803, "node_id": "MDU6SXNzdWUyNjU2NTM4MDM=", "number": 13740, "title": "AV in nvcuda on Win10 amd64", "user": {"login": "anaisbetts", "id": 1396, "node_id": "MDQ6VXNlcjEzOTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anaisbetts", "html_url": "https://github.com/anaisbetts", "followers_url": "https://api.github.com/users/anaisbetts/followers", "following_url": "https://api.github.com/users/anaisbetts/following{/other_user}", "gists_url": "https://api.github.com/users/anaisbetts/gists{/gist_id}", "starred_url": "https://api.github.com/users/anaisbetts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anaisbetts/subscriptions", "organizations_url": "https://api.github.com/users/anaisbetts/orgs", "repos_url": "https://api.github.com/users/anaisbetts/repos", "events_url": "https://api.github.com/users/anaisbetts/events{/privacy}", "received_events_url": "https://api.github.com/users/anaisbetts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-16T05:53:09Z", "updated_at": "2017-12-05T17:27:13Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: example script startup\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Win10 amd64 10.0.16291.0\r\n- **TensorFlow installed from (source or binary)**: binary\r\n- **TensorFlow version (use command below)**: b'unknown' 1.3.0\r\n- **Python version**:  3.6.3\r\n- **Bazel version (if compiling from source)**:\r\n- **CUDA/cuDNN version**: 8.0.61.2/6.0\r\n- **GPU model and memory**: nVidia 1080Ti\r\n- **Exact command to reproduce**:\r\n\r\n```\r\nimport tensorflow as tf\r\nhello = tf.constant('Hello, TensorFlow!')\r\nsess = tf.Session()\r\n```\r\n\r\n### Describe the problem\r\n\r\nAccess violation in nvcuda\r\n\r\n### Source code / logs\r\n\r\n```\r\n2017-10-15 22:51:24.306411: W C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\core\\platform\\cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-10-15 22:51:24.306463: W C:\\tf_jenkins\\home\\workspace\\rel-win\\M\\windows-gpu\\PY\\36\\tensorflow\\core\\platform\\cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\n```\r\n\r\n```\r\n0:000> kn\r\n # Child-SP          RetAddr           Call Site\r\n00 000000c2`28be6150 00007fff`ace93028 nvcuda!cuTexRefSetAddress+0x309622\r\n01 000000c2`28be6180 00007fff`ace92ac2 nvcuda!cuTexRefSetAddress+0x1759ea\r\n02 000000c2`28be61b0 00007fff`ad02abf2 nvcuda!cuTexRefSetAddress+0x175484\r\n03 000000c2`28be6250 00007fff`ace950d6 nvcuda!cuTexRefSetAddress+0x30d5b4\r\n04 000000c2`28beddd0 00007fff`ace5c2e0 nvcuda!cuTexRefSetAddress+0x177a98\r\n05 000000c2`28bedee0 00007fff`ace5acfe nvcuda!cuTexRefSetAddress+0x13eca2\r\n06 000000c2`28bedf10 00007fff`ace5aa77 nvcuda!cuTexRefSetAddress+0x13d6c0\r\n07 000000c2`28bedf50 00007fff`acec6617 nvcuda!cuTexRefSetAddress+0x13d439\r\n*** WARNING: Unable to verify checksum for C:\\Python36\\lib\\site-packages\\tensorflow\\python\\_pywrap_tensorflow_internal.pyd\r\n*** ERROR: Symbol file could not be found.  Defaulted to export symbols for C:\\Python36\\lib\\site-packages\\tensorflow\\python\\_pywrap_tensorflow_internal.pyd - \r\n08 000000c2`28bedf80 00007fff`8d0e1b50 nvcuda!cuTexRefSetAddress+0x1a8fd9\r\n09 000000c2`28bee040 00007fff`8d0e185e _pywrap_tensorflow_internal!perftools::gputools::port::InternalError+0xe0\r\n0a 000000c2`28bee250 00007fff`8d0eebd4 _pywrap_tensorflow_internal!perftools::gputools::cuda::CUDADriver::Init+0x10e\r\n0b 000000c2`28bee2a0 00007fff`8b6225d0 _pywrap_tensorflow_internal!perftools::gputools::cuda::CudaPlatform::VisibleDeviceCount+0x14\r\n0c 000000c2`28bee2d0 00007fff`8b62043b _pywrap_tensorflow_internal!tensorflow::BaseGPUDeviceFactory::GetValidDeviceIds+0x120\r\n0d 000000c2`28bee5f0 00007fff`8b51dd9c _pywrap_tensorflow_internal!tensorflow::BaseGPUDeviceFactory::CreateDevices+0x25b\r\n0e 000000c2`28bee7a0 00007fff`8b8e96ee _pywrap_tensorflow_internal!tensorflow::DeviceFactory::AddDevices+0x24c\r\n0f 000000c2`28bee880 00007fff`8b71742c _pywrap_tensorflow_internal!tensorflow::DirectSessionFactory::NewSession+0xae\r\n10 000000c2`28beea30 00007fff`8b4c6d9f _pywrap_tensorflow_internal!tensorflow::NewSession+0x12c\r\n11 000000c2`28beeb90 00007fff`8b4aa72b _pywrap_tensorflow_internal!TF_NewDeprecatedSession+0x1f\r\n*** ERROR: Symbol file could not be found.  Defaulted to export symbols for C:\\Python36\\python36.dll - \r\n12 000000c2`28beebc0 00000000`604aad02 _pywrap_tensorflow_internal!tensorflow::Scope::status+0x138ab\r\n13 000000c2`28beec10 00000000`604aa413 python36!PyCFunction_FastCallDict+0x182\r\n14 000000c2`28beec90 00000000`604888d8 python36!PyObject_CallFunctionObjArgs+0x383\r\n15 000000c2`28beed70 00000000`604ab284 python36!PyEval_EvalFrameDefault+0x3c8\r\n16 000000c2`28beef00 00000000`604aa87f python36!Py_CheckFunctionResult+0x314\r\n17 000000c2`28beefb0 00000000`6048a03c python36!PyObject_CallFunctionObjArgs+0x7ef\r\n18 000000c2`28bef090 00000000`604ab284 python36!PyEval_EvalFrameDefault+0x1b2c\r\n19 000000c2`28bef220 00000000`604a9f98 python36!Py_CheckFunctionResult+0x314\r\n1a 000000c2`28bef2d0 00000000`604a9d65 python36!PyFunction_FastCallDict+0x1b8\r\n1b 000000c2`28bef3a0 00000000`604ad33c python36!PyUnicode_Partition+0x745\r\n1c 000000c2`28bef450 00000000`604ab067 python36!PyType_GenericAlloc+0x72c\r\n1d 000000c2`28bef4d0 00000000`604aa76f python36!Py_CheckFunctionResult+0xf7\r\n1e 000000c2`28bef500 00000000`604888d8 python36!PyObject_CallFunctionObjArgs+0x6df\r\n1f 000000c2`28bef5e0 00000000`604ab284 python36!PyEval_EvalFrameDefault+0x3c8\r\n20 000000c2`28bef770 00000000`604b5ee3 python36!Py_CheckFunctionResult+0x314\r\n21 000000c2`28bef820 00000000`604b5e41 python36!PyEval_EvalCodeEx+0x9b\r\n22 000000c2`28bef8b0 00000000`604b5deb python36!PyEval_EvalCode+0x2d\r\n23 000000c2`28bef920 00000000`6060a864 python36!PyArena_Free+0xa7\r\n24 000000c2`28bef960 00000000`6060a514 python36!PyRun_InteractiveOneObject+0x2b8\r\n25 000000c2`28befa00 00000000`6060a279 python36!PyRun_InteractiveLoopFlags+0xe8\r\n26 000000c2`28befa30 00000000`6055b0b0 python36!PyRun_AnyFileExFlags+0x45\r\n27 000000c2`28befa60 00000000`604f9ea8 python36!Py_hashtable_size+0x5140\r\n*** ERROR: Module load completed but symbols could not be loaded for C:\\Python36\\python.exe\r\n28 000000c2`28befaa0 00000000`1cf8126d python36!Py_FatalError+0x2cb48\r\n29 000000c2`28befba0 00007fff`fab71fe4 python+0x126d\r\n2a 000000c2`28befbe0 00007fff`fc451eb1 KERNEL32!BaseThreadInitThunk+0x14\r\n2b 000000c2`28befc10 00000000`00000000 ntdll!RtlUserThreadStart+0x21\r\n```\r\n\r\n```\r\n0:000> r\r\nrax=0000000000000000 rbx=00000223d1788910 rcx=00000223d1788910\r\nrdx=0000000000000064 rsi=000000c228be61e8 rdi=00000000000003e7\r\nrip=00007fffad026c60 rsp=000000c228be6150 rbp=0000000000000000\r\n r8=00000223be8a0f00  r9=0000000000008000 r10=00000223d04c0030\r\nr11=0000000000000246 r12=0000000000000001 r13=000000005c000001\r\nr14=000000c228be62e0 r15=0000000000000000\r\niopl=0         nv up ei pl nz na po nc\r\ncs=0033  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00010206\r\nnvcuda!cuTexRefSetAddress+0x309622:\r\n00007fff`ad026c60 488b5010        mov     rdx,qword ptr [rax+10h] ds:00000000`00000010=????????????????\r\n0:000> ub\r\nnvcuda!cuTexRefSetAddress+0x30960e:\r\n00007fff`ad026c4c cc              int     3\r\n00007fff`ad026c4d cc              int     3\r\n00007fff`ad026c4e cc              int     3\r\n00007fff`ad026c4f cc              int     3\r\n00007fff`ad026c50 4053            push    rbx\r\n00007fff`ad026c52 4883ec20        sub     rsp,20h\r\n00007fff`ad026c56 488b81d81b0000  mov     rax,qword ptr [rcx+1BD8h]\r\n00007fff`ad026c5d 488bd9          mov     rbx,rcx\r\n0:000> u\r\nnvcuda!cuTexRefSetAddress+0x309622:\r\n00007fff`ad026c60 488b5010        mov     rdx,qword ptr [rax+10h]\r\n00007fff`ad026c64 817a04d0070000  cmp     dword ptr [rdx+4],7D0h\r\n00007fff`ad026c6b 7c11            jl      nvcuda!cuTexRefSetAddress+0x309640 (00007fff`ad026c7e)\r\n00007fff`ad026c6d e89ec5ceff      call    nvcuda!cuTexRefDestroy+0x113 (00007fff`acd13210)\r\n00007fff`ad026c72 84c0            test    al,al\r\n00007fff`ad026c74 7408            je      nvcuda!cuTexRefSetAddress+0x309640 (00007fff`ad026c7e)\r\n00007fff`ad026c76 488bcb          mov     rcx,rbx\r\n00007fff`ad026c79 e837dfceff      call    nvcuda!cuTexRefSetFlags+0xc8 (00007fff`acd14bb5)\r\n0:000> u\r\nnvcuda!cuTexRefSetAddress+0x309640:\r\n00007fff`ad026c7e 33c0            xor     eax,eax\r\n00007fff`ad026c80 4883c420        add     rsp,20h\r\n00007fff`ad026c84 5b              pop     rbx\r\n00007fff`ad026c85 c3              ret\r\n00007fff`ad026c86 cc              int     3\r\n00007fff`ad026c87 cc              int     3\r\n00007fff`ad026c88 cc              int     3\r\n00007fff`ad026c89 cc              int     3\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13644", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13644/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13644/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13644/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13644", "id": 264730145, "node_id": "MDU6SXNzdWUyNjQ3MzAxNDU=", "number": 13644, "title": "Add support for Mel Generalized Cepstrum Analysis to tf.signal.", "user": {"login": "rryan", "id": 26527, "node_id": "MDQ6VXNlcjI2NTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/26527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rryan", "html_url": "https://github.com/rryan", "followers_url": "https://api.github.com/users/rryan/followers", "following_url": "https://api.github.com/users/rryan/following{/other_user}", "gists_url": "https://api.github.com/users/rryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/rryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rryan/subscriptions", "organizations_url": "https://api.github.com/users/rryan/orgs", "repos_url": "https://api.github.com/users/rryan/repos", "events_url": "https://api.github.com/users/rryan/events{/privacy}", "received_events_url": "https://api.github.com/users/rryan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1566679705, "node_id": "MDU6TGFiZWwxNTY2Njc5NzA1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:signal", "name": "comp:signal", "color": "0052cc", "default": false, "description": "tf.signal related issues"}, {"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-10-11T20:45:54Z", "updated_at": "2019-09-25T23:03:29Z", "closed_at": null, "author_association": "MEMBER", "body": "Requested via discuss@\r\nhttps://groups.google.com/a/tensorflow.org/forum/#!topic/discuss/k6EI-BxbCMg\r\n\r\nPlease :+1: if you would like to see this feature in tf.contrib.signal."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13641", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13641/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13641/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13641/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13641", "id": 264668334, "node_id": "MDU6SXNzdWUyNjQ2NjgzMzQ=", "number": 13641, "title": "Extend SVD gradient to support backpropagating through complex and (strongly) rectangular U and V", "user": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 30, "created_at": "2017-10-11T17:18:44Z", "updated_at": "2019-09-05T00:57:58Z", "closed_at": null, "author_association": "MEMBER", "body": "This initial version of SVD gradients has the following restrictions:\r\n  Only supports statically known inner matrix dimensions m and n.\r\n\r\nBackpropagating through U and V (i.e. backpropagating through SVD nodes with compute_uv=True) has further restrictions:\r\n  a) Only supports real tensors.\r\n  b) Only supports square and \"almost square\" matrices where the number of rows and columns differ by at most 1.\r\n  c) full_matrices must be true also. This does not currently have severe implications, given the restriction in b).\r\n\r\nSupport for dynamic shapes and a) (I think) is straightforward to fix.  But b) is probably a deeper issue having to do with the (lack of) uniqueness of the decomposition, and will require some analysis. I think that if we understand b), we can get around the restriction in c) as well.\r\n\r\nI'm marking this as contributions welcome, in the hope that somebody with better math skills than myself will help out :-)"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13627", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13627/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13627/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13627/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13627", "id": 264524978, "node_id": "MDU6SXNzdWUyNjQ1MjQ5Nzg=", "number": 13627, "title": "HDFS user impersonation", "user": {"login": "kouzant", "id": 627083, "node_id": "MDQ6VXNlcjYyNzA4Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/627083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kouzant", "html_url": "https://github.com/kouzant", "followers_url": "https://api.github.com/users/kouzant/followers", "following_url": "https://api.github.com/users/kouzant/following{/other_user}", "gists_url": "https://api.github.com/users/kouzant/gists{/gist_id}", "starred_url": "https://api.github.com/users/kouzant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kouzant/subscriptions", "organizations_url": "https://api.github.com/users/kouzant/orgs", "repos_url": "https://api.github.com/users/kouzant/repos", "events_url": "https://api.github.com/users/kouzant/events{/privacy}", "received_events_url": "https://api.github.com/users/kouzant/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-10-11T09:56:23Z", "updated_at": "2020-03-12T16:02:57Z", "closed_at": null, "author_association": "NONE", "body": "TensorFlow  does support HDFS filesystem but there is no way to specify as which user to access the filesystem.\r\n\r\nThe native hdfs library provides a function to set the user name, hdfsBuilderSetUserName() similar to hdfsBuilderSetNameNode(). There is also hdfsConnectAsUser() where you can specify the user, builds the hdfsBuilder struct, set the username among other arguments and return the FileSystem handle.\r\n\r\nCurrently I don't see any way to provide a username in TensorFlow and more specifically in tensorflow/core/platform/hadoop/hadoop_file_system.cc\r\n\r\nI suppose that something like the following would be sufficient.\r\nhttps://github.com/kouzant/tensorflow/commit/eacef5cb81d09d0490403fde33de8e5526f212ad"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13607", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13607/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13607/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13607/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13607", "id": 264258928, "node_id": "MDU6SXNzdWUyNjQyNTg5Mjg=", "number": 13607, "title": "Building custom op instructions out of date", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2017-10-10T14:51:48Z", "updated_at": "2020-02-24T12:10:53Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Following instructions here\r\nhttps://www.tensorflow.org/extend/adding_an_op\r\n\r\nTo try to rebuild this [op](https://github.com/yaroslavvb/max_align_bytes_op)\r\n\r\nFirst I ran into issue with nsync headers, fixed by following\r\nhttps://github.com/tensorflow/tensorflow/issues/12482#issuecomment-328829250\r\n\r\nThen while trying to load the `.so` file I run into \r\ntensorflow.python.framework.errors_impl.NotFoundError: ./max_align_bytes_op.so: undefined symbol: _ZTIN10tensorflow8OpKernelE\r\n\r\nSo the definition for `tensorflow::OpKernel` is missing\r\n\r\ntf commit: https://github.com/tensorflow/tensorflow/commit/22a886b\r\ncc @allenlavoie "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13603", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13603/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13603/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13603/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13603", "id": 264144119, "node_id": "MDU6SXNzdWUyNjQxNDQxMTk=", "number": 13603, "title": "SVD on GPU is slower than SVD on CPU", "user": {"login": "hzhangxyz", "id": 11623447, "node_id": "MDQ6VXNlcjExNjIzNDQ3", "avatar_url": "https://avatars0.githubusercontent.com/u/11623447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hzhangxyz", "html_url": "https://github.com/hzhangxyz", "followers_url": "https://api.github.com/users/hzhangxyz/followers", "following_url": "https://api.github.com/users/hzhangxyz/following{/other_user}", "gists_url": "https://api.github.com/users/hzhangxyz/gists{/gist_id}", "starred_url": "https://api.github.com/users/hzhangxyz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hzhangxyz/subscriptions", "organizations_url": "https://api.github.com/users/hzhangxyz/orgs", "repos_url": "https://api.github.com/users/hzhangxyz/repos", "events_url": "https://api.github.com/users/hzhangxyz/events{/privacy}", "received_events_url": "https://api.github.com/users/hzhangxyz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 28, "created_at": "2017-10-10T08:42:13Z", "updated_at": "2019-06-10T11:14:41Z", "closed_at": null, "author_association": "NONE", "body": "OS:\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: CentOS release 7.4.1708\r\n- **TensorFlow installed from (source or binary)**: From source\r\n- **Python version**: 2.7.13\r\n- **Bazel version**: 0.6.1\r\n- **CUDA/cuDNN version**: CUDA 8.0/cuDNN 6.0.21\r\n- **GPU model and memory**: GeForce GTX 950M, memory 4GB\r\n\r\noutput of `tf_env_collect.sh`\r\n```\r\n\r\n== cat /etc/issue ===============================================\r\nLinux zhanghao 3.10.0-693.2.2.el7.x86_64 #1 SMP Tue Sep 12 22:26:13 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\nVERSION=\"7 (Core)\"\r\nVERSION_ID=\"7\"\r\nCENTOS_MANTISBT_PROJECT_VERSION=\"7\"\r\nREDHAT_SUPPORT_PRODUCT_VERSION=\"7\"\r\n\r\n== are we in docker =============================================\r\nNo\r\n\r\n== compiler =====================================================\r\nc++ (GCC) 4.8.5 20150623 (Red Hat 4.8.5-16)\r\nCopyright \u00a9 2015 Free Software Foundation, Inc.\r\n\u672c\u7a0b\u5e8f\u662f\u81ea\u7531\u8f6f\u4ef6\uff1b\u8bf7\u53c2\u770b\u6e90\u4ee3\u7801\u7684\u7248\u6743\u58f0\u660e\u3002\u672c\u8f6f\u4ef6\u6ca1\u6709\u4efb\u4f55\u62c5\u4fdd\uff1b\r\n\u5305\u62ec\u6ca1\u6709\u9002\u9500\u6027\u548c\u67d0\u4e00\u4e13\u7528\u76ee\u7684\u4e0b\u7684\u9002\u7528\u6027\u62c5\u4fdd\u3002\r\n\r\n== uname -a =====================================================\r\nLinux zhanghao 3.10.0-693.2.2.el7.x86_64 #1 SMP Tue Sep 12 22:26:13 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n== check pips ===================================================\r\n\r\n== check for virtualenv =========================================\r\nFalse\r\n\r\n== tensorflow import ============================================\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\nImportError: No module named tensorflow\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH is unset\r\nDYLD_LIBRARY_PATH is unset\r\n\r\n== nvidia-smi ===================================================\r\nTue Oct 10 16:36:08 2017       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 384.90                 Driver Version: 384.90                    |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  GeForce GTX 950M    Off  | 00000000:0A:00.0 Off |                  N/A |\r\n| N/A   45C    P0    N/A /  N/A |      0MiB /  4044MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID   Type   Process name                             Usage      |\r\n|=============================================================================|\r\n|  No running processes found                                                 |\r\n+-----------------------------------------------------------------------------+\r\n\r\n== cuda libs  ===================================================\r\n\r\n== cat /etc/issue ===============================================\r\nLinux zhanghao 3.10.0-693.2.2.el7.x86_64 #1 SMP Tue Sep 12 22:26:13 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\nVERSION=\"7 (Core)\"\r\nVERSION_ID=\"7\"\r\nCENTOS_MANTISBT_PROJECT_VERSION=\"7\"\r\nREDHAT_SUPPORT_PRODUCT_VERSION=\"7\"\r\n\r\n== are we in docker =============================================\r\nNo\r\n\r\n== compiler =====================================================\r\nc++ (GCC) 4.8.5 20150623 (Red Hat 4.8.5-16)\r\nCopyright \u00a9 2015 Free Software Foundation, Inc.\r\n\u672c\u7a0b\u5e8f\u662f\u81ea\u7531\u8f6f\u4ef6\uff1b\u8bf7\u53c2\u770b\u6e90\u4ee3\u7801\u7684\u7248\u6743\u58f0\u660e\u3002\u672c\u8f6f\u4ef6\u6ca1\u6709\u4efb\u4f55\u62c5\u4fdd\uff1b\r\n\u5305\u62ec\u6ca1\u6709\u9002\u9500\u6027\u548c\u67d0\u4e00\u4e13\u7528\u76ee\u7684\u4e0b\u7684\u9002\u7528\u6027\u62c5\u4fdd\u3002\r\n\r\n== uname -a =====================================================\r\nLinux zhanghao 3.10.0-693.2.2.el7.x86_64 #1 SMP Tue Sep 12 22:26:13 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n== check pips ===================================================\r\nnumpy (1.12.1)\r\nprotobuf (3.4.0)\r\ntensorflow (1.4.0rc0)\r\ntensorflow-tensorboard (0.4.0rc1)\r\n\r\n== check for virtualenv =========================================\r\nFalse\r\n\r\n== tensorflow import ============================================\r\ntf.VERSION = 1.4.0-rc0\r\ntf.GIT_VERSION = v1.3.0-rc1-3111-g4196d6d\r\ntf.COMPILER_VERSION = v1.3.0-rc1-3111-g4196d6d\r\nSanity check: array([1], dtype=int32)\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH /usr/local/cuda/lib64/:/usr/local/cuda/lib64/stubs/:/usr/local/cuda/extras/CUPTI/lib64/:/usr/local/cuda/nvvm/lib64/:/usr/lib64/nvidia/:/opt/intel/compilers_and_libraries_2017.4.196/linux/compiler/lib/intel64:/opt/intel/compilers_and_libraries_2017.4.196/linux/compiler/lib/intel64_lin:/opt/intel/compilers_and_libraries_2017.4.196/linux/mpi/intel64/lib:/opt/intel/compilers_and_libraries_2017.4.196/linux/mpi/mic/lib:/opt/intel/compilers_and_libraries_2017.4.196/linux/ipp/lib/intel64:/opt/intel/compilers_and_libraries_2017.4.196/linux/compiler/lib/intel64_lin:/opt/intel/compilers_and_libraries_2017.4.196/linux/mkl/lib/intel64_lin:/opt/intel/compilers_and_libraries_2017.4.196/linux/tbb/lib/intel64/gcc4.7:/opt/intel/debugger_2017/iga/lib:/opt/intel/debugger_2017/libipt/intel64/lib:/opt/intel/compilers_and_libraries_2017.4.196/linux/daal/lib/intel64_lin:/opt/intel/compilers_and_libraries_2017.4.196/linux/daal/../tbb/lib/intel64_lin/gcc4.4\r\nDYLD_LIBRARY_PATH is unset\r\n\r\n== nvidia-smi ===================================================\r\nTue Oct 10 16:36:37 2017       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 384.90                 Driver Version: 384.90                    |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  GeForce GTX 950M    Off  | 00000000:0A:00.0 Off |                  N/A |\r\n| N/A   45C    P0    N/A /  N/A |      0MiB /  4044MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID   Type   Process name                             Usage      |\r\n|=============================================================================|\r\n|  No running processes found                                                 |\r\n+-----------------------------------------------------------------------------+\r\n\r\n== cuda libs  ===================================================\r\n/usr/local/cuda-8.0/doc/man/man7/libcudart.so.7\r\n/usr/local/cuda-8.0/doc/man/man7/libcudart.7\r\n/usr/local/cuda-8.0/targets/x86_64-linux/lib/libcudart.so.8.0.61\r\n/usr/local/cuda-8.0/targets/x86_64-linux/lib/libcudart_static.a\r\n```\r\n\r\noutput of `python -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"`\r\n```\r\n('v1.3.0-rc1-3111-g4196d6d', '1.4.0-rc0')\r\n```\r\n\r\n### Describe the problem\r\n\r\nSVD on GPU is slower than SVD on CPU\r\n\r\n### Source code / logs\r\n\r\nfile main.py\r\n```\r\nimport tensorflow as tf\r\nimport numpy as np\r\nimport sys\r\n\r\nD = 1024\r\ndA = np.random.normal(size=(D,D))\r\n\r\ndev = \"/gpu:0\" if len(sys.argv)==1 else \"/cpu:0\"\r\n\r\nwith tf.device(dev):\r\n    A = tf.placeholder(shape=(D,D),dtype=tf.float32)\r\n    S, U, V = tf.svd(A)\r\n\r\nconfig = tf.ConfigProto()\r\nconfig.log_device_placement = True\r\nconfig.graph_options.optimizer_options.global_jit_level=tf.OptimizerOptions.ON_1\r\nsess = tf.Session(config=config)\r\n\r\nfor _ in xrange(10):\r\n    dS, dU, dV = sess.run((S, U, V), feed_dict={A:dA})\r\n```\r\n\r\n## run on GPU\r\n`time python main.py`\r\n```\r\n2017-10-10 16:28:49.047703: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:892] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2017-10-10 16:28:49.048176: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties:\r\nname: GeForce GTX 950M major: 5 minor: 0 memoryClockRate(GHz): 1.124\r\npciBusID: 0000:0a:00.0\r\ntotalMemory: 3.95GiB freeMemory: 3.91GiB\r\n2017-10-10 16:28:49.048205: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 950M, pci bus id: 0000:0a:00.0, compute capability: 5.0)\r\nDevice mapping:\r\n/job:localhost/replica:0/task:0/device:XLA_GPU:0 -> device: XLA_GPU device\r\n/job:localhost/replica:0/task:0/device:XLA_CPU:0 -> device: XLA_CPU device\r\n/job:localhost/replica:0/task:0/device:GPU:0 -> device: 0, name: GeForce GTX 950M, pci bus id: 0000:0a:00.0, compute capability: 5.0\r\n2017-10-10 16:28:49.064960: I tensorflow/core/common_runtime/direct_session.cc:299] Device mapping:\r\n/job:localhost/replica:0/task:0/device:XLA_GPU:0 -> device: XLA_GPU device\r\n/job:localhost/replica:0/task:0/device:XLA_CPU:0 -> device: XLA_CPU device\r\n/job:localhost/replica:0/task:0/device:GPU:0 -> device: 0, name: GeForce GTX 950M, pci bus id: 0000:0a:00.0, compute capability: 5.0\r\n\r\nSvd: (Svd): /job:localhost/replica:0/task:0/device:GPU:0\r\n2017-10-10 16:28:49.067234: I tensorflow/core/common_runtime/placer.cc:874] Svd: (Svd)/job:localhost/replica:0/task:0/device:GPU:0\r\nPlaceholder: (Placeholder): /job:localhost/replica:0/task:0/device:GPU:0\r\n2017-10-10 16:28:49.067302: I tensorflow/core/common_runtime/placer.cc:874] Placeholder: (Placeholder)/job:localhost/replica:0/task:0/device:GPU:0\r\n2017-10-10 16:28:49.074053: I tensorflow/core/kernels/cuda_solvers.cc:159] Creating CudaSolver handles for stream 0x488e860\r\npython main.py  27.50s user 2.30s system 100% cpu 29.658 total\r\n```\r\n\r\n## run on CPU\r\n`time python main.py -`\r\n```\r\n2017-10-10 16:29:53.252138: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:892] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2017-10-10 16:29:53.252572: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties:\r\nname: GeForce GTX 950M major: 5 minor: 0 memoryClockRate(GHz): 1.124\r\npciBusID: 0000:0a:00.0\r\ntotalMemory: 3.95GiB freeMemory: 3.91GiB\r\n2017-10-10 16:29:53.252600: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: GeForce GTX 950M, pci bus id: 0000:0a:00.0, compute capability: 5.0)\r\nDevice mapping:\r\n/job:localhost/replica:0/task:0/device:XLA_GPU:0 -> device: XLA_GPU device\r\n/job:localhost/replica:0/task:0/device:XLA_CPU:0 -> device: XLA_CPU device\r\n/job:localhost/replica:0/task:0/device:GPU:0 -> device: 0, name: GeForce GTX 950M, pci bus id: 0000:0a:00.0, compute capability: 5.0\r\n2017-10-10 16:29:53.269242: I tensorflow/core/common_runtime/direct_session.cc:299] Device mapping:\r\n/job:localhost/replica:0/task:0/device:XLA_GPU:0 -> device: XLA_GPU device\r\n/job:localhost/replica:0/task:0/device:XLA_CPU:0 -> device: XLA_CPU device\r\n/job:localhost/replica:0/task:0/device:GPU:0 -> device: 0, name: GeForce GTX 950M, pci bus id: 0000:0a:00.0, compute capability: 5.0\r\n\r\nSvd: (Svd): /job:localhost/replica:0/task:0/device:CPU:0\r\n2017-10-10 16:29:53.271505: I tensorflow/core/common_runtime/placer.cc:874] Svd: (Svd)/job:localhost/replica:0/task:0/device:CPU:0\r\nPlaceholder: (Placeholder): /job:localhost/replica:0/task:0/device:CPU:0\r\n2017-10-10 16:29:53.271544: I tensorflow/core/common_runtime/placer.cc:874] Placeholder: (Placeholder)/job:localhost/replica:0/task:0/device:CPU:0\r\npython main.py -  34.33s user 10.68s system 621% cpu 7.241 total\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13460", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13460/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13460/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13460/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13460", "id": 262338537, "node_id": "MDU6SXNzdWUyNjIzMzg1Mzc=", "number": 13460, "title": "Feature request: segment_argmax", "user": {"login": "RanBenIzhak", "id": 28354560, "node_id": "MDQ6VXNlcjI4MzU0NTYw", "avatar_url": "https://avatars2.githubusercontent.com/u/28354560?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RanBenIzhak", "html_url": "https://github.com/RanBenIzhak", "followers_url": "https://api.github.com/users/RanBenIzhak/followers", "following_url": "https://api.github.com/users/RanBenIzhak/following{/other_user}", "gists_url": "https://api.github.com/users/RanBenIzhak/gists{/gist_id}", "starred_url": "https://api.github.com/users/RanBenIzhak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RanBenIzhak/subscriptions", "organizations_url": "https://api.github.com/users/RanBenIzhak/orgs", "repos_url": "https://api.github.com/users/RanBenIzhak/repos", "events_url": "https://api.github.com/users/RanBenIzhak/events{/privacy}", "received_events_url": "https://api.github.com/users/RanBenIzhak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-10-03T08:06:27Z", "updated_at": "2020-02-29T01:12:08Z", "closed_at": null, "author_association": "NONE", "body": "Currently trying to return argmax from a tensor for selected slices (segments)\r\nslices do not have the same length, so reshaping can't be used.\r\nwas looking for a function similar to tf.segment_max, only with indices as the return value.\r\n\r\nfor e.g\r\na = [1, 2, 3, 4, 5, 6]\r\nseg = [0, 0, 0, 1, 1, 2]\r\ntf.segment_argmax  return value will be\r\n[2, 4, 5]\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13437", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13437/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13437/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13437/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13437", "id": 261954178, "node_id": "MDU6SXNzdWUyNjE5NTQxNzg=", "number": 13437, "title": "Sin family identities for y=x yield bad gradients", "user": {"login": "TylerBalsam", "id": 6165535, "node_id": "MDQ6VXNlcjYxNjU1MzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/6165535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TylerBalsam", "html_url": "https://github.com/TylerBalsam", "followers_url": "https://api.github.com/users/TylerBalsam/followers", "following_url": "https://api.github.com/users/TylerBalsam/following{/other_user}", "gists_url": "https://api.github.com/users/TylerBalsam/gists{/gist_id}", "starred_url": "https://api.github.com/users/TylerBalsam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TylerBalsam/subscriptions", "organizations_url": "https://api.github.com/users/TylerBalsam/orgs", "repos_url": "https://api.github.com/users/TylerBalsam/repos", "events_url": "https://api.github.com/users/TylerBalsam/events{/privacy}", "received_events_url": "https://api.github.com/users/TylerBalsam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-01T23:07:50Z", "updated_at": "2017-12-20T19:16:01Z", "closed_at": null, "author_association": "NONE", "body": "I'm writing a custom continuous piecewise function. At some point the function becomes an identity of f(x) = x, but while the loss decreases, the accuracy does not improve. Simply swapping in an \"x\" in the below code does cause everything to work smoothly.\r\n\r\nOriginally suspected tf.where as that has NaN gradient troubles, so I rewrote an equivalent function using boolean_mask. Still the same issue. I also attempted to trim values to prevent NaN propagation. A simplified version of the code is below (the troublesome statement in question being tf.cos(i*tf.acos(x)), which equals x):\r\n\r\n    i = 1\r\n\r\n    location_value = tf.stack([\r\n        tf.less_equal(tf.abs(x), 1), # between_neg_1_and_1\r\n        tf.greater(x, 1), # greater_than_1\r\n        tf.less(x, -1), # less_than_neg_1\r\n        tf.is_nan(x)] \r\n    , -1)\r\n\r\n    res = tf.stack([\r\n        tf.cos(i*tf.acos(tf.minimum(tf.maximum(x, -1), 1))),\r\n        x,\r\n        x,\r\n        0*x]\r\n    , -1)\r\n\r\n    out_shape = x.get_shape().as_list()\r\n    out_shape[0] = batch_size\r\n\r\n    res = tf.reshape(tf.boolean_mask(res, location_value), out_shape)\r\n\r\n\r\n\r\n------------------------\r\n\r\n== cat /etc/issue ===============================================\r\nLinux tyler-desktop 4.2.0-42-generic #49~14.04.1-Ubuntu SMP Wed Jun 29 20:22:11 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\nVERSION=\"14.04.5 LTS, Trusty Tahr\"\r\nVERSION_ID=\"14.04\"\r\n\r\n== are we in docker =============================================\r\nNo\r\n\r\n== compiler =====================================================\r\nc++ (Ubuntu 4.8.5-2ubuntu1~14.04.1) 4.8.5\r\nCopyright (C) 2015 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\n\r\n== uname -a =====================================================\r\nLinux tyler-desktop 4.2.0-42-generic #49~14.04.1-Ubuntu SMP Wed Jun 29 20:22:11 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n== check pips ===================================================\r\nnumpy (1.12.0)\r\nprotobuf (3.1.0.post1)\r\ntensorflow-gpu (0.12.1)\r\n\r\n== check for virtualenv =========================================\r\nFalse\r\n\r\n== tensorflow import ============================================\r\ntf.VERSION = 0.12.1\r\ntf.GIT_VERSION = v0.12.0-10-g4d924e7-dirty\r\ntf.COMPILER_VERSION = v0.12.0-10-g4d924e7-dirty\r\nSanity check: array([1], dtype=int32)\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcublas.so locally\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcudnn.so locally\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcufft.so locally\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcuda.so.1 locally\r\nI tensorflow/stream_executor/dso_loader.cc:128] successfully opened CUDA library libcurand.so locally\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH /root/torch/install/lib:/root/torch/install/lib:/usr/local/cuda-8.0/lib64:/usr/lib:/usr/openwin/lib:/usr/dt/lib:/X11.6/lib:/X11.5/lib:/uva/lib:/gnu/lib:/usr/local/cuda/lib64:/usr/local/cuda:/usr/bin/g++\r\nDYLD_LIBRARY_PATH /root/torch/install/lib:/root/torch/install/lib:\r\n\r\n== nvidia-smi ===================================================\r\nSun Oct  1 18:05:01 2017       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 367.48                 Driver Version: 367.48                    |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  GeForce GTX 1070    Off  | 0000:01:00.0      On |                  N/A |\r\n|  0%   37C    P0    40W / 230W |    728MiB /  8110MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID  Type  Process name                               Usage      |\r\n|=============================================================================|\r\n|    0      1137    G   /usr/bin/X                                     370MiB |\r\n|    0      1761    G   compiz                                         243MiB |\r\n|    0      2645    G   /usr/lib/firefox/firefox                         1MiB |\r\n|    0      3024    G   ...ble-features=DocumentWriteEvaluator<Disal   111MiB |\r\n+-----------------------------------------------------------------------------+\r\n\r\n== cuda libs  ===================================================\r\n/usr/local/cuda-8.0/doc/man/man7/libcudart.so.7\r\n/usr/local/cuda-8.0/doc/man/man7/libcudart.7\r\n/usr/local/cuda-8.0/lib64/libcudart.so.8.0.44\r\n/usr/local/cuda-8.0/lib64/libcudart_static.a\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13426", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13426/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13426/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13426/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13426", "id": 261879377, "node_id": "MDU6SXNzdWUyNjE4NzkzNzc=", "number": 13426, "title": "//tensorflow/contrib/android:libtensorflow_inference.so build fails when compiling @protobuf//:protobuf", "user": {"login": "daj", "id": 739125, "node_id": "MDQ6VXNlcjczOTEyNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/739125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daj", "html_url": "https://github.com/daj", "followers_url": "https://api.github.com/users/daj/followers", "following_url": "https://api.github.com/users/daj/following{/other_user}", "gists_url": "https://api.github.com/users/daj/gists{/gist_id}", "starred_url": "https://api.github.com/users/daj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daj/subscriptions", "organizations_url": "https://api.github.com/users/daj/orgs", "repos_url": "https://api.github.com/users/daj/repos", "events_url": "https://api.github.com/users/daj/events{/privacy}", "received_events_url": "https://api.github.com/users/daj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2017-09-30T23:20:48Z", "updated_at": "2018-03-27T19:40:13Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Docker image gcr.io/tensorflow/tensorflow:1.3.0-devel\r\n- **TensorFlow installed from (source or binary)**: Source\r\n- **TensorFlow version (use command below)**: 1.3.0\r\n- **Python version**: Python 2.7.12\r\n- **Bazel version (if compiling from source)**: 0.5.0\r\n\r\nOutput from `tf_env_collect.sh` is at the end of this report.\r\n\r\n### Describe the problem\r\nI'm trying to follow the instructions in [print_selective_registration_header.py](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/tools/print_selective_registration_header.py#L15) to create a smaller TensorFlow binary size.\r\n\r\nPart of those instructions involves building ` //tensorflow/contrib/android:libtensorflow_inference.so`, but that build fails every time.\r\n\r\nI'm doing this in the `gcr.io/tensorflow/tensorflow:1.3.0-devel` Docker container (not sure if this is appropriate because I can't find documentation explaining what each container is for).  I tried to use the `1.3.0` container, but that doesn't contain the TensorFlow repo or `git`.\r\n\r\n### Source code / logs\r\n\r\nHere are the steps I took (the first steps succeeded so I have not included their output):\r\n```\r\n$ docker run -it -v $HOME/TF:/TF gcr.io/tensorflow/tensorflow:1.3.0-devel bash\r\n\r\n# bazel build tensorflow/python/tools:print_selective_registration_header\r\n\r\n# bazel-bin/tensorflow/python/tools/print_selective_registration_header --graphs=/TF/mnist_model_graph.pb > ops_to_register.h\r\n\r\n# bazel build -c opt --copt=\"-DSELECTIVE_REGISTRATION\" --copt=\"-DSUPPORT_SELECTIVE_REGISTRATION\" //tensorflow/contrib/android:libtensorflow_inference.so     --host_crosstool_top=@bazel_tools//tools/cpp:toolchain --crosstool_top=//external:android/crosstool --cpu=armeabi-v7a --verbose_failures\r\nINFO: Reading 'startup' options from /etc/bazel.bazelrc: --batch\r\nWARNING: /tensorflow/tensorflow/core/BUILD:935:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib_lite: please do not import '//tensorflow/core/kernels:avgpooling_op.h' directly. You should either move the file to this package or depend on an appropriate rule there.\r\n<snip repeated warning>\r\nWARNING: /tensorflow/tensorflow/core/BUILD:935:12: in srcs attribute of cc_library rule //tensorflow/core:android_tensorflow_lib_lite: please do not import '//tensorflow/core/util/tensor_bundle:tensor_bundle.h' directly. You should either move the file to this package or depend on an appropriate rule there.\r\nINFO: Found 1 target...\r\nERROR: /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/external/protobuf/BUILD:133:1: C++ compilation of rule '@protobuf//:protobuf' failed: false failed: error executing command \r\n  (cd /root/.cache/bazel/_bazel_root/68a62076e91007a7908bc42a32e4cff9/execroot/tensorflow && \\\r\n  exec env - \\\r\n    PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\r\n    PWD=/proc/self/cwd \\\r\n    PYTHON_BIN_PATH=/usr/bin/python \\\r\n    PYTHON_LIB_PATH=/usr/local/lib/python2.7/dist-packages \\\r\n    TF_NEED_CUDA=0 \\\r\n    TF_NEED_OPENCL=0 \\\r\n  /bin/false -DSELECTIVE_REGISTRATION -DSUPPORT_SELECTIVE_REGISTRATION -MD -MF bazel-out/stub_armeabi-v7a-opt/bin/external/protobuf/_objs/protobuf/external/protobuf/src/google/protobuf/io/printer.pic.d '-frandom-seed=bazel-out/stub_armeabi-v7a-opt/bin/external/protobuf/_objs/protobuf/external/protobuf/src/google/protobuf/io/printer.pic.o' -fPIC -iquote external/protobuf -iquote bazel-out/stub_armeabi-v7a-opt/genfiles/external/protobuf -iquote external/bazel_tools -iquote bazel-out/stub_armeabi-v7a-opt/genfiles/external/bazel_tools -isystem external/protobuf/src -isystem bazel-out/stub_armeabi-v7a-opt/genfiles/external/protobuf/src -isystem external/bazel_tools/tools/cpp/gcc3 -DHAVE_PTHREAD -Wall -Wwrite-strings -Woverloaded-virtual -Wno-sign-compare -Wno-unused-function -c external/protobuf/src/google/protobuf/io/printer.cc -o bazel-out/stub_armeabi-v7a-opt/bin/external/protobuf/_objs/protobuf/external/protobuf/src/google/protobuf/io/printer.pic.o): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.\r\nTarget //tensorflow/contrib/android:libtensorflow_inference.so failed to build\r\nINFO: Elapsed time: 202.538s, Critical Path: 11.70s\r\n```\r\nI also tried (with the same result):\r\n - `bazel clean` before the failing build step.\r\n - Removing the ops_to_register.h file and the `--copt` parameters.\r\n\r\nHere's my full environment info (which shows an error when running pywrap_tensorflow_internal):\r\n```\r\n# cat tf_env.txt\r\n\r\n== cat /etc/issue ===============================================\r\nLinux 813a49ffd3e0 4.9.27-moby #1 SMP Thu May 11 04:01:18 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\r\nVERSION_ID=\"16.04\"\r\nVERSION_CODENAME=xenial\r\n\r\n== are we in docker =============================================\r\nYes\r\n\r\n== compiler =====================================================\r\nc++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609\r\nCopyright (C) 2015 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\n\r\n== uname -a =====================================================\r\nLinux 813a49ffd3e0 4.9.27-moby #1 SMP Thu May 11 04:01:18 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n== check pips ===================================================\r\nnumpy (1.13.1)\r\nprotobuf (3.4.0)\r\ntensorflow (1.3.0)\r\ntensorflow-tensorboard (0.1.2)\r\n\r\n== check for virtualenv =========================================\r\nFalse\r\n\r\n== tensorflow import ============================================\r\ntf.VERSION = 1.3.0\r\ntf.GIT_VERSION = v1.3.0-rc2-20-g0787eee\r\ntf.COMPILER_VERSION = v1.3.0-rc2-20-g0787eee\r\nSanity check: array([1], dtype=int32)\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"tensorflow/__init__.py\", line 24, in <module>\r\n    from tensorflow.python import *\r\n  File \"tensorflow/python/__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"tensorflow/python/pywrap_tensorflow.py\", line 52, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"tensorflow/python/pywrap_tensorflow.py\", line 41, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\nImportError: No module named pywrap_tensorflow_internal\r\n\r\n\r\nFailed to load the native TensorFlow runtime.\r\n\r\nSee https://www.tensorflow.org/install/install_sources#common_installation_problems\r\n\r\nfor some common reasons and solutions.  Include the entire stack trace\r\nabove this error message when asking for help.\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH is unset\r\nDYLD_LIBRARY_PATH is unset\r\n\r\n== nvidia-smi ===================================================\r\n./tools/tf_env_collect.sh: line 105: nvidia-smi: command not found\r\n\r\n== cuda libs  ===================================================\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13360", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13360/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13360/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13360/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13360", "id": 261272588, "node_id": "MDU6SXNzdWUyNjEyNzI1ODg=", "number": 13360, "title": "Feature request: tf.reduce_median()", "user": {"login": "thjashin", "id": 5267554, "node_id": "MDQ6VXNlcjUyNjc1NTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5267554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thjashin", "html_url": "https://github.com/thjashin", "followers_url": "https://api.github.com/users/thjashin/followers", "following_url": "https://api.github.com/users/thjashin/following{/other_user}", "gists_url": "https://api.github.com/users/thjashin/gists{/gist_id}", "starred_url": "https://api.github.com/users/thjashin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thjashin/subscriptions", "organizations_url": "https://api.github.com/users/thjashin/orgs", "repos_url": "https://api.github.com/users/thjashin/repos", "events_url": "https://api.github.com/users/thjashin/events{/privacy}", "received_events_url": "https://api.github.com/users/thjashin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-09-28T10:42:29Z", "updated_at": "2018-07-07T17:14:39Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Hi, is there any plan to support a `tf.reduce_median` operator? Now one have to resort to `tf.nn.top_k` for implementing this."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13329", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13329/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13329/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13329/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13329", "id": 260831753, "node_id": "MDU6SXNzdWUyNjA4MzE3NTM=", "number": 13329, "title": "Auto-Parallel excludes update operators of sparse tensors", "user": {"login": "sj6077", "id": 2465713, "node_id": "MDQ6VXNlcjI0NjU3MTM=", "avatar_url": "https://avatars1.githubusercontent.com/u/2465713?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sj6077", "html_url": "https://github.com/sj6077", "followers_url": "https://api.github.com/users/sj6077/followers", "following_url": "https://api.github.com/users/sj6077/following{/other_user}", "gists_url": "https://api.github.com/users/sj6077/gists{/gist_id}", "starred_url": "https://api.github.com/users/sj6077/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sj6077/subscriptions", "organizations_url": "https://api.github.com/users/sj6077/orgs", "repos_url": "https://api.github.com/users/sj6077/repos", "events_url": "https://api.github.com/users/sj6077/events{/privacy}", "received_events_url": "https://api.github.com/users/sj6077/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-27T03:00:47Z", "updated_at": "2018-04-04T06:39:24Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nLinux Ubuntu 14.04\r\n- **TensorFlow installed from (source or binary)**:\r\nsource\r\n- **TensorFlow version (use command below)**:\r\nr1.3\r\n- **Bazel version (if compiling from source)**:\r\n0.4.5\r\n- **CUDA/cuDNN version**:\r\ncuda 8.0/cudnn 5.1.5\r\n- **GPU model and memory**:\r\nTesla P40 \r\n- **Exact command to reproduce**:\r\n\r\n### Describe the problem\r\nI'm trying to use auto_parallel in grappler, but I found it only controls dense tensors. In the code, only below operators update averaged gradients, but what about 'ScatterSub' for sparse tensors? Do you have a plan to implement it? \r\n\r\n```\r\nconst std::set<string> apply_gradients_ops = {\"ApplyGradientDescent\",\r\n                                                \"ApplyProximalGradientDescent\",\r\n                                                \"ApplyAdadelta\",\r\n                                                \"ApplyAdagrad\",\r\n                                                \"ApplyProximalAdagrad\",\r\n                                                \"ApplyAdagradDA\",\r\n                                                \"ApplyFtrl\",\r\n                                                \"ApplyMomentum\",\r\n                                                \"ApplyAdam\",\r\n                                                \"ApplyRMSProp\",\r\n                                                \"ApplyCenteredRMSProp\"};\r\n```\r\n\r\n### Source code / logs"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13308", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13308/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13308/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13308/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13308", "id": 260571953, "node_id": "MDU6SXNzdWUyNjA1NzE5NTM=", "number": 13308, "title": "Attempting to use the CPU Work Sharder segfaults on g++ 5.4.0", "user": {"login": "sjperkins", "id": 3530212, "node_id": "MDQ6VXNlcjM1MzAyMTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/3530212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjperkins", "html_url": "https://github.com/sjperkins", "followers_url": "https://api.github.com/users/sjperkins/followers", "following_url": "https://api.github.com/users/sjperkins/following{/other_user}", "gists_url": "https://api.github.com/users/sjperkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjperkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjperkins/subscriptions", "organizations_url": "https://api.github.com/users/sjperkins/orgs", "repos_url": "https://api.github.com/users/sjperkins/repos", "events_url": "https://api.github.com/users/sjperkins/events{/privacy}", "received_events_url": "https://api.github.com/users/sjperkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 31, "created_at": "2017-09-26T10:25:09Z", "updated_at": "2019-08-26T08:30:35Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\n  \r\nI've adapted the ZeroOut operator from the [Adding a New Op](https://www.tensorflow.org/extend/adding_an_op) example.\r\n\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\n\r\nLinux Ubuntu 16.04\r\n\r\n- **TensorFlow installed from (source or binary)**:\r\n\r\nbinary GPU 1.3.0\r\n\r\n- **TensorFlow version (use command below)**:\r\n\r\n$ python -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n('v1.3.0-rc2-20-g0787eee', '1.3.0')\r\n\r\n- **Python version**: \r\n\r\n2.7.12\r\n\r\n- **Bazel version (if compiling from source)**:\r\n\r\nN/A\r\n\r\n- **CUDA/cuDNN version**:\r\n\r\nN/A\r\n\r\n- **GPU model and memory**:\r\n\r\nN/A\r\n\r\n- **Exact command to reproduce**:\r\n\r\nTest operator: [shard_fails.zip](https://github.com/tensorflow/tensorflow/files/1332745/shard_fails.zip)\r\n\r\n```bash\r\n$ make\r\n$ python test_op.py\r\n```\r\n\r\n\r\n\r\n### Describe the problem\r\n\r\nWhen the above C++ operator runs, it'll print the number of threads in the pool (8) and then segfault on the Shard call.\r\n\r\n### Source code / logs\r\n\r\nC++ operator code:\r\n\r\n```cpp\r\n#define EIGEN_USE_THREADS\r\n\r\n#include \"tensorflow/core/lib/core/threadpool.h\"\r\n#include \"tensorflow/core/framework/op.h\"\r\n#include \"tensorflow/core/framework/op_kernel.h\"\r\n#include \"tensorflow/core/framework/shape_inference.h\"\r\n#include \"tensorflow/core/util/work_sharder.h\"\r\n\r\nusing namespace tensorflow;\r\n\r\nREGISTER_OP(\"ZeroOut\")\r\n    .Input(\"to_zero: int32\")\r\n    .Output(\"zeroed: int32\")\r\n    .SetShapeFn([](::tensorflow::shape_inference::InferenceContext* c) {\r\n      c->set_output(0, c->input(0));\r\n      return Status::OK();\r\n    });\r\n\r\nclass ZeroOutOp : public OpKernel {\r\n public:\r\n  explicit ZeroOutOp(OpKernelConstruction* context) : OpKernel(context) {}\r\n\r\n  void Compute(OpKernelContext* context) override {\r\n    // Grab the input tensor\r\n    const Tensor& input_tensor = context->input(0);\r\n    auto input = input_tensor.flat<int32>();\r\n\r\n    // Create an output tensor\r\n    Tensor* output_tensor = NULL;\r\n    OP_REQUIRES_OK(context, context->allocate_output(0, input_tensor.shape(),\r\n                                                     &output_tensor));\r\n    auto output_flat = output_tensor->flat<int32>();\r\n\r\n    // Set all but the first element of the output tensor to 0.\r\n    const int N = input.size();\r\n\r\n    auto pool = context->device()->tensorflow_cpu_worker_threads()->workers;\r\n    printf(\"Pool Threads %d\\n\", pool->NumThreads());\r\n    Shard(pool->NumThreads(), pool, N, 10, [&](int64 start, int64 end) {\r\n        for(int64 i=start; i<end; ++i)\r\n            { output_flat(i) = 0; }\r\n    });\r\n\r\n    if(N > 0)\r\n        { output_flat(0) = input(0); }\r\n  }\r\n};\r\n\r\nREGISTER_KERNEL_BUILDER(Name(\"ZeroOut\").Device(DEVICE_CPU), ZeroOutOp);\r\n```\r\n\r\n\r\nSee below the gdb trace:\r\n\r\n```\r\nCore was generated by `python test_op.py'.\r\nProgram terminated with signal SIGSEGV, Segmentation fault.\r\n#0  std::_Function_handler<void (long long, long long), ZeroOutOp::Compute(tensorflow::OpKernelContext*)::{lambda(long long, long long)#1}>::_M_invoke(std::_Any_data const&, long long&&, std::_Any_data const&) (__functor=..., __args#0=<unknown type in tfop.so, CU 0x0, DIE 0x41c73>, __args#1=<unknown type in tfop.so, CU 0x0, DIE 0x41c78>) at /usr/include/c++/5/functional:1871\r\n1871\t\t(*_Base::_M_get_pointer(__functor))(\r\n[Current thread is 1 (Thread 0x7f38a6605700 (LWP 3771))]\r\n(gdb) bt\r\n#0  std::_Function_handler<void (long long, long long), ZeroOutOp::Compute(tensorflow::OpKernelContext*)::{lambda(long long, long long)#1}>::_M_invoke(std::_Any_data const&, long long&&, std::_Any_data const&) (__functor=..., __args#0=<unknown type in tfop.so, CU 0x0, DIE 0x41c73>, __args#1=<unknown type in tfop.so, CU 0x0, DIE 0x41c78>) at /usr/include/c++/5/functional:1871\r\n#1  0x00007f3879dcc75d in tensorflow::thread::ThreadPool::Impl::ParallelFor(long long, long long, std::function<void (long long, long long)>) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#2  0x00007f3879dcc93f in tensorflow::thread::ThreadPool::ParallelFor(long long, long long, std::function<void (long long, long long)>) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#3  0x00007f3879d4d995 in tensorflow::Shard(int, tensorflow::thread::ThreadPool*, long long, long long, std::function<void (long long, long long)>) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#4  0x00007f3850bfb79e in ZeroOutOp::Compute (this=0x62dacc0, context=0x7ffd1a20fe30) at tf_op.cpp:42\r\n#5  0x00007f3879a2563c in tensorflow::ThreadPoolDevice::Compute(tensorflow::OpKernel*, tensorflow::OpKernelContext*) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#6  0x00007f38799f5a58 in tensorflow::(anonymous namespace)::ExecutorState::Process(tensorflow::(anonymous namespace)::ExecutorState::TaggedNode, long long) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#7  0x00007f38799f61fa in std::_Function_handler<void (), tensorflow::(anonymous namespace)::ExecutorState::ScheduleReady(tensorflow::gtl::InlinedVector<tensorflow::(anonymous namespace)::ExecutorState::TaggedNode, 8> const&, tensorflow::(anonymous namespace)::ExecutorState::TaggedNodeReadyQueue*)::{lambda()#1}>::_M_invoke(std::_Any_data const&) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#8  0x00007f3879a035c4 in std::_Function_handler<void (std::function<void ()>), tensorflow::GraphRunner::Run(tensorflow::Graph*, tensorflow::FunctionLibraryRuntime*, std::vector<std::pair<std::string, tensorflow::Tensor>, std::allocator<std::pair<std::string, tensorflow::Tensor> > > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<tensorflow::Tensor, std::allocator<tensorflow::Tensor> >*)::{lambda(std::function<void ()>)#1}>::_M_invoke(std::_Any_data const&, std::function<void ()>) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#9  0x00007f38799e895b in std::function<void (std::function<void ()>)>::operator()(std::function<void ()>) const ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#10 0x00007f38799e9043 in tensorflow::(anonymous namespace)::ExecutorState::ScheduleReady(tensorflow::gtl::InlinedVector<tensorflow::(anonymous namespace)::ExecutorState::TaggedNode, 8> const&, tensorflow::(anonymous namespace)::ExecutorState::TaggedNodeReadyQueue*) [clone .part.246] () from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#11 0x00007f38799ecf5e in tensorflow::(anonymous namespace)::ExecutorImpl::RunAsync(tensorflow::Executor::Args const&, std::function<void (tensorflow::Status const&)>) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#12 0x00007f3879a045e4 in tensorflow::GraphRunner::Run(tensorflow::Graph*, tensorflow::FunctionLibraryRuntime*, std::vector<std::pair<std::string, tensorflow::Tensor>, std::allocator<std::pair<std::string, tensorflow::Tensor> > > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<tensorflow::Tensor, std::allocator<tensorflow::Tensor> >*) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#13 0x00007f38799dce27 in tensorflow::ConstantFold(tensorflow::ConstantFoldingOptions const&, tensorflow::FunctionLibraryRuntime*, tensorflow::Env*, tensorflow::Device*, tensorflow::Graph*, bool*) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#14 0x00007f3879a02fea in tensorflow::GraphOptimizer::Optimize(tensorflow::FunctionLibraryRuntime*, tensorflow::Env*, tensorflow::Device*, std::unique_ptr<tensorflow::Graph, std::default_delete<tensorflow::Graph> >*) () from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#15 0x00007f38799a9469 in tensorflow::DirectSession::GetOrCreateExecutors(tensorflow::thread::ThreadPool*, tensorflow::gtl::ArraySlice<std::string>, tensorflow::gtl::ArraySlice<std::string>, tensorflow::gtl::ArraySlice<std::string>, tensorflow::DirectSession::ExecutorsAndKeys**, tensorflow::DirectSession::RunStateArgs*) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#16 0x00007f38799aa06c in tensorflow::DirectSession::Run(tensorflow::RunOptions const&, std::vector<std::pair<std::string, tensorflow::Tensor>, std::allocator<std::pair<std::string, tensorflow::Tensor> > > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<std::string, std::allocator<std::string> > const&, std::vector<tensorflow::Tensor, std::allocator<tensorflow::Tensor> >*, tensorflow::RunMetadata*) () from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#17 0x00007f387799b2d7 in TF_Run_Helper(tensorflow::Session*, char const*, TF_Buffer const*, std::vector<std::pair<std::string, tensorflow::Tensor>, std::allocator<std::pair<std::string, tensorflow::Tensor> > > const&, std::vector<std::string, std::allocator<std::string> > const&, TF_Tensor**, std::vector<std::string, std::allocator<std::string> > const&, TF_Buffer*, TF_Status*) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#18 0x00007f387799b604 in TF_Run () from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#19 0x00007f38778037e2 in tensorflow::TF_Run_wrapper_helper(TF_DeprecatedSession*, char const*, TF_Buffer const*, _object*, tensorflow::gtl::InlinedVector<char const*, 8> const&, tensorflow::gtl::InlinedVector<char const*, 8> const&, TF_Status*, tensorflow::gtl::InlinedVector<_object*, 8>*, TF_Buffer*) ()\r\n   from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#20 0x00007f3877803be1 in tensorflow::TF_Run_wrapper(TF_DeprecatedSession*, TF_Buffer const*, _object*, tensorflow::gtl::InlinedVector<char const*, 8> const&, tensorflow::gtl::InlinedVector<char const*, 8> const&, TF_Status*, tensorflow::gtl::InlinedVector<_object*, 8>*, TF_Buffer*) () from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#21 0x00007f38777ca793 in _wrap_TF_Run () from /home/sperkins/venv/mb/local/lib/python2.7/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#22 0x00000000004c468a in PyEval_EvalFrameEx ()\r\n#23 0x00000000004c2765 in PyEval_EvalCodeEx ()\r\n#24 0x00000000004de6fe in ?? ()\r\n#25 0x00000000004b0cb3 in PyObject_Call ()\r\n#26 0x00000000004c6ad1 in PyEval_EvalFrameEx ()\r\n#27 0x00000000004c2765 in PyEval_EvalCodeEx ()\r\n#28 0x00000000004ca8d1 in PyEval_EvalFrameEx ()\r\n#29 0x00000000004c2765 in PyEval_EvalCodeEx ()\r\n---Type <return> to continue, or q <return> to quit---\r\n#30 0x00000000004ca8d1 in PyEval_EvalFrameEx ()\r\n#31 0x00000000004c2765 in PyEval_EvalCodeEx ()\r\n#32 0x00000000004ca8d1 in PyEval_EvalFrameEx ()\r\n#33 0x00000000004c2765 in PyEval_EvalCodeEx ()\r\n#34 0x00000000004ca099 in PyEval_EvalFrameEx ()\r\n#35 0x00000000004c2765 in PyEval_EvalCodeEx ()\r\n#36 0x00000000004c2509 in PyEval_EvalCode ()\r\n#37 0x00000000004f1def in ?? ()\r\n#38 0x00000000004ec652 in PyRun_FileExFlags ()\r\n#39 0x00000000004eae31 in PyRun_SimpleFileExFlags ()\r\n#40 0x000000000049e14a in Py_Main ()\r\n#41 0x00007f38a5e4c830 in __libc_start_main (main=0x49dab0 <main>, argc=2, argv=0x7ffd1a213618, init=<optimised out>, fini=<optimised out>, rtld_fini=<optimised out>, stack_end=0x7ffd1a213608)\r\n    at ../csu/libc-start.c:291\r\n#42 0x000000000049d9d9 in _start ()\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13295", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13295/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13295/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13295/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13295", "id": 260347670, "node_id": "MDU6SXNzdWUyNjAzNDc2NzA=", "number": 13295, "title": "Pre-built binaries with symbol information?", "user": {"login": "yaroslavvb", "id": 23068, "node_id": "MDQ6VXNlcjIzMDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/23068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaroslavvb", "html_url": "https://github.com/yaroslavvb", "followers_url": "https://api.github.com/users/yaroslavvb/followers", "following_url": "https://api.github.com/users/yaroslavvb/following{/other_user}", "gists_url": "https://api.github.com/users/yaroslavvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaroslavvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaroslavvb/subscriptions", "organizations_url": "https://api.github.com/users/yaroslavvb/orgs", "repos_url": "https://api.github.com/users/yaroslavvb/repos", "events_url": "https://api.github.com/users/yaroslavvb/events{/privacy}", "received_events_url": "https://api.github.com/users/yaroslavvb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2017-09-25T17:01:49Z", "updated_at": "2018-01-03T00:27:02Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "What you you guys think about providing CI version of TensorFlow with built-in symbol information? This would make it easier to report bugs.\r\n\r\nI believe the following is sufficient to get optimized version with symbol tables.\r\n`blaze build --cxxopt=-g2 --linkopt=-g2 --strip never -c opt`\r\n\r\nMy current problem is that I'm occasionally hitting segfaults due to `tensorflow::strings::FloatToBuffer`. I can't reproduce this in any small example. If there were a version of tf with symbol tables, I could just gdb on the core file and do `info locals` to get the value of offending float that causes the crash.\r\n\r\n```\r\n#0  0x00007ffb54a4941d in std::_Hashtable<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, float>, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, float> >, std::__detail::_Select1st, std::equal_to<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::hash<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits<true, false, true> >::_M_find_before_node(unsigned long, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, unsigned long) const ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#1  0x00007ffb5745b76e in float tensorflow::(anonymous namespace)::locale_independent_strtonum<float>(char const*, char const**) ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#2  0x00007ffb5745bf4c in tensorflow::strings::safe_strtof(char const*, float*)\r\n    ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#3  0x00007ffb5745bfe9 in tensorflow::strings::FloatToBuffer(float, char*) ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#4  0x00007ffb5735d7ce in tensorflow::Tensor::SummarizeValue[abi:cxx11](long long) const ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#5  0x00007ffb5735e3b5 in tensorflow::Tensor::DebugString[abi:cxx11]() const ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#6  0x00007ffb572f21ab in tensorflow::(anonymous namespace)::SummarizeTensor(tensorflow::TensorProto const&) ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#7  0x00007ffb572f5529 in tensorflow::SummarizeAttrValue[abi:cxx11](tensorflow::AttrValue const&) ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#8  0x00007ffb57322b9d in tensorflow::SummarizeAttrsHelper(tensorflow::AttrSlice, tensorflow::StringPiece) ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#9  0x00007ffb573231f3 in tensorflow::SummarizeNodeDef[abi:cxx11](tensorflow::NodeDef const&) ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#10 0x00007ffb5732332f in tensorflow::SummarizeNode[abi:cxx11](tensorflow::Node const&) ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#11 0x00007ffb55fc7886 in tensorflow::(anonymous namespace)::ExecutorState::Process(tensorflow::(anonymous namespace)::ExecutorState::TaggedNode, long long) ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#12 0x00007ffb55fc93cf in std::_Function_handler<void (), tensorflow::(anonymous namespace)::ExecutorState::ScheduleReady(tensorflow::gtl::InlinedVector<tensorflow::(anonymous namespace)::ExecutorState::TaggedNode, 8> const&, tensorflow::(anonymous namespace)::ExecutorState::TaggedNodeReadyQueue*)::{lambda()#1}>::_M_invoke(std::_Any_data const&) ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#13 0x00007ffb57442c51 in Eigen::NonBlockingThreadPoolTempl<tensorflow::thread::EigenEnvironment>::WorkerLoop(int) ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#14 0x00007ffb57440d37 in std::_Function_handler<void (), tensorflow::thread::EigenEnvironment::CreateThread(std::function<void ()>)::{lambda()#1}>::_M_invoke(std::_Any_data const&) ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so\r\n#15 0x00007ffb6174c260 in ?? ()\r\n   from /home/yaroslav/anaconda3/envs/sep22/lib/python3.5/site-packages/scipy/sparse/../../../../libstdc++.so.6\r\n#16 0x00007ffb6d9926ba in start_thread (arg=0x7ffaa4906700)\r\n    at pthread_create.c:333\r\n#17 0x00007ffb6cdb03dd in clone ()\r\n    at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\r\n\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13269", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13269/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13269/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13269/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13269", "id": 260059621, "node_id": "MDU6SXNzdWUyNjAwNTk2MjE=", "number": 13269, "title": "TensorFlow 1.0 and 1.2 behave differently on MultiRNNCell.", "user": {"login": "heyzude", "id": 12981081, "node_id": "MDQ6VXNlcjEyOTgxMDgx", "avatar_url": "https://avatars3.githubusercontent.com/u/12981081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heyzude", "html_url": "https://github.com/heyzude", "followers_url": "https://api.github.com/users/heyzude/followers", "following_url": "https://api.github.com/users/heyzude/following{/other_user}", "gists_url": "https://api.github.com/users/heyzude/gists{/gist_id}", "starred_url": "https://api.github.com/users/heyzude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heyzude/subscriptions", "organizations_url": "https://api.github.com/users/heyzude/orgs", "repos_url": "https://api.github.com/users/heyzude/repos", "events_url": "https://api.github.com/users/heyzude/events{/privacy}", "received_events_url": "https://api.github.com/users/heyzude/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-24T05:33:15Z", "updated_at": "2017-09-26T00:02:38Z", "closed_at": null, "author_association": "NONE", "body": "The following code works well on TF 1.0.1, but doesn't work on TF 1.2 and above, leaving error massage, \r\n\r\nFile \"pb_OE_column_on_the_spot.py\", line 318, in <module>\r\n    outputs1, _states = tf.nn.dynamic_rnn(_multi_cells, tf.one_hot(_X, data_dim), dtype=tf.float32)\r\nValueError: Trying to share variable rnn/multi_rnn_cell/cell_0/basic_lstm_cell/kernel, but specified shape (256, 512) and found shape (132, 512).\r\n\r\nI followed the change after version 1.2: [https://github.com/tensorflow/tensorflow/releases](url),\r\nwhere states: To get 5 layers each with their own parameters, write: MultiRNNCell([LSTMCell(...) for _ in range(5)])\r\n\r\nand I also reviewed similar posts regarding same issue: [https://github.com/udacity/deep-learning/issues/132](url)\r\n\r\n    seq_length = 6\r\n    data_dim =4\r\n    hidden_dim = 12\r\n    X = tf.placeholder(tf.int32, [None, seq_length])\r\n    Y = tf.placeholder(tf.int32, [None]) \r\n    keep_prob = tf.placeholder(tf.float32) \r\n\r\n    X_one_hot = tf.one_hot(X, data_dim)\r\n    Y_one_hot = tf.one_hot(Y, 2) \r\n\r\n    def lstm_cell():\r\n        lstm = tf.contrib.rnn.BasicLSTMCell(hidden_dim, state_is_tuple=True)\r\n        drop = tf.contrib.rnn.DropoutWrapper(lstm, output_keep_prob=keep_prob)\r\n        return drop\r\n\r\n    multi_cells = tf.contrib.rnn.MultiRNNCell([lstm_cell() for _ in range(3)], state_is_tuple=True)\r\n    outputs1, _states = tf.nn.dynamic_rnn(multi_cells, X_one_hot, dtype=tf.float32)\r\n\r\nWhy does this error happen?\r\n.\r\n.\r\n.\r\nby the way, would 12 for the number of units in the LSTM cell be too small?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13243", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13243/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13243/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13243/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13243", "id": 259914192, "node_id": "MDU6SXNzdWUyNTk5MTQxOTI=", "number": 13243, "title": "Linking of rule '//tensorflow/contrib/factorization:gen_gen_clustering_ops_py_wrappers_cc' failed (missing -lcuda?)", "user": {"login": "tycho", "id": 29616, "node_id": "MDQ6VXNlcjI5NjE2", "avatar_url": "https://avatars0.githubusercontent.com/u/29616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tycho", "html_url": "https://github.com/tycho", "followers_url": "https://api.github.com/users/tycho/followers", "following_url": "https://api.github.com/users/tycho/following{/other_user}", "gists_url": "https://api.github.com/users/tycho/gists{/gist_id}", "starred_url": "https://api.github.com/users/tycho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tycho/subscriptions", "organizations_url": "https://api.github.com/users/tycho/orgs", "repos_url": "https://api.github.com/users/tycho/repos", "events_url": "https://api.github.com/users/tycho/events{/privacy}", "received_events_url": "https://api.github.com/users/tycho/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2017-09-22T19:29:32Z", "updated_at": "2018-12-19T18:43:43Z", "closed_at": null, "author_association": "NONE", "body": "Trying to build Tensorflow from a6f856b2f7920d4f74d7ca4e71967258423cc9f0 with CUDA and just started running into this issue:\r\n\r\n```\r\n____[7,182 / 7,674] Compiling tensorflow/core/graph/node_builder.cc\r\n____[7,183 / 7,675] Compiling tensorflow/core/graph/costmodel.cc\r\n____[7,245 / 7,715] Linking tensorflow/contrib/factorization/gen_gen_clustering_ops_py_wrappers_cc [for host]\r\n____[7,246 / 7,715] Linking tensorflow/contrib/tensor_forest/hybrid/gen_training_ops_py_wrappers_cc [for host]\r\n____[7,247 / 7,715] Linking tensorflow/cc/ops/lookup_ops_gen_cc [for host]\r\n____[7,248 / 7,715] Linking tensorflow/contrib/tensor_forest/gen_gen_model_ops_py_py_wrappers_cc [for host]\r\n____[7,249 / 7,715] Linking tensorflow/contrib/tensor_forest/gen_gen_tensor_forest_ops_py_wrappers_cc [for host]\r\n____[7,250 / 7,715] Linking tensorflow/python/gen_set_ops_py_wrappers_cc [for host]\r\n____[7,251 / 7,715] Linking tensorflow/python/gen_linalg_ops_py_wrappers_cc [for host]\r\nERROR: /build/tensorflow-git/src/tensorflow-cuda/tensorflow/contrib/factorization/BUILD:106:1: Linking of rule '//tensorflow/contrib/factorization:gen_gen_clustering_ops_py_wrappers_cc' failed (Exit 1).\r\n/usr/bin/ld: warning: libcuda.so.1, needed by bazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so, not found (try using -rpath or -rpath-link)\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemFree_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemsetD32Async'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuEventCreate'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuStreamAddCallback'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuModuleLoadFatBinary'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuCtxEnablePeerAccess'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemGetInfo_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuLaunchKernel'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuStreamSynchronize'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuEventQuery'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuEventElapsedTime'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDeviceCanAccessPeer'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuCtxSynchronize'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDeviceGetAttribute'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuFuncGetAttribute'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemcpyDtoH_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuStreamQuery'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDevicePrimaryCtxGetState'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuCtxSetCurrent'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuStreamWaitEvent'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuEventSynchronize'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuModuleUnload'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDeviceGet'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemsetD32_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuCtxGetSharedMemConfig'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemFreeHost'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuFuncSetCacheConfig'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuStreamCreate'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemGetAddressRange_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuCtxGetDevice'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDeviceGetProperties'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemcpyDtoHAsync_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDeviceGetCount'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuModuleGetFunction'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemHostRegister_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDevicePrimaryCtxRelease'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemcpyHtoDAsync_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemcpyDtoD_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuModuleLoadDataEx'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDevicePrimaryCtxRetain'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemHostAlloc'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuInit'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDriverGetVersion'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDeviceGetPCIBusId'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuEventRecord'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuPointerGetAttribute'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDeviceTotalMem_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemsetD8_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDeviceComputeCapability'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemAlloc_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDeviceGetName'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuDevicePrimaryCtxSetFlags'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemHostUnregister'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuModuleGetGlobal_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemcpyDtoDAsync_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuEventDestroy_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuOccupancyMaxActiveBlocksPerMultiprocessor'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuCtxGetCurrent'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuStreamDestroy_v2'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuCtxSetSharedMemConfig'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemsetD8Async'\r\nbazel-out/host/bin/_solib_local/_U_S_Stensorflow_Scontrib_Sfactorization_Cgen_Ugen_Uclustering_Uops_Upy_Uwrappers_Ucc___Utensorflow/libtensorflow_framework.so: undefined reference to `cuMemcpyHtoD_v2'\r\ncollect2: error: ld returned 1 exit status\r\n____Building complete.\r\n____Elapsed time: 1247.002s, Critical Path: 405.23s\r\n```\r\n\r\nMy previous successful build (I haven't tried revisions in between) was from abfc9deb7. My build environment hasn't changed significantly since then (no compiler, CUDA, or relevant library changes). I suspect it must be a recent change in the Tensorflow repo that's the cause.\r\n\r\nThe only difference I see between abfc9deb7 and a6f856b2f7920d4f74d7ca4e71967258423cc9f0  in the tensorflow/contrib/factorization path is this:\r\n\r\n```diff\r\ndiff --git a/tensorflow/contrib/factorization/kernels/BUILD b/tensorflow/contrib/factorization/kernels/BUILD\r\nindex 9a6d3c6f5..44eab5601 100644\r\n--- a/tensorflow/contrib/factorization/kernels/BUILD\r\n+++ b/tensorflow/contrib/factorization/kernels/BUILD\r\n@@ -6,6 +6,8 @@ exports_files([\"LICENSE\"])\r\n\r\n package(default_visibility = [\"//tensorflow:__subpackages__\"])\r\n\r\n+load(\"//tensorflow:tensorflow.bzl\", \"tf_cc_test\")\r\n+\r\n cc_library(\r\n     name = \"all_kernels\",\r\n     deps = [\r\n@@ -50,7 +52,7 @@ cc_library(\r\n     alwayslink = 1,\r\n )\r\n\r\n-cc_test(\r\n+tf_cc_test(\r\n     name = \"clustering_ops_test\",\r\n     srcs = [\"clustering_ops_test.cc\"],\r\n     deps = [\r\n```\r\n\r\nI'm not super familiar with how Bazel works, but this looks innocuous to me. I guess something else must be implicated?\r\n\r\nAny idea what could cause it to not add `-lcuda` on the link line? Or perhaps why it didn't need to before but does now?\r\n\r\n```\r\n$ pacman -Q | grep -e gcc-mult -e ^cuda -e ^glibc -e ^cudnn -e ^gcc5 -e '^python ' -e bazel\r\nbazel 0.5.4-1\r\ncuda 8.0.61-3\r\ncudnn6 6.0.21-2\r\ngcc-multilib 7.2.1.20170910-1\r\ngcc5 5.4.0-1\r\nglibc 2.26-3\r\npython 3.6.2-1\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13222", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13222/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13222/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13222/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13222", "id": 259665112, "node_id": "MDU6SXNzdWUyNTk2NjUxMTI=", "number": 13222, "title": "SVD in TensorFlow is slower than in numpy", "user": {"login": "vslobody", "id": 23069222, "node_id": "MDQ6VXNlcjIzMDY5MjIy", "avatar_url": "https://avatars1.githubusercontent.com/u/23069222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vslobody", "html_url": "https://github.com/vslobody", "followers_url": "https://api.github.com/users/vslobody/followers", "following_url": "https://api.github.com/users/vslobody/following{/other_user}", "gists_url": "https://api.github.com/users/vslobody/gists{/gist_id}", "starred_url": "https://api.github.com/users/vslobody/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vslobody/subscriptions", "organizations_url": "https://api.github.com/users/vslobody/orgs", "repos_url": "https://api.github.com/users/vslobody/repos", "events_url": "https://api.github.com/users/vslobody/events{/privacy}", "received_events_url": "https://api.github.com/users/vslobody/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2017-09-21T23:53:20Z", "updated_at": "2019-05-14T16:11:14Z", "closed_at": null, "author_association": "NONE", "body": "I am observing that on my machine SVD in tensorflow is running significantly slower than in numpy. I have GTX 1080 GPU, and expecting SVD to be at least as fast as when running the code using CPU (numpy).\r\n\r\n**Environment Info**\r\n\r\nOperating System\r\n\r\n    lsb_release -a\r\n    No LSB modules are available.\r\n    Distributor ID:\tUbuntu\r\n    Description:\tUbuntu 16.10\r\n    Release:\t16.10\r\n    Codename:\tyakkety\r\n\r\nInstalled version of CUDA and cuDNN:\r\n\r\n    ls -l /usr/local/cuda-8.0/lib64/libcud*\r\n    -rw-r--r-- 1 root      root    556000 Feb 22  2017 /usr/local/cuda-8.0/lib64/libcudadevrt.a\r\n    lrwxrwxrwx 1 root      root        16 Feb 22  2017 /usr/local/cuda-8.0/lib64/libcudart.so -> libcudart.so.8.0\r\n    lrwxrwxrwx 1 root      root        19 Feb 22  2017 /usr/local/cuda-8.0/lib64/libcudart.so.8.0 -> libcudart.so.8.0.61\r\n    -rwxr-xr-x 1 root      root    415432 Feb 22  2017 /usr/local/cuda-8.0/lib64/libcudart.so.8.0.61\r\n    -rw-r--r-- 1 root      root    775162 Feb 22  2017 /usr/local/cuda-8.0/lib64/libcudart_static.a\r\n    lrwxrwxrwx 1 voldemaro users       13 Nov  6  2016 /usr/local/cuda-8.0/lib64/libcudnn.so -> libcudnn.so.5\r\n    lrwxrwxrwx 1 voldemaro users       18 Nov  6  2016 /usr/local/cuda-8.0/lib64/libcudnn.so.5 -> libcudnn.so.5.1.10\r\n    -rwxr-xr-x 1 voldemaro users 84163560 Nov  6  2016 /usr/local/cuda-8.0/lib64/libcudnn.so.5.1.10\r\n    -rw-r--r-- 1 voldemaro users 70364814 Nov  6  2016 /usr/local/cuda-8.0/lib64/libcudnn_static.a\r\n\r\nTensorFlow Setup\r\n\r\n    python -c \"import tensorflow; print(tensorflow.__version__)\"\r\n    I tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcublas.so.8.0 locally\r\n    I tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcudnn.so.5 locally\r\n    I tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcufft.so.8.0 locally\r\n    I tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcuda.so.1 locally\r\n    I tensorflow/stream_executor/dso_loader.cc:135] successfully opened CUDA library libcurand.so.8.0 locally\r\n    1.0.0\r\n\r\n**Code:**\r\n\r\n    '''\r\n    Created on Sep 21, 2017\r\n    \r\n    @author: voldemaro\r\n    '''\r\n    import numpy as np\r\n    import tensorflow as tf\r\n    import time;\r\n    import numpy.linalg as NLA;\r\n    \r\n    \r\n    \r\n    \r\n    N=1534;\r\n    \r\n    svd_array = np.random.random_sample((N,N));\r\n    svd_array = svd_array.astype(complex);\r\n    \r\n    specVar = tf.Variable(svd_array, dtype=tf.complex64);\r\n    \r\n    [D2, E1,  E2] = tf.svd(specVar);\r\n    \r\n    init_OP = tf.global_variables_initializer();\r\n    \r\n    with tf.Session() as sess:\r\n        # Initialize all tensorflow variables\r\n        start = time.time();\r\n        sess.run(init_OP);\r\n        print 'initializing variables: {} s'.format(time.time()-start);\r\n        \r\n        start_time = time.time();\r\n        [d, e1, e2]  = sess.run([D2, E1,  E2]);\r\n        print(\"Tensorflow SVD ---: {} s\" . format(time.time() - start_time));\r\n    \r\n    \r\n    # Equivalent numpy \r\n    start = time.time();\r\n    \r\n    u, s, v = NLA.svd(svd_array);   \r\n    print 'numpy SVD  ---: {} s'.format(time.time() - start);\r\n\r\n\r\nCode Trace:\r\n\r\n    W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\n    W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n    W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\n    W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\n    I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:910] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n    I tensorflow/core/common_runtime/gpu/gpu_device.cc:885] Found device 0 with properties: \r\n    name: GeForce GTX 1080\r\n    major: 6 minor: 1 memoryClockRate (GHz) 1.7335\r\n    pciBusID 0000:01:00.0\r\n    Total memory: 7.92GiB\r\n    Free memory: 7.11GiB\r\n    I tensorflow/core/common_runtime/gpu/gpu_device.cc:906] DMA: 0 \r\n    I tensorflow/core/common_runtime/gpu/gpu_device.cc:916] 0:   Y \r\n    I tensorflow/core/common_runtime/gpu/gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1080, pci bus id: 0000:01:00.0)\r\n    initializing variables: 0.230546951294 s\r\n    Tensorflow SVD ---: 6.56117296219 s\r\n    numpy SVD  ---: 4.41714000702 s\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13126", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13126/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13126/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13126/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13126", "id": 258473661, "node_id": "MDU6SXNzdWUyNTg0NzM2NjE=", "number": 13126, "title": "installing tensorflow to a local folder results in import error with realtive paths", "user": {"login": "eyaler", "id": 4436747, "node_id": "MDQ6VXNlcjQ0MzY3NDc=", "avatar_url": "https://avatars1.githubusercontent.com/u/4436747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eyaler", "html_url": "https://github.com/eyaler", "followers_url": "https://api.github.com/users/eyaler/followers", "following_url": "https://api.github.com/users/eyaler/following{/other_user}", "gists_url": "https://api.github.com/users/eyaler/gists{/gist_id}", "starred_url": "https://api.github.com/users/eyaler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eyaler/subscriptions", "organizations_url": "https://api.github.com/users/eyaler/orgs", "repos_url": "https://api.github.com/users/eyaler/repos", "events_url": "https://api.github.com/users/eyaler/events{/privacy}", "received_events_url": "https://api.github.com/users/eyaler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-09-18T13:10:51Z", "updated_at": "2018-01-03T20:26:37Z", "closed_at": null, "author_association": "NONE", "body": "this is on linux with python 3.6.2 and tf 1.3\r\ni install tensorflow into a folder named 'site-packages' inside my project. i then add it to the path with a relative reference. works fine when path is absolute\r\n\r\npip install tensorflow -t site-packages\r\npython\r\nimport sys\r\nsys.path.insert(1,\"site-packages\") # will fail\r\n#sys.path.insert(1,\"/home/absolute_path/site-packages\") #works\r\nfrom tensorflow.contrib.framework.python.ops.checkpoint_ops import *\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"site-packages/tensorflow/contrib/framework/python/ops/__init__.py\", line 24, in <module>\r\n    from tensorflow.contrib.framework.python.ops.checkpoint_ops import *\r\n  File \"site-packages/tensorflow/contrib/framework/python/ops/checkpoint_ops.py\", line 32, in <module>\r\n    resource_loader.get_path_to_datafile(\"_checkpoint_ops.so\"))\r\n  File \"site-packages/tensorflow/contrib/util/loader.py\", line 55, in load_op_library\r\n    ret = load_library.load_op_library(path)\r\n  File \"site-packages/tensorflow/python/framework/load_library.py\", line 64, in load_op_library\r\n    None, None, error_msg, error_code)\r\ntensorflow.python.framework.errors_impl.NotFoundError: site-packages/tensorflow/contrib/util/site-packages/tensorflow/contrib/framework/python/ops/_checkpoint_ops.so: cannot open shared object file: No such file or directory\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13124", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13124/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13124/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13124/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13124", "id": 258460109, "node_id": "MDU6SXNzdWUyNTg0NjAxMDk=", "number": 13124, "title": "tensorflow.python.debug.cli.offline_analyzer failed to read debug data from HDFS filesys", "user": {"login": "luchensk", "id": 28526467, "node_id": "MDQ6VXNlcjI4NTI2NDY3", "avatar_url": "https://avatars1.githubusercontent.com/u/28526467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luchensk", "html_url": "https://github.com/luchensk", "followers_url": "https://api.github.com/users/luchensk/followers", "following_url": "https://api.github.com/users/luchensk/following{/other_user}", "gists_url": "https://api.github.com/users/luchensk/gists{/gist_id}", "starred_url": "https://api.github.com/users/luchensk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luchensk/subscriptions", "organizations_url": "https://api.github.com/users/luchensk/orgs", "repos_url": "https://api.github.com/users/luchensk/repos", "events_url": "https://api.github.com/users/luchensk/events{/privacy}", "received_events_url": "https://api.github.com/users/luchensk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2017-09-18T12:21:45Z", "updated_at": "2020-03-12T16:02:56Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: no\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04.2 \r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.3.0 from master branch\r\n- **Python version**: Python 2.7.12\r\n- **Bazel version (if compiling from source)**: 0.4.5\r\n- **CUDA/cuDNN version**: null\r\n- **GPU model and memory**: null\r\n- **Exact command to reproduce**: python -m tensorflow.python.debug.cli.offline_analyzer --dump_dir=hdfs://<debug_data_dir>\r\n\r\n### Issue description\r\nI saved debug data by `DumpingDebugHook` into hdfs filesys and then it failed to read the data by `python -m tensorflow.python.debug.cli.offline_analyzer --dump_dir=hdfs://<debug_data_path>` with the error \"not a valid DFS filename\" as Invalid argument. But it works well for the local filesys by the same way.\r\n\r\n#### Error info:\r\n```\r\n# python -m tensorflow.python.debug.cli.offline_analyzer --dump_dir=hdfs://gpu1.hs.na61.tbsite.net:9000/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100\r\ntfdbg offline: FLAGS.dump_dir = hdfs://gpu1.hs.na61.tbsite.net:9000/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/usr/local/hadoop-2.7.3/share/hadoop/kms/tomcat/webapps/kms/WEB-INF/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/usr/local/hadoop-2.7.3/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/usr/local/hadoop-2.7.3/share/hadoop/httpfs/tomcat/webapps/webhdfs/WEB-INF/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\r\n^@hdfsOpenFile(/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/hdfs://gpu1.hs.na61.tbsite.net:9000/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/_tfdbg_graph_hash3076817912156706527_1505733016027244): FileSystem#open((Lorg/apache/hadoop/fs/Path;I)Lorg/apache/hadoop/fs/FSDataInputStream;) error:\r\njava.lang.IllegalArgumentException: Pathname /data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/hdfs:/gpu1.hs.na61.tbsite.net:9000/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/_tfdbg_graph_hash3076817912156706527_1505733016027244 from /data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/hdfs:/gpu1.hs.na61.tbsite.net:9000/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/_tfdbg_graph_hash3076817912156706527_1505733016027244 is not a valid DFS filename.\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.getPathName(DistributedFileSystem.java:197)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.access$000(DistributedFileSystem.java:106)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$3.doCall(DistributedFileSystem.java:303)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$3.doCall(DistributedFileSystem.java:299)\r\n\tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:299)\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/runpy.py\", line 174, in _run_module_as_main\r\n    \"__main__\", fname, loader, pkg_name)\r\n  File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\r\n    exec code in run_globals\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/cli/offline_analyzer.py\", line 78, in <module>\r\n    app.run(main=main, argv=[sys.argv[0]] + unparsed)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py\", line 48, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/cli/offline_analyzer.py\", line 41, in main\r\n    FLAGS.dump_dir, validate=FLAGS.validate_graph)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 692, in __init__\r\n    self._load_all_device_dumps(partition_graphs, validate)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 714, in _load_all_device_dumps\r\n    self._load_partition_graphs(partition_graphs, validate)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 983, in _load_partition_graphs\r\n    self._dump_graph_file_paths[device_name])\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/debug/lib/debug_data.py\", line 145, in _load_graph_def_from_event_file\r\n    event.ParseFromString(f.read())\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/lib/io/file_io.py\", line 119, in read\r\n    self._preread_check()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/lib/io/file_io.py\", line 79, in _preread_check\r\n    compat.as_bytes(self.__name), 1024 * 512, status)\r\n  File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\r\n    self.gen.next()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/errors_impl.py\", line 466, in raise_exception_on_not_ok_status\r\n    c_api.TF_GetCode(status))\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: hdfs://gpu1.hs.na61.tbsite.net:9000/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/hdfs://gpu1.hs.na61.tbsite.net:9000/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/_tfdbg_graph_hash3076817912156706527_1505733016027244; Invalid argument\r\n```\r\n\r\nIn fact, it was able to read the hdfs dir info, as below:\r\n\r\n```\r\n$hdfs dfs -ls hdfs://ns1/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0\r\nFound 7 items\r\n-rw-r--r--   3 root supergroup     141732 2017-09-18 19:10 hdfs://ns1/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/_tfdbg_graph_hash3076817912156706527_1505733016027244\r\ndrwxr-xr-x   - root supergroup          0 2017-09-18 19:10 hdfs://ns1/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/gradients\r\ndrwxr-xr-x   - root supergroup          0 2017-09-18 19:10 hdfs://ns1/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/layer_1\r\ndrwxr-xr-x   - root supergroup          0 2017-09-18 19:10 hdfs://ns1/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/layer_2\r\ndrwxr-xr-x   - root supergroup          0 2017-09-18 19:10 hdfs://ns1/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/layer_out\r\ndrwxr-xr-x   - root supergroup          0 2017-09-18 19:10 hdfs://ns1/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/loss\r\ndrwxr-xr-x   - root supergroup          0 2017-09-18 19:10 hdfs://ns1/data/luchen.sk/tfdbg/tb_debug_data_dump/run_1505733015456409_100/_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0/train\r\n```\r\n\r\nAfter that, I tried to change the name of the dir as above from `_tfdbg_device_,job_localhost,replica_0,task_0,cpu_0` to `_tfdbg_device`, and then it was able to load the dir into CLI UI for debug, but there was nothing about debug info to show, as below:\r\n\r\n![image](https://user-images.githubusercontent.com/28526467/30541641-dc4329d2-9cae-11e7-8e07-c84dd1a3a7a3.png)\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13101", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13101/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13101/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13101/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13101", "id": 258314920, "node_id": "MDU6SXNzdWUyNTgzMTQ5MjA=", "number": 13101, "title": "from_generator feedback and questions", "user": {"login": "tillahoffmann", "id": 966348, "node_id": "MDQ6VXNlcjk2NjM0OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/966348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tillahoffmann", "html_url": "https://github.com/tillahoffmann", "followers_url": "https://api.github.com/users/tillahoffmann/followers", "following_url": "https://api.github.com/users/tillahoffmann/following{/other_user}", "gists_url": "https://api.github.com/users/tillahoffmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/tillahoffmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tillahoffmann/subscriptions", "organizations_url": "https://api.github.com/users/tillahoffmann/orgs", "repos_url": "https://api.github.com/users/tillahoffmann/repos", "events_url": "https://api.github.com/users/tillahoffmann/events{/privacy}", "received_events_url": "https://api.github.com/users/tillahoffmann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mrry", "id": 192142, "node_id": "MDQ6VXNlcjE5MjE0Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/192142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrry", "html_url": "https://github.com/mrry", "followers_url": "https://api.github.com/users/mrry/followers", "following_url": "https://api.github.com/users/mrry/following{/other_user}", "gists_url": "https://api.github.com/users/mrry/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrry/subscriptions", "organizations_url": "https://api.github.com/users/mrry/orgs", "repos_url": "https://api.github.com/users/mrry/repos", "events_url": "https://api.github.com/users/mrry/events{/privacy}", "received_events_url": "https://api.github.com/users/mrry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 58, "created_at": "2017-09-17T16:25:38Z", "updated_at": "2019-09-26T09:06:09Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "@mrry, thank you for implementing the `from_generator` method in `tf.data`. I just wanted to provide some feedback and ask a few more questions.\r\n\r\n# Interface\r\n\r\nIn addition to having `generator` be a callable that returns an iterator, would it be possible to support iterators that aren't wrapped in a callable? E.g. instead of \r\n\r\n```python\r\npool = multiprocessing.Pool()\r\ndataset = tf.contrib.data.Dataset.from_generator(\r\n    lambda: pool.imap(some_function, some_data), dtypes, shapes\r\n)\r\n```\r\n\r\nalso support\r\n\r\n```python\r\npool = multiprocessing.Pool()\r\ndataset = tf.contrib.data.Dataset.from_generator(\r\n    pool.imap(some_function, some_data), dtypes, shapes\r\n)\r\n```\r\n\r\n# Return types\r\n\r\n`from_generator` does not seem to support unpacking numpy arrays at the moment. I don't think it's essential but would be a nice-to-have. E.g. this fails\r\n\r\n```python\r\ndef generator():\r\n    while True:\r\n        yield np.zeros(2, np.float32)\r\n        \r\ndataset = tf.contrib.data.Dataset.from_generator(generator, (tf.float32, tf.float32))\r\nx, y = dataset.make_one_shot_iterator().get_next()\r\nsession = tf.Session()\r\nsession.run([x, y])\r\n```\r\n\r\nbut this runs smoothly\r\n\r\n```python\r\ndef generator():\r\n    while True:\r\n        yield tuple(np.zeros(2, np.float32))\r\n        \r\ndataset = tf.contrib.data.Dataset.from_generator(generator, (tf.float32, tf.float32))\r\nx, y = dataset.make_one_shot_iterator().get_next()\r\nsession = tf.Session()\r\nsession.run([x, y])\r\n```\r\n\r\n# Performance\r\n\r\nI've played around with a *very* naive example using the generator API (in the hope to eventually leverage ipyparallel or some other distributed computing framework). Unfortunately, I can't achieve the same performance that I would get using `feed_dicts`. The setup is as follows\r\n\r\n```python\r\nimport tensorflow as tf\r\nfrom tensorflow.contrib import data as tfdata\r\nimport numpy as np\r\nfrom time import time\r\n\r\nnum_batches = 1000\r\nbatch_size = 100\r\n\r\nclass Generator:\r\n    def __init__(self):\r\n        self.times = []\r\n    \r\n    def __iter__(self):\r\n        while True:\r\n            x = np.random.normal()\r\n            y = 3 + 5 * x\r\n            x, y = np.asarray([x, y], np.float32)\r\n            self.times.append(time())\r\n            yield x, y\r\n\r\ngenerator_state1 = Generator()\r\n\r\ndataset = tfdata.Dataset.from_generator(\r\n    lambda: generator_state1, \r\n    (tf.float32, tf.float32),\r\n    (tf.TensorShape([]), tf.TensorShape([]))\r\n)\r\nprefetched = dataset.prefetch(3 * batch_size)\r\nbatches = prefetched.batch(batch_size)\r\niterator = batches.make_one_shot_iterator()\r\n\r\nx, y = iterator.get_next()\r\n\r\nw = tf.Variable([0, 0], dtype=tf.float32)\r\nprediction = w[0] + w[1] * x\r\nloss = tf.losses.mean_squared_error(y, prediction)\r\noptimizer = tf.train.AdamOptimizer(0.1)\r\ntrain_op = optimizer.minimize(loss)\r\ninit_op = tf.global_variables_initializer()\r\n\r\nsession = tf.Session()\r\nsession.run(init_op)\r\n```\r\n\r\nRunning the optimisation gives me\r\n\r\n```python\r\nlosses = []\r\n\r\nstart = time()\r\nfor _ in range(num_batches):\r\n    _, _loss = session.run([train_op, loss])\r\n    losses.append(_loss)\r\ntime() - start  # about seven seconds\r\n```\r\n\r\nDoing the same using feed_dicts gives\r\n\r\n```python\r\nlosses = []\r\n\r\ngenerator_state2 = Generator()\r\niterator = iter(generator_state2)\r\n\r\nstart = time()\r\nfor _ in range(num_batches):\r\n    _x, _y = np.transpose([next(iterator) for _ in range(batch_size)])\r\n    _, _loss = session.run([train_op, loss], {x: _x, y: _y})\r\n    losses.append(_loss)\r\ntime() - start  # about one second\r\n```\r\n\r\nIt seems that the dataset created using the `from_generator` method isn't fetching from the generator fast enough:\r\n\r\n```python\r\nnp.mean(np.diff(generator_state1.times))  # 7.1533812683949508e-05\r\nnp.mean(np.diff(generator_state2.times))  # 1.0633696558370612e-05\r\n```\r\n\r\nThanks again for this, and looking forward to hearing your thoughts."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13096", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13096/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13096/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13096/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13096", "id": 258287369, "node_id": "MDU6SXNzdWUyNTgyODczNjk=", "number": 13096, "title": "No OpKernel was registered to support Op 'QuantizeV2'", "user": {"login": "eyaler", "id": 4436747, "node_id": "MDQ6VXNlcjQ0MzY3NDc=", "avatar_url": "https://avatars1.githubusercontent.com/u/4436747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eyaler", "html_url": "https://github.com/eyaler", "followers_url": "https://api.github.com/users/eyaler/followers", "following_url": "https://api.github.com/users/eyaler/following{/other_user}", "gists_url": "https://api.github.com/users/eyaler/gists{/gist_id}", "starred_url": "https://api.github.com/users/eyaler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eyaler/subscriptions", "organizations_url": "https://api.github.com/users/eyaler/orgs", "repos_url": "https://api.github.com/users/eyaler/repos", "events_url": "https://api.github.com/users/eyaler/events{/privacy}", "received_events_url": "https://api.github.com/users/eyaler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-09-17T08:06:29Z", "updated_at": "2019-01-14T02:13:18Z", "closed_at": null, "author_association": "NONE", "body": "I was able to build tf 1.3 quantize_graph on windows 10 64 using bazel 0.53 and cuda 8 (i could not build it without cuda). when i try to run it i get:\r\nNo OpKernel was registered to support Op 'QuantizeV2' with these attrs.\r\n\r\n\r\nbazel-bin\\tensorflow\\tools\\quantization\\quantize_graph --input d:/export/saved_model.pb --output_node_names my_output --output d:/export/saved_model_quant.pb --mode=eightbit\r\n\r\n2017-09-17 10:48:28.292364: W C:\\tools\\msys64\\tmp\\_bazel_user\\8rsmy-kr\\execroot\\org_tensorflow\\tensorflow\\core\\platform\\cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-09-17 10:48:28.292529: W C:\\tools\\msys64\\tmp\\_bazel_user\\8rsmy-kr\\execroot\\org_tensorflow\\tensorflow\\core\\platform\\cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\nTraceback (most recent call last):\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\client\\session.py\", line 1327, in _do_call\r\n    return fn(*args)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\client\\session.py\", line 1297, in _run_fn\r\n    self._extend_graph()\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\client\\session.py\", line 1358, in _extend_graph\r\n    self._session, graph_def.SerializeToString(), status)\r\n  File \"C:\\Anaconda3\\lib\\contextlib.py\", line 88, in __exit__\r\n    next(self.gen)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\framework\\errors_impl.py\", line 466, in raise_exception_on_not_ok_status\r\n    pywrap_tensorflow.TF_GetCode(status))\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: No OpKernel was registered to support Op 'QuantizeV2' with these attrs.  Registered devices: [CPU], Registered kernels:\r\n  <no registered kernels>\r\n\r\n         [[Node: QuantizeV2 = QuantizeV2[T=DT_QUINT8, mode=\"MIN_FIRST\"](QuantizeV2/input, QuantizeV2/min_range, QuantizeV2/max_range)]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 1301, in <module>\r\n    app.run()\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\platform\\app.py\", line 48, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 1292, in main\r\n    output_graph = rewriter.rewrite(FLAGS.output_node_names.split(\",\"))\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 420, in rewrite\r\n    self.eightbitize_nodes_recursively(output_node)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 600, in eightbitize_nodes_recursively\r\n    self.eightbitize_nodes_recursively(input_node)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 600, in eightbitize_nodes_recursively\r\n    self.eightbitize_nodes_recursively(input_node)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 600, in eightbitize_nodes_recursively\r\n    self.eightbitize_nodes_recursively(input_node)\r\n  [Previous line repeated 90 more times]\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 632, in eightbitize_nodes_recursively\r\n    for n in quantize_weight_eightbit(current_node, b\"MIN_FIRST\"):\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 299, in quantize_weight_eightbit\r\n    quint8_tensor = quantize_op[0].eval()\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\framework\\ops.py\", line 541, in eval\r\n    return _eval_using_default_session(self, feed_dict, self.graph, session)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\framework\\ops.py\", line 4085, in _eval_using_default_session\r\n    return session.run(tensors, feed_dict)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\client\\session.py\", line 895, in run\r\n    run_metadata_ptr)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\client\\session.py\", line 1124, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\client\\session.py\", line 1321, in _do_run\r\n    options, run_metadata)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\client\\session.py\", line 1340, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: No OpKernel was registered to support Op 'QuantizeV2' with these attrs.  Registered devices: [CPU], Registered kernels:\r\n  <no registered kernels>\r\n\r\n         [[Node: QuantizeV2 = QuantizeV2[T=DT_QUINT8, mode=\"MIN_FIRST\"](QuantizeV2/input, QuantizeV2/min_range, QuantizeV2/max_range)]]\r\n\r\nCaused by op 'QuantizeV2', defined at:\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 1301, in <module>\r\n    app.run()\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\platform\\app.py\", line 48, in run\r\n    _sys.exit(main(_sys.argv[:1] + flags_passthrough))\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 1292, in main\r\n    output_graph = rewriter.rewrite(FLAGS.output_node_names.split(\",\"))\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 420, in rewrite\r\n    self.eightbitize_nodes_recursively(output_node)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 600, in eightbitize_nodes_recursively\r\n    self.eightbitize_nodes_recursively(input_node)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 600, in eightbitize_nodes_recursively\r\n    self.eightbitize_nodes_recursively(input_node)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 600, in eightbitize_nodes_recursively\r\n    self.eightbitize_nodes_recursively(input_node)\r\n  [Previous line repeated 90 more times]\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 632, in eightbitize_nodes_recursively\r\n    for n in quantize_weight_eightbit(current_node, b\"MIN_FIRST\"):\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\tools\\quantization\\quantize_graph.py\", line 298, in quantize_weight_eightbit\r\n    mode=quantization_mode)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\ops\\gen_array_ops.py\", line 2381, in quantize_v2\r\n    mode=mode, name=name)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\framework\\op_def_library.py\", line 767, in apply_op\r\n    op_def=op_def)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\framework\\ops.py\", line 2630, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"\\\\?\\C:\\Users\\user\\AppData\\Local\\Temp\\Bazel.runfiles_5goewho4\\runfiles\\org_tensorflow\\tensorflow\\python\\framework\\ops.py\", line 1204, in __init__\r\n    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access\r\n\r\nInvalidArgumentError (see above for traceback): No OpKernel was registered to support Op 'QuantizeV2' with these attrs.  Registered devices: [CPU], Registered kernels:\r\n  <no registered kernels>\r\n\r\n         [[Node: QuantizeV2 = QuantizeV2[T=DT_QUINT8, mode=\"MIN_FIRST\"](QuantizeV2/input, QuantizeV2/min_range, QuantizeV2/max_range)]]\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13064", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13064/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13064/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13064/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13064", "id": 258052703, "node_id": "MDU6SXNzdWUyNTgwNTI3MDM=", "number": 13064, "title": "Variance update in tf.contrib.layer.batch_norm", "user": {"login": "mkabra", "id": 1234275, "node_id": "MDQ6VXNlcjEyMzQyNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1234275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkabra", "html_url": "https://github.com/mkabra", "followers_url": "https://api.github.com/users/mkabra/followers", "following_url": "https://api.github.com/users/mkabra/following{/other_user}", "gists_url": "https://api.github.com/users/mkabra/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkabra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkabra/subscriptions", "organizations_url": "https://api.github.com/users/mkabra/orgs", "repos_url": "https://api.github.com/users/mkabra/repos", "events_url": "https://api.github.com/users/mkabra/events{/privacy}", "received_events_url": "https://api.github.com/users/mkabra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-09-15T14:08:26Z", "updated_at": "2018-02-18T20:28:59Z", "closed_at": null, "author_association": "NONE", "body": "Hi,\r\n\r\nIn the current implementation of batch norm, the variance to be used for update to moving variance is computed by centering the data around the current mean. The more proper way would be to compute the variance around the moving mean. With the current method, the moving variance will depend upon the batch size. With the updated method, the batch size will have less influence on the moving variance.\r\n\r\nThanks,\r\nMayank"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13061", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13061/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13061/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13061/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13061", "id": 257989725, "node_id": "MDU6SXNzdWUyNTc5ODk3MjU=", "number": 13061, "title": "Proposal: Making the cmake build distribution friendly", "user": {"login": "dmacvicar", "id": 15332, "node_id": "MDQ6VXNlcjE1MzMy", "avatar_url": "https://avatars2.githubusercontent.com/u/15332?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmacvicar", "html_url": "https://github.com/dmacvicar", "followers_url": "https://api.github.com/users/dmacvicar/followers", "following_url": "https://api.github.com/users/dmacvicar/following{/other_user}", "gists_url": "https://api.github.com/users/dmacvicar/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmacvicar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmacvicar/subscriptions", "organizations_url": "https://api.github.com/users/dmacvicar/orgs", "repos_url": "https://api.github.com/users/dmacvicar/repos", "events_url": "https://api.github.com/users/dmacvicar/events{/privacy}", "received_events_url": "https://api.github.com/users/dmacvicar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 29, "created_at": "2017-09-15T10:05:21Z", "updated_at": "2019-04-24T18:37:05Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "The following is a proposal, and I don't have it fully working yet, so a Pull Request is too early, and I want to gather some feedback. If an issue is not appropriate, let me know and I will look for a different medium.\r\n\r\n### System information\r\n\r\nAlmost any Linux distribution.\r\n\r\n### Describe the problem\r\n\r\nMost Linux distributions have similar policies/limitations:\r\n\r\n1. Not accepting bundling of system libraries (specially those security-sensitive).\r\n2. Requiring building the whole from source and allowing patching the sources.\r\n3. Requiring building offline (without Internet access).\r\n4. Not having enough manpower to package hundred of packages in a dependency chain just to get packages like maven built in these source-chains environments.\r\n\r\nBecause of 4., cmake makes things easier. It is a build tool with a few dependencies that does not need complex bootstrapping. Building bazel itself will bring you into the Java maven dependency chain which we already proved in openSUSE to expand into hundred of packages.\r\n\r\nBoth the bazel and cmake build files do not play well with 1. 2. 3., but cmake already improves 4.\r\n\r\nThe cmake build files, also pull the sources of different projects. That is because the top `CMakeLists.txt` includes:\r\n\r\n```cmake\r\nset(CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/external)\r\n```\r\n\r\ninto the load path.\r\n\r\nthat external/ directory is full of snippets like:\r\n\r\n* `tensorflow/contrib/cmake/external/jpeg.cmake`\r\n* `tensorflow/contrib/cmake/external/gif.cmake`\r\n* ...\r\n* etc\r\n\r\nThose snippets use the [external project](https://cmake.org/cmake/help/v3.0/module/ExternalProject.html) cmake api to build directly from git or tarballs upstream. This clashes with\r\n1., 2., 3.\r\n\r\nIt is a bit sad that things like curl used to be looked up in the system and developers deliberately bundled them without making the cmake snippet first look for it, and if not, configure the bundled one.\r\n\r\n### Proposal\r\n\r\nThe proposal is to make the cmake build support both the Google/Mac user type of build with bundled sources, and the classical Linux distribution build.\r\nThis would be a gradual refactoring. Steps could be:\r\n\r\n* Add to CMakeLists.txt an option:\r\n\r\n```cmake\r\noption(tensorflow_SYSTEM_LIBRARIES \"Use system libraries\" ON)\r\n```\r\n\r\n* Replicate the external/ directory as platform/ and conditionally make it use one or the other:\r\n\r\n```cmake\r\nif(tensorflow_SYSTEM_LIBRARIES)\r\n set(CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/platform)\r\nelse()\r\n  set(CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/external)\r\nendif()\r\n```\r\n\r\nSo that then the part that does:\r\n\r\n```cmake\r\n# External dependencies\r\ninclude(zlib)\r\ninclude(gif)\r\ninclude(png)\r\ninclude(jpeg)\r\n```\r\n\r\nwould just work...\r\n\r\n* Replace incrementaly and one by one the $dep.cmake snippets in `platform/`.\r\n\r\nExample with gif.cmake:\r\n\r\nUsing the standard `/usr/share/cmake/Modules/FindGIF.cmake` included in cmake, which may use `pkg-config` for some modules. The module itself documents it would then set: `GIF_LIBRARIES`, `GIF_INCLUDE_DIR`, etc.\r\n\r\nUnfortunately the variable that the original set is called `gif_STATIC_LIBRARIES`, because it assumes it would be static. I think we could fix that later so that naming ends making sense, but lets not focus on that for now.\r\n\r\nThe `gif.cmake` I cited above would become a simple:\r\n\r\n```cmake\r\nfind_package(GIF REQUIRED)\r\n# dummy targets other targets depend on.\r\nadd_custom_target(gif)\r\n# These can be removed if we fix CMakeLists\r\nadd_custom_target(gif_copy_headers_to_destination)\r\n\r\nset(gif_STATIC_LIBRARIES ${GIF_LIBRARIES})\r\nset(gif_INCLUDE_DIR ${GIF_INCLUDE_DIR})\r\n```\r\n\r\nAnd that is more or less enough to move forward with this dependency... repeat.\r\nIt may need some hacks also in the top level cmake files however...\r\n\r\nI think this approach is doable, and could be turned into making the cmake build fully Linux distro enabled upstream. Slowly cleaning the naming, etc, removing these copy_headers targets so that the platform/ version of the .cmake files do not need to create dummy targets, etc.\r\n\r\n- Similarly, the sqlite one becomes:\r\n\r\n```cmake\r\nfind_package(SQLite3)\r\nset(sqlite_STATIC_LIBRARIES ${SQLITE3_LIBRARIES})\r\nset(sqlite_HEADERS ${SQLITE3_INCLUDE_DIR})\r\nadd_custom_target(sqlite)\r\nadd_custom_target(sqlite_copy_headers_to_destination)\r\n```\r\n\r\nWith the only difference is that the `Find` module was not included in cmake, so I just copied it into\r\nplatform from https://raw.githubusercontent.com/LuaDist/libsqlite3/master/cmake/FindSQLite3.cmake somewhere.\r\n\r\n* With this method I have been able to move forward and forward with the build.\r\n\r\n### Current blockers\r\n\r\n* cmake build does not work out of the box [PR](https://github.com/tensorflow/tensorflow/pull/12734)\r\n* [Issue](https://github.com/tensorflow/tensorflow/issues/12018) with `Missing tensorflow/core/debug/debug_service.grpc.pb.h`\r\n\r\n//cc @meaksh @dincamihai @ncounter"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13039", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13039/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13039/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13039/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13039", "id": 257705186, "node_id": "MDU6SXNzdWUyNTc3MDUxODY=", "number": 13039, "title": "Reading tfrecord reaches deadock or crushes in one computer and works just fine on another.", "user": {"login": "tnikolla", "id": 9167664, "node_id": "MDQ6VXNlcjkxNjc2NjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/9167664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tnikolla", "html_url": "https://github.com/tnikolla", "followers_url": "https://api.github.com/users/tnikolla/followers", "following_url": "https://api.github.com/users/tnikolla/following{/other_user}", "gists_url": "https://api.github.com/users/tnikolla/gists{/gist_id}", "starred_url": "https://api.github.com/users/tnikolla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tnikolla/subscriptions", "organizations_url": "https://api.github.com/users/tnikolla/orgs", "repos_url": "https://api.github.com/users/tnikolla/repos", "events_url": "https://api.github.com/users/tnikolla/events{/privacy}", "received_events_url": "https://api.github.com/users/tnikolla/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-14T12:42:21Z", "updated_at": "2017-09-15T21:55:02Z", "closed_at": null, "author_association": "NONE", "body": "### Laptop -System information\r\n- Linux Ubuntu 16.04\r\n- TensorFlow installed with pip:\r\n- TensorFlow 1.3.0\r\n- Python 2.7.12\r\n- Spyder 2.3.8\r\n\r\n### Workstation -System information\r\n- Linux Ubuntu 16.04\r\n- TensorFlow installed with pip:\r\n- TensorFlow-gpu 1.0.0\r\n- Python 2.7.13\r\n\r\n### Problem description\r\nI want to create and read a tfrecord file with [build_cgd_dataset.py](https://github.com/tnikolla/grasp-detection/blob/master/build_cgd_dataset.py) as the writer and [reader_iter.py](https://github.com/tnikolla/grasp-detection/blob/master/reader_iter.py) as the reader. Everything works smooth in the workstation but it reaches a deadlock or gets stuck in the laptop. The dataset are from [Cornell grasping dataset](http://pr.cs.cornell.edu/grasping/rect_data/data.php).\r\n\r\nI narrowed down the error in this special cases where it doesn't show any problem, for example:\r\n  - if it reads a int64_list with one value, so a list with one elemnet\r\n  - if it reads a float_list with one element\r\n\r\nIf the lists have more than one element the program freezes.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13020", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13020/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13020/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13020/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13020", "id": 257467598, "node_id": "MDU6SXNzdWUyNTc0Njc1OTg=", "number": 13020, "title": "tf.Session() freezes on GPU nodes of a SGE cluster", "user": {"login": "pminervini", "id": 227357, "node_id": "MDQ6VXNlcjIyNzM1Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/227357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pminervini", "html_url": "https://github.com/pminervini", "followers_url": "https://api.github.com/users/pminervini/followers", "following_url": "https://api.github.com/users/pminervini/following{/other_user}", "gists_url": "https://api.github.com/users/pminervini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pminervini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pminervini/subscriptions", "organizations_url": "https://api.github.com/users/pminervini/orgs", "repos_url": "https://api.github.com/users/pminervini/repos", "events_url": "https://api.github.com/users/pminervini/events{/privacy}", "received_events_url": "https://api.github.com/users/pminervini/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-09-13T17:56:43Z", "updated_at": "2018-10-11T15:16:02Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Hello,\r\n\r\nI'm trying to run the following script on the GPU nodes of my university's SGE cluster:\r\n\r\n```python\r\n#!/usr/bin/env python3\r\n# -*- coding: utf-8 -*-\r\n\r\nimport os\r\nimport sys\r\n\r\nimport tensorflow as tf\r\n\r\nvar1 = tf.get_variable('var1', [1024, 32], initializer=tf.random_normal_initializer())\r\nvar2 = tf.get_variable('var2', [32, 1024], initializer=tf.random_normal_initializer())\r\n\r\nm = tf.matmul(var1, var2)\r\n\r\ninit_op = tf.global_variables_initializer()\r\n\r\nwith tf.Session() as session:\r\n\tsession.run(init_op)\r\n\tsession.run(m)\r\n```\r\n\r\nEverything works if, either:\r\n- I allocate obscene amounts of memory, like 60GB, to the job;\r\n- Or if I run it from the command line on the cluster nodes.\r\n\r\nHowever, if I allocate a reasonable amount of memory to the job (8GB), it freezes on the `tf.Session()` call. A `strace -p <pid>` on the process gives the following trace, over and over, endlessly:\r\n\r\n```\r\nopen(\"/proc/self/maps\", O_RDONLY)       = 18\r\nfstat(18, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0\r\nmmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab462000000\r\nread(18, \"00400000-00634000 r-xp 00000000 \"..., 1024) = 1024\r\nread(18, \"001d000 09:01 1056305           \"..., 1024) = 1024\r\nread(18, \"0 r--p 001b9000 09:01 1583003   \"..., 1024) = 1024\r\nread(18, \" ---p 00041000 09:01 1056331    \"..., 1024) = 1024\r\nread(18, \"b4aa02000-3b4aa03000 rw-p 000020\"..., 1024) = 1024\r\nclose(18)                               = 0\r\nmunmap(0x2ab462000000, 4096)            = 0\r\nmmap(0x36be1200000, 4294967296, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 1103806595072, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 554050781184, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 279172874240, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 141733920768, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 73014444032, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 38654705664, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 21474836480, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 12884901888, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 8589934592, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 6442450944, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 5368709120, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4831838208, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4563402752, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4429185024, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4362076160, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4328521728, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4311744512, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4303355904, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4299161600, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4297064448, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4296015872, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4295491584, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4295229440, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4295098368, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4295032832, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4295000064, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294983680, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294975488, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294971392, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294969344, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294968320, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294967808, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294967552, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294967424, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294967360, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294967328, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294967312, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294967304, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294967300, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294967298, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\nmmap(0x36be1200000, 4294967297, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = -1 ENOMEM (Cannot allocate memory)\r\n```\r\n\r\nHow comes TensorFlow (unsuccessfully) tries to allocate obscene amount of memory when instantiating a new session? It only happens when I run the script as a cluster GPU job, without an obscene amount of memory.\r\n\r\nThank you in advance for all your help.\r\n\r\n\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13017", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13017/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13017/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13017/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13017", "id": 257402933, "node_id": "MDU6SXNzdWUyNTc0MDI5MzM=", "number": 13017, "title": "tf.extract_image_patches gradient transpose extremely slow", "user": {"login": "ahoereth", "id": 3015996, "node_id": "MDQ6VXNlcjMwMTU5OTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/3015996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahoereth", "html_url": "https://github.com/ahoereth", "followers_url": "https://api.github.com/users/ahoereth/followers", "following_url": "https://api.github.com/users/ahoereth/following{/other_user}", "gists_url": "https://api.github.com/users/ahoereth/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahoereth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahoereth/subscriptions", "organizations_url": "https://api.github.com/users/ahoereth/orgs", "repos_url": "https://api.github.com/users/ahoereth/repos", "events_url": "https://api.github.com/users/ahoereth/events{/privacy}", "received_events_url": "https://api.github.com/users/ahoereth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-09-13T14:31:56Z", "updated_at": "2018-06-04T14:17:25Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: macOS 10.12.6\r\n- **TensorFlow installed from (source or binary)**: Binary, official docker image\r\n- **TensorFlow version (use command below)**: v1.3.0-rc2-20-g0787eee 1.3.0\r\n- **Python version**: 3.5\r\n\r\n### Problem\r\nBackprop through `extract_image_patches` is extremly slow, specifically the `transpose` call. It appears to be this specific call: [tensorflow/python/ops/array_grad.py#L747](https://github.com/tensorflow/tensorflow/blob/f282bb1/tensorflow/python/ops/array_grad.py#L747)\r\n\r\n### Logs\r\nTimeline of the problem:\r\n\r\n<img width=\"1723\" alt=\"screen shot 2017-09-13 at 16 01 49\" src=\"https://user-images.githubusercontent.com/3015996/30382640-f5a003b8-989f-11e7-871c-1aae1a51102b.png\">\r\n\r\nComparable timeline when using conv2d (which, in its Eigen implementation, also [extracts image patches](https://github.com/tensorflow/tensorflow/blob/f282bb1/tensorflow/core/kernels/eigen_spatial_convolutions.h#L1063-L1064)):\r\n<img width=\"1300\" alt=\"screen shot 2017-09-13 at 16 08 45\" src=\"https://user-images.githubusercontent.com/3015996/30382983-e898d338-98a0-11e7-9e76-1ba01e571c0d.png\">\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13016", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13016/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13016/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/13016/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/13016", "id": 257392889, "node_id": "MDU6SXNzdWUyNTczOTI4ODk=", "number": 13016, "title": "Distributed variable initialization never reaches some nodes (affects MonitoredTrainingSession too)", "user": {"login": "leandro-gracia-gil", "id": 8785797, "node_id": "MDQ6VXNlcjg3ODU3OTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/8785797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leandro-gracia-gil", "html_url": "https://github.com/leandro-gracia-gil", "followers_url": "https://api.github.com/users/leandro-gracia-gil/followers", "following_url": "https://api.github.com/users/leandro-gracia-gil/following{/other_user}", "gists_url": "https://api.github.com/users/leandro-gracia-gil/gists{/gist_id}", "starred_url": "https://api.github.com/users/leandro-gracia-gil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leandro-gracia-gil/subscriptions", "organizations_url": "https://api.github.com/users/leandro-gracia-gil/orgs", "repos_url": "https://api.github.com/users/leandro-gracia-gil/repos", "events_url": "https://api.github.com/users/leandro-gracia-gil/events{/privacy}", "received_events_url": "https://api.github.com/users/leandro-gracia-gil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-09-13T14:03:09Z", "updated_at": "2018-04-04T01:44:16Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Multiple affected in different ways, including Linux Ubuntu 16.04.03, Mac OS X 10.12.6, Windows 10 and Bash on Windows 10 running Ubuntu 16.04.03.\r\n- **TensorFlow installed from (source or binary)**: binary, followed the pip install instructions\r\n- **TensorFlow version (use command below)**: v1.3.0-rc2-20-g0787eee 1.3.0\r\n- **Python version**: 3.5.2, 3.6.0\r\n- **Bazel version (if compiling from source)**: N/A\r\n- **CUDA/cuDNN version**: N/A\r\n- **GPU model and memory**: N/A\r\n- **Exact command to reproduce**: See instructions below.\r\n\r\n### Describe the problem\r\nIn a distributed environment with 2 nodes (a chief 'foo', a non-chief 'bar') variable initialization performed by foo never reaches bar in some particular distributed combinations. If using MonitoredTrainingSession, this leads to the session in bar never starting (it keeps trying forever every 30 seconds). Further research showed that no matter what I do (including restarting sessions, delays and anything I could think of) the session in 'bar' is unable to see the initialization of the variables that 'foo' confirms as initialized.\r\n\r\nThe source code below can be used to reproduce the problem depending on the hosts used for the 'foo' and 'bar' jobs. In particular, the following has been observed and reproduced multiple times:\r\n\r\n- When foo and bar are in the same host and OS, the problem never happens.\r\n- When ran foo in a Linux host and bar in a Mac OS X host the problem *always* happened.\r\n- However, if the roles are reversed (Linux runs bar, Mac OS X runs foo) the problem never happens.\r\n- Making foo_variables below an empty list also avoids the problem entirely.\r\n\r\nAdditionally I also tested this in another couple of platforms in the same host.\r\n- When ran foo in Windows 10 and bar in bash on Windows 10 running Ubuntu Linux 16.04, the problem *always* happened.\r\n- When reversing it and making Linux run foo and Windows 10 run bar the problem disappeared.\r\n- In this case both OS run in the same host and communicate through localhost sockets. Other tests suggest there's no problem in this socket communication.\r\n\r\n### Source code / logs\r\n```python\r\n#!/usr/bin/env python\r\n\r\nimport sys\r\nimport tensorflow as tf\r\n\r\nwith tf.variable_scope('foo'), tf.device('job:foo/task:0'):\r\n  foo_variables = [tf.get_variable('W', shape=(10, 5), dtype=tf.float32)]\r\n  foo_init_vars = tf.variables_initializer(foo_variables)\r\n  foo_pending_vars = tf.report_uninitialized_variables(foo_variables)\r\n  foo_pending_vars.mark_used()\r\n\r\n\r\nwith tf.variable_scope('bar'), tf.device('job:bar/task:0'):\r\n  # Expect more stuff and ops in bar in a real use case. This is just an example.\r\n  bar_pending_vars = tf.report_uninitialized_variables(foo_variables)\r\n  bar_pending_vars.mark_used()\r\n\r\n\r\ncluster_spec = tf.train.ClusterSpec({\r\n  \"foo\": [\"<insert_ip_here>:55700\"],\r\n  \"bar\": [\"<insert_ip_here>:55701\"],\r\n})\r\n\r\n\r\ndef foo_job():\r\n  server = tf.train.Server(cluster_spec, job_name='foo', task_index=0)\r\n  with tf.train.MonitoredTrainingSession(server.target, is_chief=True) as session:\r\n\r\n    # This always runs fine.\r\n    session.run(foo_init_vars)\r\n    print(\"Foo -- Variables not initialized: \", session.run(foo_pending_vars))\r\n    server.join()\r\n\r\n\r\ndef bar_job():\r\n  server = tf.train.Server(cluster_spec, job_name='bar', task_index=0)\r\n  with tf.train.MonitoredTrainingSession(server.target, is_chief=False) as session:\r\n    # On failure, this never gets executed...\r\n    print(\"**** Session started! ****\")\r\n\r\n    vars_left = session.run(bar_pending_vars)\r\n    if len(vars_left) == 0:\r\n      print(\"Bar -- Variables initialized!\")\r\n      return\r\n\r\n    print(\"Bar -- Variables not initialized: \", vars_left)\r\n    server.join()\r\n\r\n\r\nif __name__ == '__main__':\r\n  if len(sys.argv) < 2:\r\n    print(\"Usage: %s {foo|bar}\" % sys.argv[0])\r\n    exit(1)\r\n\r\n  if sys.argv[1] == 'foo':\r\n    foo_job()\r\n  else:\r\n    bar_job()\r\n```\r\n\r\n@mrry, this looks like something you might have some intuition about. Any ideas of what might be going on?\r\n\r\nThis is affecting my distributed system pretty badly. I'd be happy to do more experiments to help diagnosing the problem."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12968", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12968/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12968/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12968/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12968", "id": 256755052, "node_id": "MDU6SXNzdWUyNTY3NTUwNTI=", "number": 12968, "title": "Feature Request / Workaround for Variable size multi-label candidate sampling in TensorFlow.", "user": {"login": "MtDersvan", "id": 7069222, "node_id": "MDQ6VXNlcjcwNjkyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/7069222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MtDersvan", "html_url": "https://github.com/MtDersvan", "followers_url": "https://api.github.com/users/MtDersvan/followers", "following_url": "https://api.github.com/users/MtDersvan/following{/other_user}", "gists_url": "https://api.github.com/users/MtDersvan/gists{/gist_id}", "starred_url": "https://api.github.com/users/MtDersvan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MtDersvan/subscriptions", "organizations_url": "https://api.github.com/users/MtDersvan/orgs", "repos_url": "https://api.github.com/users/MtDersvan/repos", "events_url": "https://api.github.com/users/MtDersvan/events{/privacy}", "received_events_url": "https://api.github.com/users/MtDersvan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-09-11T16:00:00Z", "updated_at": "2017-11-28T04:58:58Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: +\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: macOS/Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: both\r\n- **TensorFlow version (use command below)**:  ('v1.3.0-rc2-20-g0787eee', '1.3.0')\r\n- **Python version**: 3.5\r\n- **Bazel version (if compiling from source)**: n/a\r\n- **CUDA/cuDNN version**: n/a\r\n- **GPU model and memory**: n/a\r\n- **Exact command to reproduce**: n/a\r\n\r\n\r\n### Context:\r\nSuppose we have a dataset with an arbitrary amount of labels per each training example (image segmentation, multi-label classification, etc.). Labels (classes) are NOT mutually exclusive, thus vary in size between examples. \r\n\r\n### Problem:\r\nWhen trying to use provided standard `nce_loss()` -  a static `int` value for `num_true` option is required. \r\n- `num_true`: An `int`. The number of target classes per training example.\r\n\r\nThis probably works well for problems where we have same amount of labels per training examples and we know them in advance.\r\nWhen labels have a variable shape `[None]`, (and in our case, they are also being batched and bucketed by bucket size with `.padded_batch()` + `.group_by_window()`) it is necessary to supply a variable size `num_true` in order to accustom for all training examples. This is currently unsupported to my knowledge (correct me if I'm wrong).\r\n\r\n### Statement:\r\nIs there a proper way to do this or any other workarounds? If not I would like to request a feature. If yes, I would appreciate a working example here or on stackoverflow.\r\n\r\nRelated [stackoverflow question](https://stackoverflow.com/questions/46085454/variable-size-multi-label-candidate-sampling-in-tensorflow).\r\n\r\nDesired behaviour:\r\n```\r\nnce_loss = tf.nn.nce_loss(\r\n    weights=nce_weights,\r\n    biases=nce_biases,\r\n    labels=labels,\r\n    inputs=inputs,\r\n    num_sampled=num_sampled,\r\n    num_true=(tf.shape(labels)[-1]), # or tf.placeholder(\"int32\", [], name=\"num_trve\")\r\n    num_classes=self.num_classes)\r\n```\r\n\r\nAlso, is it possible to add support for weighted losses to `nce_loss()` (specifically to `_compute_sampled_logits()` as it is partially generated from a .cc) in the same fashion as it is implemented in `tf.losses.sparse_softmax_cross_entropy` or `tf.losses.sigmoid_cross_entropy`?\r\nThanks in advance."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12964", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12964/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12964/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12964/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12964", "id": 256725857, "node_id": "MDU6SXNzdWUyNTY3MjU4NTc=", "number": 12964, "title": "Feature request: Google Authentication support for OAuth2 AccessTokenCredentials", "user": {"login": "Juta", "id": 5124203, "node_id": "MDQ6VXNlcjUxMjQyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/5124203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Juta", "html_url": "https://github.com/Juta", "followers_url": "https://api.github.com/users/Juta/followers", "following_url": "https://api.github.com/users/Juta/following{/other_user}", "gists_url": "https://api.github.com/users/Juta/gists{/gist_id}", "starred_url": "https://api.github.com/users/Juta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Juta/subscriptions", "organizations_url": "https://api.github.com/users/Juta/orgs", "repos_url": "https://api.github.com/users/Juta/repos", "events_url": "https://api.github.com/users/Juta/events{/privacy}", "received_events_url": "https://api.github.com/users/Juta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-11T14:36:45Z", "updated_at": "2017-10-25T23:56:03Z", "closed_at": null, "author_association": "NONE", "body": "\r\nI would like to use the BigQueryReader to access  someone else's project with OAuth2 AccessTokenCredentials. I noticed that currently the google_auth_provider only uses application default credentials. I think it would be a great addition to add other methods of authentication as well."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12901", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12901/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12901/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12901/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12901", "id": 256176484, "node_id": "MDU6SXNzdWUyNTYxNzY0ODQ=", "number": 12901, "title": "get_session_handle has no effect if not directly fetched", "user": {"login": "gaohuazuo", "id": 10446514, "node_id": "MDQ6VXNlcjEwNDQ2NTE0", "avatar_url": "https://avatars0.githubusercontent.com/u/10446514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaohuazuo", "html_url": "https://github.com/gaohuazuo", "followers_url": "https://api.github.com/users/gaohuazuo/followers", "following_url": "https://api.github.com/users/gaohuazuo/following{/other_user}", "gists_url": "https://api.github.com/users/gaohuazuo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaohuazuo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaohuazuo/subscriptions", "organizations_url": "https://api.github.com/users/gaohuazuo/orgs", "repos_url": "https://api.github.com/users/gaohuazuo/repos", "events_url": "https://api.github.com/users/gaohuazuo/events{/privacy}", "received_events_url": "https://api.github.com/users/gaohuazuo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-09-08T08:20:57Z", "updated_at": "2017-09-10T17:40:29Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Version `v1.3.0-rc1-1612-ga2e1a5e`, recent master.\r\n\r\n```python\r\nhandle = tf.identity(tf.get_session_handle(tf.constant(0))).eval()\r\ngen_data_flow_ops._get_session_tensor(handle, tf.int32).eval()\r\n# InvalidArgumentError: The tensor with handle 'GetSessionHandle;0;/job:localhost/replica:0/task:0/device:GPU:0' is not in the session store.\r\n```\r\n\r\n```python\r\nhandle = tf.get_session_handle(tf.constant(0)).eval().handle\r\ngen_data_flow_ops._get_session_tensor(handle, tf.int32).eval()\r\n# OK\r\n```\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12888", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12888/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12888/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12888/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12888", "id": 256068792, "node_id": "MDU6SXNzdWUyNTYwNjg3OTI=", "number": 12888, "title": "[feature] ONNX Support", "user": {"login": "cancan101", "id": 51059, "node_id": "MDQ6VXNlcjUxMDU5", "avatar_url": "https://avatars1.githubusercontent.com/u/51059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cancan101", "html_url": "https://github.com/cancan101", "followers_url": "https://api.github.com/users/cancan101/followers", "following_url": "https://api.github.com/users/cancan101/following{/other_user}", "gists_url": "https://api.github.com/users/cancan101/gists{/gist_id}", "starred_url": "https://api.github.com/users/cancan101/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cancan101/subscriptions", "organizations_url": "https://api.github.com/users/cancan101/orgs", "repos_url": "https://api.github.com/users/cancan101/repos", "events_url": "https://api.github.com/users/cancan101/events{/privacy}", "received_events_url": "https://api.github.com/users/cancan101/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 34, "created_at": "2017-09-07T20:59:45Z", "updated_at": "2019-12-11T21:14:10Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Support exporting and loading models in ONNX format.\r\nSee: https://research.fb.com/facebook-and-microsoft-introduce-new-open-ecosystem-for-interchangeable-ai-frameworks/"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12853", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12853/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12853/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12853/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12853", "id": 255706129, "node_id": "MDU6SXNzdWUyNTU3MDYxMjk=", "number": 12853, "title": "Sub-gradient for self_adjoin_eig when eigen values are equal ", "user": {"login": "RAditi", "id": 5721034, "node_id": "MDQ6VXNlcjU3MjEwMzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5721034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RAditi", "html_url": "https://github.com/RAditi", "followers_url": "https://api.github.com/users/RAditi/followers", "following_url": "https://api.github.com/users/RAditi/following{/other_user}", "gists_url": "https://api.github.com/users/RAditi/gists{/gist_id}", "starred_url": "https://api.github.com/users/RAditi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RAditi/subscriptions", "organizations_url": "https://api.github.com/users/RAditi/orgs", "repos_url": "https://api.github.com/users/RAditi/repos", "events_url": "https://api.github.com/users/RAditi/events{/privacy}", "received_events_url": "https://api.github.com/users/RAditi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-09-06T18:49:32Z", "updated_at": "2018-01-25T02:42:32Z", "closed_at": null, "author_association": "NONE", "body": "------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nYes, I have written custom code \r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nLinux 14.04\r\n- **TensorFlow installed from (source or binary)**:\r\nBinary\r\n- **TensorFlow version (use command below)**:\r\n1.2.1\r\n- **Python version**: \r\nPython 2.7\r\n- **Bazel version (if compiling from source)**:\r\n\r\n- **CUDA/cuDNN version**:\r\n8.0.61\r\n- **GPU model and memory**:\r\nTesla K40c\r\n- **Exact command to reproduce**:\r\n\r\nYou can collect some of this information using our environment capture script:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\r\n\r\nYou can obtain the TensorFlow version with\r\n\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\nThis is a feature request. When any two eigen values are equal, the tf.gradients( tf.self_adjoint_eig(matrix), matrix) returns NaN.\r\nWhile the gradient is not well defined, it would be useful if some valid sub-gradient is returned (which could be used in the optimization).\r\n \r\nIn particular, I am trying to optimize a function involving max eigen value of a matrix. \r\nEven when two eigen values are equal, a valid sub-gradient would be v_1 * v_1^T, \r\nwhere v_1 is the eigen vector corresponding to a max eigen value. \r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12851", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12851/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12851/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12851/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12851", "id": 255610970, "node_id": "MDU6SXNzdWUyNTU2MTA5NzA=", "number": 12851, "title": "Dataset Unzip Operation", "user": {"login": "eaplatanios", "id": 1294940, "node_id": "MDQ6VXNlcjEyOTQ5NDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1294940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eaplatanios", "html_url": "https://github.com/eaplatanios", "followers_url": "https://api.github.com/users/eaplatanios/followers", "following_url": "https://api.github.com/users/eaplatanios/following{/other_user}", "gists_url": "https://api.github.com/users/eaplatanios/gists{/gist_id}", "starred_url": "https://api.github.com/users/eaplatanios/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eaplatanios/subscriptions", "organizations_url": "https://api.github.com/users/eaplatanios/orgs", "repos_url": "https://api.github.com/users/eaplatanios/repos", "events_url": "https://api.github.com/users/eaplatanios/events{/privacy}", "received_events_url": "https://api.github.com/users/eaplatanios/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2017-09-06T13:50:22Z", "updated_at": "2020-03-18T19:24:16Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "@mrry This is a comment I originally posted to the \"Redesigning input pipelines\" issue, but I think it went unnoticed given the amount of comments on that thread. Given that issue is now closed (for good reason :)), I decided to post it as a separate issue.\r\n\r\nI currently cannot see a way currently to \"unzip\" a dataset. Let's say we have a trainable model that has both a train/fit method and a infer/predict method. Let's call the type of the (potentially) nested structure of inputs to our model `I` and the type of training inputs, which are only needed when training (e.g., supervision labels), `TI`. In this case, we want the train method to accept datasets with elements of type `(I, TI)` (i.e., a tuple of `I` and `TI`) and the predict method to accept datasets with elements of type `I` or `(I, TI)` (in which case it would ignore the labels). We also want the model to only have one underlying graph, supporting all these types of input. The way I could see doing that was for the underlying model to construct two iterators (one with elements type `I` and one with type `TI`) and initialize them according to the provided datasets. However, if somebody provides a dataset with elements of type `(I, TI)` to the train method, there is no way to unzip this dataset and initialize both iterators. One has to use `Dataset.map` twice, which is not efficient (I think but please correct me if I'm wrong) and which may also not pull matching elements from the datasets (if each pull advances the current index in the original first dataset -- I'm not sure if that happens)."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12843", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12843/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12843/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12843/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12843", "id": 255549433, "node_id": "MDU6SXNzdWUyNTU1NDk0MzM=", "number": 12843, "title": "Error message of scatter_update is misleading ", "user": {"login": "georgh", "id": 1831252, "node_id": "MDQ6VXNlcjE4MzEyNTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1831252?v=4", "gravatar_id": "", "url": "https://api.github.com/users/georgh", "html_url": "https://github.com/georgh", "followers_url": "https://api.github.com/users/georgh/followers", "following_url": "https://api.github.com/users/georgh/following{/other_user}", "gists_url": "https://api.github.com/users/georgh/gists{/gist_id}", "starred_url": "https://api.github.com/users/georgh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/georgh/subscriptions", "organizations_url": "https://api.github.com/users/georgh/orgs", "repos_url": "https://api.github.com/users/georgh/repos", "events_url": "https://api.github.com/users/georgh/events{/privacy}", "received_events_url": "https://api.github.com/users/georgh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-06T10:06:51Z", "updated_at": "2017-09-07T08:26:29Z", "closed_at": null, "author_association": "NONE", "body": "When you call scatter_update with a wrong input vector, the error message will tell you that the rank is \r\nwrong, which is not very helpful.\r\nAn example case in the documentation (provided) would be great.\r\n\r\nExample:\r\n```\r\n      testVar = tf.Variable(tf.zeros([5,1]))\r\n      ind = tf.constant([0,3])\r\n      data = tf.constant([5,7], dtype=tf.float32)\r\n      up = tf.scatter_update(testVar,  ind,  data  )\r\n```\r\nError Message: \r\n**ValueError: Shapes must be equal rank, but are 1 and 2 for 'ScatterUpdate' (op: 'ScatterUpdate') with input shapes: [5,1], [2], [2].**\r\nThat's not that helpful because you don't know which of the three input shapes are wrong, but mostly fine.\r\nChanging the Code to:\r\n```\r\n      testVar = tf.Variable(tf.zeros([5,1]))\r\n      ind = tf.expand_dims(tf.constant([0,3]),0)\r\n      data = tf.expand_dims(tf.constant([5,7], dtype=tf.float32),0)\r\n      up = tf.scatter_update(testVar,  ind,  data  )\r\n```\r\n**ValueError: Shapes must be equal rank, but are 2 and 3 for 'ScatterUpdate' (op: 'ScatterUpdate') with input shapes: [5,1], [1,2], [1,2].**\r\nIs clearly wrong, because non of the inputs has rank 3!\r\n\r\nIn addition, it would be really awesome if you could add the following code as an example to the scatter_update documentation (https://www.tensorflow.org/api_docs/python/tf/scatter_update). \r\n(I couldn't find it in the repo(?), otherwise I would habe created a pull request)\r\n\r\nWorking Example:\r\n```\r\n      testVar = tf.Variable(tf.zeros([5,1]))\r\n      ind = tf.constant([0,3])\r\n      data = tf.expand_dims(tf.constant([5,7], dtype=tf.float32),1)\r\n      up = tf.scatter_update(testVar,  ind,  data  )\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12840", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12840/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12840/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12840/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12840", "id": 255521980, "node_id": "MDU6SXNzdWUyNTU1MjE5ODA=", "number": 12840, "title": "User-defined functions loaders", "user": {"login": "crackcomm", "id": 206368, "node_id": "MDQ6VXNlcjIwNjM2OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/206368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crackcomm", "html_url": "https://github.com/crackcomm", "followers_url": "https://api.github.com/users/crackcomm/followers", "following_url": "https://api.github.com/users/crackcomm/following{/other_user}", "gists_url": "https://api.github.com/users/crackcomm/gists{/gist_id}", "starred_url": "https://api.github.com/users/crackcomm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crackcomm/subscriptions", "organizations_url": "https://api.github.com/users/crackcomm/orgs", "repos_url": "https://api.github.com/users/crackcomm/repos", "events_url": "https://api.github.com/users/crackcomm/events{/privacy}", "received_events_url": "https://api.github.com/users/crackcomm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-09-06T08:30:53Z", "updated_at": "2019-05-14T10:29:49Z", "closed_at": null, "author_association": "NONE", "body": "I noticed user-defined functions are still [experimental](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/framework/graph.proto#L27). I have an idea about functions loaders that could allow us to use dynamically loaded functions from different sources.\r\n\r\nFormat of function address would be [multiaddr](https://github.com/multiformats/multiaddr#string-format)-like.\r\n\r\n```\r\n/<loader>/<namespace>/<function>\r\n```\r\n\r\nLoaders can be embed into tensorflow like kernels.\r\n\r\n```\r\n/tf/custom\r\n/core/add\r\n/ipfs/QmVv4Wz46JaZJeH5PMV4LGbRi3MKEmszPYY3g6fjGnVXBS\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12761", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12761/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12761/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12761/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12761", "id": 254778133, "node_id": "MDU6SXNzdWUyNTQ3NzgxMzM=", "number": 12761, "title": "Allow to build tensorflow as a bazel external dependency.", "user": {"login": "Mistobaan", "id": 112599, "node_id": "MDQ6VXNlcjExMjU5OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/112599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mistobaan", "html_url": "https://github.com/Mistobaan", "followers_url": "https://api.github.com/users/Mistobaan/followers", "following_url": "https://api.github.com/users/Mistobaan/following{/other_user}", "gists_url": "https://api.github.com/users/Mistobaan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mistobaan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mistobaan/subscriptions", "organizations_url": "https://api.github.com/users/Mistobaan/orgs", "repos_url": "https://api.github.com/users/Mistobaan/repos", "events_url": "https://api.github.com/users/Mistobaan/events{/privacy}", "received_events_url": "https://api.github.com/users/Mistobaan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-02T00:40:42Z", "updated_at": "2018-09-21T13:03:01Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "It would be nice to be able to just add a @org_tensorflow in bazel and be able to build it as a dependency.  \r\n\r\nAt the best of my knowledge the syntaxnet dockerfile is the best example on having tensorflow as a submodule.\r\nhttps://github.com/tensorflow/models/blob/c259259299db3b486ccdfd6cdec44b884623053a/syntaxnet/Dockerfile#L63\r\n\r\nBut still building it is not straightforward and probably does not work if you activate CUDA/XLA/MLK because those depends on other bazel subprojects.\r\n\r\nAre there any plans to support this use case or I am missing something in the best practices to build tensorflow as a subpackage ? \r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12701", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12701/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12701/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12701/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12701", "id": 253927324, "node_id": "MDU6SXNzdWUyNTM5MjczMjQ=", "number": 12701, "title": "Feature Request: callback argument for tf.contrib.data.Dataset.ignore_errors() to enable error logging", "user": {"login": "GPhilo", "id": 4441724, "node_id": "MDQ6VXNlcjQ0NDE3MjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/4441724?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GPhilo", "html_url": "https://github.com/GPhilo", "followers_url": "https://api.github.com/users/GPhilo/followers", "following_url": "https://api.github.com/users/GPhilo/following{/other_user}", "gists_url": "https://api.github.com/users/GPhilo/gists{/gist_id}", "starred_url": "https://api.github.com/users/GPhilo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GPhilo/subscriptions", "organizations_url": "https://api.github.com/users/GPhilo/orgs", "repos_url": "https://api.github.com/users/GPhilo/repos", "events_url": "https://api.github.com/users/GPhilo/events{/privacy}", "received_events_url": "https://api.github.com/users/GPhilo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-08-30T09:03:28Z", "updated_at": "2019-02-12T19:20:03Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Windows 10\r\n- **TensorFlow installed from (source or binary)**: binary\r\n- **TensorFlow version (use command below)**: 1.3.0\r\n- **Python version**: 3.6\r\n- **Bazel version (if compiling from source)**: -\r\n- **CUDA/cuDNN version**: 8/6\r\n- **GPU model and memory**: GTX 1080, 8GB\r\n- **Exact command to reproduce**: -\r\n\r\n### Describe the problem\r\nThe [`tf.contrib.data.Dataset.ignore_errors()`](https://www.tensorflow.org/versions/r1.3/api_docs/python/tf/contrib/data/Dataset#ignore_errors) function is extremely useful when processing data that has not been fully cleaned beforehand (e.g., with streaming input), but I find the \"silently ignoring all errors\" a bit too strict.\r\nIt would be very useful, for example, to know which files raise an error when processing the dataset, while keeping the exception-masking feature of the function.\r\n\r\nIMO, the most flexible way to obtain this would be to include an optional `callback` argument to the function that gets called passing as arguments the value in the dataset that raised an error.\r\nThis way custom logging can be done for each erroneous data sample and dataset inspection becomes much simpler.\r\n\r\nWould this be very hard to implement?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12659", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12659/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12659/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12659/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12659", "id": 253452842, "node_id": "MDU6SXNzdWUyNTM0NTI4NDI=", "number": 12659, "title": "tf.maximum does not return nan when inputs contain nan", "user": {"login": "meijun", "id": 22214696, "node_id": "MDQ6VXNlcjIyMjE0Njk2", "avatar_url": "https://avatars0.githubusercontent.com/u/22214696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meijun", "html_url": "https://github.com/meijun", "followers_url": "https://api.github.com/users/meijun/followers", "following_url": "https://api.github.com/users/meijun/following{/other_user}", "gists_url": "https://api.github.com/users/meijun/gists{/gist_id}", "starred_url": "https://api.github.com/users/meijun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meijun/subscriptions", "organizations_url": "https://api.github.com/users/meijun/orgs", "repos_url": "https://api.github.com/users/meijun/repos", "events_url": "https://api.github.com/users/meijun/events{/privacy}", "received_events_url": "https://api.github.com/users/meijun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 29, "created_at": "2017-08-28T20:51:57Z", "updated_at": "2020-01-31T10:31:52Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux CentOS 7\r\n- **TensorFlow installed from (source or binary)**: binary\r\n- **TensorFlow version (use command below)**: 1.3.0\r\n- **Python version**: 2.7.13\r\n- **Bazel version (if compiling from source)**:\r\n- **CUDA/cuDNN version**: 8.0/6.0\r\n- **GPU model and memory**: Tesla K40m, 11439MiB\r\n- **Exact command to reproduce**: python main.py\r\n\r\n### Describe the problem\r\n`tf.maximum(a, b)` should return `nan` when `a` or `b` contain `nan`. However, it does not at some cases.\r\n\r\n### Source code / logs\r\nmain.py\r\n```python\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\na = tf.placeholder(dtype=tf.float32)\r\nmax_a = tf.maximum(a, 1.)\r\nwith tf.Session():\r\n    print max_a.eval(feed_dict={a: np.nan})\r\n```\r\nThe output is:\r\n```\r\n1.0\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12596", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12596/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12596/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12596/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12596", "id": 252893713, "node_id": "MDU6SXNzdWUyNTI4OTM3MTM=", "number": 12596, "title": "Feature request: QueueRunner for C++ API that initializes from queues and ops and start with ClientSession", "user": {"login": "dguerra", "id": 5977844, "node_id": "MDQ6VXNlcjU5Nzc4NDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5977844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dguerra", "html_url": "https://github.com/dguerra", "followers_url": "https://api.github.com/users/dguerra/followers", "following_url": "https://api.github.com/users/dguerra/following{/other_user}", "gists_url": "https://api.github.com/users/dguerra/gists{/gist_id}", "starred_url": "https://api.github.com/users/dguerra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dguerra/subscriptions", "organizations_url": "https://api.github.com/users/dguerra/orgs", "repos_url": "https://api.github.com/users/dguerra/repos", "events_url": "https://api.github.com/users/dguerra/events{/privacy}", "received_events_url": "https://api.github.com/users/dguerra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-25T13:00:46Z", "updated_at": "2018-11-08T20:07:19Z", "closed_at": null, "author_association": "NONE", "body": "Right now there is an implementation of QueueRunner in \"tensorflow/cc/training/queue_runner.h\". It's created from a QueueRunnerDef that is initialized with string names rather than queues and ops objects. QueueRunner's current implementation is also started by using the \"Session\" low level class rather than the newer \"ClientSession\" class."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12579", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12579/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12579/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12579/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12579", "id": 252782186, "node_id": "MDU6SXNzdWUyNTI3ODIxODY=", "number": 12579, "title": "[building tensorflow with bazel ] Error:C++ compilation of rule '@boringssl//:crypto' failed.", "user": {"login": "ruanlele", "id": 31330873, "node_id": "MDQ6VXNlcjMxMzMwODcz", "avatar_url": "https://avatars1.githubusercontent.com/u/31330873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ruanlele", "html_url": "https://github.com/ruanlele", "followers_url": "https://api.github.com/users/ruanlele/followers", "following_url": "https://api.github.com/users/ruanlele/following{/other_user}", "gists_url": "https://api.github.com/users/ruanlele/gists{/gist_id}", "starred_url": "https://api.github.com/users/ruanlele/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ruanlele/subscriptions", "organizations_url": "https://api.github.com/users/ruanlele/orgs", "repos_url": "https://api.github.com/users/ruanlele/repos", "events_url": "https://api.github.com/users/ruanlele/events{/privacy}", "received_events_url": "https://api.github.com/users/ruanlele/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-08-25T02:32:21Z", "updated_at": "2018-04-11T03:03:18Z", "closed_at": null, "author_association": "NONE", "body": "  **Environment:\r\n    GCC 4.9.1\r\n    glibc :2.11.3\r\n    bazel:0.4.0/0.4.5/0.5.3(these versions have been tried)\r\n    OS: SUSE \r\n It seems that boringssl can't work with command `bazel build --copt=-march=native -c opt //tensorflow/tools/pip_package:build_pip_package`. Here is the  log:**\r\n\r\n  WARNING: /hdata/users/rll/tensorflow/tensorflow/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:exporter': No longer supported. Switch to SavedModel immediately.\r\nWARNING: /hdata/users/rll/tensorflow/tensorflow/tensorflow/tensorflow/contrib/learn/BUILD:15:1: in py_library rule //tensorflow/contrib/learn:learn: target '//tensorflow/contrib/learn:learn' depends on deprecated target '//tensorflow/contrib/session_bundle:gc': No longer supported. Switch to SavedModel immediately.\r\nINFO: Found 1 target...\r\nERROR: /var/lib/hive/.cache/bazel/_bazel_hive/e5053b6fc588ac2d9981b522e9f221e1/external/boringssl/BUILD:116:1: C++ compilation of rule '@boringssl//:crypto' failed (Exit 1).\r\nIn file included from /usr/include/fcntl.h:38:0,\r\n                 from external/boringssl/src/crypto/bio/socket_helper.c:21:\r\n/usr/include/sys/stat.h:372:56: error: array type has incomplete element type\r\n extern int futimens (int __fd, __const struct timespec __times[2]) __THROW;\r\n                                                        ^\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nUse --verbose_failures to see the command lines of failed build steps.\r\nINFO: Elapsed time: 47.092s, Critical Path: 17.01s\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12570", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12570/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12570/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12570/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12570", "id": 252739191, "node_id": "MDU6SXNzdWUyNTI3MzkxOTE=", "number": 12570, "title": "No gradient for `cdf`, `sample` and other functions for several distributions in `tf.distributions`", "user": {"login": "lcnature", "id": 7763789, "node_id": "MDQ6VXNlcjc3NjM3ODk=", "avatar_url": "https://avatars2.githubusercontent.com/u/7763789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcnature", "html_url": "https://github.com/lcnature", "followers_url": "https://api.github.com/users/lcnature/followers", "following_url": "https://api.github.com/users/lcnature/following{/other_user}", "gists_url": "https://api.github.com/users/lcnature/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcnature/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcnature/subscriptions", "organizations_url": "https://api.github.com/users/lcnature/orgs", "repos_url": "https://api.github.com/users/lcnature/repos", "events_url": "https://api.github.com/users/lcnature/events{/privacy}", "received_events_url": "https://api.github.com/users/lcnature/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-08-24T21:39:50Z", "updated_at": "2020-02-04T22:05:33Z", "closed_at": null, "author_association": "NONE", "body": "------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: binary (pip)\r\n- **TensorFlow version (use command below)**: 1.3.0\r\n- **Python version**: 3.5.2\r\n- **Bazel version (if compiling from source)**:\r\n- **CUDA/cuDNN version**: CUDA 8.0 cuDNN 6\r\n- **GPU model and memory**: nVIDIA K2100M, 2G\r\n- **Exact command to reproduce**: See below\r\ndist_par = tf.Variable(1.0)\r\ndist = tf.distributions.Beta(dist_par,1.0)\r\nprint(tf.gradients(dist.cdf(0.5), dist_par))\r\n\r\n>> [None]\r\n\r\nThe output says there is no gradient.\r\n\r\n### Describe the problem\r\nFor several distributions such as `Beta` and `Gamma`, there is no gradient of their functions such as `cdf`, `log_cdf`, `sample` with respect to the parameters of these distributions. While gradients are provided for these functions of distributions such as `Normal` and `Laplace`.\r\nI think theoretically the gradients should exist. And they are useful when people build a model in which samples drawn from these distributions as prior distributions are marginalized while the parameters of these distributions are optimized. It would be nice if they can be implemented\r\nThanks!\r\n\r\n### Source code / logs\r\nSee above\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12538", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12538/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12538/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12538/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12538", "id": 252412648, "node_id": "MDU6SXNzdWUyNTI0MTI2NDg=", "number": 12538, "title": "FPGA Implementation on TensorFlow", "user": {"login": "jiawen11", "id": 11548424, "node_id": "MDQ6VXNlcjExNTQ4NDI0", "avatar_url": "https://avatars2.githubusercontent.com/u/11548424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiawen11", "html_url": "https://github.com/jiawen11", "followers_url": "https://api.github.com/users/jiawen11/followers", "following_url": "https://api.github.com/users/jiawen11/following{/other_user}", "gists_url": "https://api.github.com/users/jiawen11/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiawen11/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiawen11/subscriptions", "organizations_url": "https://api.github.com/users/jiawen11/orgs", "repos_url": "https://api.github.com/users/jiawen11/repos", "events_url": "https://api.github.com/users/jiawen11/events{/privacy}", "received_events_url": "https://api.github.com/users/jiawen11/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-23T20:52:36Z", "updated_at": "2017-10-25T11:12:55Z", "closed_at": null, "author_association": "NONE", "body": "Hi all,\r\n\r\nRecently, I read some papers about implementing Intel Xeon Phi on Tensorflow. Therefore, I want to make TensorFlow support FPGA board. But there is no information in Google and other forum/community.\r\n\r\nFor my understanding, we should implement the FPGA supporting in a class of TensorFlow which distributes tasks to different devices (like GPU/CPU). Is possible that implementing the FPGA supporting in that class? Or is there any good suggestions to make the progress to support FPGA on TensorFlow? \r\n\r\nI am looking forward any help or advice!\r\n\r\nThanks,\r\nKevin"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12486", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12486/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12486/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12486/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12486", "id": 251916929, "node_id": "MDU6SXNzdWUyNTE5MTY5Mjk=", "number": 12486, "title": "Feature request: stop requiring the same dtype for inputs in tf.shape_n", "user": {"login": "leandro-gracia-gil", "id": 8785797, "node_id": "MDQ6VXNlcjg3ODU3OTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/8785797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leandro-gracia-gil", "html_url": "https://github.com/leandro-gracia-gil", "followers_url": "https://api.github.com/users/leandro-gracia-gil/followers", "following_url": "https://api.github.com/users/leandro-gracia-gil/following{/other_user}", "gists_url": "https://api.github.com/users/leandro-gracia-gil/gists{/gist_id}", "starred_url": "https://api.github.com/users/leandro-gracia-gil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leandro-gracia-gil/subscriptions", "organizations_url": "https://api.github.com/users/leandro-gracia-gil/orgs", "repos_url": "https://api.github.com/users/leandro-gracia-gil/repos", "events_url": "https://api.github.com/users/leandro-gracia-gil/events{/privacy}", "received_events_url": "https://api.github.com/users/leandro-gracia-gil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-22T10:54:28Z", "updated_at": "2017-09-04T02:51:51Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "As for Tensorflow 1.3, [tf.shape_n](https://www.tensorflow.org/api_docs/python/tf/shape_n) takes a list of tensors as input to produce a list of shapes as output. However, it produces an error if tensors of different types are provided. As far as I can tell, whether tensors are the same type or not is completely irrelevant to the behavior of this function, making it an arbitrary constraint that limits its functionality for no particular reason.\r\n\r\nWould it be possible to remove such restriction if there's no good reason to keep it?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12475", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12475/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12475/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12475/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12475", "id": 251846942, "node_id": "MDU6SXNzdWUyNTE4NDY5NDI=", "number": 12475, "title": "Feature request: sparse_tensor_dense_matmul optimization on GPU", "user": {"login": "stepochkin", "id": 1241615, "node_id": "MDQ6VXNlcjEyNDE2MTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1241615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stepochkin", "html_url": "https://github.com/stepochkin", "followers_url": "https://api.github.com/users/stepochkin/followers", "following_url": "https://api.github.com/users/stepochkin/following{/other_user}", "gists_url": "https://api.github.com/users/stepochkin/gists{/gist_id}", "starred_url": "https://api.github.com/users/stepochkin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stepochkin/subscriptions", "organizations_url": "https://api.github.com/users/stepochkin/orgs", "repos_url": "https://api.github.com/users/stepochkin/repos", "events_url": "https://api.github.com/users/stepochkin/events{/privacy}", "received_events_url": "https://api.github.com/users/stepochkin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-08-22T06:03:58Z", "updated_at": "2020-01-28T12:55:38Z", "closed_at": null, "author_association": "NONE", "body": "\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Debian GNU/Linux 8 (jessie)\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: ('v1.3.0-rc2-0-g2784b1c', '1.3.0-rc2')\r\n- **Python version**: 2.7.9\r\n- **Bazel version (if compiling from source)**: 0.5.3\r\n- **CUDA/cuDNN version**: 8.0 / 5.0\r\n- **GPU model and memory**: Nvidia GeForce GTX TITAN X\r\n- **Exact command to reproduce**:\r\n\r\nI would like to optimize sparse_tensor_dense_matmul operation on GPU to process sparse input completely on GPU. Now code like this:\r\n```\r\nimport tensorflow as tf\r\n\r\nwith tf.device('/gpu:0'):\r\n    st = tf.SparseTensor(\r\n        tf.constant([[0, 0], [1, 1]], dtype=tf.int64),\r\n        tf.constant([1.2, 3.4], dtype=tf.float32),\r\n        tf.constant([2, 2], dtype=tf.int64)\r\n    ) \r\n    v = tf.Variable([[1.0, 0.0], [0.0, 1.0]], dtype=tf.float32)\r\n    st = tf.sparse_tensor_dense_matmul(st, v)\r\n    st = tf.reduce_min(st)\r\n    optimizer = tf.train.AdamOptimizer()\r\n    trainer = optimizer.minimize(st)\r\n\r\nwith tf.Session() as sess:\r\n    print(sess.run(trainer))\r\n```\r\nFails with error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"test_tf3.py\", line 18, in <module>\r\n    print(sess.run(trainer))\r\n  File \"/media/awork/home/astepochkin/drecs/repo/env/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 895, in run\r\n    run_metadata_ptr)\r\n  File \"/media/awork/home/astepochkin/drecs/repo/env/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1124, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/media/awork/home/astepochkin/drecs/repo/env/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1321, in _do_run\r\n    options, run_metadata)\r\n  File \"/media/awork/home/astepochkin/drecs/repo/env/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\", line 1340, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Cannot assign a device for operation 'gradients/SparseTensorDenseMatMul/SparseTensorDenseMatMul_grad/strided_slice_1': Could not satisfy explicit device specification '/device:GPU:0' because no supported kernel for GPU devices is available.\r\n     [[Node: gradients/SparseTensorDenseMatMul/SparseTensorDenseMatMul_grad/strided_slice_1 = StridedSlice[Index=DT_INT32, T=DT_INT64, begin_mask=1, ellipsis_mask=0, end_mask=1, new_axis_mask=0, shrink_axis_mask=2, _device=\"/device:GPU:0\"](Const, gradients/SparseTensorDenseMatMul/SparseTensorDenseMatMul_grad/strided_slice_1/stack, gradients/SparseTensorDenseMatMul/SparseTensorDenseMatMul_grad/strided_slice_1/stack_1, gradients/SparseTensorDenseMatMul/SparseTensorDenseMatMul_grad/strided_slice_1/stack_2)]]\r\n```\r\nIt looks like it requires \"int64 strided slice\" to be executed on GPU. So maybe it just needs to enable int64 strided slice on GPU."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12473", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12473/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12473/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12473/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12473", "id": 251827441, "node_id": "MDU6SXNzdWUyNTE4Mjc0NDE=", "number": 12473, "title": "[bug] gradients of scatter_nd_add return None ", "user": {"login": "wsdm2018", "id": 30958353, "node_id": "MDQ6VXNlcjMwOTU4MzUz", "avatar_url": "https://avatars2.githubusercontent.com/u/30958353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wsdm2018", "html_url": "https://github.com/wsdm2018", "followers_url": "https://api.github.com/users/wsdm2018/followers", "following_url": "https://api.github.com/users/wsdm2018/following{/other_user}", "gists_url": "https://api.github.com/users/wsdm2018/gists{/gist_id}", "starred_url": "https://api.github.com/users/wsdm2018/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wsdm2018/subscriptions", "organizations_url": "https://api.github.com/users/wsdm2018/orgs", "repos_url": "https://api.github.com/users/wsdm2018/repos", "events_url": "https://api.github.com/users/wsdm2018/events{/privacy}", "received_events_url": "https://api.github.com/users/wsdm2018/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-22T03:25:00Z", "updated_at": "2018-01-03T19:53:14Z", "closed_at": null, "author_association": "NONE", "body": "The gradient of scatter_nd_add  always return None.  If the gradient is not implemented, it should raise an exception. \r\n\r\n```python\r\n\r\nimport tensorflow as tf\r\nimport numpy as np \r\nimport matplotlib.pyplot as plt\r\nrng = np.random\r\n\r\n\r\n\r\nx = tf.Variable(np.random.random((2, 4)).astype('float32'))\r\nindice = tf.Variable(np.random.randint(0, 4, size=(2, 4, )), dtype=tf.int32)\r\n\r\n\r\n\r\n\r\nx_val = np.random.random((2, 4))\r\nindice_val = np.random.randint(0, 4, size=(2, 4, ))\r\nval_val = np.random.random((2, 4))\r\n\r\n\r\n# tf Graph Input\r\nX = tf.placeholder(\"float\")\r\nY = tf.placeholder(\"float\")\r\n\r\n\r\n# Set model weights\r\nW = tf.Variable(np.random.random((2, 4)).astype('float32'), name=\"weight\")\r\nb = tf.Variable(np.random.random((2, )).astype('float32'), name=\"bias\")\r\n\r\n# Construct a linear model\r\npred = tf.add(tf.multiply(X, W), b)\r\n\r\ny = tf.scatter_nd_add(x, indice, pred)\r\n\r\n\r\ngrad = tf.gradients(y, [W,b])\r\n\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12345", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12345/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12345/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12345/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12345", "id": 250813166, "node_id": "MDU6SXNzdWUyNTA4MTMxNjY=", "number": 12345, "title": "PEP 484 Type Annotations (feature request)", "user": {"login": "ed-alertedh", "id": 24605895, "node_id": "MDQ6VXNlcjI0NjA1ODk1", "avatar_url": "https://avatars1.githubusercontent.com/u/24605895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ed-alertedh", "html_url": "https://github.com/ed-alertedh", "followers_url": "https://api.github.com/users/ed-alertedh/followers", "following_url": "https://api.github.com/users/ed-alertedh/following{/other_user}", "gists_url": "https://api.github.com/users/ed-alertedh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ed-alertedh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ed-alertedh/subscriptions", "organizations_url": "https://api.github.com/users/ed-alertedh/orgs", "repos_url": "https://api.github.com/users/ed-alertedh/repos", "events_url": "https://api.github.com/users/ed-alertedh/events{/privacy}", "received_events_url": "https://api.github.com/users/ed-alertedh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2017-08-17T02:33:49Z", "updated_at": "2020-03-14T13:29:50Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\nN/A\r\n\r\n### Describe the problem\r\n## Background\r\nPEP 484 [1] added support for type hints in Python. These are purely annotations and are not enforced by the interpreter, however there are tools such as mypy [2] which can be run to check for consistency in the annotations. The typeshed initiative [3] has started to build external collections of type annotations for commonly used libraries.\r\n\r\nWhen adding type annotations to a codebase, it is best if you can achieve near 100% coverage, otherwise uncertainty propagates out from everywhere the \"untyped\" code is called. A codebase using TF would likely struggle to gain much benefit from type-checking in any of the core code built on top of TF.\r\n\r\n## Benefits of Adding Type Annotations\r\n * The expected inputs and outputs of functions become much clearer\r\n * Code completion is able to provide more useful suggestions, boosting productivity by reducing amount of time spent referring to docs\r\n * Static analysis can uncover latent bugs (case study here[5])\r\n\r\n## Difficulties/Drawbacks\r\n * People may be encouraged to overly constrain types, removing some of the flexibility of a dynamic language. But given that Google's Python style-guide discourages \"Power Features\" [4] I would argue that striving towards code that is explicit is a similar philosophy\r\n * The protobuf compiler would need to be augmented to generate type annotations.\r\n * The Tensorflow Python codebase is huge, so at this point adding the annotations would be a huge undertaking.\r\n * Tensorflow still supports python 2.7, 3.3 and 3.4 which do not have the type annotation syntax. So if this were implemented it would probably have to be in external *.pyi files, which is harder to maintain compared to inline type annotations in the source code.\r\n\r\n## Final thoughts\r\nI realise that this would be a major undertaking and wouldn't be likely to ship any time soon, but I'm curious to gauge Google's thoughts on this new feature in Python. I'm about to start building a new codebase from scratch and was keen to use it as a chance to try out type annotations. I probably still will give it a shot, but I suspect that unless most of the common data science libs out there adopt this standard then its usefulness will be quite limited.\r\n\r\n[1] https://www.python.org/dev/peps/pep-0484/\r\n[2] http://mypy-lang.org/\r\n[3] https://github.com/python/typeshed\r\n[4] https://google.github.io/styleguide/pyguide.html#Power_Features\r\n[5] http://blog.zulip.org/2016/10/13/static-types-in-python-oh-mypy/"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12302", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12302/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12302/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12302/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12302", "id": 250401221, "node_id": "MDU6SXNzdWUyNTA0MDEyMjE=", "number": 12302, "title": "memory leak bug", "user": {"login": "babak-badnava", "id": 29020714, "node_id": "MDQ6VXNlcjI5MDIwNzE0", "avatar_url": "https://avatars3.githubusercontent.com/u/29020714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/babak-badnava", "html_url": "https://github.com/babak-badnava", "followers_url": "https://api.github.com/users/babak-badnava/followers", "following_url": "https://api.github.com/users/babak-badnava/following{/other_user}", "gists_url": "https://api.github.com/users/babak-badnava/gists{/gist_id}", "starred_url": "https://api.github.com/users/babak-badnava/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/babak-badnava/subscriptions", "organizations_url": "https://api.github.com/users/babak-badnava/orgs", "repos_url": "https://api.github.com/users/babak-badnava/repos", "events_url": "https://api.github.com/users/babak-badnava/events{/privacy}", "received_events_url": "https://api.github.com/users/babak-badnava/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-15T18:42:47Z", "updated_at": "2017-08-22T20:24:20Z", "closed_at": null, "author_association": "NONE", "body": "Hi, I have seen many issues reporting Tensorflow memory leak, so I wanted to report another sample of leak. \r\nI was testing the GA3C code and after a while (about a day) the process taking all of 32g of memory.\r\nsystem spec is \r\nOS : Ubuntu 17.04\r\ntensorflow version : 1.2.1 binary instalation\r\ncuda version : 7.5\r\ngpu : GeForce GTX 1080 SLI, 8gig of gpu memory\r\n\r\nyou can get the code from : \r\nhttps://github.com/babak-badnava/GA3C\r\n\r\nwith many thanks \r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12264", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12264/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12264/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12264/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12264", "id": 250017016, "node_id": "MDU6SXNzdWUyNTAwMTcwMTY=", "number": 12264, "title": "Simple EditDistance constructor is missing in C++", "user": {"login": "rasitsimsek", "id": 30691148, "node_id": "MDQ6VXNlcjMwNjkxMTQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/30691148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasitsimsek", "html_url": "https://github.com/rasitsimsek", "followers_url": "https://api.github.com/users/rasitsimsek/followers", "following_url": "https://api.github.com/users/rasitsimsek/following{/other_user}", "gists_url": "https://api.github.com/users/rasitsimsek/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasitsimsek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasitsimsek/subscriptions", "organizations_url": "https://api.github.com/users/rasitsimsek/orgs", "repos_url": "https://api.github.com/users/rasitsimsek/repos", "events_url": "https://api.github.com/users/rasitsimsek/events{/privacy}", "received_events_url": "https://api.github.com/users/rasitsimsek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-08-14T12:32:17Z", "updated_at": "2019-03-19T08:30:54Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Windows 10**\r\n- **TensorFlow installed from source**\r\n- **TensorFlow version 1.3-rc2**\r\n- **Python version 3.5.3**:\r\n- **Bazel N/A**\r\n- **CUDA/cuDNN version N/A**\r\n- **GPU model and memory N/A**\r\n- **N/A**\r\n\r\n### Describe the problem\r\nThere is no simplier EditDistance::EditDistance() constructor there which only accept sparse::SparseTensor arguments. The EditDistance constructor wants a lot of arguments\r\n\r\n`EditDistance::EditDistance(const ::tensorflow::Scope& scope,\r\n                           ::tensorflow::Input hypothesis_indices,\r\n                           ::tensorflow::Input hypothesis_values,\r\n                           ::tensorflow::Input hypothesis_shape,\r\n                           ::tensorflow::Input truth_indices,\r\n                           ::tensorflow::Input truth_values,\r\n                           ::tensorflow::Input truth_shape, const\r\n                           EditDistance::Attrs& attrs)`\r\n\r\ninstead of\r\n\r\n`EditDistance::EditDistance(const ::tensorflow::Scope& scope,\r\n                           const sparse::SparseTensor& hypothesis,\r\n                            const sparse::SparseTensor& truth,\r\n                           EditDistance::Attrs& attrs)`\r\n\r\nInternally all hypothesis and truth parameters are put into SparseTensor object. Why SparseTensor parameters are not used in the constructor?\r\n\r\n### Source code / logs\r\nN/A\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12203", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12203/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12203/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12203/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12203", "id": 249554972, "node_id": "MDU6SXNzdWUyNDk1NTQ5NzI=", "number": 12203, "title": "Why not develop  32-bit\uff1fThank you very much!", "user": {"login": "ybxgood", "id": 20785365, "node_id": "MDQ6VXNlcjIwNzg1MzY1", "avatar_url": "https://avatars2.githubusercontent.com/u/20785365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ybxgood", "html_url": "https://github.com/ybxgood", "followers_url": "https://api.github.com/users/ybxgood/followers", "following_url": "https://api.github.com/users/ybxgood/following{/other_user}", "gists_url": "https://api.github.com/users/ybxgood/gists{/gist_id}", "starred_url": "https://api.github.com/users/ybxgood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ybxgood/subscriptions", "organizations_url": "https://api.github.com/users/ybxgood/orgs", "repos_url": "https://api.github.com/users/ybxgood/repos", "events_url": "https://api.github.com/users/ybxgood/events{/privacy}", "received_events_url": "https://api.github.com/users/ybxgood/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-11T07:13:01Z", "updated_at": "2017-08-14T15:03:51Z", "closed_at": null, "author_association": "NONE", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\nIf you open a GitHub issue, here is our policy:\r\n\r\n1. It must be a bug or a feature request.\r\n2. The form below must be filled out.\r\n3. It shouldn't be a TensorBoard issue. Those go [here](https://github.com/tensorflow/tensorboard/issues).\r\n\r\n**Here's why we have that policy**: TensorFlow developers respond to issues. We want to focus on work that benefits the whole community, e.g., fixing bugs and adding features. Support only helps individuals. GitHub also notifies thousands of people when issues are filed. We want them to see you communicating an interesting problem, rather than being redirected to Stack Overflow.\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\n- **TensorFlow installed from (source or binary)**:\r\n- **TensorFlow version (use command below)**:\r\n- **Python version**: \r\n- **Bazel version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:\r\n- **GPU model and memory**:\r\n- **Exact command to reproduce**:\r\n\r\nYou can collect some of this information using our environment capture script:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\r\n\r\nYou can obtain the TensorFlow version with\r\n\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12162", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12162/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12162/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12162/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12162", "id": 249217800, "node_id": "MDU6SXNzdWUyNDkyMTc4MDA=", "number": 12162, "title": "build_all_xxx.sh support for Tizen target", "user": {"login": "leemgs", "id": 82404, "node_id": "MDQ6VXNlcjgyNDA0", "avatar_url": "https://avatars0.githubusercontent.com/u/82404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leemgs", "html_url": "https://github.com/leemgs", "followers_url": "https://api.github.com/users/leemgs/followers", "following_url": "https://api.github.com/users/leemgs/following{/other_user}", "gists_url": "https://api.github.com/users/leemgs/gists{/gist_id}", "starred_url": "https://api.github.com/users/leemgs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leemgs/subscriptions", "organizations_url": "https://api.github.com/users/leemgs/orgs", "repos_url": "https://api.github.com/users/leemgs/repos", "events_url": "https://api.github.com/users/leemgs/events{/privacy}", "received_events_url": "https://api.github.com/users/leemgs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-08-10T02:50:46Z", "updated_at": "2018-05-18T12:40:05Z", "closed_at": null, "author_association": "NONE", "body": "\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04 LTS 64bit\r\n- **TensorFlow installed from (source or binary)**: Yes\r\n- **TensorFlow version (use command below)**: 1.2.1\r\n- **Python version**: 2.7\r\n- **Bazel version (if compiling from source)**: 0.1.3\r\n- **CUDA/cuDNN version**: 8.0/6.0\r\n- **GPU model and memory**: GTX Titan XP\r\n- **Exact command to reproduce**:\r\n\r\n\r\n### Describe the problem\r\nI can find appropriate build scripts for iOS, Android, and Linux at the below webpage.\r\n- https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/makefile/\r\n\r\nWhere can I also find a build script in case that I want to build Tensorflow on the Tizen  target device ?\r\n\r\n- Tizen (for platform developers): https://source.tizen.org/\r\n- Tizen (for application developers): https://developer.tizen.org/\r\n\r\n### Source code / logs\r\nNothing\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12154", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12154/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12154/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12154/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12154", "id": 249142196, "node_id": "MDU6SXNzdWUyNDkxNDIxOTY=", "number": 12154, "title": "Feature request: document which inputs have gradients", "user": {"login": "nrhine1", "id": 372326, "node_id": "MDQ6VXNlcjM3MjMyNg==", "avatar_url": "https://avatars2.githubusercontent.com/u/372326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrhine1", "html_url": "https://github.com/nrhine1", "followers_url": "https://api.github.com/users/nrhine1/followers", "following_url": "https://api.github.com/users/nrhine1/following{/other_user}", "gists_url": "https://api.github.com/users/nrhine1/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrhine1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrhine1/subscriptions", "organizations_url": "https://api.github.com/users/nrhine1/orgs", "repos_url": "https://api.github.com/users/nrhine1/repos", "events_url": "https://api.github.com/users/nrhine1/events{/privacy}", "received_events_url": "https://api.github.com/users/nrhine1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-09T19:51:55Z", "updated_at": "2017-08-10T16:38:32Z", "closed_at": null, "author_association": "NONE", "body": "For most operations, the documentation does not make clear what gradients are implemented. Including this information for the inputs (e.g. annotating the inputs that do not have gradients implemented) would help the user better understand the resulting graph. \r\n\r\nIt appears a related issue was closed, as it was not a feature request. https://github.com/tensorflow/tensorflow/issues/6025"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12132", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12132/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12132/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12132/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12132", "id": 248958171, "node_id": "MDU6SXNzdWUyNDg5NTgxNzE=", "number": 12132, "title": "slim.separable_conv2d is too slow", "user": {"login": "BKZero", "id": 18680778, "node_id": "MDQ6VXNlcjE4NjgwNzc4", "avatar_url": "https://avatars2.githubusercontent.com/u/18680778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BKZero", "html_url": "https://github.com/BKZero", "followers_url": "https://api.github.com/users/BKZero/followers", "following_url": "https://api.github.com/users/BKZero/following{/other_user}", "gists_url": "https://api.github.com/users/BKZero/gists{/gist_id}", "starred_url": "https://api.github.com/users/BKZero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BKZero/subscriptions", "organizations_url": "https://api.github.com/users/BKZero/orgs", "repos_url": "https://api.github.com/users/BKZero/repos", "events_url": "https://api.github.com/users/BKZero/events{/privacy}", "received_events_url": "https://api.github.com/users/BKZero/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 42, "created_at": "2017-08-09T08:41:36Z", "updated_at": "2020-03-06T14:44:18Z", "closed_at": null, "author_association": "NONE", "body": "------------------------\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: custom, yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 14.04\r\n- **TensorFlow installed from (source or binary)**: from pip\r\n- **TensorFlow version (use command below)**: ('v1.2.0-5-g435cdfc', '1.2.1')\r\n- **Python version**: python2.7\r\n- **Bazel version (if compiling from source)**: -\r\n- **CUDA/cuDNN version**: CPU version, no CUDA\r\n- **GPU model and memory**: CPU version, no CUDA\r\n- **Exact command to reproduce**:\r\n\r\n### Describe the problem\r\nthe depthwise+pointwise structure is faster than the traditional convolution layer theoretically, but the implemetation of tensorflow make it slower. it doesn't make sense.\r\nhere is part of my network defination:\r\n#net = slim.conv2d(net, 32, [3, 3], scope='conv1-2')\r\n    #end_points['conv1-2'] = net\r\n    net = slim.separable_conv2d(net,None,[3,3],depth_multiplier=1,stride=1,rate=1,normalizer_fn=slim.batch_norm,scope='conv1-2-depthwise')\r\n    end_points['conv1-2-depthwise'] = net\r\n    net = slim.conv2d(net, depth(32), [1, 1], stride=1, normalizer_fn=slim.batch_norm, scope='conv1-2-pointwise')\r\n    end_points['conv1-2-pointwise'] = net\r\n\r\n    net = slim.max_pool2d(net, [2, 2], 2, scope='pool1')\r\n    end_points['pool1'] = net # 58*58\r\n\r\n    #net = slim.conv2d(net, 48, [3, 3], padding='VALID', scope='conv2')\r\n    #end_points['conv2'] = net\r\n    net = slim.separable_conv2d(net,None,[3,3],depth_multiplier=1,stride=1,rate=1,normalizer_fn=slim.batch_norm,scope='conv2-depthwise')\r\n    end_points['conv2-depthwise'] = net\r\n    net = slim.conv2d(net, depth(48), [1, 1], stride=1, normalizer_fn=slim.batch_norm, scope='conv2-pointwise')\r\n    end_points['conv2-pointwise'] = net\r\n\r\n    net = slim.max_pool2d(net, [2, 2], 2, scope='pool2')\r\n    end_points['pool2'] = net # 28*28\r\n\r\ni just change the network defination \r\nfrom: \r\nnet = slim.conv2d(net, 32, [3, 3], scope='conv1-2')\r\nend_points['conv1-2'] = net\r\nto:\r\nnet = slim.separable_conv2d(net,None,[3,3],depth_multiplier=1,stride=1,\r\n         rate=1,normalizer_fn=slim.batch_norm,scope='conv1-2-depthwise')\r\nend_points['conv1-2-depthwise'] = net\r\nnet = slim.conv2d(net, depth(32), [1, 1], stride=1, normalizer_fn=slim.batch_norm, \r\n         scope='conv1-2-pointwise')\r\nend_points['conv1-2-pointwise'] = net\r\ni do not think i am doing something wrong. so where the problem is?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12077", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12077/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12077/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12077/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12077", "id": 248404251, "node_id": "MDU6SXNzdWUyNDg0MDQyNTE=", "number": 12077, "title": "Occur error when compile tf_core_gpu_kernels/generated_adjust_hue_op_gpu.cu.cc file in VS2015", "user": {"login": "HannH", "id": 18132006, "node_id": "MDQ6VXNlcjE4MTMyMDA2", "avatar_url": "https://avatars0.githubusercontent.com/u/18132006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HannH", "html_url": "https://github.com/HannH", "followers_url": "https://api.github.com/users/HannH/followers", "following_url": "https://api.github.com/users/HannH/following{/other_user}", "gists_url": "https://api.github.com/users/HannH/gists{/gist_id}", "starred_url": "https://api.github.com/users/HannH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HannH/subscriptions", "organizations_url": "https://api.github.com/users/HannH/orgs", "repos_url": "https://api.github.com/users/HannH/repos", "events_url": "https://api.github.com/users/HannH/events{/privacy}", "received_events_url": "https://api.github.com/users/HannH/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-07T13:01:29Z", "updated_at": "2018-08-31T08:22:31Z", "closed_at": null, "author_association": "NONE", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\nIf you open a GitHub issue, here is our policy:\r\n\r\n1. It must be a bug or a feature request.\r\n2. The form below must be filled out.\r\n3. It shouldn't be a TensorBoard issue. Those go [here](https://github.com/tensorflow/tensorboard/issues).\r\n\r\n**Here's why we have that policy**: TensorFlow developers respond to issues. We want to focus on work that benefits the whole community, e.g., fixing bugs and adding features. Support only helps individuals. GitHub also notifies thousands of people when issues are filed. We want them to see you communicating an interesting problem, rather than being redirected to Stack Overflow.\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nno\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nwindows 10\r\n- **TensorFlow installed from (source or binary)**:\r\nsource\r\n- **TensorFlow version (use command below)**:\r\n1.3\r\n- **IDE version**: \r\nvs2015 Debug mode\r\n- **Bazel version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:\r\nCUDA8.0 cuDNN5.1\r\n- **GPU model and memory**:\r\n4GB\r\n- **Exact command to reproduce**:\r\nD:/tensorflow-r1.3\\tensorflow/stream_executor/device_description.h(85): warning : type qualifier on return type is meaningless\r\n35>D:/tensorflow-r1.3\\tensorflow/stream_executor/device_description.h(144): warning : type qualifier on return type is meaningless\r\n35>E:/vs2015/VC/bin/../../VC/INCLUDE\\xutility(911): **error : calling a __host__ function(\"std::_Debug_message\") from a __device__ function(\"std::_Debug_lt<const int &, const int &> \") is not allowed**\r\n35>  1 error detected in the compilation of \"C:/Users/hh/AppData/Local/Temp/tmpxft_0000425c_00000000-15_adjust_hue_op_gpu.cu.compute_52.cpp1.ii\".\r\n35>  adjust_hue_op_gpu.cu.cc\r\n35>  CMake Error at tf_core_gpu_kernels_generated_adjust_hue_op_gpu.cu.cc.obj.Debug.cmake:282 (message):\r\n35>    Error generating file\r\n35>    D:/tensorflow-r1.3/CMAKE-GPU/CMakeFiles/tf_core_gpu_kernels.dir/__/__/core/kernels/Debug/tf_core_gpu_kernels_generated_adjust_hue_op_gpu.cu.cc.obj\r\n\r\nYou can collect some of this information using our environment capture script:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\r\n\r\nYou can obtain the TensorFlow version with\r\n\r\npython -c \"import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"\r\n\r\n### Describe the problem\r\nI built tensorflow project for GPU version in vs2015, and get CUDA error. It seems like call host function in the device function, but I can't find the place where error occur\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12071", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12071/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12071/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12071/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12071", "id": 248329188, "node_id": "MDU6SXNzdWUyNDgzMjkxODg=", "number": 12071, "title": "Numerical instability of gradient calculation of tf.norm (nan at 0, inf for small values) ", "user": {"login": "oduerr", "id": 4604020, "node_id": "MDQ6VXNlcjQ2MDQwMjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/4604020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oduerr", "html_url": "https://github.com/oduerr", "followers_url": "https://api.github.com/users/oduerr/followers", "following_url": "https://api.github.com/users/oduerr/following{/other_user}", "gists_url": "https://api.github.com/users/oduerr/gists{/gist_id}", "starred_url": "https://api.github.com/users/oduerr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oduerr/subscriptions", "organizations_url": "https://api.github.com/users/oduerr/orgs", "repos_url": "https://api.github.com/users/oduerr/repos", "events_url": "https://api.github.com/users/oduerr/events{/privacy}", "received_events_url": "https://api.github.com/users/oduerr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 30, "created_at": "2017-08-07T07:32:05Z", "updated_at": "2019-07-24T10:07:29Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes see below\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Mac OS X 10.11.6\r\n- **TensorFlow installed from (source or binary)**: binary\r\n- **TensorFlow version (use command below)**: #v1.2.0-5-g435cdfc    1.2.1\r\n- **Python version**: 3.6\r\n- **Bazel version (if compiling from source)**:\r\n- **CUDA/cuDNN version**: On CPU\r\n- **GPU model and memory**:\r\n- **Exact command to reproduce**: tf.norm at [0,0] see below for code\r\n\r\n```\r\nimport numpy as np\r\nimport tensorflow as tf\r\nprint(tf.GIT_VERSION, \"  \", tf.VERSION) #v1.2.0-5-g435cdfc    1.2.1\r\n\r\nX = tf.placeholder(tf.float32, shape=(4,None))\r\nZ = tf.norm(X, ord='euclidean', axis=1, name='logit')\r\nvar_grad = tf.gradients(Z, [X])\r\n\r\nwith tf.Session() as sess:\r\n    X_ = np.array([\r\n        [1],  # Grad OK\r\n        [0],  # Grad NaN\r\n        [1e-16],  # Grad OK\r\n        [1e-19] #Grad Inf\r\n    ], dtype=np.float32)\r\n    sess.run(tf.global_variables_initializer())\r\n    print(sess.run((Z, var_grad), feed_dict={X: X_}))\r\n    # Result:\r\n    #(array([9.99999940e-01, 0.00000000e+00, 9.99999951e-17,\r\n    #        0.00000000e+00], dtype=float32), [array([[1.00000012],\r\n    #                                                 [nan],\r\n    #                                                 [1.],\r\n    #                                                 [inf]], dtype=float32)])\r\n```\r\n\r\n### Describe the problem\r\n`nan` is calculated for the gradient of `tf.norm` at zero values. For extremely small values `inf` is calculated. Note that the exact result should be 1 in all cases above. \r\n\r\nAbove is a minimal example to reproduce it. The problem occurred in a real world scenario, when implementing a custom loss function (the entropy in https://arxiv.org/abs/1611.01449) and two embeddings where too close to each other (distance practically 0).\r\n\r\n### Source code / logs\r\nSee above \r\n\r\n#### Output of logfile\r\n```\r\n== cat /etc/issue ===============================================\r\nDarwin Olivers-MBP-5.fritz.box 15.6.0 Darwin Kernel Version 15.6.0: Tue Apr 11 16:00:51 PDT 2017; root:xnu-3248.60.11.5.3~1/RELEASE_X86_64 x86_64\r\nMac OS X 10.11.6\r\n\r\n== are we in docker =========================================  echo == are we in docker ====================================num echo == are we in docker =========================================  ec==  echo == are we in docker =======================================c++ --version\r\n\r\n== uname -a =====================================================\r\nDarwin Olivers-MBP-5.fritz.box 15.6.0 Darwin Kernel Version 15.6.0: Tue Apr 11 16:00:51 PDT 2017; root:xnu-3248.60.11.5.3~1/RELEASE_X86_64 x86_64\r\n\r\n== check pips ===================================================\r\nnumpy (1.13.0)\r\nprotobuf (3.3.0)\r\ntensorflow (1.2.1)\r\n\r\n== check for virtualenv ==============  echo == check for virtualenv =====on_b echo == check fo sys  echo == check for virtualenv ============== echo == check for virtualenv ============================================\r\n\r\n== cat /etc/issue ===============================================\r\nDarwin Olivers-MBP-5.fritz.box 15.6.0 Darwin Kernel Version 15.6.0: Tue Apr 11 16:00:51 PDT 2017; root:xnu-3248.60.11.5.3~1/RELEASE_X86_64 x86_64\r\nMac OS X 10.11.6\r\n\r\n== are we in docker =============================================\r\nNo\r\n\r\n== compiler =====================================================\r\nApple LLVM version 7.3.0 (clang-703.0.31)\r\nTarget: x86_64-apple-darwin15.6.0\r\nThread model: posix\r\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\n\r\n== uname -a =====================================================\r\nDarwin Olivers-MBP-5.fritz.box 15.6.0 Darwin Kernel Version 15.6.0: Tue Apr 11 16:00:51 PDT 2017; root:xnu-3248.60.11.5.3~1/RELEASE_X86_64 x86_64\r\n\r\n== check pips ===================================================\r\nnumpy (1.13.0)\r\nprotobuf (3.3.0)\r\ntensorflow (1.2.1)\r\n\r\n== check for virtualenv =========================================\r\nTrue\r\n\r\n== tensorflow import ============================================\r\ntf.VERSION = 1.2.1\r\ntf.GIT_VERSION = v1.2.0-5-g435cdfc\r\ntf.COMPILER_VERSION = v1.2.0-5-g435cdfc\r\nSanity check: array([1], dtype=int32)\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH is unset\r\nDYLD_LIBRARY_PATH is unset\r\n\r\n== nvidia-smi ===================================================\r\ntf_env_collect.sh.txt: line 105: nvidia-smi: command not found\r\n\r\n== cuda libs  ===================================================\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12046", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12046/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12046/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12046/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12046", "id": 248091423, "node_id": "MDU6SXNzdWUyNDgwOTE0MjM=", "number": 12046, "title": "tf.scatter_update to variable pinned on GPU fails", "user": {"login": "muhadriy", "id": 29864790, "node_id": "MDQ6VXNlcjI5ODY0Nzkw", "avatar_url": "https://avatars0.githubusercontent.com/u/29864790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muhadriy", "html_url": "https://github.com/muhadriy", "followers_url": "https://api.github.com/users/muhadriy/followers", "following_url": "https://api.github.com/users/muhadriy/following{/other_user}", "gists_url": "https://api.github.com/users/muhadriy/gists{/gist_id}", "starred_url": "https://api.github.com/users/muhadriy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muhadriy/subscriptions", "organizations_url": "https://api.github.com/users/muhadriy/orgs", "repos_url": "https://api.github.com/users/muhadriy/repos", "events_url": "https://api.github.com/users/muhadriy/events{/privacy}", "received_events_url": "https://api.github.com/users/muhadriy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-08-04T19:05:03Z", "updated_at": "2017-09-02T04:22:39Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- Linux Ubuntu 16.04\r\n- tensorflow-gpu v1.2.0 binary installed from pip\r\n- Python 3.5\r\n- CUDA 8.0, cuDNN v5.1 \r\n- GeForce GTX 1080 Ti, 11GB\r\n- A simple example I came up with which reproduces the error follows below:\r\n**************************************************************************************************\r\n```python\r\nimport tensorflow as tf\r\nwith tf.device(\"/gpu:0\"):\r\n    a = tf.Variable([1, 2, 3, 4, 5, 6, 7, 8])\r\n    c = tf.Variable([0, 0, 0, 0, 0, 0, 0, 0])\r\n    step_sos = tf.Variable([False, False, True, True, False, False, True, True])\r\n    write_ops = []\r\n    for b in range(8):\r\n        write_ops.append(tf.cond(step_sos[b], lambda: tf.scatter_update(a, b, 0), lambda: a))\r\n\r\n    with tf.control_dependencies(write_ops):\r\n       d = tf.assign(c, a)\r\n\r\n\r\nsession_config = tf.ConfigProto(allow_soft_placement=False, log_device_placement=True)\r\n\r\nwith tf.Session(config=session_config) as sess:\r\n    init_op = tf.global_variables_initializer()\r\n    sess.run(init_op)\r\n    sess.run(d)\r\n    print(sess.run(c))\r\n```\r\n********************************************************************************************************              \r\n\r\n### \r\nWhen setting allow_soft_placement=True the error is solved but the variable and some operations which are often used are placed in the CPU, which leads to fluctuating GPU utilization.\r\n\r\n### Source code / logs\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1139, in _do_call\r\n    return fn(*args)\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1117, in _run_fn\r\n    self._extend_graph()\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1166, in _extend_graph\r\n    self._session, graph_def.SerializeToString(), status)\r\n  File \"/usr/lib/python3.5/contextlib.py\", line 66, in __exit__\r\n    next(self.gen)\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/framework/errors_impl.py\", line 466, in raise_exception_on_not_ok_status\r\n    pywrap_tensorflow.TF_GetCode(status))\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Cannot assign a device for operation 'Variable_2': Could not satisfy explicit device specification '/device:GPU:0' because no supported kernel for GPU devices is available.\r\nColocation Debug Info:\r\nColocation group had the following types and devices: \r\nAssign: CPU \r\nIdentity: CPU \r\nVariableV2: CPU \r\n\t [[Node: Variable_2 = VariableV2[container=\"\", dtype=DT_BOOL, shape=[8], shared_name=\"\", _device=\"/device:GPU:0\"]()]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"scatter_test.py\", line 20, in <module>\r\n    sess.run(init_op)\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 789, in run\r\n    run_metadata_ptr)\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 997, in _run\r\n    feed_dict_string, options, run_metadata)\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1132, in _do_run\r\n    target_list, options, run_metadata)\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/client/session.py\", line 1152, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Cannot assign a device for operation 'Variable_2': Could not satisfy explicit device specification '/device:GPU:0' because no supported kernel for GPU devices is available.\r\nColocation Debug Info:\r\nColocation group had the following types and devices: \r\nAssign: CPU \r\nIdentity: CPU \r\nVariableV2: CPU \r\n\t [[Node: Variable_2 = VariableV2[container=\"\", dtype=DT_BOOL, shape=[8], shared_name=\"\", _device=\"/device:GPU:0\"]()]]\r\n\r\nCaused by op 'Variable_2', defined at:\r\n  File \"scatter_test.py\", line 7, in <module>\r\n    step_sos = tf.Variable([False, False, True, True, False, False, True, True])\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/ops/variables.py\", line 200, in __init__\r\n    expected_shape=expected_shape)\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/ops/variables.py\", line 297, in _init_from_args\r\n    name=name)\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/ops/state_ops.py\", line 128, in variable_op_v2\r\n    shared_name=shared_name)\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 684, in _variable_v2\r\n    name=name)\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py\", line 767, in apply_op\r\n    op_def=op_def)\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 2506, in create_op\r\n    original_op=self._default_original_op, op_def=op_def)\r\n  File \"/home/ylli/neuralattention/code/venv/lib/python3.5/site-packages/tensorflow/python/framework/ops.py\", line 1269, in __init__\r\n    self._traceback = _extract_stack()\r\n\r\nInvalidArgumentError (see above for traceback): Cannot assign a device for operation 'Variable_2': Could not satisfy explicit device specification '/device:GPU:0' because no supported kernel for GPU devices is available.\r\nColocation Debug Info:\r\nColocation group had the following types and devices: \r\nAssign: CPU \r\nIdentity: CPU \r\nVariableV2: CPU \r\n\t [[Node: Variable_2 = VariableV2[container=\"\", dtype=DT_BOOL, shape=[8], shared_name=\"\", _device=\"/device:GPU:0\"]()]]\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12019", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12019/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12019/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12019/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12019", "id": 247823207, "node_id": "MDU6SXNzdWUyNDc4MjMyMDc=", "number": 12019, "title": "foldr is too restrictive:  dimension 0 in both shapes must be equal", "user": {"login": "edgimar", "id": 393850, "node_id": "MDQ6VXNlcjM5Mzg1MA==", "avatar_url": "https://avatars0.githubusercontent.com/u/393850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edgimar", "html_url": "https://github.com/edgimar", "followers_url": "https://api.github.com/users/edgimar/followers", "following_url": "https://api.github.com/users/edgimar/following{/other_user}", "gists_url": "https://api.github.com/users/edgimar/gists{/gist_id}", "starred_url": "https://api.github.com/users/edgimar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edgimar/subscriptions", "organizations_url": "https://api.github.com/users/edgimar/orgs", "repos_url": "https://api.github.com/users/edgimar/repos", "events_url": "https://api.github.com/users/edgimar/events{/privacy}", "received_events_url": "https://api.github.com/users/edgimar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-03T20:17:42Z", "updated_at": "2017-10-18T14:47:36Z", "closed_at": null, "author_association": "NONE", "body": "Using TF 1.2.0-rc1 on Ubuntu 16.04.\r\n\r\nThere are cases where `tf.foldr` should work, but is unable to because of a restriction that the first shape dimensions be identical for all list elements.  Below is a self-contained example that demonstrates the problem:\r\n\r\n```\r\nimport tensorflow as tf\r\nsess = tf.InteractiveSession()\r\n\r\ndef concat2(A, B):\r\n    return tf.concat([A, B], axis=0)\r\n\r\nA = tf.constant([[10,10]])             # A.shape => (1,2)\r\nB = tf.constant([[20, 20], [30, 30]])  # B.shape => (2,2)\r\n\r\nprint(concat2(A, B).eval())              # => [[10, 10], [20, 20], [30, 30]]\r\nprint(tf.foldr(concat2, [A, B]).eval())  # => ERROR!\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12009", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12009/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12009/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12009/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12009", "id": 247763597, "node_id": "MDU6SXNzdWUyNDc3NjM1OTc=", "number": 12009, "title": "Expose Tensorflow Go library as cgo_library rule in Bazel", "user": {"login": "amlinux", "id": 449322, "node_id": "MDQ6VXNlcjQ0OTMyMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/449322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amlinux", "html_url": "https://github.com/amlinux", "followers_url": "https://api.github.com/users/amlinux/followers", "following_url": "https://api.github.com/users/amlinux/following{/other_user}", "gists_url": "https://api.github.com/users/amlinux/gists{/gist_id}", "starred_url": "https://api.github.com/users/amlinux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amlinux/subscriptions", "organizations_url": "https://api.github.com/users/amlinux/orgs", "repos_url": "https://api.github.com/users/amlinux/repos", "events_url": "https://api.github.com/users/amlinux/events{/privacy}", "received_events_url": "https://api.github.com/users/amlinux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-03T16:27:03Z", "updated_at": "2017-08-04T04:13:58Z", "closed_at": null, "author_association": "NONE", "body": "Currently it's not possible to reference @org_tensorflow//tensorflow/go:go_default_library from a BUILD file. It would be great to have this ability."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12001", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12001/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12001/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/12001/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/12001", "id": 247701839, "node_id": "MDU6SXNzdWUyNDc3MDE4Mzk=", "number": 12001, "title": "Feature Request: Add separable_conv2d_transpose operation", "user": {"login": "andreas-eberle", "id": 9267365, "node_id": "MDQ6VXNlcjkyNjczNjU=", "avatar_url": "https://avatars0.githubusercontent.com/u/9267365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreas-eberle", "html_url": "https://github.com/andreas-eberle", "followers_url": "https://api.github.com/users/andreas-eberle/followers", "following_url": "https://api.github.com/users/andreas-eberle/following{/other_user}", "gists_url": "https://api.github.com/users/andreas-eberle/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreas-eberle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreas-eberle/subscriptions", "organizations_url": "https://api.github.com/users/andreas-eberle/orgs", "repos_url": "https://api.github.com/users/andreas-eberle/repos", "events_url": "https://api.github.com/users/andreas-eberle/events{/privacy}", "received_events_url": "https://api.github.com/users/andreas-eberle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 25, "created_at": "2017-08-03T13:12:24Z", "updated_at": "2020-02-06T09:41:14Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Some recent papers (e.g.) have shown that transposed separable convolutions can be a great choice for decoders in encoder decoder architectures.\r\n\r\nCan you add a seperable_conv2d_transpose operation comparable to the conv2d_transpose operation?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11954", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11954/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11954/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11954/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11954", "id": 247241361, "node_id": "MDU6SXNzdWUyNDcyNDEzNjE=", "number": 11954, "title": "Dilated convolution does not preserve tensor shape", "user": {"login": "haraldurt", "id": 8042058, "node_id": "MDQ6VXNlcjgwNDIwNTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/8042058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haraldurt", "html_url": "https://github.com/haraldurt", "followers_url": "https://api.github.com/users/haraldurt/followers", "following_url": "https://api.github.com/users/haraldurt/following{/other_user}", "gists_url": "https://api.github.com/users/haraldurt/gists{/gist_id}", "starred_url": "https://api.github.com/users/haraldurt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haraldurt/subscriptions", "organizations_url": "https://api.github.com/users/haraldurt/orgs", "repos_url": "https://api.github.com/users/haraldurt/repos", "events_url": "https://api.github.com/users/haraldurt/events{/privacy}", "received_events_url": "https://api.github.com/users/haraldurt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-08-02T00:39:43Z", "updated_at": "2018-04-26T19:09:04Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nYes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nUbuntu 14.04.5 LTS\r\n- **TensorFlow installed from (source or binary)**:\r\nSource\r\n- **TensorFlow version (use command below)**:\r\n('unknown', '1.3.0-rc0')\r\n- **Python version**: \r\n2.7.12\r\n\r\n- **Exact command to reproduce**:\r\n```\r\ninput_tensor = tf.placeholder(tf.float32, (10, None, 256, 3))\r\n\r\ndilated = tf.nn.convolution(input_tensor,\r\n                            tf.zeros((3, 1, 3, 16)),\r\n                            dilation_rate=[2, 1],\r\n                            padding='SAME')\r\n\r\nprint(dilated.get_shape()) # Displays: [10, ?, ?, 16], expected [10, ?, 256, 16]\r\n```\r\n\r\n### Describe the problem\r\nThe documentation for tf.nn.convolution has the spatial dimensions of the output given as:\r\n\r\n```\r\nIf padding == \"SAME\": output_spatial_shape[i] = ceil(input_spatial_shape[i] / strides[i])\r\n```\r\n\r\nWhich suggests that input_spatial_shape[0] should not affect output_spatial_shape[1], as is the case in the code block above.\r\n\r\nThis problem arises when using dilated convolutions as part of a larger model containing recurrent layers, in which one spatial dimension is left undefined to allow for unrolling the recurrent layers out during training along the undefined dimension.\r\n\r\nThis might be related to a [previously fixed problem with undefined batch sizes](https://github.com/tensorflow/tensorflow/issues/4742).\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11911", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11911/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11911/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11911/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11911", "id": 246778403, "node_id": "MDU6SXNzdWUyNDY3Nzg0MDM=", "number": 11911, "title": "tensorflow-1.2.1 import tensorflow Segmentation fault", "user": {"login": "lemonsee", "id": 7186886, "node_id": "MDQ6VXNlcjcxODY4ODY=", "avatar_url": "https://avatars3.githubusercontent.com/u/7186886?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lemonsee", "html_url": "https://github.com/lemonsee", "followers_url": "https://api.github.com/users/lemonsee/followers", "following_url": "https://api.github.com/users/lemonsee/following{/other_user}", "gists_url": "https://api.github.com/users/lemonsee/gists{/gist_id}", "starred_url": "https://api.github.com/users/lemonsee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lemonsee/subscriptions", "organizations_url": "https://api.github.com/users/lemonsee/orgs", "repos_url": "https://api.github.com/users/lemonsee/repos", "events_url": "https://api.github.com/users/lemonsee/events{/privacy}", "received_events_url": "https://api.github.com/users/lemonsee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-07-31T14:34:53Z", "updated_at": "2017-08-01T02:48:54Z", "closed_at": null, "author_association": "NONE", "body": "hi ,\r\nI installed tensorflow-1.2.1 in my machine, and met a segment fault as below. \r\n\r\n```\r\nstm-zk5:~ # python\r\nPython 2.7.13 |Anaconda 4.4.0 (64-bit)| (default, Dec 20 2016, 23:09:15)\r\n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\nAnaconda is brought to you by Continuum Analytics.\r\nPlease check out: http://continuum.io/thanks and https://anaconda.org\r\n>>> import tensorflow\r\n\u6bb5\u9519\u8bef\r\n```\r\n\r\n### System information\r\n```\r\nstm-zk5:~ #  cat /etc/redhat-release\r\nCentOS Linux release 6.2 (Final)\r\n\r\n```\r\n\r\n###  Installing \r\nI do : \r\n`pip install --ignore-installed --upgrade  https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-1.2.1-cp27-none-linux_x86_64.whl`\r\n\r\nso , would someone help me to solve this problem ?\ud83e\udd15 \uff0cthx !"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11846", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11846/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11846/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11846/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11846", "id": 246312565, "node_id": "MDU6SXNzdWUyNDYzMTI1NjU=", "number": 11846, "title": "Fractional 3d Max Pooling", "user": {"login": "shamazharikh", "id": 18035533, "node_id": "MDQ6VXNlcjE4MDM1NTMz", "avatar_url": "https://avatars2.githubusercontent.com/u/18035533?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shamazharikh", "html_url": "https://github.com/shamazharikh", "followers_url": "https://api.github.com/users/shamazharikh/followers", "following_url": "https://api.github.com/users/shamazharikh/following{/other_user}", "gists_url": "https://api.github.com/users/shamazharikh/gists{/gist_id}", "starred_url": "https://api.github.com/users/shamazharikh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shamazharikh/subscriptions", "organizations_url": "https://api.github.com/users/shamazharikh/orgs", "repos_url": "https://api.github.com/users/shamazharikh/repos", "events_url": "https://api.github.com/users/shamazharikh/events{/privacy}", "received_events_url": "https://api.github.com/users/shamazharikh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-07-28T10:44:58Z", "updated_at": "2018-10-17T20:16:21Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:Linux Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: binary\r\n- **TensorFlow version (use command below)**: 1.2.0\r\n- **Python version**: 3.5.2\r\n- **Bazel version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:8/5\r\n- **GPU model and memory**:Nvidia 740M\r\n\r\n### Describe the problem\r\nThere is a fractional maxpool op for 4D tensors. For medical imaging, data is available in the form of 3d images. Hence a fractional maxpool/avgpool  op for 5D tensors i.e., [batch_size, n_channels, depth, height, width] would be really useful.\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11816", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11816/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11816/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11816/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11816", "id": 246037026, "node_id": "MDU6SXNzdWUyNDYwMzcwMjY=", "number": 11816, "title": "Snappy related tests are failing", "user": {"login": "duane-ibm", "id": 20570859, "node_id": "MDQ6VXNlcjIwNTcwODU5", "avatar_url": "https://avatars3.githubusercontent.com/u/20570859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duane-ibm", "html_url": "https://github.com/duane-ibm", "followers_url": "https://api.github.com/users/duane-ibm/followers", "following_url": "https://api.github.com/users/duane-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/duane-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/duane-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duane-ibm/subscriptions", "organizations_url": "https://api.github.com/users/duane-ibm/orgs", "repos_url": "https://api.github.com/users/duane-ibm/repos", "events_url": "https://api.github.com/users/duane-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/duane-ibm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-07-27T13:20:07Z", "updated_at": "2017-07-27T16:33:17Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 'v1.2.1-0-gb4957ff', '1.2.1'\r\n- **Python version**: 2.7.12\r\n- **Bazel version (if compiling from source)**: 0.4.5\r\n- **CUDA/cuDNN version**: No GPU\r\n- **GPU model and memory**: No GPU\r\n- **Exact command to reproduce**: bazel test //tensorflow/core:lib_io_snappy_snappy_buffers_test\r\n\r\n### The problem:\r\nWhile executing test `TEST(SnappyBuffers, MultipleWritesWithoutFlush)`. It fails when `Snappy_Uncompress()` method is called which internally calls `snappy::RawUncompress()`.\r\nCompared the same on intel x86 where it works fine; However the data somehow gets lost on s390x.\r\n\r\nI am aware that Snappy behaves differently on s390x as compared to others.\r\n\r\nThere is another test `//tensorflow/core:lib_io_table_test` which fails when snappy compress/uncompress is used.\r\nWould like to know if the mentioned test-cases are used to test some complex functionality of TensorFlow? Can they be ignored?\r\n\r\n### Source code / logs\r\nRunning main() from test_main.cc\r\n[==========] Running 5 tests from 1 test case.\r\n[----------] Global test environment set-up.\r\n[----------] 5 tests from SnappyBuffers\r\n[ RUN      ] SnappyBuffers.MultipleWritesWithoutFlush\r\n2017-07-27 12:25:34.898300: F tensorflow/core/lib/io/snappy/snappy_buffers_test.cc:148] Non-OK-status: TestMultipleWrites(10000, 10000, 10000, 10000, 2) status: Data loss: Snappy_Uncompress failed\r\nexternal/bazel_tools/tools/test/test-setup.sh: line 159: 17664 Aborted                 (core dumped) \"${TEST_PATH}\" \"$@\"\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11791", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11791/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11791/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11791/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11791", "id": 245855995, "node_id": "MDU6SXNzdWUyNDU4NTU5OTU=", "number": 11791, "title": "Feature request: equivalent of tf.nn.maxpooling_with_argmax for 3D maxpooling", "user": {"login": "agataf", "id": 15842721, "node_id": "MDQ6VXNlcjE1ODQyNzIx", "avatar_url": "https://avatars1.githubusercontent.com/u/15842721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agataf", "html_url": "https://github.com/agataf", "followers_url": "https://api.github.com/users/agataf/followers", "following_url": "https://api.github.com/users/agataf/following{/other_user}", "gists_url": "https://api.github.com/users/agataf/gists{/gist_id}", "starred_url": "https://api.github.com/users/agataf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agataf/subscriptions", "organizations_url": "https://api.github.com/users/agataf/orgs", "repos_url": "https://api.github.com/users/agataf/repos", "events_url": "https://api.github.com/users/agataf/events{/privacy}", "received_events_url": "https://api.github.com/users/agataf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-26T21:11:39Z", "updated_at": "2017-08-29T20:18:57Z", "closed_at": null, "author_association": "NONE", "body": "It would be great to have the equivalent of tf.nn.maxpooling_with_argmax in 3D, in order to allow for 3D unpooling layers.\r\n\r\nI am implementing a 3Dversion of the originally 2D Deconvolution network [Noh et al. 2015]. It has been implemented in 2D in Tensorflow [here](https://github.com/fabianbormann/Tensorflow-DeconvNet-Segmentation/blob/master/DeconvNet.py) and in 3D in caffe [here](https://github.com/Microsoft/O-CNN/blob/master/caffe/examples/o-cnn/segmentation_5.prototxt). \r\n\r\nI need to use unpooling, and for that I need the indexes of the elements selected during pooling. This feature is implemented for 2D (tf.nn.maxpooling_with_argmax), but not for 3D.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11756", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11756/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11756/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11756/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11756", "id": 245480884, "node_id": "MDU6SXNzdWUyNDU0ODA4ODQ=", "number": 11756, "title": "Infinity mask breaks gradient", "user": {"login": "hongzimao", "id": 5906100, "node_id": "MDQ6VXNlcjU5MDYxMDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/5906100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hongzimao", "html_url": "https://github.com/hongzimao", "followers_url": "https://api.github.com/users/hongzimao/followers", "following_url": "https://api.github.com/users/hongzimao/following{/other_user}", "gists_url": "https://api.github.com/users/hongzimao/gists{/gist_id}", "starred_url": "https://api.github.com/users/hongzimao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hongzimao/subscriptions", "organizations_url": "https://api.github.com/users/hongzimao/orgs", "repos_url": "https://api.github.com/users/hongzimao/repos", "events_url": "https://api.github.com/users/hongzimao/events{/privacy}", "received_events_url": "https://api.github.com/users/hongzimao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2017-07-25T17:46:52Z", "updated_at": "2019-09-26T22:05:54Z", "closed_at": null, "author_association": "NONE", "body": "I'm trying to do softmax over selected indices, using infinity mask to silent out the unwanted ones. However, the gradient of those unwanted entires become nan as opposed to 0.\r\n\r\nThe reason I didn't use boolean mask is that the mask indices are different in my batch, which can't end up with a nice matrix form. If there's workaround here I'll be more than happy to adopt.\r\n\r\nThe code I tested the infinity mask is\r\n\r\n```\r\nimport numpy as np\r\nimport tensorflow as tf\r\n\r\na = tf.placeholder(tf.float32, [5])\r\ninf_mask = tf.placeholder(tf.float32, [5])\r\n\r\nb = tf.multiply(a, inf_mask)\r\nsf = tf.nn.softmax(b)\r\n\r\nloss = (sf[2] - 0)\r\ngrad = tf.gradients(loss, a)\r\n\r\nsess = tf.Session()\r\n\r\na_np = np.ones([5])\r\nnp_mask = np.ones([5]) * 4\r\nnp_mask[1] = -np.inf\r\n\r\nprint sess.run([sf, grad], feed_dict={\r\n    a: a_np,\r\n    inf_mask: np_mask\r\n})\r\n\r\nsess.close()\r\n```\r\n\r\nThe output is `[array([ 0.25,  0.  ,  0.25,  0.25,  0.25], dtype=float32), [array([-0.25,   nan,  0.75, -0.25, -0.25], dtype=float32)]]`\r\n\r\nThe mask is working but the gradient has a nan, which should have been 0 I think."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11689", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11689/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11689/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11689/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11689", "id": 244906672, "node_id": "MDU6SXNzdWUyNDQ5MDY2NzI=", "number": 11689, "title": "Distributed Tensorflow Authorization", "user": {"login": "crohkohl", "id": 6941505, "node_id": "MDQ6VXNlcjY5NDE1MDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/6941505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crohkohl", "html_url": "https://github.com/crohkohl", "followers_url": "https://api.github.com/users/crohkohl/followers", "following_url": "https://api.github.com/users/crohkohl/following{/other_user}", "gists_url": "https://api.github.com/users/crohkohl/gists{/gist_id}", "starred_url": "https://api.github.com/users/crohkohl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crohkohl/subscriptions", "organizations_url": "https://api.github.com/users/crohkohl/orgs", "repos_url": "https://api.github.com/users/crohkohl/repos", "events_url": "https://api.github.com/users/crohkohl/events{/privacy}", "received_events_url": "https://api.github.com/users/crohkohl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-07-23T12:18:14Z", "updated_at": "2019-08-20T21:25:09Z", "closed_at": null, "author_association": "NONE", "body": "Could somebody comment on the security design of distributed tensorflow? \r\nIs there some kind of authorization in place for the grpc calls in distributed tensorflow?\r\nE.g., are the clients validated based on the IP or anything else?\r\n\r\nIf not, how difficult would it be to add authorization support and what would be the best place in the code to get started?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11604", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11604/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11604/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11604/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11604", "id": 244017930, "node_id": "MDU6SXNzdWUyNDQwMTc5MzA=", "number": 11604, "title": "Unable to compile a quantized graph using XLA AOT?", "user": {"login": "kwotsin", "id": 11178344, "node_id": "MDQ6VXNlcjExMTc4MzQ0", "avatar_url": "https://avatars2.githubusercontent.com/u/11178344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kwotsin", "html_url": "https://github.com/kwotsin", "followers_url": "https://api.github.com/users/kwotsin/followers", "following_url": "https://api.github.com/users/kwotsin/following{/other_user}", "gists_url": "https://api.github.com/users/kwotsin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kwotsin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kwotsin/subscriptions", "organizations_url": "https://api.github.com/users/kwotsin/orgs", "repos_url": "https://api.github.com/users/kwotsin/repos", "events_url": "https://api.github.com/users/kwotsin/events{/privacy}", "received_events_url": "https://api.github.com/users/kwotsin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tatatodd", "id": 5453737, "node_id": "MDQ6VXNlcjU0NTM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5453737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatatodd", "html_url": "https://github.com/tatatodd", "followers_url": "https://api.github.com/users/tatatodd/followers", "following_url": "https://api.github.com/users/tatatodd/following{/other_user}", "gists_url": "https://api.github.com/users/tatatodd/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatatodd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatatodd/subscriptions", "organizations_url": "https://api.github.com/users/tatatodd/orgs", "repos_url": "https://api.github.com/users/tatatodd/repos", "events_url": "https://api.github.com/users/tatatodd/events{/privacy}", "received_events_url": "https://api.github.com/users/tatatodd/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2017-07-19T12:06:02Z", "updated_at": "2019-03-01T18:04:22Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No.\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: Source\r\n- **TensorFlow version (use command below)**: Master\r\n- **Python version**: 2.7.13\r\n- **Bazel version (if compiling from source)**: 0.4.5\r\n- **CUDA/cuDNN version**: 8.0/5.1\r\n- **GPU model and memory**: GTX 860M\r\n- **Exact command to reproduce**: \r\n\r\n`bazel build -c opt --cxxopt='-std=c++11' --linkopt='-lm'    --cpu=armeabi-v7a    --host_crosstool_top=@bazel_tools//tools/cpp:toolchain    --crosstool_top=//external:android/crosstool    //tensorflow/compiler/aot:inception_v3 --verbose_failures`\r\n\r\n### Describe the problem\r\nI am currently trying to use `tfcompile` to compile a quantized inception_v3 model for android, following the instructions given in the documentation [here](https://www.tensorflow.org/performance/xla/tfcompile), but I have gotten this error below:\r\n\r\n```\r\nINFO: Found 1 target...\r\nERROR: /home/kwotsin/Android/tensorflow/tensorflow/compiler/aot/BUILD:11:1: Executing genrule //tensorflow/compiler/aot:gen_inception_v3 failed: bash failed: error executing command \r\n  (cd /home/kwotsin/.cache/bazel/_bazel_kwotsin/655cf5567faa2deb9e3725ec794eb35d/execroot/tensorflow && \\\r\n  exec env - \\\r\n    LD_LIBRARY_PATH=:/usr/local/cuda/lib64:/usr/local/cuda/lib64 \\\r\n    PATH=/usr/local/cuda/bin:/usr/local/cuda/bin:/home/kwotsin/bin:/home/kwotsin/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/kwotsin/Android/Sdk/tools:/home/kwotsin/Android/Sdk/platform-tools \\\r\n    PYTHON_BIN_PATH=/usr/bin/python \\\r\n    PYTHON_LIB_PATH=/usr/local/lib/python2.7/dist-packages \\\r\n    TF_NEED_CUDA=0 \\\r\n    TF_NEED_OPENCL=0 \\\r\n  /bin/bash -c 'source external/bazel_tools/tools/genrule/genrule-setup.sh; bazel-out/host/bin/tensorflow/compiler/aot/tfcompile --graph=tensorflow/compiler/aot/inception_v3.pb --config=tensorflow/compiler/aot/inception_v3.config.pbtxt --entry_point=__tensorflow_compiler_aot__inception_v3 --cpp_class=inception_v3_cpp --target_triple=armv7-none-android --out_header=bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-opt/genfiles/tensorflow/compiler/aot/inception_v3.h --out_object=bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-opt/genfiles/tensorflow/compiler/aot/inception_v3.o '): com.google.devtools.build.lib.shell.AbnormalTerminationException: Process terminated by signal 6.\r\n2017-07-19 19:53:26.407268: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-07-19 19:53:26.407310: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-07-19 19:53:26.407326: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-07-19 19:53:26.407330: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-07-19 19:53:26.407333: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-07-19 19:53:26.424064: I tensorflow/compiler/xla/service/platform_util.cc:58] platform Host present with 8 visible devices\r\n2017-07-19 19:53:26.426662: E tensorflow/core/common_runtime/executor.cc:644] Executor failed to create kernel. Not found: No registered 'Const' OpKernel for XLA_CPU_JIT devices compatible with node InceptionV3/Conv2d_1a_3x3/weights/read/_224__cf__224_quantized_const = Const[dtype=DT_QUINT8, value=Tensor<type: quint8 shape: [3,3,3,32] values: [[[97 115 118]]]...>]()\r\n\t (OpKernel was found, but attributes didn't match)\r\n\t.  Registered:  device='XLA_CPU_JIT'; dtype in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_INT64, DT_BOOL]\r\n  device='XLA_GPU_JIT'; dtype in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_INT64, DT_BOOL]\r\n  device='CPU'\r\n\r\n\t [[Node: InceptionV3/Conv2d_1a_3x3/weights/read/_224__cf__224_quantized_const = Const[dtype=DT_QUINT8, value=Tensor<type: quint8 shape: [3,3,3,32] values: [[[97 115 118]]]...>]()]]\r\n2017-07-19 19:53:26.429093: F tensorflow/compiler/aot/tfcompile_main.cc:154] Non-OK-status: status status: Not found: No registered 'Const' OpKernel for XLA_CPU_JIT devices compatible with node InceptionV3/Conv2d_1a_3x3/weights/read/_224__cf__224_quantized_const = Const[dtype=DT_QUINT8, value=Tensor<type: quint8 shape: [3,3,3,32] values: [[[97 115 118]]]...>]()\r\n\t (OpKernel was found, but attributes didn't match)\r\n\t.  Registered:  device='XLA_CPU_JIT'; dtype in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_INT64, DT_BOOL]\r\n  device='XLA_GPU_JIT'; dtype in [DT_FLOAT, DT_DOUBLE, DT_INT32, DT_INT64, DT_BOOL]\r\n  device='CPU'\r\n\r\n\t [[Node: InceptionV3/Conv2d_1a_3x3/weights/read/_224__cf__224_quantized_const = Const[dtype=DT_QUINT8, value=Tensor<type: quint8 shape: [3,3,3,32] values: [[[97 115 118]]]...>]()]]\r\n/bin/bash: line 1:  6904 Aborted                 (core dumped) bazel-out/host/bin/tensorflow/compiler/aot/tfcompile --graph=tensorflow/compiler/aot/inception_v3.pb --config=tensorflow/compiler/aot/inception_v3.config.pbtxt --entry_point=__tensorflow_compiler_aot__inception_v3 --cpp_class=inception_v3_cpp --target_triple=armv7-none-android --out_header=bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-opt/genfiles/tensorflow/compiler/aot/inception_v3.h --out_object=bazel-out/arm-linux-androideabi-4.9-v7a-gnu-libstdcpp-opt/genfiles/tensorflow/compiler/aot/inception_v3.o\r\nTarget //tensorflow/compiler/aot:inception_v3 failed to build\r\nINFO: Elapsed time: 0.339s, Critical Path: 0.18s\r\n```\r\n\r\nDespite the \"SSE4.1 etc.\" instructions that popped up, I made sure that I configured the tensorflow installation with XLA enabled, so it shouldn't have popped up. \r\n\r\nAlso, my quantized graph was created using the Graph Transform Tool with the following command, producing a graph that worked exactly as expected:\r\n\r\n```\r\n/home/kwotsin/tensorflow/bazel-bin/tensorflow/tools/graph_transforms/transform_graph \\\r\n--in_graph=./frozen_model.pb \\\r\n--out_graph=./quantized_model.pb \\\r\n--inputs='Placeholder_only' \\\r\n--outputs='InceptionV3/Predictions/Softmax' \\\r\n--transforms='\r\n  add_default_attributes\r\n  strip_unused_nodes(type=float, shape=\"1,299,299,3\")\r\n  fold_constants(ignore_errors=true)\r\n  fold_batch_norms\r\n  fold_old_batch_norms\r\n  quantize_weights\r\n  strip_unused_nodes\r\n  sort_by_execution_order'\r\n```\r\n\r\nIs XLA AOT compilation of quantized models currently supported? Because when I tried to build with a frozen, non-quantized graph, I got the correct output - a cpp object file and a header file. I thought it would be nice if XLA AOT could be used concurrently with a quantized model to obtain the maximum level of mobile optimization."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11541", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11541/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11541/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11541/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11541", "id": 243293192, "node_id": "MDU6SXNzdWUyNDMyOTMxOTI=", "number": 11541, "title": "tfcompile won't work with graph that has no inputs", "user": {"login": "jpmartin2", "id": 2464249, "node_id": "MDQ6VXNlcjI0NjQyNDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/2464249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpmartin2", "html_url": "https://github.com/jpmartin2", "followers_url": "https://api.github.com/users/jpmartin2/followers", "following_url": "https://api.github.com/users/jpmartin2/following{/other_user}", "gists_url": "https://api.github.com/users/jpmartin2/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpmartin2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpmartin2/subscriptions", "organizations_url": "https://api.github.com/users/jpmartin2/orgs", "repos_url": "https://api.github.com/users/jpmartin2/repos", "events_url": "https://api.github.com/users/jpmartin2/events{/privacy}", "received_events_url": "https://api.github.com/users/jpmartin2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-07-17T04:09:43Z", "updated_at": "2018-03-07T18:57:04Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 1.2.1 (git version v1.2.0-2140-g85d4102)\r\n- **Python version**: 3.5.2\r\n- **Bazel version (if compiling from source)**: 0.5.2\r\n- **CUDA/cuDNN version**: 5.1.5\r\n- **GPU model and memory**: GeForce GTX 970 4GB\r\n\r\n### Describe the problem\r\n\r\nI have been working on a char-rnn like network that is trained on a corpus of text, and then produces similar text as output. I'm trying to compile the graph, but tfcompile asserts that the list of feeds is non-empty. However, since for my network there are no inputs to specify as feeds, tfcompile fails.\r\n\r\n### Source code / logs\r\n\r\nThe configuration I tried to use looks like this:\r\n\r\n```\r\nfetch {\r\n  id { node_name: \"predictions\" }\r\n}\r\n```\r\n\r\nThe error message:\r\n```\r\nINVALID ARGUMENTS: feeds and fetches must be specified\r\n```\r\nwhich comes from https://github.com/tensorflow/tensorflow/blob/85d4102862c781af2346b4aa568054522e8946ea/tensorflow/compiler/aot/tfcompile_util.cc#L119\r\n\r\nI don't really know anything about how the compiler works, but is this check in place because it was assumed that you'd always want to have an input, or because of some other limitation that would cause the compilation to fail with no feeds?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11447", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11447/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11447/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11447/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11447", "id": 242309933, "node_id": "MDU6SXNzdWUyNDIzMDk5MzM=", "number": 11447, "title": "Feature Request: sparse matrix triangular solver", "user": {"login": "patrickltobing", "id": 3634971, "node_id": "MDQ6VXNlcjM2MzQ5NzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/3634971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patrickltobing", "html_url": "https://github.com/patrickltobing", "followers_url": "https://api.github.com/users/patrickltobing/followers", "following_url": "https://api.github.com/users/patrickltobing/following{/other_user}", "gists_url": "https://api.github.com/users/patrickltobing/gists{/gist_id}", "starred_url": "https://api.github.com/users/patrickltobing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patrickltobing/subscriptions", "organizations_url": "https://api.github.com/users/patrickltobing/orgs", "repos_url": "https://api.github.com/users/patrickltobing/repos", "events_url": "https://api.github.com/users/patrickltobing/events{/privacy}", "received_events_url": "https://api.github.com/users/patrickltobing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2017-07-12T09:08:57Z", "updated_at": "2019-08-06T22:00:56Z", "closed_at": null, "author_association": "NONE", "body": "I have just written about this in stack overflow,\r\nbut I just realized it would be more relevant if be put here.\r\n\r\nI think it would be very helpful if we could do solve linear equation Ax = b,\r\nwhere A has a sparse matrix representation, for example,\r\ncontaining lower triangular entries for a banded symmetric-matrix.\r\n\r\nBecause, AFAIK, in this case, we need to convert the sparse matrix A\r\nwith the `tf.sparse_to_dense()`, to run the `tf.matrix_triangular_solve()`.\r\n\r\nBut, if the dimension of A is very large, e.g., about 16000x16000,\r\nand with very sparse entries, e.g., about 46000 non-zeros (0.018%),\r\nit would take a huge amount of memory.\r\n\r\nOr maybe there is another way to do it in Tensorflow?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11361", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11361/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11361/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11361/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11361", "id": 241342238, "node_id": "MDU6SXNzdWUyNDEzNDIyMzg=", "number": 11361, "title": "Feature Request: Change REGISTER_OP macro to facilitate customization on static initialization sequence", "user": {"login": "liuliu", "id": 127987, "node_id": "MDQ6VXNlcjEyNzk4Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/127987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuliu", "html_url": "https://github.com/liuliu", "followers_url": "https://api.github.com/users/liuliu/followers", "following_url": "https://api.github.com/users/liuliu/following{/other_user}", "gists_url": "https://api.github.com/users/liuliu/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuliu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuliu/subscriptions", "organizations_url": "https://api.github.com/users/liuliu/orgs", "repos_url": "https://api.github.com/users/liuliu/repos", "events_url": "https://api.github.com/users/liuliu/events{/privacy}", "received_events_url": "https://api.github.com/users/liuliu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "tatianashp", "id": 986732, "node_id": "MDQ6VXNlcjk4NjczMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/986732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatianashp", "html_url": "https://github.com/tatianashp", "followers_url": "https://api.github.com/users/tatianashp/followers", "following_url": "https://api.github.com/users/tatianashp/following{/other_user}", "gists_url": "https://api.github.com/users/tatianashp/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatianashp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatianashp/subscriptions", "organizations_url": "https://api.github.com/users/tatianashp/orgs", "repos_url": "https://api.github.com/users/tatianashp/repos", "events_url": "https://api.github.com/users/tatianashp/events{/privacy}", "received_events_url": "https://api.github.com/users/tatianashp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tatianashp", "id": 986732, "node_id": "MDQ6VXNlcjk4NjczMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/986732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatianashp", "html_url": "https://github.com/tatianashp", "followers_url": "https://api.github.com/users/tatianashp/followers", "following_url": "https://api.github.com/users/tatianashp/following{/other_user}", "gists_url": "https://api.github.com/users/tatianashp/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatianashp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatianashp/subscriptions", "organizations_url": "https://api.github.com/users/tatianashp/orgs", "repos_url": "https://api.github.com/users/tatianashp/repos", "events_url": "https://api.github.com/users/tatianashp/events{/privacy}", "received_events_url": "https://api.github.com/users/tatianashp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2017-07-07T18:21:50Z", "updated_at": "2018-12-07T18:46:42Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: iOS\r\n- **TensorFlow installed from (source or binary)**: Source\r\n- **TensorFlow version (use command below)**: 1.0\r\n- **Python version**: N/A\r\n- **Bazel version (if compiling from source)**: N/A\r\n- **CUDA/cuDNN version**: N/A\r\n- **GPU model and memory**: iPhone series\r\n- **Exact command to reproduce**: N/A\r\n\r\n### `REGISTER_OP` current syntax is not friendly for customization\r\n\r\n`REGISTER_OP` in its current implementation, which leverages C++ macro trick to do method-chaining is not friendly for customization. For example, a typical `REGISTER_OP` macro call looks like this:\r\n\r\n```\r\nREGISTER_OP(\"DynamicPartition\")\r\n\u00a0   .Input(\"data: T\")\r\n\u00a0   .Input(\"partitions: int32\")\r\n\u00a0   .Output(\"outputs: num_partitions * T\")\r\n\u00a0   .Attr(\"num_partitions: int\")\r\n\u00a0   .Attr(\"T: type\")\r\n    ....;\r\n```\r\n\r\nWhen implementing lazy initialization, this macro, comparing with others from TensorFlow (`REGISTER_KERNEL_BUILDER` for example) is more difficult to customize. The reason is that the macro doesn't capture subsequent method calls, therefore, cannot scope these method calls into a function unit. But, this is easy to solve if we change the `REGISTER_OP` syntax a bit:\r\n\r\n```\r\nREGISTER_OP(Op(\"DynamicPartition\")\r\n\u00a0   .Input(\"data: T\")\r\n\u00a0   .Input(\"partitions: int32\")\r\n\u00a0   .Output(\"outputs: num_partitions * T\")\r\n\u00a0   .Attr(\"num_partitions: int\")\r\n\u00a0   .Attr(\"T: type\")\r\n    ....);\r\n```\r\nThe above example is very close to how `REGISTER_KERNEL_BUILDER` works:\r\n```\r\nREGISTER_KERNEL_BUILDER(Name(\"NoOp\").Device(DEVICE_CPU), NoOp);\r\n```\r\nso we have some consistencies there.\r\n\r\nA hypothetic change to the `REGISTER_OP` macro could look like this:\r\n```\r\nstatic inline OpDefBuilderWrapper<true> Op(const char name[]) {\r\n    return OpDefBuilderWrapper<true>(name);\r\n}\r\n}  // namespace register_op\r\n\r\n#define REGISTER_OP(op) REGISTER_OP_UNIQ_HELPER(__COUNTER__, op)\r\n#define REGISTER_OP_UNIQ_HELPER(ctr, op) REGISTER_OP_UNIQ(ctr, op)\r\n#define REGISTER_OP_UNIQ(ctr, op)                                            \\\r\n  static ::tensorflow::register_op::OpDefBuilderReceiver register_op##ctr    \\\r\n      TF_ATTRIBUTE_UNUSED =                                                  \\\r\n          ::tensorflow::register_op::op;\r\n```\r\n\r\nMore importantly, this small change enabled some lazy initialization opportunities regarding ops registration, you can imagine a platform-specific change (not likely to get upstreamed) to this macro:\r\n\r\n```\r\n#define REGISTER_OP_UNIQ(ctr, op)                                            \\\r\n__attribute__((used)) static void register_op_init##ctr(void) {              \\\r\n  static ::tensorflow::register_op::OpDefBuilderReceiver register_op##ctr    \\\r\n      TF_ATTRIBUTE_UNUSED =                                                  \\\r\n          ::tensorflow::register_op::op;                                     \\\r\n}                                                                            \\\r\n__attribute__((used)) __attribute__((section (\"__DATA,tf_reg_op\"))) static void *register_op_func##ctr = (void *)&register_op_init##ctr\r\n```\r\n\r\nWhich put the static initializers into a function and a lazy initializer can call op registrations by scanning the data section and invoke these functions one by one.\r\n\r\nPlease let me know if this will violate some core assumptions TensorFlow is making and your concerns."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11303", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11303/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11303/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11303/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11303", "id": 240716198, "node_id": "MDU6SXNzdWUyNDA3MTYxOTg=", "number": 11303, "title": "Catch keyboard interrupt in session run", "user": {"login": "danijar", "id": 2111293, "node_id": "MDQ6VXNlcjIxMTEyOTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/2111293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danijar", "html_url": "https://github.com/danijar", "followers_url": "https://api.github.com/users/danijar/followers", "following_url": "https://api.github.com/users/danijar/following{/other_user}", "gists_url": "https://api.github.com/users/danijar/gists{/gist_id}", "starred_url": "https://api.github.com/users/danijar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danijar/subscriptions", "organizations_url": "https://api.github.com/users/danijar/orgs", "repos_url": "https://api.github.com/users/danijar/repos", "events_url": "https://api.github.com/users/danijar/events{/privacy}", "received_events_url": "https://api.github.com/users/danijar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-07-05T17:05:44Z", "updated_at": "2018-12-29T09:47:17Z", "closed_at": null, "author_association": "MEMBER", "body": "Right now, Ctrl+c does not abort a long session run."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11171", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11171/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11171/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11171/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11171", "id": 239751694, "node_id": "MDU6SXNzdWUyMzk3NTE2OTQ=", "number": 11171, "title": " [Feature] Node mirroring for GPU-memory reduction", "user": {"login": "MarvinTeichmann", "id": 2729159, "node_id": "MDQ6VXNlcjI3MjkxNTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/2729159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarvinTeichmann", "html_url": "https://github.com/MarvinTeichmann", "followers_url": "https://api.github.com/users/MarvinTeichmann/followers", "following_url": "https://api.github.com/users/MarvinTeichmann/following{/other_user}", "gists_url": "https://api.github.com/users/MarvinTeichmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarvinTeichmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarvinTeichmann/subscriptions", "organizations_url": "https://api.github.com/users/MarvinTeichmann/orgs", "repos_url": "https://api.github.com/users/MarvinTeichmann/repos", "events_url": "https://api.github.com/users/MarvinTeichmann/events{/privacy}", "received_events_url": "https://api.github.com/users/MarvinTeichmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 33, "created_at": "2017-06-30T11:24:18Z", "updated_at": "2018-08-30T23:51:31Z", "closed_at": null, "author_association": "NONE", "body": "In the paper [Training Deep Nets with Sublinear Memory Cost](https://arxiv.org/abs/1604.06174) Chen et al. introduced a very good idea to greatly reduce GPU memory requirements. \r\n\r\nThe idea bowls down to discarding the output of some nodes during the forward pass and recompute those values when they are needed again in the backward pass. Only the output of some key ops is kept in memory. During back-prop all forward computation from those key nodes are redone. They also describe how this can be implemented in a graph based computation model by mirroring non-key ops. This is depicted in figure 3 (see below).\r\n\r\nPerforming this kind of graph manipulation in [MxNet](https://github.com/dmlc/mxnet) is quite easy and I have played around with this myself. I am able to reduce the memory cost of a SotA segmentation model from `13504 MB` to `3382 MB` for the cost of about ~40% increase in computational time. (Given that we have plenty 1080 TI and view P100 GPUs, I am very happy to pay this cost).\r\n\r\nFor me as deep learning researcher this is a totally awesome killer feature. In most of my experiments I am limited by the amount of available GPU memory. Doing node mirroring allows me to try a whole bunch of new stuff, I was always wanting to do. \r\n\r\n1. Is anything like this planned to be implemented in Tensorflow any time soon?\r\n2. In the current API, is there already a way to build and / or manipulate the computational graph to perform node mirroring (like in figure 3)?\r\n\r\n![](https://i.imgur.com/CnkUzwJ.png)\r\n\r\nRegarding question two, I don't mind if it gets messy. Copying some nodes inside the graph is possible in tensorflow. Gradient flow can also be stopped for the first copy. What is missing is to utilize the second node for gradient computation. I don't know how I can archive this using the python API in tensorflow. Any ideas with this?\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11149", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11149/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11149/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11149/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11149", "id": 239611343, "node_id": "MDU6SXNzdWUyMzk2MTEzNDM=", "number": 11149, "title": "Self-contained source code package of tensorflow", "user": {"login": "datainfer", "id": 14131784, "node_id": "MDQ6VXNlcjE0MTMxNzg0", "avatar_url": "https://avatars3.githubusercontent.com/u/14131784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/datainfer", "html_url": "https://github.com/datainfer", "followers_url": "https://api.github.com/users/datainfer/followers", "following_url": "https://api.github.com/users/datainfer/following{/other_user}", "gists_url": "https://api.github.com/users/datainfer/gists{/gist_id}", "starred_url": "https://api.github.com/users/datainfer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/datainfer/subscriptions", "organizations_url": "https://api.github.com/users/datainfer/orgs", "repos_url": "https://api.github.com/users/datainfer/repos", "events_url": "https://api.github.com/users/datainfer/events{/privacy}", "received_events_url": "https://api.github.com/users/datainfer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-29T21:07:15Z", "updated_at": "2017-07-05T16:09:40Z", "closed_at": null, "author_association": "NONE", "body": "Dear TensorFlow development team,\r\n    Government regularization on medical software requires software to be compiled from fully controllable source code. Downloading from outside of the manufacture is not permitted. This literally implies that medical software should be able to compile without Internet connection. Currently, the bazel compilation procedure download from Internet. We post this request for a self-contained package of tensorflow.\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11144", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11144/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11144/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11144/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11144", "id": 239550293, "node_id": "MDU6SXNzdWUyMzk1NTAyOTM=", "number": 11144, "title": "MultiRNNCell cannot stack PhasedLSTMCell", "user": {"login": "julj", "id": 23333384, "node_id": "MDQ6VXNlcjIzMzMzMzg0", "avatar_url": "https://avatars3.githubusercontent.com/u/23333384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/julj", "html_url": "https://github.com/julj", "followers_url": "https://api.github.com/users/julj/followers", "following_url": "https://api.github.com/users/julj/following{/other_user}", "gists_url": "https://api.github.com/users/julj/gists{/gist_id}", "starred_url": "https://api.github.com/users/julj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/julj/subscriptions", "organizations_url": "https://api.github.com/users/julj/orgs", "repos_url": "https://api.github.com/users/julj/repos", "events_url": "https://api.github.com/users/julj/events{/privacy}", "received_events_url": "https://api.github.com/users/julj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2017-06-29T17:11:29Z", "updated_at": "2018-09-09T16:38:57Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n **TensorFlow version (use command below)**: 1.2\r\n\r\n### Describe the problem\r\ntf.contrib.rnn.PhasedLSTMCell takes a tuple of tensors as inputs (time and features).\r\n\r\nbut the tf.nn.rnn_cell.MultiRNNCell reuse the output of a cell to feed the next one:\r\n\r\n`cur_inp, new_state = cell(cur_inp, cur_state)`\r\n\r\n### Source code / logs\r\n\r\nSomething like that works.\r\n\r\n[https://github.com/tensorflow/tensorflow/blob/r1.2/tensorflow/python/ops/rnn_cell_impl.py](https://github.com/tensorflow/tensorflow/blob/r1.2/tensorflow/python/ops/rnn_cell_impl.py)\r\n\r\n```\r\n902c902,903\r\n<     cur_inp = inputs\r\n---\r\n>     times = inputs[0]\r\n>     cur_inp = inputs[1]\r\n916c917\r\n<         cur_inp, new_state = cell(cur_inp, cur_state)\r\n---\r\n>         cur_inp, new_state = cell((times, cur_inp), cur_state)\r\n```\r\n\r\nNot sure whether it is a bug report or a feature request (for a dedicated MultiPhasedLSTMCell) though..."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11085", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11085/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11085/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11085/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11085", "id": 238907490, "node_id": "MDU6SXNzdWUyMzg5MDc0OTA=", "number": 11085, "title": "Tensorflow - Metal Support for Mac OS", "user": {"login": "Dakkerad", "id": 14956831, "node_id": "MDQ6VXNlcjE0OTU2ODMx", "avatar_url": "https://avatars2.githubusercontent.com/u/14956831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dakkerad", "html_url": "https://github.com/Dakkerad", "followers_url": "https://api.github.com/users/Dakkerad/followers", "following_url": "https://api.github.com/users/Dakkerad/following{/other_user}", "gists_url": "https://api.github.com/users/Dakkerad/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dakkerad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dakkerad/subscriptions", "organizations_url": "https://api.github.com/users/Dakkerad/orgs", "repos_url": "https://api.github.com/users/Dakkerad/repos", "events_url": "https://api.github.com/users/Dakkerad/events{/privacy}", "received_events_url": "https://api.github.com/users/Dakkerad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 40, "created_at": "2017-06-27T16:20:47Z", "updated_at": "2019-10-10T03:54:25Z", "closed_at": null, "author_association": "NONE", "body": "Hello!\r\nI have seen and read some requests for OpenCL support and GPU support on Mac OS, this seems to have been abandoned, am I correct?\r\nBut it also seems like Apple is really trying to make Metal big, is this something you have thought of implementing? I understand its not just made by thinking of it, but I would just like to know if any progress is made with GPU support for Mac OS?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11058", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11058/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11058/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11058/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11058", "id": 238462159, "node_id": "MDU6SXNzdWUyMzg0NjIxNTk=", "number": 11058, "title": "terminate called after throwing an instance of 'std::out_of_range' error when call made to tf.contrib.tensor_forest.random_forest.TensorForestEstimator.predict()", "user": {"login": "kessler9", "id": 21160860, "node_id": "MDQ6VXNlcjIxMTYwODYw", "avatar_url": "https://avatars1.githubusercontent.com/u/21160860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kessler9", "html_url": "https://github.com/kessler9", "followers_url": "https://api.github.com/users/kessler9/followers", "following_url": "https://api.github.com/users/kessler9/following{/other_user}", "gists_url": "https://api.github.com/users/kessler9/gists{/gist_id}", "starred_url": "https://api.github.com/users/kessler9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kessler9/subscriptions", "organizations_url": "https://api.github.com/users/kessler9/orgs", "repos_url": "https://api.github.com/users/kessler9/repos", "events_url": "https://api.github.com/users/kessler9/events{/privacy}", "received_events_url": "https://api.github.com/users/kessler9/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586558, "node_id": "MDU6TGFiZWw0MDQ1ODY1NTg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:community%20support", "name": "stat:community support", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-26T07:34:42Z", "updated_at": "2017-06-30T20:47:45Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nNo\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nUbuntu 16.04\r\n- **TensorFlow installed from (source or binary)**:\r\nInstalled with pip install tensorflow-gpu\r\n- **TensorFlow version (use command below)**:\r\n('v1.2.0-rc2-21-g12f033d', '1.2.0')\r\n- **Bazel version (if compiling from source)**:\r\nn/a\r\n- **CUDA/cuDNN version**:\r\n5.1.10 for CUDA 8.0\r\n- **GPU model and memory**:\r\nname: GeForce GTX 1050 Ti\r\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.493\r\npciBusID 0000:01:00.0\r\nTotal memory: 3.94GiB\r\nFree memory: 3.46GiB\r\n- **Exact command to reproduce**:\r\npython RandomForestTrainer.py ?? I'd be happy to upload my code\r\nYou can collect some of this information using our environment capture script:\r\nCollecting system information...\r\n2017-06-26 02:27:23.087673: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-06-26 02:27:23.087713: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-06-26 02:27:23.087720: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-06-26 02:27:23.087727: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.\r\n2017-06-26 02:27:23.394076: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 0 with properties: \r\nname: GeForce GTX 1050 Ti\r\nmajor: 6 minor: 1 memoryClockRate (GHz) 1.493\r\npciBusID 0000:01:00.0\r\nTotal memory: 3.94GiB\r\nFree memory: 3.46GiB\r\n2017-06-26 02:27:23.394119: I tensorflow/core/common_runtime/gpu/gpu_device.cc:961] DMA: 0 \r\n2017-06-26 02:27:23.394126: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 0:   Y \r\n2017-06-26 02:27:23.394144: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1050 Ti, pci bus id: 0000:01:00.0)\r\nWrote environment to tf_env.txt. You can review the contents of that file.\r\nand use it to populate the fields in the github issue template.\r\n\r\ncat tf_env.txt\r\n\r\n== cat /etc/issue ===============================================\r\nLinux Desktop 4.4.0-79-generic #100-Ubuntu SMP Wed May 17 19:58:14 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\nVERSION=\"16.04.2 LTS (Xenial Xerus)\"\r\nVERSION_ID=\"16.04\"\r\nVERSION_CODENAME=xenial\r\n\r\n== are we in docker =============================================\r\nNo\r\n\r\n== compiler =====================================================\r\nc++ (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0 20160609\r\nCopyright (C) 2015 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\n\r\n== uname -a =====================================================\r\nLinux Desktop 4.4.0-79-generic #100-Ubuntu SMP Wed May 17 19:58:14 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n== check pips ===================================================\r\nnumpy (1.12.1)\r\nprotobuf (3.3.0)\r\ntensorflow-gpu (1.2.0)\r\n\r\n== check for virtualenv =========================================\r\nFalse\r\n\r\n== tensorflow import ============================================\r\ntf.VERSION = 1.2.0\r\ntf.GIT_VERSION = v1.2.0-rc2-21-g12f033d\r\ntf.COMPILER_VERSION = v1.2.0-rc2-21-g12f033d\r\nSanity check: array([1], dtype=int32)\r\n\r\n== env ==========================================================\r\nLD_LIBRARY_PATH /usr/local/cuda/lib64/\r\nDYLD_LIBRARY_PATH is unset\r\n\r\n== nvidia-smi ===================================================\r\nMon Jun 26 02:27:24 2017       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 375.66                 Driver Version: 375.66                    |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  GeForce GTX 105...  Off  | 0000:01:00.0      On |                  N/A |\r\n|  0%   45C    P0    36W / 120W |    448MiB /  4031MiB |      1%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID  Type  Process name                               Usage      |\r\n|=============================================================================|\r\n|    0      1164    G   /usr/lib/xorg/Xorg                             258MiB |\r\n|    0     15045    G   ...el-token=7CE624E5F1863243374CB7B5F4C7B81C    72MiB |\r\n|    0     20044    G   /usr/lib/xorg/Xorg                              41MiB |\r\n|    0     25088    G   compiz                                          38MiB |\r\n+-----------------------------------------------------------------------------+\r\n\r\n== cuda libs  ===================================================\r\n/usr/local/cuda-8.0/targets/x86_64-linux/lib/libcudart_static.a\r\n/usr/local/cuda-8.0/targets/x86_64-linux/lib/libcudart.so.8.0.61\r\n/usr/local/cuda-8.0/doc/man/man7/libcudart.7\r\n/usr/local/cuda-8.0/doc/man/man7/libcudart.so.7\r\n\r\n### Describe the problem\r\nI created and trained a classifier with the tf.contrib.tensor_forest.random_forest.TensorForestEstimator class, but when I try to use the predict() method I get the following error:\r\n\r\n2017-06-26 02:30:13.003812: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX 1050 Ti, pci bus id: 0000:01:00.0)\r\nterminate called after throwing an instance of 'std::out_of_range'\r\nterminate called recursively\r\nterminate called recursively\r\nAborted (core dumped)\r\n\r\n\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11034", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11034/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11034/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11034/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11034", "id": 238324993, "node_id": "MDU6SXNzdWUyMzgzMjQ5OTM=", "number": 11034, "title": "There should be tf.fill_like", "user": {"login": "3rd3", "id": 2372391, "node_id": "MDQ6VXNlcjIzNzIzOTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/2372391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/3rd3", "html_url": "https://github.com/3rd3", "followers_url": "https://api.github.com/users/3rd3/followers", "following_url": "https://api.github.com/users/3rd3/following{/other_user}", "gists_url": "https://api.github.com/users/3rd3/gists{/gist_id}", "starred_url": "https://api.github.com/users/3rd3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/3rd3/subscriptions", "organizations_url": "https://api.github.com/users/3rd3/orgs", "repos_url": "https://api.github.com/users/3rd3/repos", "events_url": "https://api.github.com/users/3rd3/events{/privacy}", "received_events_url": "https://api.github.com/users/3rd3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-06-24T15:50:37Z", "updated_at": "2019-06-22T22:13:53Z", "closed_at": null, "author_association": "NONE", "body": ""}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11000", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11000/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11000/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/11000/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/11000", "id": 238014695, "node_id": "MDU6SXNzdWUyMzgwMTQ2OTU=", "number": 11000, "title": "Upgrade to jemalloc 5.0.0", "user": {"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-06-23T01:13:17Z", "updated_at": "2019-10-28T00:46:39Z", "closed_at": null, "author_association": "MEMBER", "body": "Contributions welcome! (I won't have bandwidth to do this in the short-term.)"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10824", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10824/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10824/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/10824/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/10824", "id": 236872795, "node_id": "MDU6SXNzdWUyMzY4NzI3OTU=", "number": 10824, "title": "Constant operator is not appropriate for variable initialize", "user": {"login": "fesun", "id": 23738439, "node_id": "MDQ6VXNlcjIzNzM4NDM5", "avatar_url": "https://avatars3.githubusercontent.com/u/23738439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fesun", "html_url": "https://github.com/fesun", "followers_url": "https://api.github.com/users/fesun/followers", "following_url": "https://api.github.com/users/fesun/following{/other_user}", "gists_url": "https://api.github.com/users/fesun/gists{/gist_id}", "starred_url": "https://api.github.com/users/fesun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fesun/subscriptions", "organizations_url": "https://api.github.com/users/fesun/orgs", "repos_url": "https://api.github.com/users/fesun/repos", "events_url": "https://api.github.com/users/fesun/events{/privacy}", "received_events_url": "https://api.github.com/users/fesun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-06-19T12:20:35Z", "updated_at": "2017-07-14T00:27:08Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Tensorflow uses const tensor to initialize variables(for example ones_initializer, zeros_initializer and some optimizer slot creation), this will prevent `AssignOp `to transfer ownership from rhs to lhs and waster a lot of memory when variable shape is very large(for example sparse model). see #9823 #9742"}]