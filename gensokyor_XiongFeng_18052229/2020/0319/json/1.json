[{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37722", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37722/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37722/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37722/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37722", "id": 584543417, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkxMTEwMzM4", "number": 37722, "title": "Fix: Sparce Tensor wrong exeption Message when passing argument with wrong Type", "user": {"login": "rushabh-v", "id": 46084304, "node_id": "MDQ6VXNlcjQ2MDg0MzA0", "avatar_url": "https://avatars3.githubusercontent.com/u/46084304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rushabh-v", "html_url": "https://github.com/rushabh-v", "followers_url": "https://api.github.com/users/rushabh-v/followers", "following_url": "https://api.github.com/users/rushabh-v/following{/other_user}", "gists_url": "https://api.github.com/users/rushabh-v/gists{/gist_id}", "starred_url": "https://api.github.com/users/rushabh-v/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rushabh-v/subscriptions", "organizations_url": "https://api.github.com/users/rushabh-v/orgs", "repos_url": "https://api.github.com/users/rushabh-v/repos", "events_url": "https://api.github.com/users/rushabh-v/events{/privacy}", "received_events_url": "https://api.github.com/users/rushabh-v/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-19T16:34:38Z", "updated_at": "2020-03-19T16:34:44Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37722", "html_url": "https://github.com/tensorflow/tensorflow/pull/37722", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37722.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37722.patch"}, "body": "resolves #37640 "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37721", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37721/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37721/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37721/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37721", "id": 584541265, "node_id": "MDU6SXNzdWU1ODQ1NDEyNjU=", "number": 37721, "title": "Partial shapes for keras.InputLayer with sparse=True ", "user": {"login": "ngc92", "id": 7938269, "node_id": "MDQ6VXNlcjc5MzgyNjk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7938269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngc92", "html_url": "https://github.com/ngc92", "followers_url": "https://api.github.com/users/ngc92/followers", "following_url": "https://api.github.com/users/ngc92/following{/other_user}", "gists_url": "https://api.github.com/users/ngc92/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngc92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngc92/subscriptions", "organizations_url": "https://api.github.com/users/ngc92/orgs", "repos_url": "https://api.github.com/users/ngc92/repos", "events_url": "https://api.github.com/users/ngc92/events{/privacy}", "received_events_url": "https://api.github.com/users/ngc92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-19T16:31:26Z", "updated_at": "2020-03-19T16:31:27Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- TensorFlow version (you are using): 2.1\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\nIt is currently not possible to use input `SparseTensor` into e.g. `keras.Sequential` with partiallz defined shapes. This is because `SparseTensors` need to be declared specifically, thus necessitating the use of `keras.InputLayer` as the fiirst layer in the model. \r\n\r\nIf the shape of `keras.InputLayer` for sparse inputs is not fully defined (including the batch size), the\r\nproduced `SparseTensor` will have `dense_shape` where only the rank is defined.\r\nThis happens because unless the `dense_shape`is fully defined, a `placeholder` will be used for feeding in  the `dense_shape`, removing the partial shape information.\r\n\r\n**Will this change the current api? How?**\r\nNo\r\n\r\n**Who will benefit with this feature?**\r\nThis will make models of the form\r\n```\r\nSequenctial([\r\n   InputLayer(shape=(num_features,), sparse=True), \r\n  Dense(num_units)\r\n])\r\n```\r\nwork, as they require partial shape for the input of the `Dense` layer.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37720", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37720/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37720/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37720/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37720", "id": 584535682, "node_id": "MDU6SXNzdWU1ODQ1MzU2ODI=", "number": 37720, "title": "tf.contrib Module not found in tensorflow. Training and graph export not possible.", "user": {"login": "synergy178", "id": 44307395, "node_id": "MDQ6VXNlcjQ0MzA3Mzk1", "avatar_url": "https://avatars2.githubusercontent.com/u/44307395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/synergy178", "html_url": "https://github.com/synergy178", "followers_url": "https://api.github.com/users/synergy178/followers", "following_url": "https://api.github.com/users/synergy178/following{/other_user}", "gists_url": "https://api.github.com/users/synergy178/gists{/gist_id}", "starred_url": "https://api.github.com/users/synergy178/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/synergy178/subscriptions", "organizations_url": "https://api.github.com/users/synergy178/orgs", "repos_url": "https://api.github.com/users/synergy178/repos", "events_url": "https://api.github.com/users/synergy178/events{/privacy}", "received_events_url": "https://api.github.com/users/synergy178/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-19T16:23:43Z", "updated_at": "2020-03-19T16:23:44Z", "closed_at": null, "author_association": "NONE", "body": "Since tuesday  around 9 AM CEST I was not able to proceed training from checkpoint or even export current checkpoint via export_inference_graph.py. Tested on both **TF 1.15 and 2.1.0** and it worked flawlessly up until yesterday. Is there any workaround currently?\r\n\r\nSystem information\r\n\r\nHave I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes.\r\nOS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux ( Google **Colab**)\r\nMobile device (e.g., Pixel 4, Samsung Galaxy 10) if the issue happens on mobile device:\r\nTensorFlow installed from (source or binary):\r\nTensorFlow version (use command below): **1.15** and **2.1.0**\r\nPython version: 3.6.9\r\nBazel version (if compiling from source):\r\nGCC/Compiler version (if compiling from source):\r\nCUDA/cuDNN version:\r\nGPU model and memory: depends on which one Colab assigns to me\r\nPlease provide the entire URL of the model you are using?\r\nhttps://github.com/tensorflow/models/blob/master/research/object_detection/samples/configs/faster_rcnn_inception_v2_pets.config\r\n\r\nDescribe the current behavior\r\nUsing /usr/local/lib/python3.6/dist-packages\r\nFinished processing dependencies for object-detection==0.1\r\nenv: PYTHONPATH=/content/models/research:/content/models/research/slim\r\nTraceback (most recent call last):\r\nFile \"object_detection/builders/model_builder_test.py\", line 23, in\r\nfrom object_detection.builders import model_builder\r\nFile \"/content/models/research/object_detection/builders/model_builder.py\", line 22, in\r\nfrom object_detection.builders import box_predictor_builder\r\nFile \"/content/models/research/object_detection/builders/box_predictor_builder.py\", line 20, in\r\nfrom object_detection.predictors import convolutional_box_predictor\r\nFile \"/content/models/research/object_detection/predictors/convolutional_box_predictor.py\", line 23, in\r\nslim = tf.contrib.slim\r\nAttributeError: module 'tensorflow' has no attribute 'contrib'\r\n\r\nsame with train.py:\r\n\r\nTraceback (most recent call last):\r\nFile \"object_detection/legacy/train.py\", line 48, in\r\nfrom tensorflow.contrib import framework as contrib_framework\r\nModuleNotFoundError: No module named 'tensorflow.contrib'\r\n\r\nand model_main.py:\r\nTraceback (most recent call last):\r\nFile \"object_detection/model_main.py\", line 26, in\r\nfrom object_detection import model_lib\r\nFile \"/content/models/research/object_detection/model_lib.py\", line 27, in\r\nfrom object_detection import eval_util\r\nFile \"/content/models/research/object_detection/eval_util.py\", line 40, in\r\nslim = tf.contrib.slim\r\nAttributeError: module 'tensorflow' has no attribute 'contrib'\r\n\r\nand even export_inference_graph.py:\r\n\r\nTraceback (most recent call last):\r\nFile \"object_detection/export_inference_graph.py\", line 108, in\r\nfrom object_detection import exporter\r\nFile \"/content/models/research/object_detection/exporter.py\", line 20, in\r\nfrom tensorflow.contrib.quantize.python import graph_matcher\r\nModuleNotFoundError: No module named 'tensorflow.contrib'\r\n\r\nDescribe the expected behavior\r\n\r\ntest the model builder:\r\n\r\nobject_detection/builders/model_builder_test.py outputs 17 in TF1(10 in TF2) successful tests\r\n\r\nCode to reproduce the issue\r\n\r\n!python object_detection/builders/model_builder_test.py\r\n\r\nhttps://colab.research.google.com/gist/jaketae/b02028462cf17b8782bb826ae30c6f5d\r\n\r\n** UPD: 1.14 CPU-version seems to work. But with a training time of almost 6 seconds instead of 0.2 seconds per example."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37719", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37719/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37719/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37719/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37719", "id": 584518787, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkxMDkwMjMx", "number": 37719, "title": "Add -lrt to linkflags", "user": {"login": "Flamefire", "id": 309017, "node_id": "MDQ6VXNlcjMwOTAxNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/309017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Flamefire", "html_url": "https://github.com/Flamefire", "followers_url": "https://api.github.com/users/Flamefire/followers", "following_url": "https://api.github.com/users/Flamefire/following{/other_user}", "gists_url": "https://api.github.com/users/Flamefire/gists{/gist_id}", "starred_url": "https://api.github.com/users/Flamefire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Flamefire/subscriptions", "organizations_url": "https://api.github.com/users/Flamefire/orgs", "repos_url": "https://api.github.com/users/Flamefire/repos", "events_url": "https://api.github.com/users/Flamefire/events{/privacy}", "received_events_url": "https://api.github.com/users/Flamefire/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 987666414, "node_id": "MDU6TGFiZWw5ODc2NjY0MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/ready%20to%20pull", "name": "ready to pull", "color": "2cd643", "default": false, "description": ""}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-19T16:00:37Z", "updated_at": "2020-03-19T17:11:16Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37719", "html_url": "https://github.com/tensorflow/tensorflow/pull/37719", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37719.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37719.patch"}, "body": "Fixes compilation on e.g. older CentOS, see for details #15129\r\n\r\n@gunan You said you'd like to review and merge a fix for #15129, so I created one based on a patch used within EasyBuild introduced in https://github.com/easybuilders/easybuild-easyconfigs/pull/6089 but updated to latest TF master and guarded for windows."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37718", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37718/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37718/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37718/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37718", "id": 584502902, "node_id": "MDU6SXNzdWU1ODQ1MDI5MDI=", "number": 37718, "title": "Draw boundary box after classification", "user": {"login": "AlturRang", "id": 61554142, "node_id": "MDQ6VXNlcjYxNTU0MTQy", "avatar_url": "https://avatars3.githubusercontent.com/u/61554142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlturRang", "html_url": "https://github.com/AlturRang", "followers_url": "https://api.github.com/users/AlturRang/followers", "following_url": "https://api.github.com/users/AlturRang/following{/other_user}", "gists_url": "https://api.github.com/users/AlturRang/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlturRang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlturRang/subscriptions", "organizations_url": "https://api.github.com/users/AlturRang/orgs", "repos_url": "https://api.github.com/users/AlturRang/repos", "events_url": "https://api.github.com/users/AlturRang/events{/privacy}", "received_events_url": "https://api.github.com/users/AlturRang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1093464312, "node_id": "MDU6TGFiZWwxMDkzNDY0MzEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:others", "name": "type:others", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-19T15:39:08Z", "updated_at": "2020-03-19T15:39:10Z", "closed_at": null, "author_association": "NONE", "body": "Hi, \r\nMy problem is: I would to draw a boundary around the object was predicted by a neural network. Here I use a vgg16 model (you can see the code below, it's very simple). But after the last line of code, where I predict the classes of the object. I would to draw a box but I don't how I can do that.\r\nSomeone have a tutorial for me ?\r\nThanks\r\n[pre_entrained_model_vgg_16.py.tar.gz](https://github.com/tensorflow/tensorflow/files/4355415/pre_entrained_model_vgg_16.py.tar.gz)\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37717", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37717/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37717/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37717/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37717", "id": 584502134, "node_id": "MDU6SXNzdWU1ODQ1MDIxMzQ=", "number": 37717, "title": "Segmentation fault with nightly-gpu docker", "user": {"login": "ben-arnao", "id": 8053809, "node_id": "MDQ6VXNlcjgwNTM4MDk=", "avatar_url": "https://avatars0.githubusercontent.com/u/8053809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ben-arnao", "html_url": "https://github.com/ben-arnao", "followers_url": "https://api.github.com/users/ben-arnao/followers", "following_url": "https://api.github.com/users/ben-arnao/following{/other_user}", "gists_url": "https://api.github.com/users/ben-arnao/gists{/gist_id}", "starred_url": "https://api.github.com/users/ben-arnao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ben-arnao/subscriptions", "organizations_url": "https://api.github.com/users/ben-arnao/orgs", "repos_url": "https://api.github.com/users/ben-arnao/repos", "events_url": "https://api.github.com/users/ben-arnao/events{/privacy}", "received_events_url": "https://api.github.com/users/ben-arnao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-19T15:38:17Z", "updated_at": "2020-03-19T15:38:19Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): Ubuntu 18.04.3 LTS\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: No\r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below): Nightly-gpu (2.2)\r\n- Python version: - Bazel\r\nversion (if compiling from source): Python 3.6.9\r\n- GCC/Compiler version (if compiling from\r\nsource): N/A\r\n- CUDA/cuDNN version: - GPU model and memory: RTX 2080 Ti 11GB CUDA 10.1\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\n\r\nSegmentation fault (core dumped) mid-train after calling model.fit()\r\n\r\nI use a callback to check memory and it seems like may be there is a memory leak.\r\n\r\n**Describe the expected behavior**\r\n\r\nNot have this happen\r\n\r\n**Standalone code to reproduce the issue** \r\nProvide a reproducible test case that is the bare minimum necessary to generate\r\nthe problem. If possible, please share a link to Colab/Jupyter/any notebook.\r\n\r\nCannot provide, i have a large dataset (10gb for training inputs).\r\n\r\nI can train fine on my local 1060 6gb card with same amount of CPU memory (32GB). But it seems like this docker image has a problem with a memory leak.\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n\r\nNo logs, just this error.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37716", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37716/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37716/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37716/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37716", "id": 584460785, "node_id": "MDU6SXNzdWU1ODQ0NjA3ODU=", "number": 37716, "title": "get_static_value does not support tf.identity", "user": {"login": "ngc92", "id": 7938269, "node_id": "MDQ6VXNlcjc5MzgyNjk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7938269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngc92", "html_url": "https://github.com/ngc92", "followers_url": "https://api.github.com/users/ngc92/followers", "following_url": "https://api.github.com/users/ngc92/following{/other_user}", "gists_url": "https://api.github.com/users/ngc92/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngc92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngc92/subscriptions", "organizations_url": "https://api.github.com/users/ngc92/orgs", "repos_url": "https://api.github.com/users/ngc92/repos", "events_url": "https://api.github.com/users/ngc92/events{/privacy}", "received_events_url": "https://api.github.com/users/ngc92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-19T14:39:32Z", "updated_at": "2020-03-19T14:39:33Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- TensorFlow version (you are using): 2.1\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n**Describe the feature and the current behavior/state.**\r\n`get_static_value` currently cannot see through a `tf.identity`op, see the following minimal example\r\n```\r\n>>> @tf.function\r\n... def test():\r\n...     a = tf.constant([5, 4])\r\n...     print(tf.get_static_value(a))\r\n...     b = tf.identity(a)\r\n...     print(tf.get_static_value(b))\r\n...     \r\n>>> test()\r\n[5 4]\r\nNone\r\n```\r\n\r\n**Will this change the current api? How?**\r\nNo\r\n\r\n**Who will benefit with this feature?**\r\nI noticed this problem while investigating the reason for `tf.sparse.retain` losing shape information, even though by definition it should return the same shape as its input. Turns out it constructs a new `SparseTensor` with `dense_shape` given by `tf.identity(input.dense_shape)`. There might be other sparse functions with similar problems, but I have not investigated.\r\n\r\nI think improving `get_static_shape` is preferable to providing better shape info for `sparse.retain`, so for now I am not going to submit a feature request for that.\r\n\r\n**Any Other info.**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37715", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37715/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37715/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37715/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37715", "id": 584376218, "node_id": "MDU6SXNzdWU1ODQzNzYyMTg=", "number": 37715, "title": "ImportError: DLL load failed: Une routine d\u2019initialisation d\u2019une biblioth\u00e8que de liens dynamiques (DLL) a \u00e9chou\u00e9.", "user": {"login": "Thomas-Galtier", "id": 57995084, "node_id": "MDQ6VXNlcjU3OTk1MDg0", "avatar_url": "https://avatars3.githubusercontent.com/u/57995084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Thomas-Galtier", "html_url": "https://github.com/Thomas-Galtier", "followers_url": "https://api.github.com/users/Thomas-Galtier/followers", "following_url": "https://api.github.com/users/Thomas-Galtier/following{/other_user}", "gists_url": "https://api.github.com/users/Thomas-Galtier/gists{/gist_id}", "starred_url": "https://api.github.com/users/Thomas-Galtier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Thomas-Galtier/subscriptions", "organizations_url": "https://api.github.com/users/Thomas-Galtier/orgs", "repos_url": "https://api.github.com/users/Thomas-Galtier/repos", "events_url": "https://api.github.com/users/Thomas-Galtier/events{/privacy}", "received_events_url": "https://api.github.com/users/Thomas-Galtier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 1188421838, "node_id": "MDU6TGFiZWwxMTg4NDIxODM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:windows", "name": "subtype:windows", "color": "b619ea", "default": false, "description": "Windows Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-19T12:27:05Z", "updated_at": "2020-03-19T15:36:59Z", "closed_at": null, "author_association": "NONE", "body": "\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):  Windows 10 \r\n- TensorFlow installed from (source or binary):  ?\r\n- TensorFlow version: 2.1.0\r\n- Python version: 3.7\r\n- Installed using virtualenv? pip? conda?: pip\r\n- Bazel version (if compiling from source): ?\r\n- GCC/Compiler version (if compiling from source): ?\r\n- CUDA/cuDNN version: 10.2\r\n- GPU model and memory: NVIDA Geforce GTX 950, 2Go\r\n\r\n\r\n\r\n**  the problem**\r\nHello I installed tensorflow this morning, but the import does not work. Can anyone help me here? Thx\r\n\r\n```\r\nimport tensorflow as tf\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"C:\\Users\\tgalt\\.p2\\pool\\plugins\\org.python.pydev.core_7.5.0.202001101138\\pysrc\\_pydev_bundle\\pydev_import_hook.py\", line 24, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"C:\\Users\\tgalt\\AppData\\Local\\Programs\\Python\\Python37\\lib\\imp.py\", line 242, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"C:\\Users\\tgalt\\AppData\\Local\\Programs\\Python\\Python37\\lib\\imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\nImportError: DLL load failed: Une routine d\u2019initialisation d\u2019une biblioth\u00e8que de liens dynamiques (DLL) a \u00e9chou\u00e9.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 1, in <module>\r\n  File \"C:\\Users\\tgalt\\.p2\\pool\\plugins\\org.python.pydev.core_7.5.0.202001101138\\pysrc\\_pydev_bundle\\pydev_import_hook.py\", line 24, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\__init__.py\", line 101, in <module>\r\n    from tensorflow_core import *\r\n  File \"C:\\Users\\tgalt\\.p2\\pool\\plugins\\org.python.pydev.core_7.5.0.202001101138\\pysrc\\_pydev_bundle\\pydev_import_hook.py\", line 24, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow_core\\__init__.py\", line 42, in <module>\r\n    from . _api.v2 import audio\r\n  File \"C:\\Users\\tgalt\\.p2\\pool\\plugins\\org.python.pydev.core_7.5.0.202001101138\\pysrc\\_pydev_bundle\\pydev_import_hook.py\", line 24, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow_core\\_api\\v2\\audio\\__init__.py\", line 10, in <module>\r\n    from tensorflow.python.ops.gen_audio_ops import decode_wav\r\n  File \"C:\\Users\\tgalt\\.p2\\pool\\plugins\\org.python.pydev.core_7.5.0.202001101138\\pysrc\\_pydev_bundle\\pydev_import_hook.py\", line 24, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow_core\\python\\ops\\gen_audio_ops.py\", line 9, in <module>\r\n    from tensorflow.python import pywrap_tensorflow as _pywrap_tensorflow\r\n  File \"C:\\Users\\tgalt\\.p2\\pool\\plugins\\org.python.pydev.core_7.5.0.202001101138\\pysrc\\_pydev_bundle\\pydev_import_hook.py\", line 24, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\__init__.py\", line 50, in __getattr__\r\n    module = self._load()\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow\\__init__.py\", line 44, in _load\r\n    module = _importlib.import_module(self.__name__)\r\n  File \"C:\\Users\\tgalt\\AppData\\Local\\Programs\\Python\\Python37\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow_core\\python\\__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"C:\\Users\\tgalt\\.p2\\pool\\plugins\\org.python.pydev.core_7.5.0.202001101138\\pysrc\\_pydev_bundle\\pydev_import_hook.py\", line 24, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow.py\", line 74, in <module>\r\n    raise ImportError(msg)\r\nImportError: Traceback (most recent call last):\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow.py\", line 58, in <module>\r\n    from tensorflow.python.pywrap_tensorflow_internal import *\r\n  File \"C:\\Users\\tgalt\\.p2\\pool\\plugins\\org.python.pydev.core_7.5.0.202001101138\\pysrc\\_pydev_bundle\\pydev_import_hook.py\", line 24, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow_internal.py\", line 28, in <module>\r\n    _pywrap_tensorflow_internal = swig_import_helper()\r\n  File \"C:\\Users\\tgalt\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow_internal.py\", line 24, in swig_import_helper\r\n    _mod = imp.load_module('_pywrap_tensorflow_internal', fp, pathname, description)\r\n  File \"C:\\Users\\tgalt\\AppData\\Local\\Programs\\Python\\Python37\\lib\\imp.py\", line 242, in load_module\r\n    return load_dynamic(name, filename, file)\r\n  File \"C:\\Users\\tgalt\\AppData\\Local\\Programs\\Python\\Python37\\lib\\imp.py\", line 342, in load_dynamic\r\n    return _load(spec)\r\nImportError: DLL load failed: Une routine d\u2019initialisation d\u2019une biblioth\u00e8que de liens dynamiques (DLL) a \u00e9chou\u00e9.\r\n\r\n\r\nFailed to load the native TensorFlow runtime.\r\n```\r\n\r\n\r\nPrevious steps :\r\nI had a problem of dll before this bug so I followed the log instrusction and I installed some stuff to have msvcp140_1.dll \r\nthen i notice I did not have CUDA installed so I installed cuda, then i got this bug.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37714", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37714/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37714/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37714/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37714", "id": 584373680, "node_id": "MDU6SXNzdWU1ODQzNzM2ODA=", "number": 37714, "title": "Tensorflow 2.2.0 does not save metrics using model.compile(metrics=['accuracy'])", "user": {"login": "MalteEbner", "id": 20324507, "node_id": "MDQ6VXNlcjIwMzI0NTA3", "avatar_url": "https://avatars3.githubusercontent.com/u/20324507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MalteEbner", "html_url": "https://github.com/MalteEbner", "followers_url": "https://api.github.com/users/MalteEbner/followers", "following_url": "https://api.github.com/users/MalteEbner/following{/other_user}", "gists_url": "https://api.github.com/users/MalteEbner/gists{/gist_id}", "starred_url": "https://api.github.com/users/MalteEbner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MalteEbner/subscriptions", "organizations_url": "https://api.github.com/users/MalteEbner/orgs", "repos_url": "https://api.github.com/users/MalteEbner/repos", "events_url": "https://api.github.com/users/MalteEbner/events{/privacy}", "received_events_url": "https://api.github.com/users/MalteEbner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-19T12:22:16Z", "updated_at": "2020-03-19T12:54:16Z", "closed_at": null, "author_association": "NONE", "body": "Minimal example for bug:\r\n\r\n```\r\nimport tensorflow as tf\r\nfrom tensorflow.keras import layers\r\n\r\nmodel = tf.keras.Sequential([\r\nlayers.Dense(64, activation='relu', input_shape=(32,)),\r\nlayers.Dense(10)])\r\n\r\nmodel.compile(optimizer=tf.keras.optimizers.Adam(0.01),\r\n              loss=tf.keras.losses.CategoricalCrossentropy(from_logits=True),\r\n              metrics=['accuracy'])\r\n\r\nprint(model.metrics)\r\nprint(model.metrics_names)\r\n```\r\n\r\noutput with tensorflow 2.1.0:\r\n[<tensorflow.python.keras.metrics.MeanMetricWrapper object at 0x1497f1400>]\r\n['loss', 'accuracy']\r\n\r\noutput with tensorflow 2.2.0rc0:\r\n[]\r\n[]\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37712", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37712/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37712/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37712/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37712", "id": 584289616, "node_id": "MDU6SXNzdWU1ODQyODk2MTY=", "number": 37712, "title": "make command fails due to outdated flatbuffers", "user": {"login": "jenselofsson", "id": 1914691, "node_id": "MDQ6VXNlcjE5MTQ2OTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1914691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jenselofsson", "html_url": "https://github.com/jenselofsson", "followers_url": "https://api.github.com/users/jenselofsson/followers", "following_url": "https://api.github.com/users/jenselofsson/following{/other_user}", "gists_url": "https://api.github.com/users/jenselofsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jenselofsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jenselofsson/subscriptions", "organizations_url": "https://api.github.com/users/jenselofsson/orgs", "repos_url": "https://api.github.com/users/jenselofsson/repos", "events_url": "https://api.github.com/users/jenselofsson/events{/privacy}", "received_events_url": "https://api.github.com/users/jenselofsson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1589976566, "node_id": "MDU6TGFiZWwxNTg5OTc2NTY2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:micro", "name": "comp:micro", "color": "3e2eea", "default": false, "description": "Related to TensorFlow Lite Microcontrollers"}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "lintian06", "id": 8652095, "node_id": "MDQ6VXNlcjg2NTIwOTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/8652095?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lintian06", "html_url": "https://github.com/lintian06", "followers_url": "https://api.github.com/users/lintian06/followers", "following_url": "https://api.github.com/users/lintian06/following{/other_user}", "gists_url": "https://api.github.com/users/lintian06/gists{/gist_id}", "starred_url": "https://api.github.com/users/lintian06/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lintian06/subscriptions", "organizations_url": "https://api.github.com/users/lintian06/orgs", "repos_url": "https://api.github.com/users/lintian06/repos", "events_url": "https://api.github.com/users/lintian06/events{/privacy}", "received_events_url": "https://api.github.com/users/lintian06/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lintian06", "id": 8652095, "node_id": "MDQ6VXNlcjg2NTIwOTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/8652095?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lintian06", "html_url": "https://github.com/lintian06", "followers_url": "https://api.github.com/users/lintian06/followers", "following_url": "https://api.github.com/users/lintian06/following{/other_user}", "gists_url": "https://api.github.com/users/lintian06/gists{/gist_id}", "starred_url": "https://api.github.com/users/lintian06/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lintian06/subscriptions", "organizations_url": "https://api.github.com/users/lintian06/orgs", "repos_url": "https://api.github.com/users/lintian06/repos", "events_url": "https://api.github.com/users/lintian06/events{/privacy}", "received_events_url": "https://api.github.com/users/lintian06/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-19T09:53:02Z", "updated_at": "2020-03-19T17:27:30Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "@tensorflow/micro\r\n\r\n**System information**\r\n- Host OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\r\n- TensorFlow installed from (source or binary): source\r\n- Tensorflow version (commit SHA if source): 2decf5694a\r\n\r\n**Describe the problem**\r\nWhen running\r\n$ make -f tensorflow/lite/micro/tools/make/Makefile test\r\nthe following error occurs:\r\n\r\n`In file included from ./tensorflow/lite/core/api/op_resolver.h:20,                                                                                                                                                                                                                         \r\n                 from ./tensorflow/lite/micro/micro_interpreter.h:20,                                                                                                                                                                                                                      \r\n                 from tensorflow/lite/micro/examples/person_detection_experimental/person_detection_test.cc:23:                                                                                                                                                                            \r\n./tensorflow/lite/schema/schema_generated.h: In function \u2018const char* tflite::EnumNameTensorType(tflite::TensorType)\u2019:                                                                                                                                                                     \r\n./tensorflow/lite/schema/schema_generated.h:416:20: error: \u2018IsOutRange\u2019 is not a member of \u2018flatbuffers\u2019                                                                                                                                                                                           `\r\n\r\nThis is because IsOutRange is not available in flatbuffer v1.11.0, which is currently downloaded by the make system. If I replace the flatbuffers directory in **tensorflow/lite/micro/tools/make/downloads** with version 1.12.0 of flatbuffer source from [here](https://github.com/google/flatbuffers/releases/tag/v1.12.0), it compiles fine.\r\n\r\nExcept for the test_micro_features_generator_test which fails due to not being able to find kiss_fft.h.\r\n\r\n**Please provide the exact sequence of commands/steps when you ran into the problem**\r\n$ make -f tensorflow/lite/micro/tools/make/Makefile test\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37711", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37711/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37711/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37711/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37711", "id": 584238669, "node_id": "MDU6SXNzdWU1ODQyMzg2Njk=", "number": 37711, "title": "Add interface function to get the needed arena size", "user": {"login": "freddan80", "id": 15377492, "node_id": "MDQ6VXNlcjE1Mzc3NDky", "avatar_url": "https://avatars1.githubusercontent.com/u/15377492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/freddan80", "html_url": "https://github.com/freddan80", "followers_url": "https://api.github.com/users/freddan80/followers", "following_url": "https://api.github.com/users/freddan80/following{/other_user}", "gists_url": "https://api.github.com/users/freddan80/gists{/gist_id}", "starred_url": "https://api.github.com/users/freddan80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/freddan80/subscriptions", "organizations_url": "https://api.github.com/users/freddan80/orgs", "repos_url": "https://api.github.com/users/freddan80/repos", "events_url": "https://api.github.com/users/freddan80/events{/privacy}", "received_events_url": "https://api.github.com/users/freddan80/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1589976566, "node_id": "MDU6TGFiZWwxNTg5OTc2NTY2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:micro", "name": "comp:micro", "color": "3e2eea", "default": false, "description": "Related to TensorFlow Lite Microcontrollers"}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-19T08:17:45Z", "updated_at": "2020-03-19T08:32:57Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "@tensorflow/micro\r\n\r\n**System information**\r\n- Host OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 16.04\r\n- TensorFlow installed from (source or binary): Binary\r\n- Tensorflow version (commit SHA if source): 2.1\r\n- Target platform (e.g. Arm Mbed OS, Arduino Nano 33 etc.): Arm Mbed OS\r\n\r\n**Describe the problem**\r\nThe greedy memory planner places activation buffers in a smart way to re-use memory between layers. It would be nice to have a function that the application can call to find out what the actual memory usage turned out to be, to be able to dimension the arena buffer properly. One suggestion in to have add a method to the interpreter class, 'get_total_arena_size()', that can be called after all tensors has been allocated. Let me know if there has been some thoughts around this.\r\n\r\nThis issue is similar to #35070.\r\n\r\nThanks!\r\n\r\n**Please provide the exact sequence of commands/steps when you ran into the problem**\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37707", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37707/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37707/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37707/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37707", "id": 584136429, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwNzc1Nzc0", "number": 37707, "title": "Fix `'for' loop initial declarations are only allowed in C99 mode`", "user": {"login": "izhangzhihao", "id": 12044174, "node_id": "MDQ6VXNlcjEyMDQ0MTc0", "avatar_url": "https://avatars0.githubusercontent.com/u/12044174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/izhangzhihao", "html_url": "https://github.com/izhangzhihao", "followers_url": "https://api.github.com/users/izhangzhihao/followers", "following_url": "https://api.github.com/users/izhangzhihao/following{/other_user}", "gists_url": "https://api.github.com/users/izhangzhihao/gists{/gist_id}", "starred_url": "https://api.github.com/users/izhangzhihao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/izhangzhihao/subscriptions", "organizations_url": "https://api.github.com/users/izhangzhihao/orgs", "repos_url": "https://api.github.com/users/izhangzhihao/repos", "events_url": "https://api.github.com/users/izhangzhihao/events{/privacy}", "received_events_url": "https://api.github.com/users/izhangzhihao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 987666414, "node_id": "MDU6TGFiZWw5ODc2NjY0MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/ready%20to%20pull", "name": "ready to pull", "color": "2cd643", "default": false, "description": ""}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-19T03:26:34Z", "updated_at": "2020-03-19T17:12:14Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37707", "html_url": "https://github.com/tensorflow/tensorflow/pull/37707", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37707.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37707.patch"}, "body": "Fix `'for' loop initial declarations are only allowed in C99 mode`"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37706", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37706/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37706/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37706/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37706", "id": 584079717, "node_id": "MDU6SXNzdWU1ODQwNzk3MTc=", "number": 37706, "title": "problem with batch processing for tflite in android java", "user": {"login": "TanDatDo", "id": 26512446, "node_id": "MDQ6VXNlcjI2NTEyNDQ2", "avatar_url": "https://avatars3.githubusercontent.com/u/26512446?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TanDatDo", "html_url": "https://github.com/TanDatDo", "followers_url": "https://api.github.com/users/TanDatDo/followers", "following_url": "https://api.github.com/users/TanDatDo/following{/other_user}", "gists_url": "https://api.github.com/users/TanDatDo/gists{/gist_id}", "starred_url": "https://api.github.com/users/TanDatDo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TanDatDo/subscriptions", "organizations_url": "https://api.github.com/users/TanDatDo/orgs", "repos_url": "https://api.github.com/users/TanDatDo/repos", "events_url": "https://api.github.com/users/TanDatDo/events{/privacy}", "received_events_url": "https://api.github.com/users/TanDatDo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-19T00:18:17Z", "updated_at": "2020-03-19T08:50:31Z", "closed_at": null, "author_association": "NONE", "body": "java.lang.IllegalStateException: Internal error: Unexpected failure when preparing tensor allocations: tensorflow/lite/kernels/reshape.cc:66 num_input_elements != num_output_elements (800 != 400)\r\n    Node number 0 (RESHAPE) failed to prepare.\r\n  \r\n        at org.tensorflow.lite.NativeInterpreterWrapper.allocateTensors(Native Method)\r\n        at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:162)\r\n        at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:275)\r\n        at org.tensorflow.lite.Interpreter.run(Interpreter.java:249)\r\n        at id.unify.gait_sample_app.gait.GaitInferenceManager.getRawScore(GaitInferenceManager.java:55)\r\n        at id.unify.gait_sample_app.gait.Gait.score(Gait.java:160)\r\n        at id.unify.gait_sample_app.ui.main.MainFragment$2.onChanged(MainFragment.java:127)\r\n        at id.unify.gait_sample_app.ui.main.MainFragment$2.onChanged(MainFragment.java:115)\r\n        at androidx.lifecycle.LiveData.considerNotify(LiveData.java:113)\r\n        at androidx.lifecycle.LiveData.dispatchingValue(LiveData.java:131)\r\n        at androidx.lifecycle.LiveData.setValue(LiveData.java:289)\r\n        at androidx.lifecycle.MutableLiveData.setValue(MutableLiveData.java:33)\r\n        at androidx.lifecycle.LiveData$1.run(LiveData.java:91)\r\n        at android.os.Handler.handleCallback(Handler.java:751)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6776)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1520)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1410)\r\n\r\n\r\nIt works with one single input with the dimension [1,1,4,100]\r\nBut crashing when trying to process multiple inputs. For example [2,1,4,100]\r\n// dimension [batchsize, 1, 4, 100]\r\nfloat[][][][] modelInput = convertWalkCycleTo4DFloatArray(walkCycles);\r\nmodelOutput = new float[batch.size()][1001];\r\nmodel.resizeInput(0, [batchsize,1,4, 100]);\r\nmodel.run(modelInput, modelOutput);\r\n\r\nI check method getInputTensor, and clearly the resizing has been successful.\r\nThis same tflite model can process inputs in batch in iOS and python\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37703", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37703/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37703/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37703/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37703", "id": 583967298, "node_id": "MDU6SXNzdWU1ODM5NjcyOTg=", "number": 37703, "title": "Compiling TF 2.2.0-rc0 with bazel 2.0.0 fails (MacOS)", "user": {"login": "feranick", "id": 35967, "node_id": "MDQ6VXNlcjM1OTY3", "avatar_url": "https://avatars1.githubusercontent.com/u/35967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feranick", "html_url": "https://github.com/feranick", "followers_url": "https://api.github.com/users/feranick/followers", "following_url": "https://api.github.com/users/feranick/following{/other_user}", "gists_url": "https://api.github.com/users/feranick/gists{/gist_id}", "starred_url": "https://api.github.com/users/feranick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feranick/subscriptions", "organizations_url": "https://api.github.com/users/feranick/orgs", "repos_url": "https://api.github.com/users/feranick/repos", "events_url": "https://api.github.com/users/feranick/events{/privacy}", "received_events_url": "https://api.github.com/users/feranick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1903591931, "node_id": "MDU6TGFiZWwxOTAzNTkxOTMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.2", "name": "TF 2.2", "color": "0052cc", "default": false, "description": "Issues related to TF 2.2"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 1205765054, "node_id": "MDU6TGFiZWwxMjA1NzY1MDU0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:macOS", "name": "subtype:macOS", "color": "b619ea", "default": false, "description": "macOS Build/Installation issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-18T19:55:02Z", "updated_at": "2020-03-19T17:37:37Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): MacOS 10.15\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version (use command below): 2.2.0-rc0\r\n- Python version: python3 3.7.7\r\n- Bazel 2.0.0\r\n- GCC/Compiler version (if compiling from source): Xcode 11.3.1\r\n- CUDA/cuDNN version: - GPU model and memory: None\r\n\r\n**Describe the current behavior**\r\n1. GitClone TF, checkout version 2.2.0-rc0\r\n2. ./configure with standard/default options\r\n3. run compilation as indicated by manual\r\nResult: Compilation stops unsuccessful moments after it starts (log below)\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n\r\nINFO: Options provided by the client:\r\n  Inherited 'common' options: --isatty=1 --terminal_columns=130\r\nINFO: Reading rc options for 'build' from /Users/feranick/Desktop/tensorflow/.bazelrc:\r\n  Inherited 'common' options: --experimental_repo_remote_exec\r\nINFO: Reading rc options for 'build' from /Users/feranick/Desktop/tensorflow/.bazelrc:\r\n  'build' options: --apple_platform_type=macos --define framework_shared_object=true --define open_source_build=true --java_toolchain=//third_party/toolchains/java:tf_java_toolchain --host_java_toolchain=//third_party/toolchains/java:tf_java_toolchain --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone -c opt --announce_rc --define=grpc_no_ares=true --noincompatible_remove_legacy_whole_archive --noincompatible_prohibit_aapt1 --enable_platform_specific_config --config=v2\r\nINFO: Reading rc options for 'build' from /Users/feranick/Desktop/tensorflow/.tf_configure.bazelrc:\r\n  'build' options: --action_env PYTHON_BIN_PATH=/opt/local/bin/python3 --action_env PYTHON_LIB_PATH=/opt/local/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages --python_path=/opt/local/bin/python3 --config=xla --action_env TF_CONFIGURE_IOS=0\r\nINFO: Found applicable config definition build:v2 in file /Users/feranick/Desktop/tensorflow/.bazelrc: --define=tf_api_version=2 --action_env=TF2_BEHAVIOR=1\r\nINFO: Found applicable config definition build:xla in file /Users/feranick/Desktop/tensorflow/.bazelrc: --action_env=TF_ENABLE_XLA=1 --define=with_xla_support=true\r\nINFO: Found applicable config definition build:opt in file /Users/feranick/Desktop/tensorflow/.tf_configure.bazelrc: --copt=-march=native --copt=-Wno-sign-compare --host_copt=-march=native --define with_default_optimizations=true\r\nINFO: Found applicable config definition build:v2 in file /Users/feranick/Desktop/tensorflow/.bazelrc: --define=tf_api_version=2 --action_env=TF2_BEHAVIOR=1\r\nINFO: Found applicable config definition build:macos in file /Users/feranick/Desktop/tensorflow/.bazelrc: --copt=-w --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include --cxxopt=-std=c++14 --host_cxxopt=-std=c++14\r\nINFO: Call stack for the definition of repository 'io_bazel_rules_closure' which is a http_archive (rule definition at /private/var/tmp/_bazel_feranick/50b852099a3bf3aaa184abce166f8e34/external/bazel_tools/tools/build_defs/repo/http.bzl:292:16):\r\n - /Users/feranick/Desktop/tensorflow/WORKSPACE:5:1\r\nERROR: An error occurred during the fetch of repository 'io_bazel_rules_closure':\r\n   Traceback (most recent call last):\r\n\tFile \"/private/var/tmp/_bazel_feranick/50b852099a3bf3aaa184abce166f8e34/external/bazel_tools/tools/build_defs/repo/http.bzl\", line 72\r\n\t\t_get_auth(ctx, all_urls)\r\n\tFile \"/private/var/tmp/_bazel_feranick/50b852099a3bf3aaa184abce166f8e34/external/bazel_tools/tools/build_defs/repo/http.bzl\", line 52, in _get_auth\r\n\t\tread_netrc(ctx, netrcfile)\r\n\tFile \"/private/var/tmp/_bazel_feranick/50b852099a3bf3aaa184abce166f8e34/external/bazel_tools/tools/build_defs/repo/utils.bzl\", line 219, in read_netrc\r\n\t\tctx.read(filename)\r\njava.io.FileNotFoundException: /Users/feranick/.netrc (No such file or directory)\r\nERROR: no such package '@io_bazel_rules_closure//closure': Traceback (most recent call last):\r\n\tFile \"/private/var/tmp/_bazel_feranick/50b852099a3bf3aaa184abce166f8e34/external/bazel_tools/tools/build_defs/repo/http.bzl\", line 72\r\n\t\t_get_auth(ctx, all_urls)\r\n\tFile \"/private/var/tmp/_bazel_feranick/50b852099a3bf3aaa184abce166f8e34/external/bazel_tools/tools/build_defs/repo/http.bzl\", line 52, in _get_auth\r\n\t\tread_netrc(ctx, netrcfile)\r\n\tFile \"/private/var/tmp/_bazel_feranick/50b852099a3bf3aaa184abce166f8e34/external/bazel_tools/tools/build_defs/repo/utils.bzl\", line 219, in read_netrc\r\n\t\tctx.read(filename)\r\njava.io.FileNotFoundException: /Users/feranick/.netrc (No such file or directory)\r\nERROR: no such package '@io_bazel_rules_closure//closure': Traceback (most recent call last):\r\n\tFile \"/private/var/tmp/_bazel_feranick/50b852099a3bf3aaa184abce166f8e34/external/bazel_tools/tools/build_defs/repo/http.bzl\", line 72\r\n\t\t_get_auth(ctx, all_urls)\r\n\tFile \"/private/var/tmp/_bazel_feranick/50b852099a3bf3aaa184abce166f8e34/external/bazel_tools/tools/build_defs/repo/http.bzl\", line 52, in _get_auth\r\n\t\tread_netrc(ctx, netrcfile)\r\n\tFile \"/private/var/tmp/_bazel_feranick/50b852099a3bf3aaa184abce166f8e34/external/bazel_tools/tools/build_defs/repo/utils.bzl\", line 219, in read_netrc\r\n\t\tctx.read(filename)\r\njava.io.FileNotFoundException: /Users/feranick/.netrc (No such file or directory)\r\nINFO: Elapsed time: 2.296s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully (0 packages loaded)"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37702", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37702/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37702/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37702/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37702", "id": 583960551, "node_id": "MDU6SXNzdWU1ODM5NjA1NTE=", "number": 37702, "title": "Building TF 2.2.0-rc0 with Bazel 1.2.1 fails ", "user": {"login": "feranick", "id": 35967, "node_id": "MDQ6VXNlcjM1OTY3", "avatar_url": "https://avatars1.githubusercontent.com/u/35967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feranick", "html_url": "https://github.com/feranick", "followers_url": "https://api.github.com/users/feranick/followers", "following_url": "https://api.github.com/users/feranick/following{/other_user}", "gists_url": "https://api.github.com/users/feranick/gists{/gist_id}", "starred_url": "https://api.github.com/users/feranick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feranick/subscriptions", "organizations_url": "https://api.github.com/users/feranick/orgs", "repos_url": "https://api.github.com/users/feranick/repos", "events_url": "https://api.github.com/users/feranick/events{/privacy}", "received_events_url": "https://api.github.com/users/feranick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1903591931, "node_id": "MDU6TGFiZWwxOTAzNTkxOTMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.2", "name": "TF 2.2", "color": "0052cc", "default": false, "description": "Issues related to TF 2.2"}, {"id": 1205615612, "node_id": "MDU6TGFiZWwxMjA1NjE1NjEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:%20ubuntu/linux", "name": "subtype: ubuntu/linux", "color": "b619ea", "default": false, "description": "Ubuntu/Linux Build/Installation Issues"}, {"id": 1205765054, "node_id": "MDU6TGFiZWwxMjA1NzY1MDU0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:macOS", "name": "subtype:macOS", "color": "b619ea", "default": false, "description": "macOS Build/Installation issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-18T19:41:34Z", "updated_at": "2020-03-19T17:31:12Z", "closed_at": null, "author_association": "NONE", "body": "Summary: According to the release notes, TF 2.2.0-rc0 can be compiled with bazel 1.2.1 (the MIN version). However, when attempting this, it fails. Compilation is successful with Bazel 2.0.0. Compiling with 2.0.1 fails as well (Max seems to be set at 2.0.0)\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: NO\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04, MacOS\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: 2.2rc0\r\n- **Python version**: 3.6-3.7\r\n- **Bazel version (if compiling from source)**: 1.2.1\r\n- **Exact command to reproduce**:\r\n1. Install bazel 1.2.1\r\n2. GitClone TF and checkout 2.2.0-rc0\r\n3. compile as indicated by the manual. compilation will fail immediately with bazel 1.2.1 (according to the release notes for TF 2.2.0-rc0, that is the minimum version required) but compiles successfully with bazel 2.0.0\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37701", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37701/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37701/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37701/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37701", "id": 583958879, "node_id": "MDU6SXNzdWU1ODM5NTg4Nzk=", "number": 37701, "title": "Backport #31378 to 1.15", "user": {"login": "LukeNotable", "id": 43422748, "node_id": "MDQ6VXNlcjQzNDIyNzQ4", "avatar_url": "https://avatars2.githubusercontent.com/u/43422748?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LukeNotable", "html_url": "https://github.com/LukeNotable", "followers_url": "https://api.github.com/users/LukeNotable/followers", "following_url": "https://api.github.com/users/LukeNotable/following{/other_user}", "gists_url": "https://api.github.com/users/LukeNotable/gists{/gist_id}", "starred_url": "https://api.github.com/users/LukeNotable/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LukeNotable/subscriptions", "organizations_url": "https://api.github.com/users/LukeNotable/orgs", "repos_url": "https://api.github.com/users/LukeNotable/repos", "events_url": "https://api.github.com/users/LukeNotable/events{/privacy}", "received_events_url": "https://api.github.com/users/LukeNotable/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1093464312, "node_id": "MDU6TGFiZWwxMDkzNDY0MzEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:others", "name": "type:others", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-18T19:38:12Z", "updated_at": "2020-03-19T17:20:52Z", "closed_at": null, "author_association": "NONE", "body": "Since a `pipenv check` when using TF 1.15.2 now yields:\r\n```\r\n37524: tensorflow <2.0 resolved (1.15.2 installed)!\r\nTensorflow 2.0 fixes a potential security vulnerability where decoding variant tensors from proto could result in heap out of bounds memory access.\r\n```\r\nCan a 1.15.3 be made with #31378 incorporated?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37700", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37700/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37700/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37700/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37700", "id": 583938485, "node_id": "MDU6SXNzdWU1ODM5Mzg0ODU=", "number": 37700, "title": "Pre trained Resnet model with batch size 1", "user": {"login": "raina0990", "id": 47058811, "node_id": "MDQ6VXNlcjQ3MDU4ODEx", "avatar_url": "https://avatars0.githubusercontent.com/u/47058811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raina0990", "html_url": "https://github.com/raina0990", "followers_url": "https://api.github.com/users/raina0990/followers", "following_url": "https://api.github.com/users/raina0990/following{/other_user}", "gists_url": "https://api.github.com/users/raina0990/gists{/gist_id}", "starred_url": "https://api.github.com/users/raina0990/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raina0990/subscriptions", "organizations_url": "https://api.github.com/users/raina0990/orgs", "repos_url": "https://api.github.com/users/raina0990/repos", "events_url": "https://api.github.com/users/raina0990/events{/privacy}", "received_events_url": "https://api.github.com/users/raina0990/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-18T18:57:05Z", "updated_at": "2020-03-19T05:38:36Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: Atomic Pi\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version: 1.5\r\n- Python version: 3.6.9\r\n- Installed using virtualenv? pip? conda?: pip\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory: 2GB RAM, 16GB eMMC\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nII want to use pretrained ResNet model for image classification. The model I used  requires batch size of 64. Using a batch size of 64 has made Atomic Pi go out of memory.\r\n\r\nThe model used is from this git repoistory:\r\n\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n Error Log:\r\nhttps://github.com/tensorflow/models/tree/master/official/r1/resnet\r\nKilled\r\nmakefile:2: recipe for target 'default' failed\r\nmake: *** [default] Error 137\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37699", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37699/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37699/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37699/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37699", "id": 583893229, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwNTcyODgx", "number": 37699, "title": "NFC - minor spelling tweaks under lite and lite/examples directories", "user": {"login": "kiszk", "id": 1315079, "node_id": "MDQ6VXNlcjEzMTUwNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1315079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiszk", "html_url": "https://github.com/kiszk", "followers_url": "https://api.github.com/users/kiszk/followers", "following_url": "https://api.github.com/users/kiszk/following{/other_user}", "gists_url": "https://api.github.com/users/kiszk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiszk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiszk/subscriptions", "organizations_url": "https://api.github.com/users/kiszk/orgs", "repos_url": "https://api.github.com/users/kiszk/repos", "events_url": "https://api.github.com/users/kiszk/events{/privacy}", "received_events_url": "https://api.github.com/users/kiszk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 987666414, "node_id": "MDU6TGFiZWw5ODc2NjY0MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/ready%20to%20pull", "name": "ready to pull", "color": "2cd643", "default": false, "description": ""}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-18T17:35:17Z", "updated_at": "2020-03-19T04:17:09Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37699", "html_url": "https://github.com/tensorflow/tensorflow/pull/37699", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37699.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37699.patch"}, "body": "This PR addresses minor spelling tweaks under `tensorflow/lite` and `tensorflow/lite/examples` directories.\r\nfollow-on of #35286"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37698", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37698/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37698/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37698/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37698", "id": 583888686, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwNTY5MTMx", "number": 37698, "title": "Added custom Huber loss", "user": {"login": "Vishal-V", "id": 19651608, "node_id": "MDQ6VXNlcjE5NjUxNjA4", "avatar_url": "https://avatars3.githubusercontent.com/u/19651608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vishal-V", "html_url": "https://github.com/Vishal-V", "followers_url": "https://api.github.com/users/Vishal-V/followers", "following_url": "https://api.github.com/users/Vishal-V/following{/other_user}", "gists_url": "https://api.github.com/users/Vishal-V/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vishal-V/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vishal-V/subscriptions", "organizations_url": "https://api.github.com/users/Vishal-V/orgs", "repos_url": "https://api.github.com/users/Vishal-V/repos", "events_url": "https://api.github.com/users/Vishal-V/events{/privacy}", "received_events_url": "https://api.github.com/users/Vishal-V/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-18T17:27:16Z", "updated_at": "2020-03-19T05:50:54Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37698", "html_url": "https://github.com/tensorflow/tensorflow/pull/37698", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37698.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37698.patch"}, "body": "The Huber loss function describes the penalty incurred by an estimation procedure and the loss function is piecewise. This function is quadratic for small values of a, and linear for large values, with equal values and slopes of the different sections at the two points where the error is compared with the threshold."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37697", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37697/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37697/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37697/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37697", "id": 583887587, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwNTY4MjA0", "number": 37697, "title": "NFC - minor spelling tweaks under lite/tools directory", "user": {"login": "kiszk", "id": 1315079, "node_id": "MDQ6VXNlcjEzMTUwNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1315079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiszk", "html_url": "https://github.com/kiszk", "followers_url": "https://api.github.com/users/kiszk/followers", "following_url": "https://api.github.com/users/kiszk/following{/other_user}", "gists_url": "https://api.github.com/users/kiszk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiszk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiszk/subscriptions", "organizations_url": "https://api.github.com/users/kiszk/orgs", "repos_url": "https://api.github.com/users/kiszk/repos", "events_url": "https://api.github.com/users/kiszk/events{/privacy}", "received_events_url": "https://api.github.com/users/kiszk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 987666414, "node_id": "MDU6TGFiZWw5ODc2NjY0MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/ready%20to%20pull", "name": "ready to pull", "color": "2cd643", "default": false, "description": ""}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-18T17:25:22Z", "updated_at": "2020-03-19T07:52:50Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37697", "html_url": "https://github.com/tensorflow/tensorflow/pull/37697", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37697.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37697.patch"}, "body": "This PR addresses minor spelling tweaks under `tensorflow/lite/tools` directory.\r\nfollow-on of #35286"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37696", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37696/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37696/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37696/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37696", "id": 583870651, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwNTU0MTEx", "number": 37696, "title": "NFC - minor spelling tweaks under lite/toco directory", "user": {"login": "kiszk", "id": 1315079, "node_id": "MDQ6VXNlcjEzMTUwNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1315079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiszk", "html_url": "https://github.com/kiszk", "followers_url": "https://api.github.com/users/kiszk/followers", "following_url": "https://api.github.com/users/kiszk/following{/other_user}", "gists_url": "https://api.github.com/users/kiszk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiszk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiszk/subscriptions", "organizations_url": "https://api.github.com/users/kiszk/orgs", "repos_url": "https://api.github.com/users/kiszk/repos", "events_url": "https://api.github.com/users/kiszk/events{/privacy}", "received_events_url": "https://api.github.com/users/kiszk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 987666414, "node_id": "MDU6TGFiZWw5ODc2NjY0MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/ready%20to%20pull", "name": "ready to pull", "color": "2cd643", "default": false, "description": ""}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-18T16:56:52Z", "updated_at": "2020-03-19T04:15:50Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37696", "html_url": "https://github.com/tensorflow/tensorflow/pull/37696", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37696.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37696.patch"}, "body": "This PR addresses minor spelling tweaks under `tensorflow/lite/toco` directory.\r\nfollow-on of #35286"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37695", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37695/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37695/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37695/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37695", "id": 583868792, "node_id": "MDU6SXNzdWU1ODM4Njg3OTI=", "number": 37695, "title": "2.1.0 build error due to pybind11", "user": {"login": "bu-bgregor", "id": 29922458, "node_id": "MDQ6VXNlcjI5OTIyNDU4", "avatar_url": "https://avatars2.githubusercontent.com/u/29922458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bu-bgregor", "html_url": "https://github.com/bu-bgregor", "followers_url": "https://api.github.com/users/bu-bgregor/followers", "following_url": "https://api.github.com/users/bu-bgregor/following{/other_user}", "gists_url": "https://api.github.com/users/bu-bgregor/gists{/gist_id}", "starred_url": "https://api.github.com/users/bu-bgregor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bu-bgregor/subscriptions", "organizations_url": "https://api.github.com/users/bu-bgregor/orgs", "repos_url": "https://api.github.com/users/bu-bgregor/repos", "events_url": "https://api.github.com/users/bu-bgregor/events{/privacy}", "received_events_url": "https://api.github.com/users/bu-bgregor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 1205615612, "node_id": "MDU6TGFiZWwxMjA1NjE1NjEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:%20ubuntu/linux", "name": "subtype: ubuntu/linux", "color": "b619ea", "default": false, "description": "Ubuntu/Linux Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-03-18T16:53:58Z", "updated_at": "2020-03-19T16:46:07Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux CentOS 7.7.1908\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: 2.1.0\r\n- Python version: 3.7.5\r\n- Installed using virtualenv? pip? conda?:  \r\n- Bazel version (if compiling from source): 0.27.1\r\n- GCC/Compiler version (if compiling from source): 7.4.0\r\n- CUDA/cuDNN version: none (CPU only build)\r\n- GPU model and memory:\r\n\r\nBuilding tensorflow 2.1.0 results in compile errors due to pybind11.  This is a build for CPU-only use without any dependency on CUDA libraries.  Example error (out of ~630):\r\n```\r\nbazel-out/host/bin/external/local_config_python/python_include/pybind11/detail/common.h:302:12: error: multiple definition of 'enum class pybind11::return_value_policy'\r\n enum class return_value_policy : uint8_t {\r\n            ^~~~~~~~~~~~~~~~~~~\r\nIn file included from external/pybind11/include/pybind11/pytypes.h:12:0,\r\n                 from external/pybind11/include/pybind11/cast.h:13,\r\n                 from external/pybind11/include/pybind11/attr.h:13,\r\n                 from external/pybind11/include/pybind11/pybind11.h:49,\r\n                 from tensorflow/python/framework/op_def_registry.cc:16:\r\nexternal/pybind11/include/pybind11/detail/common.h:302:12: note: previous definition here\r\n enum class return_value_policy : uint8_t {\r\n            ^~~~~~~~~~~~~~~~~~~\r\n```\r\nBuild steps:\r\n\r\n```\r\npython3  -m venv py37-env\r\nsource py37-env/bin/activate\r\npip install -I --no-cache-dir \"numpy==1.17.2\"\r\npip install -I --no-cache-dir \"pybind11==2.3.0\"\r\npip install -I --no-cache-dir six wheel setuptools mock 'future>=0.17.1'\r\npip install -I --no-cache-dir keras_applications --no-deps\r\npip install -I --no-cache-dir keras_preprocessing --no-deps\r\n\r\n# Run to try and keep bazel from using the wrong python\r\nexport PYTHON_BIN_PATH=`which python3`\r\nexport PYTHON_LIB_PATH=`python -c \"import sys ; print(sys.path[-1])\"`\r\nexport PYTHONPATH=$PYTHON_LIB_PATH\r\nexport TF_NEED_OPENCL_SYCL=0 \r\nexport TF_NEED_COMPUTECPP=0 \r\nexport TF_NEED_OPENCL=0 \r\nexport TF_CUDA_CLANG=0\r\nexport TF_DOWNLOAD_CLANG=0\r\nexport CC_OPT_FLAGS=\"-march=sandybridge -mtune=intel  -Wno-sign-compare\"\r\nexport TF_NEED_CUDA=0\r\nexport TF_NEED_TENSORRT=0\r\nexport TF_NEED_ROCM=0\r\nexport TF_SET_ANDROID_WORKSPACE=0\r\nexport TF_ENABLE_XLA=0\r\nexport USE_DEFAULT_PYTHON_LIB_PATH=1\r\n\r\n./configure\r\n\r\ntime bazel build  --verbose_failures  \\\r\n  --config=opt \\\r\n  --config=mkl \\\r\n  --config=numa \\\r\n  --config=v2 \\\r\n  --linkopt=\"-Wl,-rpath=/share/pkg.7/gcc/7.4.0/install/lib64\" \\\r\n  --linkopt=\"-L/share/pkg.7/gcc/7.4.0/install/lib64\"   \\\r\n  --host_linkopt=\"-Wl,-rpath=/share/pkg.7/gcc/7.4.0/install/lib64\" \\\r\n  --host_linkopt=\"-L/share/pkg.7/gcc/7.4.0/install/lib64\"  \\\r\n  //tensorflow/tools/pip_package:build_pip_package   \r\n```\r\n\r\n\r\n[bazel37.zip](https://github.com/tensorflow/tensorflow/files/4350233/bazel37.zip)\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37694", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37694/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37694/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37694/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37694", "id": 583842189, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwNTMwNjAx", "number": 37694, "title": "NFC - minor spelling tweaks under lite/kernels directory", "user": {"login": "kiszk", "id": 1315079, "node_id": "MDQ6VXNlcjEzMTUwNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1315079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiszk", "html_url": "https://github.com/kiszk", "followers_url": "https://api.github.com/users/kiszk/followers", "following_url": "https://api.github.com/users/kiszk/following{/other_user}", "gists_url": "https://api.github.com/users/kiszk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiszk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiszk/subscriptions", "organizations_url": "https://api.github.com/users/kiszk/orgs", "repos_url": "https://api.github.com/users/kiszk/repos", "events_url": "https://api.github.com/users/kiszk/events{/privacy}", "received_events_url": "https://api.github.com/users/kiszk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 703812914, "node_id": "MDU6TGFiZWw3MDM4MTI5MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/kokoro:force-run", "name": "kokoro:force-run", "color": "1d76db", "default": false, "description": null}, {"id": 987666414, "node_id": "MDU6TGFiZWw5ODc2NjY0MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/ready%20to%20pull", "name": "ready to pull", "color": "2cd643", "default": false, "description": ""}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-18T16:11:49Z", "updated_at": "2020-03-19T07:55:39Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37694", "html_url": "https://github.com/tensorflow/tensorflow/pull/37694", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37694.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37694.patch"}, "body": "This PR addresses minor spelling tweaks under `tensorflow/lite/kernels` directory.\r\nfollow-on of #35286"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37693", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37693/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37693/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37693/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37693", "id": 583829639, "node_id": "MDU6SXNzdWU1ODM4Mjk2Mzk=", "number": 37693, "title": "CUDA_ERROR_LAUNCH_TIMEOUT when using NCCL with MultiWorkerMirroredStrategy on multi-node systems", "user": {"login": "Flamefire", "id": 309017, "node_id": "MDQ6VXNlcjMwOTAxNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/309017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Flamefire", "html_url": "https://github.com/Flamefire", "followers_url": "https://api.github.com/users/Flamefire/followers", "following_url": "https://api.github.com/users/Flamefire/following{/other_user}", "gists_url": "https://api.github.com/users/Flamefire/gists{/gist_id}", "starred_url": "https://api.github.com/users/Flamefire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Flamefire/subscriptions", "organizations_url": "https://api.github.com/users/Flamefire/orgs", "repos_url": "https://api.github.com/users/Flamefire/repos", "events_url": "https://api.github.com/users/Flamefire/events{/privacy}", "received_events_url": "https://api.github.com/users/Flamefire/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 996845227, "node_id": "MDU6TGFiZWw5OTY4NDUyMjc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:dist-strat", "name": "comp:dist-strat", "color": "0052cc", "default": false, "description": "Distribution Strategy related issues"}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-18T15:53:44Z", "updated_at": "2020-03-19T07:34:30Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): Based on https://www.tensorflow.org/tutorials/distribute/multi_worker_with_keras but using bigger dataset and Resnet\r\n- OS Platform and Distribution (e.g.,Linux Ubuntu 16.04): RHEL 7\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version (use command below): 2.1.0\r\n- Python version: 3.7.4\r\n- Bazel version (if compiling from source): 0.29.1\r\n- GCC/Compiler version (if compiling from source): GCC 8.3.0\r\n- CUDA/cuDNN version: CUDA/10.1.243, cuDNN/7.6.4.38, NCCL/2.4.8\r\n- GPU model and memory:Tesla K80\r\n\r\n**Describe the current behavior**\r\n\r\nRunning the standard training loop results in a CUDA_ERROR_LAUNCH_TIMEOUT when using NCCL.\r\n\r\n**Describe the expected behavior**\r\n\r\nNo error.\r\n\r\n**Standalone code to reproduce the issue** \r\n\r\n```\r\nimport tensorflow as tf\r\nimport tensorflow_datasets as tfds\r\nfrom slurm_utils import set_tf_config\r\nfrom slurm_cluster_resolver import SlurmClusterResolver\r\n\r\ntfds.disable_progress_bar()\r\n\r\nBUFFER_SIZE = 10000\r\nBATCH_SIZE = 32\r\n\r\n\r\ndef make_datasets_unbatched():\r\n    def preprocess(image, label):\r\n        image = tf.image.convert_image_dtype(image, tf.float32)\r\n        image = tf.image.resize_with_pad(image, 299, 299)\r\n        image = image - [123.68, 116.78, 103.94]\r\n        return image, label\r\n\r\n    datasets, info = tfds.load(name='stanford_dogs',\r\n                               with_info=True,\r\n                               as_supervised=True)\r\n\r\n    return {\r\n        'train':\r\n        datasets['train'].map(preprocess).cache().shuffle(BUFFER_SIZE),\r\n        'test': datasets['test'].map(preprocess)\r\n    }, info\r\n\r\n\r\ndef build_and_compile_cnn_model(num_classes):\r\n    model = tf.keras.applications.InceptionV3(weights=None,\r\n                                              classes=num_classes)\r\n    model.compile(loss=tf.keras.losses.sparse_categorical_crossentropy,\r\n                  optimizer=tf.keras.optimizers.SGD(learning_rate=0.001),\r\n                  metrics=['accuracy'])\r\n    return model\r\n\r\n\r\nresolver = SlurmClusterResolver()\r\nset_tf_config(resolver)\r\nstrategy = tf.distribute.experimental.MultiWorkerMirroredStrategy(\r\n    tf.distribute.experimental.CollectiveCommunication.NCCL,\r\n    cluster_resolver=resolver)\r\n\r\n# Here the batch size scales up by number of workers since\r\n# `tf.data.Dataset.batch` expects the global batch size.\r\nGLOBAL_BATCH_SIZE = BATCH_SIZE * strategy.num_replicas_in_sync\r\nwith strategy.scope():\r\n    # Creation of dataset, and model building/compiling need to be within\r\n    # `strategy.scope()`.\r\n    options = tf.data.Options()\r\n    options.experimental_distribute.auto_shard_policy = tf.data.experimental.AutoShardPolicy.DATA\r\n    datasets, info = make_datasets_unbatched()\r\n    for split in datasets:\r\n        datasets[split] = datasets[split].batch(\r\n            GLOBAL_BATCH_SIZE).with_options(options)\r\n    model = build_and_compile_cnn_model(info.features['label'].num_classes)\r\n\r\ntrain_steps = info.splits['train'].num_examples // GLOBAL_BATCH_SIZE\r\ntest_steps = info.splits['test'].num_examples // GLOBAL_BATCH_SIZE\r\nprint(\"Have %s examples -> %s batches of %s\" %\r\n      (info.splits['train'].num_examples, train_steps, GLOBAL_BATCH_SIZE))\r\n\r\nmodel.fit(x=datasets['train'].repeat(),\r\n          epochs=1,\r\n          steps_per_epoch=train_steps,\r\n          verbose=2)\r\n```\r\n\r\nNote: `SlurmClusterResolver` is the one that got recently included to TF and `set_tf_config` is:\r\n\r\n```\r\ndef set_tf_config(cluster_resolver, environment=None):\r\n    \"\"\"Set the TF_CONFIG env variable from the given cluster resolver\"\"\"\r\n    cfg = {\r\n        'cluster': cluster_resolver.cluster_spec().as_dict(),\r\n        'task': {\r\n            'type': cluster_resolver.get_task_info()[0],\r\n            'index': cluster_resolver.get_task_info()[1],\r\n        },\r\n        'rpc_layer': cluster_resolver.rpc_layer,\r\n    }\r\n    if environment:\r\n        cfg['environment'] = environment\r\n    os.environ['TF_CONFIG'] = json.dumps(cfg)\r\n    print(\"Set TF_CONFIG=\" + os.environ['TF_CONFIG'])\r\n```\r\n\r\n**Other info / logs**\r\n\r\nThis happens everytime when using more than 1 node.\r\n\r\n```\r\nSet TF_CONFIG={\"cluster\": {\"worker\": [\"taurusi2107:8888\", \"taurusi2108:8888\"]}, \"task\": {\"type\": \"worker\", \"index\": 1}, \"rpc_layer\": \"grpc\"}\r\nHave 12000 examples -> 46 batches of 256\r\nWARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an \"evaluator\" task exists in the cluster.\r\nWARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an \"evaluator\" task exists in the cluster.\r\nWARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.\r\nWARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.\r\nWARNING:tensorflow:ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.\r\nWARNING:tensorflow:ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.\r\nTrain for 46 steps\r\nHave 12000 examples -> 46 batches of 256\r\nWARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an \"evaluator\" task exists in the cluster.\r\nWARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an \"evaluator\" task exists in the cluster.\r\nWARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.\r\nWARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.\r\nWARNING:tensorflow:ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.\r\nWARNING:tensorflow:ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.\r\nTrain for 46 steps\r\n2020-03-18 16:51:46.733598: E tensorflow/stream_executor/cuda/cuda_event.cc:29] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_TIMEOUT: the launch timed out and was terminated\r\n2020-03-18 16:51:46.733598: E tensorflow/stream_executor/cuda/cuda_event.cc:29] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_TIMEOUT: the launch timed out and was terminated\r\n2020-03-18 16:51:46.733599: E tensorflow/stream_executor/cuda/cuda_event.cc:29] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_TIMEOUT: the launch timed out and was terminated\r\n2020-03-18 16:51:46.733602: E tensorflow/stream_executor/cuda/cuda_event.cc:29] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_TIMEOUT: the launch timed out and was terminated\r\n2020-03-18 16:51:46.733657: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:273] Unexpected Event status: 1\r\n2020-03-18 16:51:46.733656: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:273] Unexpected Event status: 1\r\n2020-03-18 16:51:46.733662: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:273] Unexpected Event status: 1\r\n2020-03-18 16:51:46.733671: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:273] Unexpected Event status: 1\r\n[taurusi2108:15936] *** Process received signal ***\r\n2020-03-18 16:51:47.705311: E tensorflow/stream_executor/cuda/cuda_event.cc:29] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_TIMEOUT: the launch timed out and was terminated\r\n2020-03-18 16:51:47.705311: E tensorflow/stream_executor/cuda/cuda_event.cc:29] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_TIMEOUT: the launch timed out and was terminated\r\n2020-03-18 16:51:47.705349: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:273] Unexpected Event status: 1\r\n2020-03-18 16:51:47.705311: E tensorflow/stream_executor/cuda/cuda_event.cc:29] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_TIMEOUT: the launch timed out and was terminated\r\n2020-03-18 16:51:47.705359: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:273] Unexpected Event status: 1\r\n[taurusi2107:31475] *** Process received signal ***\r\n2020-03-18 16:51:47.705372: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:273] Unexpected Event status: 1\r\n2020-03-18 16:51:47.705326: E tensorflow/stream_executor/cuda/cuda_driver.cc:818] failed to free device memory at 0x1d8c005800; result: CUDA_ERROR_LAUNCH_TIMEOUT: the launch timed out and was terminated\r\n[taurusi2107:31475] Signal: Aborted (6)\r\n[taurusi2107:31475] Signal code:  (-6)\r\n2020-03-18 16:51:47.705358: E tensorflow/stream_executor/stream.cc:332] Error recording event in stream: Error recording CUDA event: CUDA_ERROR_LAUNCH_TIMEOUT: the launch timed out and was terminated; not marking stream as bad, as the Event object may be at fault. Monitor for further errors.\r\n2020-03-18 16:51:47.705412: E tensorflow/stream_executor/cuda/cuda_event.cc:29] Error polling for event status: failed to query event: CUDA_ERROR_LAUNCH_TIMEOUT: the launch timed out and was terminated\r\n2020-03-18 16:51:47.705421: F tensorflow/core/common_runtime/gpu/gpu_event_mgr.cc:273] Unexpected Event status: 1\r\nsrun: error: taurusi2107: task 0: Aborted (core dumped)\r\nsrun: error: taurusi2108: task 1: Aborted (core dumped)\r\n\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37692", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37692/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37692/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37692/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37692", "id": 583747185, "node_id": "MDU6SXNzdWU1ODM3NDcxODU=", "number": 37692, "title": "shape asserts to check internal code correctness", "user": {"login": "joelberkeley-pio", "id": 50020063, "node_id": "MDQ6VXNlcjUwMDIwMDYz", "avatar_url": "https://avatars3.githubusercontent.com/u/50020063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joelberkeley-pio", "html_url": "https://github.com/joelberkeley-pio", "followers_url": "https://api.github.com/users/joelberkeley-pio/followers", "following_url": "https://api.github.com/users/joelberkeley-pio/following{/other_user}", "gists_url": "https://api.github.com/users/joelberkeley-pio/gists{/gist_id}", "starred_url": "https://api.github.com/users/joelberkeley-pio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joelberkeley-pio/subscriptions", "organizations_url": "https://api.github.com/users/joelberkeley-pio/orgs", "repos_url": "https://api.github.com/users/joelberkeley-pio/repos", "events_url": "https://api.github.com/users/joelberkeley-pio/events{/privacy}", "received_events_url": "https://api.github.com/users/joelberkeley-pio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-18T13:57:09Z", "updated_at": "2020-03-19T06:06:34Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version (you are using): 2.1\r\n- Are you willing to contribute it (Yes/No): No\r\n\r\n**Describe the feature and the current behavior/state.**\r\n\r\n`tf.debugging.assert_shapes` throws `tf.errors.InvalidArgumentError` or `ValueError`. This is unsuitable for use as an assertion of internal code correctness.\r\n\r\n**Will this change the current api? How?**\r\n\r\nSome way of adding an assertion that mirrors the way `assert` works in python. In particular, it should\r\n  * throw an exception that shouldn't typically be caught (analogous to `AssertionError`)\r\n  * be possible to turn it off via the in built `__debug__` flag\r\n\r\nThis could be a flag in `tf.debugging.assert_shapes`, or a separate function\r\n\r\n**Who will benefit with this feature?**\r\n\r\nDevelopers that build on top of tensorflow and want to check the correctness of shapes within their code, as opposed to checking user input."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37691", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37691/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37691/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37691/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37691", "id": 583701365, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwNDEzNjIx", "number": 37691, "title": "Enable 3D tensor support for softmax quantized in TFLu", "user": {"login": "giorgio-arenarm", "id": 52670029, "node_id": "MDQ6VXNlcjUyNjcwMDI5", "avatar_url": "https://avatars1.githubusercontent.com/u/52670029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/giorgio-arenarm", "html_url": "https://github.com/giorgio-arenarm", "followers_url": "https://api.github.com/users/giorgio-arenarm/followers", "following_url": "https://api.github.com/users/giorgio-arenarm/following{/other_user}", "gists_url": "https://api.github.com/users/giorgio-arenarm/gists{/gist_id}", "starred_url": "https://api.github.com/users/giorgio-arenarm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/giorgio-arenarm/subscriptions", "organizations_url": "https://api.github.com/users/giorgio-arenarm/orgs", "repos_url": "https://api.github.com/users/giorgio-arenarm/repos", "events_url": "https://api.github.com/users/giorgio-arenarm/events{/privacy}", "received_events_url": "https://api.github.com/users/giorgio-arenarm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1589976566, "node_id": "MDU6TGFiZWwxNTg5OTc2NTY2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:micro", "name": "comp:micro", "color": "3e2eea", "default": false, "description": "Related to TensorFlow Lite Microcontrollers"}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-18T12:43:34Z", "updated_at": "2020-03-19T07:36:03Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37691", "html_url": "https://github.com/tensorflow/tensorflow/pull/37691", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37691.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37691.patch"}, "body": ""}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37690", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37690/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37690/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37690/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37690", "id": 583692182, "node_id": "MDU6SXNzdWU1ODM2OTIxODI=", "number": 37690, "title": "Can I use TensorFlow Multi-worker training with two machines, which one has GPUs, the other only has CPU?", "user": {"login": "maqy1995", "id": 24785328, "node_id": "MDQ6VXNlcjI0Nzg1MzI4", "avatar_url": "https://avatars3.githubusercontent.com/u/24785328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maqy1995", "html_url": "https://github.com/maqy1995", "followers_url": "https://api.github.com/users/maqy1995/followers", "following_url": "https://api.github.com/users/maqy1995/following{/other_user}", "gists_url": "https://api.github.com/users/maqy1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/maqy1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maqy1995/subscriptions", "organizations_url": "https://api.github.com/users/maqy1995/orgs", "repos_url": "https://api.github.com/users/maqy1995/repos", "events_url": "https://api.github.com/users/maqy1995/events{/privacy}", "received_events_url": "https://api.github.com/users/maqy1995/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 996845227, "node_id": "MDU6TGFiZWw5OTY4NDUyMjc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:dist-strat", "name": "comp:dist-strat", "color": "0052cc", "default": false, "description": "Distribution Strategy related issues"}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-18T12:27:58Z", "updated_at": "2020-03-19T06:56:18Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n- TensorFlow version : 2.1.0\r\n\r\nI have two machines, machine1 has GPUs and machine2 only has CPUs. I want to know if they can use Multi-worker training in Tensorflow, that is, during the distributed training, machine1 uses GPUs and machine2 uses CPUs.\r\n\r\nI followed this tutorial to experiment:\r\nhttps://tensorflow.google.cn/tutorials/distribute/multi_worker_with_keras?hl=en\r\n\r\nBut there are some error:\r\n> tensorflow.python.framework.errors_impl.InternalError: Collective Op CollectiveBcastSend: Broadcast(1) is assigned to device /job:worker/replica:0/task:0/device:GPU:0 with type GPU and group_key 1 but that group has type CPU [Op:CollectiveBcastSend]\r\n\r\nwhen I set machine1(has GPUs) not to use GPUs:\r\n```\r\nos.environ['CUDA_VISIBLE_DEVICES'] = '-1'\r\n```\r\nmy code run successfully.\r\n\r\nI want to know: Can I use machine1's GPUs and machine2's CPUs to do distributed learning?\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37689", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37689/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37689/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37689/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37689", "id": 583690194, "node_id": "MDU6SXNzdWU1ODM2OTAxOTQ=", "number": 37689, "title": "spurious error:  failed call to cuInit: UNKNOWN ERROR", "user": {"login": "bjarthur", "id": 1538268, "node_id": "MDQ6VXNlcjE1MzgyNjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1538268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjarthur", "html_url": "https://github.com/bjarthur", "followers_url": "https://api.github.com/users/bjarthur/followers", "following_url": "https://api.github.com/users/bjarthur/following{/other_user}", "gists_url": "https://api.github.com/users/bjarthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjarthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjarthur/subscriptions", "organizations_url": "https://api.github.com/users/bjarthur/orgs", "repos_url": "https://api.github.com/users/bjarthur/repos", "events_url": "https://api.github.com/users/bjarthur/events{/privacy}", "received_events_url": "https://api.github.com/users/bjarthur/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547538, "node_id": "MDU6TGFiZWwxMDk3NTQ3NTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu", "name": "comp:gpu", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-18T12:24:10Z", "updated_at": "2020-03-19T11:09:51Z", "closed_at": null, "author_association": "NONE", "body": "ubuntu 18.04, CUDA 10.1, TF 2.1, python 3.6.5\r\n\r\non a machine *without* a GPU, the following code emits \"error:  failed call to cuInit: UNKNOWN ERROR\".  of course that should fail!  you shouldn't have even tried.  printing that requires extra logic when parsing log files to check whether jobs succeeded.\r\n\r\n```\r\nPython 3.6.5 (default, Apr  1 2018, 05:46:30) \r\n[GCC 7.3.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow as tf\r\n2020-03-18 08:16:50.221103: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libnvinfer.so.6'; dlerror: libnvinfer.so.6: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /usr/local/cuda/lib64:/.singularity.d/libs\r\n2020-03-18 08:16:50.221260: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libnvinfer_plugin.so.6'; dlerror: libnvinfer_plugin.so.6: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /usr/local/cuda/lib64:/.singularity.d/libs\r\n2020-03-18 08:16:50.221275: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:30] Cannot dlopen some TensorRT libraries. If you would like to use Nvidia GPU with TensorRT, please make sure the missing libraries mentioned above are installed properly.\r\n>>> msg = tf.constant('Hello, TensorFlow!')\r\n2020-03-18 08:16:55.455153: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /usr/local/cuda/lib64:/.singularity.d/libs\r\n2020-03-18 08:16:55.455184: E tensorflow/stream_executor/cuda/cuda_driver.cc:351] failed call to cuInit: UNKNOWN ERROR (303)\r\n2020-03-18 08:16:55.455223: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (h10u02.int.janelia.org): /proc/driver/nvidia/version does not exist\r\n2020-03-18 08:16:55.455545: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2020-03-18 08:16:55.468119: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2099935000 Hz\r\n2020-03-18 08:16:55.469505: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x49b71e0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\n2020-03-18 08:16:55.469532: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37687", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37687/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37687/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37687/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37687", "id": 583641220, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwMzYzMDk1", "number": 37687, "title": "[MLIR][XLA] Fix ops erase bug in DeadTempBufferRemoval", "user": {"login": "xinan-jiang", "id": 41858707, "node_id": "MDQ6VXNlcjQxODU4NzA3", "avatar_url": "https://avatars3.githubusercontent.com/u/41858707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xinan-jiang", "html_url": "https://github.com/xinan-jiang", "followers_url": "https://api.github.com/users/xinan-jiang/followers", "following_url": "https://api.github.com/users/xinan-jiang/following{/other_user}", "gists_url": "https://api.github.com/users/xinan-jiang/gists{/gist_id}", "starred_url": "https://api.github.com/users/xinan-jiang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xinan-jiang/subscriptions", "organizations_url": "https://api.github.com/users/xinan-jiang/orgs", "repos_url": "https://api.github.com/users/xinan-jiang/repos", "events_url": "https://api.github.com/users/xinan-jiang/events{/privacy}", "received_events_url": "https://api.github.com/users/xinan-jiang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1133285679, "node_id": "MDU6TGFiZWwxMTMzMjg1Njc5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:xla", "name": "comp:xla", "color": "0052cc", "default": false, "description": ""}, {"id": 703812914, "node_id": "MDU6TGFiZWw3MDM4MTI5MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/kokoro:force-run", "name": "kokoro:force-run", "color": "1d76db", "default": false, "description": null}, {"id": 987666414, "node_id": "MDU6TGFiZWw5ODc2NjY0MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/ready%20to%20pull", "name": "ready to pull", "color": "2cd643", "default": false, "description": ""}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-18T10:53:49Z", "updated_at": "2020-03-19T12:07:41Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37687", "html_url": "https://github.com/tensorflow/tensorflow/pull/37687", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37687.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37687.patch"}, "body": "This is a PR from JIZHI, the AI platform in Tencent.\r\n@sherhut @River707 \r\n\r\nI think it will break the DAG struct that recursiveErase called directly when function.walk\r\nThe operation which needs erasing should be put in a vector when function.walk firstly and erased after function.walk"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37686", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37686/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37686/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37686/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37686", "id": 583624906, "node_id": "MDU6SXNzdWU1ODM2MjQ5MDY=", "number": 37686, "title": "The Problem with Distributed inference on multi-GPUs with tf.distribute.MirroredStrategy() strategy", "user": {"login": "thamquocdung", "id": 37324122, "node_id": "MDQ6VXNlcjM3MzI0MTIy", "avatar_url": "https://avatars3.githubusercontent.com/u/37324122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thamquocdung", "html_url": "https://github.com/thamquocdung", "followers_url": "https://api.github.com/users/thamquocdung/followers", "following_url": "https://api.github.com/users/thamquocdung/following{/other_user}", "gists_url": "https://api.github.com/users/thamquocdung/gists{/gist_id}", "starred_url": "https://api.github.com/users/thamquocdung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thamquocdung/subscriptions", "organizations_url": "https://api.github.com/users/thamquocdung/orgs", "repos_url": "https://api.github.com/users/thamquocdung/repos", "events_url": "https://api.github.com/users/thamquocdung/events{/privacy}", "received_events_url": "https://api.github.com/users/thamquocdung/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 996845227, "node_id": "MDU6TGFiZWw5OTY4NDUyMjc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:dist-strat", "name": "comp:dist-strat", "color": "0052cc", "default": false, "description": "Distribution Strategy related issues"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-18T10:26:59Z", "updated_at": "2020-03-19T08:57:33Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): Linux Ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: \r\n- TensorFlow installed from (source or\r\nbinary): binary (install from pip) \r\n- TensorFlow version (use command below): 2.1.0\r\n- Python version: 3.6.8\r\n - Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from\r\nsource): \r\n- CUDA/cuDNN version: Cuda Toolkit 10.1 / cuDNN 7.6.4\r\n- GPU model and memory: 2 Titan V\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\nI have tried to custom distributed inference on multi-GPUs (i.e 2 GPUs) follow the tutorial on page https://www.tensorflow.org/tutorials/distribute/save_and_load by using my model and `tf.distribute.MirroredStrategy()` strategy. In particular when I ran my bellow code\r\n```\r\n# Here is my code\r\n\r\nDEFAULT_FUNCTION_KEY = \"serving_default\"\r\ndata = tf.data.Dataset.from_tensor_slices(np.random.rand(32*100, 416, 416, 3).astype('float32')).batch(32)\r\n\r\n# load model and do inference on 1 GPU\r\nloaded = tf.saved_model.load('./model')\r\ninference_func = loaded.signatures[DEFAULT_FUNCTION_KEY]\r\n\r\ntotal_time = 0.0\r\nfor batch in data:\r\n    begin = time.time()\r\n    inference_func(batch)\r\n    total_time += time.time() - begin\r\nprint('Total time on 1 GPU: ', total_time)\r\n\r\n# load model and do inference in a distributed manner\r\nmirrored_strategy = tf.distribute.MirroredStrategy()\r\nwith mirrored_strategy.scope():\r\n    model = tf.saved_model.load('./model')\r\n    inference_func = model.signatures[DEFAULT_FUNCTION_KEY]\r\n\r\n    dist_predict_dataset = mirrored_strategy.experimental_distribute_dataset(data)\r\n\r\n    total_time = 0.0\r\n    for batch in dist_predict_dataset:\r\n        begin = time.time()\r\n        mirrored_strategy.run(inference_func, args=(batch,))\r\n        total_time += time.time() - begin\r\n    print('Total time on 2 GPUs: ', total_time)\r\n```\r\n*_Note: The above code is customed from your bellow sample code in the tutorial_\r\n```\r\n# Here is your sample code in the tutorial\r\n\r\nDEFAULT_FUNCTION_KEY = \"serving_default\"\r\nloaded = tf.saved_model.load(saved_model_path)\r\ninference_func = loaded.signatures[DEFAULT_FUNCTION_KEY]\r\n\r\npredict_dataset = eval_dataset.map(lambda image, label: image)\r\nfor batch in predict_dataset.take(1):\r\n  print(inference_func(batch))\r\n\r\nanother_strategy = tf.distribute.MirroredStrategy()\r\nwith another_strategy.scope():\r\n  loaded = tf.saved_model.load(saved_model_path)\r\n  inference_func = loaded.signatures[DEFAULT_FUNCTION_KEY]\r\n\r\n  dist_predict_dataset = another_strategy.experimental_distribute_dataset(\r\n      predict_dataset)\r\n\r\n  # Calling the function in a distributed manner\r\n  for batch in dist_predict_dataset:\r\n    another_strategy.run(inference_func,args=(batch,))\r\n```\r\nand compared the total inference time of the model between 1 GPU and 2 GPUs with the same inputs. Unfortunately, I realized that the performance on 2 GPUs is **not** faster than on 1 GPU (about total time as well as the time of an iterator). It seems that the inference process executed on 2 GPUs **sequentially** (**not** **parallel as I expected**).\r\n\r\n**Describe the expected behavior**\r\nPlease let me know if there are any problems here and show me how to modify the code in order to run **distributed inference on multi-GPUs parallel** with the best performance. Thanks so much for your help\r\n\r\n**Standalone code to reproduce the issue** \r\nFiles to reproduce the test case in [example.zip](https://github.com/tensorflow/tensorflow/files/4348380/example.zip)\r\n\r\n**Other info / logs** \r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37684", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37684/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37684/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37684/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37684", "id": 583535503, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwMjc1NDQ5", "number": 37684, "title": "fix a bug in AddSymbolicGradients", "user": {"login": "buaasun", "id": 10055603, "node_id": "MDQ6VXNlcjEwMDU1NjAz", "avatar_url": "https://avatars2.githubusercontent.com/u/10055603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/buaasun", "html_url": "https://github.com/buaasun", "followers_url": "https://api.github.com/users/buaasun/followers", "following_url": "https://api.github.com/users/buaasun/following{/other_user}", "gists_url": "https://api.github.com/users/buaasun/gists{/gist_id}", "starred_url": "https://api.github.com/users/buaasun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/buaasun/subscriptions", "organizations_url": "https://api.github.com/users/buaasun/orgs", "repos_url": "https://api.github.com/users/buaasun/repos", "events_url": "https://api.github.com/users/buaasun/events{/privacy}", "received_events_url": "https://api.github.com/users/buaasun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1178505529, "node_id": "MDU6TGFiZWwxMTc4NTA1NTI5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/prtype:bugfix", "name": "prtype:bugfix", "color": "159b2e", "default": false, "description": "PR to fix a bug"}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-18T07:51:50Z", "updated_at": "2020-03-19T15:57:30Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37684", "html_url": "https://github.com/tensorflow/tensorflow/pull/37684", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37684.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37684.patch"}, "body": "Fixes #37593 "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37682", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37682/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37682/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37682/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37682", "id": 583495221, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwMjQxNzUw", "number": 37682, "title": "[MLIR/XLA] add a pass to outline kLoop/kInput fusion pattern in xla_hlo dialect", "user": {"login": "wyzero", "id": 15364516, "node_id": "MDQ6VXNlcjE1MzY0NTE2", "avatar_url": "https://avatars0.githubusercontent.com/u/15364516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wyzero", "html_url": "https://github.com/wyzero", "followers_url": "https://api.github.com/users/wyzero/followers", "following_url": "https://api.github.com/users/wyzero/following{/other_user}", "gists_url": "https://api.github.com/users/wyzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/wyzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wyzero/subscriptions", "organizations_url": "https://api.github.com/users/wyzero/orgs", "repos_url": "https://api.github.com/users/wyzero/repos", "events_url": "https://api.github.com/users/wyzero/events{/privacy}", "received_events_url": "https://api.github.com/users/wyzero/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169365682, "node_id": "MDU6TGFiZWwxMTY5MzY1Njgy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:L", "name": "size:L", "color": "adafea", "default": false, "description": "CL Change Size: Large"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-18T06:20:28Z", "updated_at": "2020-03-19T15:18:40Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37682", "html_url": "https://github.com/tensorflow/tensorflow/pull/37682", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37682.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37682.patch"}, "body": "This pass implements the basic kLoop/kInput fusion in fully dynamic shape scenario. Similar to XLA, this pass also supports fusion pattern having multiple outputs if all the shape of outputs are consistent. To this end, we also add a simple shape constrain analysis. This could be built on the shape dialect once it is ready.\r\n\r\n![image](https://user-images.githubusercontent.com/15364516/76931205-1ed0e580-6923-11ea-8732-fe9d93c3bcaf.png)\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37681", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37681/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37681/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37681/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37681", "id": 583429558, "node_id": "MDU6SXNzdWU1ODM0Mjk1NTg=", "number": 37681, "title": "Getting std::bad_alloc in Android - StyleTransfer", "user": {"login": "ikasapoglu", "id": 12516231, "node_id": "MDQ6VXNlcjEyNTE2MjMx", "avatar_url": "https://avatars1.githubusercontent.com/u/12516231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ikasapoglu", "html_url": "https://github.com/ikasapoglu", "followers_url": "https://api.github.com/users/ikasapoglu/followers", "following_url": "https://api.github.com/users/ikasapoglu/following{/other_user}", "gists_url": "https://api.github.com/users/ikasapoglu/gists{/gist_id}", "starred_url": "https://api.github.com/users/ikasapoglu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ikasapoglu/subscriptions", "organizations_url": "https://api.github.com/users/ikasapoglu/orgs", "repos_url": "https://api.github.com/users/ikasapoglu/repos", "events_url": "https://api.github.com/users/ikasapoglu/events{/privacy}", "received_events_url": "https://api.github.com/users/ikasapoglu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-18T03:04:05Z", "updated_at": "2020-03-19T10:13:40Z", "closed_at": null, "author_association": "NONE", "body": "Hello, I've followed the examples/styletransfer repository. When I build&run the example everything worked with no errors. After that I changed the code a little bit to run my custom model. The model has these values;\r\n\r\ncustommodel.tflite {\r\ninput [1, 320, 320, 3] float32\r\noutput [1, 320, 320, 3] float32\r\n} \r\n\r\nWhen I run it everything works well, too. The result of trained model is showing up in a imageview in about 75~100 ms. But quality did not satisfied me. So I tried to run with model 640x640, here its values;\r\n\r\ncustommodel_two.tflite {\r\ninput [1, 640, 640, 3] float32\r\noutput [1, 640, 640, 3] float32\r\n}\r\n\r\nWhen I run the application, it crashed with errors;\r\n\r\nusing NNAPI:\r\n\t`Conv size is too large, not enough memory`\r\n\r\nusing CPU/GPU:\r\n\t`A/libc: /usr/local/google/buildbot/src/android/ndk-release-r17/external/libcxx/../../external/libcxxabi/src/abort_message.cpp:73: abort_message: assertion \"terminating with uncaught exception of type std::bad_alloc: std::bad_alloc\" failed`\r\n\r\n`A/libc: Fatal signal 6 (SIGABRT), code -6 (SI_TKILL) in tid 27666 (AsyncTask #1), pid 27614 (.astyletransfer)`\r\n\r\nAnd here is the call stack of methods that getting crash: \r\n`-NativeInterpreterWrapper.java`\r\n`--(line 156) run(this.interpreterHandle, this.errorHandle);`\r\n`---private static native void run(long var0, long var2);`\r\n\r\nI tried with LG-G6, Samsung S7, Nexus5, Pixel (Emulator) both x86&x64 architectures. Also changed thread numbers: 1 - 4 - 7 - 12 but no luck.\r\n\r\nUsing these versions:\r\n\r\n`implementation 'org.tensorflow:tensorflow-lite:2.1.0'`\r\n`implementation 'org.tensorflow:tensorflow-lite-gpu:0.0.0-nightly'`\r\n`implementation 'org.tensorflow:tensorflow-lite-support:0.0.0-nightly'`\r\n\r\nSo I wonder, what could be wrong with this ? \r\n\r\nThanks."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37680", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37680/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37680/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37680/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37680", "id": 583429418, "node_id": "MDU6SXNzdWU1ODM0Mjk0MTg=", "number": 37680, "title": "Guided Backprop Gradcam with TF 2.0 for Transfer Learning", "user": {"login": "jdlamstein", "id": 36546688, "node_id": "MDQ6VXNlcjM2NTQ2Njg4", "avatar_url": "https://avatars2.githubusercontent.com/u/36546688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdlamstein", "html_url": "https://github.com/jdlamstein", "followers_url": "https://api.github.com/users/jdlamstein/followers", "following_url": "https://api.github.com/users/jdlamstein/following{/other_user}", "gists_url": "https://api.github.com/users/jdlamstein/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdlamstein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdlamstein/subscriptions", "organizations_url": "https://api.github.com/users/jdlamstein/orgs", "repos_url": "https://api.github.com/users/jdlamstein/repos", "events_url": "https://api.github.com/users/jdlamstein/events{/privacy}", "received_events_url": "https://api.github.com/users/jdlamstein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1105108936, "node_id": "MDU6TGFiZWwxMTA1MTA4OTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:model", "name": "comp:model", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-18T03:03:41Z", "updated_at": "2020-03-19T06:02:59Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow):  \r\nYes\r\n\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): \r\nCentos 7\r\n\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: \r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below): \r\nTensorflow 2.0 from source\r\n\r\n- Python version: - Bazel\r\nversion (if compiling from source):\r\nPython 3.6\r\n\r\n- GCC/Compiler version (if compiling from\r\nsource): \r\n- CUDA/cuDNN version: - GPU model and memory:\r\nCuda 10.0, Titan V 12gb\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\nI am trying to do gradient visualization using gradcam with guided backpropagation. I can do it on VGG16, but when I add layers to VGG16, I get an error that the layer is not found. \r\n\r\n**Describe the expected behavior**\r\nI want to visualize activation layers using gradcam with guided guided backprop. \r\n\r\n**Standalone code to reproduce the issue** \r\nProvide a reproducible test case that is the bare minimum necessary to generate\r\nthe problem. If possible, please share a link to Colab/Jupyter/any notebook.\r\n\r\nHere's the Colab code with both the working example using just VGG16 and the broken example using VGG16 with added layers. \r\n\r\nhttps://colab.research.google.com/drive/1098Hp2icvleIQelkaLmPoIqAKuahs7JH\r\n\r\nI'm attaching an image of a cat which is needed to run the colab. \r\n\r\n![cat 3](https://user-images.githubusercontent.com/36546688/76920921-ef21cf00-6889-11ea-8465-9b061a8f44c7.jpg)\r\n\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n\r\nHere's the traceback:\r\n```\r\n\r\nTensor(\"block5_conv3_6/Identity:0\", shape=(None, 14, 14, 512), dtype=float32)\r\n---------------------------------------------------------------------------\r\nAssertionError                            Traceback (most recent call last)\r\n<ipython-input-7-511b9293dd65> in <module>()\r\n     60 # Get the score for target class\r\n     61 with tf.GradientTape() as tape:\r\n---> 62     conv_outputs, predictions = grad_model(np.array([img]))\r\n     63     loss = predictions[:, 1]\r\n     64 print('Prediction shape:', predictions.get_shape())\r\n\r\n2 frames\r\n/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/keras/engine/base_layer.py in __call__(self, inputs, *args, **kwargs)\r\n    889           with base_layer_utils.autocast_context_manager(\r\n    890               self._compute_dtype):\r\n--> 891             outputs = self.call(cast_inputs, *args, **kwargs)\r\n    892           self._handle_activity_regularization(inputs, outputs)\r\n    893           self._set_mask_metadata(inputs, outputs, input_masks)\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/keras/engine/network.py in call(self, inputs, training, mask)\r\n    706     return self._run_internal_graph(\r\n    707         inputs, training=training, mask=mask,\r\n--> 708         convert_kwargs_to_constants=base_layer_utils.call_context().saving)\r\n    709 \r\n    710   def compute_output_shape(self, input_shape):\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/keras/engine/network.py in _run_internal_graph(self, inputs, training, mask, convert_kwargs_to_constants)\r\n    868     output_shapes = []\r\n    869     for x in self.outputs:\r\n--> 870       assert str(id(x)) in tensor_dict, 'Could not compute output ' + str(x)\r\n    871       tensor = tensor_dict[str(id(x))]\r\n    872       output_shapes.append(x.shape)\r\n\r\nAssertionError: Could not compute output Tensor(\"block5_conv3_6/Identity:0\", shape=(None, 14, 14, 512), dtype=float32)\r\n\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37679", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37679/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37679/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37679/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37679", "id": 583416180, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwMTc1OTg5", "number": 37679, "title": "Support two CUDNN CTC Loss algorithms", "user": {"login": "houtoms", "id": 4001424, "node_id": "MDQ6VXNlcjQwMDE0MjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/4001424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/houtoms", "html_url": "https://github.com/houtoms", "followers_url": "https://api.github.com/users/houtoms/followers", "following_url": "https://api.github.com/users/houtoms/following{/other_user}", "gists_url": "https://api.github.com/users/houtoms/gists{/gist_id}", "starred_url": "https://api.github.com/users/houtoms/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/houtoms/subscriptions", "organizations_url": "https://api.github.com/users/houtoms/orgs", "repos_url": "https://api.github.com/users/houtoms/repos", "events_url": "https://api.github.com/users/houtoms/events{/privacy}", "received_events_url": "https://api.github.com/users/houtoms/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-18T02:22:17Z", "updated_at": "2020-03-18T07:05:35Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37679", "html_url": "https://github.com/tensorflow/tensorflow/pull/37679", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37679.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37679.patch"}, "body": "This PR enables CUDNN CTC Loss to support both deterministic and non-deterministic algos.\r\n\r\nIf determinism is required, we will stick to deterministic algo.\r\nOtherwise, the faster non-deterministic algo will be tried in cudnnGetCtcLossWorkspace(). If it fails, we fall-back to the deterministic algo.\r\n\r\n\r\nfyi @nluehr @sanjoy "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37678", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37678/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37678/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37678/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37678", "id": 583408948, "node_id": "MDU6SXNzdWU1ODM0MDg5NDg=", "number": 37678, "title": "Cannot create feature_column from sparse tensor of feature counts", "user": {"login": "tddevlin", "id": 7508726, "node_id": "MDQ6VXNlcjc1MDg3MjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/7508726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tddevlin", "html_url": "https://github.com/tddevlin", "followers_url": "https://api.github.com/users/tddevlin/followers", "following_url": "https://api.github.com/users/tddevlin/following{/other_user}", "gists_url": "https://api.github.com/users/tddevlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/tddevlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tddevlin/subscriptions", "organizations_url": "https://api.github.com/users/tddevlin/orgs", "repos_url": "https://api.github.com/users/tddevlin/repos", "events_url": "https://api.github.com/users/tddevlin/events{/privacy}", "received_events_url": "https://api.github.com/users/tddevlin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-18T02:00:02Z", "updated_at": "2020-03-19T05:12:21Z", "closed_at": null, "author_association": "NONE", "body": "A common modeling pattern is to use sparse tensors to represent feature counts. For example, in a bag-of-words model, the input is a document represented by a tensor of token counts \u2014 the indices are token IDs and the values are their corresponding counts in the document.\r\n\r\nTensorflow's premade Estimators consume data via [feature_columns](https://www.tensorflow.org/api_docs/python/tf/feature_column). Currently, however, there is no way to create a feature_column directly from a sparse tensor.\r\n\r\n\r\n**System information**\r\n- TensorFlow version: all\r\n- Are you willing to contribute it (Yes/No): maybe\r\n\r\n**Will this change the current api? How?**\r\nYes, this change will add support to construct a feature_column directly from a sparse tensor.\r\n\r\n**Who will benefit with this feature?**\r\nAnyone who wants to use premade Estimators with feature data in sparse tensor form.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37677", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37677/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37677/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37677/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37677", "id": 583404823, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwMTY2OTUy", "number": 37677, "title": "Add missing dependencies download command", "user": {"login": "izhangzhihao", "id": 12044174, "node_id": "MDQ6VXNlcjEyMDQ0MTc0", "avatar_url": "https://avatars0.githubusercontent.com/u/12044174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/izhangzhihao", "html_url": "https://github.com/izhangzhihao", "followers_url": "https://api.github.com/users/izhangzhihao/followers", "following_url": "https://api.github.com/users/izhangzhihao/following{/other_user}", "gists_url": "https://api.github.com/users/izhangzhihao/gists{/gist_id}", "starred_url": "https://api.github.com/users/izhangzhihao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/izhangzhihao/subscriptions", "organizations_url": "https://api.github.com/users/izhangzhihao/orgs", "repos_url": "https://api.github.com/users/izhangzhihao/repos", "events_url": "https://api.github.com/users/izhangzhihao/events{/privacy}", "received_events_url": "https://api.github.com/users/izhangzhihao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 987666414, "node_id": "MDU6TGFiZWw5ODc2NjY0MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/ready%20to%20pull", "name": "ready to pull", "color": "2cd643", "default": false, "description": ""}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-18T01:46:53Z", "updated_at": "2020-03-19T14:23:46Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37677", "html_url": "https://github.com/tensorflow/tensorflow/pull/37677", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37677.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37677.patch"}, "body": "It takes me a lot time to fix this issue:\r\n\r\n```\r\n./tensorflow/lite/schema/schema_generated.h:21:37: fatal error: flatbuffers/flatbuffers.h: No such file or directory\r\n```\r\nAnd finally, I found this: https://www.tensorflow.org/lite/guide/build_rpi\r\nSo there is a missing command to download dependencies before build in the README file.\r\n\r\nBy the way, this pr should close #33983 and close #34423"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37676", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37676/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37676/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37676/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37676", "id": 583404555, "node_id": "MDU6SXNzdWU1ODM0MDQ1NTU=", "number": 37676, "title": "tf2.1 tf.nn.ctc_loss slower!", "user": {"login": "attendfov", "id": 15843864, "node_id": "MDQ6VXNlcjE1ODQzODY0", "avatar_url": "https://avatars0.githubusercontent.com/u/15843864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/attendfov", "html_url": "https://github.com/attendfov", "followers_url": "https://api.github.com/users/attendfov/followers", "following_url": "https://api.github.com/users/attendfov/following{/other_user}", "gists_url": "https://api.github.com/users/attendfov/gists{/gist_id}", "starred_url": "https://api.github.com/users/attendfov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/attendfov/subscriptions", "organizations_url": "https://api.github.com/users/attendfov/orgs", "repos_url": "https://api.github.com/users/attendfov/repos", "events_url": "https://api.github.com/users/attendfov/events{/privacy}", "received_events_url": "https://api.github.com/users/attendfov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-18T01:46:05Z", "updated_at": "2020-03-18T17:27:50Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code : yes \r\n- OS Platform and Distribution: centos 7, not Distribution\r\n- TensorFlow installed from docker: docker pull nvcr.io/nvidia/tensorflow:20.02-tf2-py3 .tensorflow version is 2.1.0\r\n\r\n**Describe the current behavior**\r\n\r\nJust run the forward algorithm and use watch -n 0.2 nvidia-smi to watch the GPU utilization rate always stay at 86% ~ 95%. However, after calculating tf.nn.ctc_loss, the GPU usage jitter is drastically from 0% to 85%. Seeing the decline in gpu utilization is particularly severe, personally guess that this tf.nn.ctc_loss is implemented by cpu, will there be a switch between gpu memory and memory when calculating loss?\r\n\r\n**Describe the expected behavior**\r\n\r\nCalculate the loss and update gradient normally, the GPU usage rate remains at 85%. Currently, the performance of calculating the loss using tf.nn.ctc_loss of tf2.1 does not meet expectations.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37675", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37675/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37675/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37675/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37675", "id": 583360196, "node_id": "MDU6SXNzdWU1ODMzNjAxOTY=", "number": 37675, "title": "TFRecord dataset reader causes excessive page faults", "user": {"login": "guoshimin", "id": 11787293, "node_id": "MDQ6VXNlcjExNzg3Mjkz", "avatar_url": "https://avatars2.githubusercontent.com/u/11787293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guoshimin", "html_url": "https://github.com/guoshimin", "followers_url": "https://api.github.com/users/guoshimin/followers", "following_url": "https://api.github.com/users/guoshimin/following{/other_user}", "gists_url": "https://api.github.com/users/guoshimin/gists{/gist_id}", "starred_url": "https://api.github.com/users/guoshimin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guoshimin/subscriptions", "organizations_url": "https://api.github.com/users/guoshimin/orgs", "repos_url": "https://api.github.com/users/guoshimin/repos", "events_url": "https://api.github.com/users/guoshimin/events{/privacy}", "received_events_url": "https://api.github.com/users/guoshimin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1114343535, "node_id": "MDU6TGFiZWwxMTE0MzQzNTM1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:data", "name": "comp:data", "color": "0052cc", "default": false, "description": "tf.data related issues"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 1463677878, "node_id": "MDU6TGFiZWwxNDYzNjc3ODc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:performance", "name": "type:performance", "color": "159b2e", "default": false, "description": "Performance Issue"}], "state": "open", "locked": false, "assignee": {"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-17T23:27:22Z", "updated_at": "2020-03-19T11:23:49Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "<em>Please make sure that this is an issue related to performance of TensorFlow.\r\nAs per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:performance_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):  Yes\r\n- OS Platform and Distribution (e.g.,Linux Ubuntu 16.04): Ubuntu 14.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: \r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version (use command below): 2.0.0\r\n- Python version: 2.7\r\n- Bazel version (if compiling from source): 0.24.1\r\n- GCC/Compiler version (if compiling from source): 7\r\n- CUDA/cuDNN version: 10.0/7.5\r\n- GPU model and memory:\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\ntf.data.TFRecordDataset causes excessive page faults, especially when compression is used. We were able to tame the page faults in other parts of the graph by setting `TF_CPU_ALLOCATOR_USE_BFC=1`, but tf.data.TFRecordDataset doesn't seem to honor the allocator.\r\n\r\n**Describe the expected behavior**\r\nI expect, after setting `TF_CPU_ALLOCATOR_USE_BFC=1`, CPU memory allocations to be handled by the bfc allocator. There should not be large amounts of page faults because the tensorflow runtime manages memory allocation itself.\r\n\r\n\r\n**Standalone code to reproduce the issue** \r\nProvide a reproducible test case that is the bare minimum necessary to generate\r\nthe problem. If possible, please share a link to Colab/Jupyter/any notebook.\r\n\r\nWe have an input_fn that's essentially:\r\n```\r\ntrain_dataset = tf.data.TFRecordDataset(\r\n    filenames,\r\n    compression_type=\"ZLIB\",\r\n    buffer_size=100 * 1024 * 1024,\r\n    num_parallel_reads=16)\r\ntrain_dataset = train_dataset.map(\r\n    map_func=lambda x: (tf.io.parse_single_example(x, features), {}), \r\n    num_parallel_calls=num_parallel_calls)\r\ntrain_dataset = train_dataset.batch(4)\r\ntrain_dataset = train_dataset.prefetch(1)\r\n```\r\nEach record is about 8MB compressed, and 250MB decompressed.\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n\r\nFlamegraph: https://drive.google.com/file/d/15LqZBBDov9Sikr9yt6OjMrVcw9IsebRk/view?usp=sharing\r\n\r\nIt's clear from the flamegraph that `tensorflow::io::ZlibInputStream::ReadBytesFromCache` and `tensorflow::io::BufferedInputStream::ReadNBytes` are dominated by page faults. `tensorflow::example::FastParseSingleExample` was also dominated by page faults when `TF_CPU_ALLOCATOR_USE_BFC=1` was not specified (not shown here,) but not when `TF_CPU_ALLOCATOR_USE_BFC=1` is specified (shown here.)\r\n\r\nOne source of page faults seems to be this line: https://github.com/tensorflow/tensorflow/blob/v2.0.0/tensorflow/core/lib/io/zlib_inputstream.cc#L175, according to the flamegraph."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37674", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37674/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37674/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37674/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37674", "id": 583354545, "node_id": "MDExOlB1bGxSZXF1ZXN0MzkwMTI1MDI0", "number": 37674, "title": "Handle CUPTI_ERROR_MAX_LIMIT_REACHED and disable TF tracing", "user": {"login": "houtoms", "id": 4001424, "node_id": "MDQ6VXNlcjQwMDE0MjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/4001424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/houtoms", "html_url": "https://github.com/houtoms", "followers_url": "https://api.github.com/users/houtoms/followers", "following_url": "https://api.github.com/users/houtoms/following{/other_user}", "gists_url": "https://api.github.com/users/houtoms/gists{/gist_id}", "starred_url": "https://api.github.com/users/houtoms/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/houtoms/subscriptions", "organizations_url": "https://api.github.com/users/houtoms/orgs", "repos_url": "https://api.github.com/users/houtoms/repos", "events_url": "https://api.github.com/users/houtoms/events{/privacy}", "received_events_url": "https://api.github.com/users/houtoms/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-03-17T23:12:27Z", "updated_at": "2020-03-18T19:01:24Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37674", "html_url": "https://github.com/tensorflow/tensorflow/pull/37674", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37674.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37674.patch"}, "body": "This PR fixes an issue caused by multiple processes attempting to use CUPTI simultaneously. For example, when using NVIDIA Nsight System with TF tracing at the same time (both rely on CUPTI APIs), users will get wrong TF tracing and incomplete Nsight reports.\r\n\r\nAccording to https://docs.nvidia.com/cupti/Cupti/r_limitations.html#r_limitations:\r\n\r\n> The application which calls CUPTI APIs cannot be used with Nvidia tools like nvprof, Nvidia Visual Profiler, Nsight Compute, Nsight Systems, Nvidia Nsight Visual Studio Edition, cuda-gdb and cuda-memcheck.\r\n\r\nSo, we should avoid calling CUPTI APIs if the function cuptiSubscribe() detects CUPTI_ERROR_MAX_LIMIT_REACHED.\r\n\r\nIn this PR, we let TensorFlow issue a warning when that CUPTI_ERROR_MAX_LIMIT_REACHED is detected and skip all the following CUPTI calls. Then, the external profiling tool can have exclusive access to CUPTI APIs.\r\n\r\nFYI. @nluehr "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37673", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37673/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37673/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37673/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37673", "id": 583318225, "node_id": "MDU6SXNzdWU1ODMzMTgyMjU=", "number": 37673, "title": "tf.Keras BatchNormalization layer causing impossible loss/accuracy in GAN training", "user": {"login": "ConorLazarou", "id": 36173196, "node_id": "MDQ6VXNlcjM2MTczMTk2", "avatar_url": "https://avatars3.githubusercontent.com/u/36173196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ConorLazarou", "html_url": "https://github.com/ConorLazarou", "followers_url": "https://api.github.com/users/ConorLazarou/followers", "following_url": "https://api.github.com/users/ConorLazarou/following{/other_user}", "gists_url": "https://api.github.com/users/ConorLazarou/gists{/gist_id}", "starred_url": "https://api.github.com/users/ConorLazarou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ConorLazarou/subscriptions", "organizations_url": "https://api.github.com/users/ConorLazarou/orgs", "repos_url": "https://api.github.com/users/ConorLazarou/repos", "events_url": "https://api.github.com/users/ConorLazarou/events{/privacy}", "received_events_url": "https://api.github.com/users/ConorLazarou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-03-17T21:46:28Z", "updated_at": "2020-03-19T16:38:47Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n- Have I written custom code: yes\r\n- OS Platform and Distribution: Windows 10, version 1809, os build 17763.1098\r\n- Mobile device if the issue happens on mobile device: N/A\r\n- TensorFlow installed from:  binary\r\n- TensorFlow version: 2.0.0\r\n- Python version: Python 3.7.6\r\n- Bazel version: N/A\r\n- GCC/Compiler version: N/A\r\n- CUDA/cuDNN version: 10.1, V10.1.105\r\n- GPU model and memory: GeForce RTX 2080 Ti, 11GB\r\n\r\nI've been getting unusual losses and accuracies when training GANs with batch normalization layers in the discriminator using tf.keras. GANs have an optimal objective function value of log(4), which occurs when the discriminator is completely unable to discern real samples from fakes and hence predicts 0.5 for all samples. When I include BatchNormalization layers in my discriminator, both the generator and the discriminator achieve near perfect scores (high accuracy, low loss), which is impossible in an adversarial setting.\r\n\r\nWithout BatchNorm:\r\n[This figure](https://i.stack.imgur.com/4F7l8.png) shows the losses (y) per epoch (x) when BN is not used. Note that occasional values below the theoretical minimum are due to the training being an iterative process. [This figure](https://i.stack.imgur.com/YGGCt.png) shows the accuracies when BN is not used, which settle at about 50% each. Both of these figures show reasonable values.\r\n\r\nWith BatchNorm:\r\n[This figure](https://i.stack.imgur.com/HRzyc.png) shows the losses (y) per epoch (x) when BN is used. See how the GAN objective, which shouldn't fall below log(4), approaches 0. [This figure](https://i.stack.imgur.com/jS5XN.png) shows the accuracies when BN is used, with both approaching 100%. GANs are adversarial; the generator and discriminator can't both have 100% accuracy.\r\n\r\nI suspect this has something to do with setting `model.trainable = False`.\r\n\r\nStandalone code to reproduce and visualize can be found [here](https://gist.github.com/ConorLazarou/584af3f87a9a14503b9714580c567dab); set `BATCHNORM_MOMENTUM` to `0.9` to enable batchnorm or `None` to disable it\r\n\r\nUpdate: It seems that BatchNorm in the generator also causes this problem, but has been harder to reproduce."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37671", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37671/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37671/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37671/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37671", "id": 583194722, "node_id": "MDU6SXNzdWU1ODMxOTQ3MjI=", "number": 37671, "title": "Encoding images as TF_STRING Tensor in the C API", "user": {"login": "DhavalNiphade", "id": 21151584, "node_id": "MDQ6VXNlcjIxMTUxNTg0", "avatar_url": "https://avatars2.githubusercontent.com/u/21151584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DhavalNiphade", "html_url": "https://github.com/DhavalNiphade", "followers_url": "https://api.github.com/users/DhavalNiphade/followers", "following_url": "https://api.github.com/users/DhavalNiphade/following{/other_user}", "gists_url": "https://api.github.com/users/DhavalNiphade/gists{/gist_id}", "starred_url": "https://api.github.com/users/DhavalNiphade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DhavalNiphade/subscriptions", "organizations_url": "https://api.github.com/users/DhavalNiphade/orgs", "repos_url": "https://api.github.com/users/DhavalNiphade/repos", "events_url": "https://api.github.com/users/DhavalNiphade/events{/privacy}", "received_events_url": "https://api.github.com/users/DhavalNiphade/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1097543484, "node_id": "MDU6TGFiZWwxMDk3NTQzNDg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:runtime", "name": "comp:runtime", "color": "0052cc", "default": false, "description": "c++ runtime, performance issues (cpu)"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, {"login": "gharibian", "id": 7423210, "node_id": "MDQ6VXNlcjc0MjMyMTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/7423210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gharibian", "html_url": "https://github.com/gharibian", "followers_url": "https://api.github.com/users/gharibian/followers", "following_url": "https://api.github.com/users/gharibian/following{/other_user}", "gists_url": "https://api.github.com/users/gharibian/gists{/gist_id}", "starred_url": "https://api.github.com/users/gharibian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gharibian/subscriptions", "organizations_url": "https://api.github.com/users/gharibian/orgs", "repos_url": "https://api.github.com/users/gharibian/repos", "events_url": "https://api.github.com/users/gharibian/events{/privacy}", "received_events_url": "https://api.github.com/users/gharibian/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-17T17:56:16Z", "updated_at": "2020-03-19T17:22:47Z", "closed_at": null, "author_association": "NONE", "body": "TF Version : 1.15.0\r\nOS : Windows 10 64-bit\r\nCompiler : MSVC 2017\r\n\r\n\r\nI'm attempting to load a TF SavedModel and run inference on it using the [C API](https://www.tensorflow.org/install/lang_c) for TF version 1.15.0.\r\n\r\n**Essential outlay**:\r\nInput Tensor(s) : 'encoded_image_string_tensor:0'\r\nOutput Tensor(s) [_not exhaustive_] : ['detection_boxes:0' , 'detection_scores:0', 'detection_classes:0']\r\n\r\nWhile there's some documentation in the API header that describes how TF_Tensors of type TF_STRING are encoded, I can't seem to find any concrete examples/illustrations which is probably why I keep running into an error when attempting to encode an image.\r\n\r\nI picked up some parts from [this](https://stackoverflow.com/questions/41138822/how-to-create-a-string-type-tensor-in-tensorflow-c-api) unchecked answer on StackOverflow to get started:\r\n```\r\n// char* image (contains a pointer to the image)\r\n// const unsigned int imageSize (contains the size of the image)\r\n\r\nstd::vector<int64_t> inputDims = { static_cast<int64_t>(TF_DataTypeSize(TF_UINT64)) + static_cast<int64_t>(imageSize) };\r\nsize_t encodedSize = TF_StringEncodedSize(imageSize);\r\nsize_t totalSize = TF_DataTypeSize(TF_UINT64) + encodedSize;\r\nchar* encodedInput = new char[totalSize];\r\nfor (size_t i = 0; i < TF_DataTypeSize(TF_UINT64); i++)\r\n  encodedInput[i] = 0;\r\n\r\nTF_StringEncode((const char*)image.data, imageSize, encodedInput + 8, encodedSize, status);\r\nif (TF_GetCode(status) == TF_OK) {\r\n  std::cerr << \"Failed to encode image\\n\"; // The code enters this block and TF_Message(status) returns nothing to the output stream\r\n  std::cerr << TF_Message(status) << std::endl;\r\n  return false;\r\n}\r\n\t\r\nTF_Tensor* input = TF_NewTensor(TF_STRING, inputDims.data(), inputDims.size(), encodedInput, totalSize, NULL, 0);\r\n\r\n```\r\nIs there any guide on how to encode images as TF_STRING type tensors?\r\n\r\nThanks!\r\n\r\n\r\n\r\n\r\nPlease use [Netron](https://lutzroeder.github.io/netron/) to view the model if necessary\r\n[saved_model.zip](https://github.com/tensorflow/tensorflow/files/4344883/saved_model.zip)\r\n\r\n  "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37670", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37670/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37670/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37670/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37670", "id": 583167465, "node_id": "MDU6SXNzdWU1ODMxNjc0NjU=", "number": 37670, "title": "AutoGraph could not transform function", "user": {"login": "Volker-Weissmann", "id": 39418860, "node_id": "MDQ6VXNlcjM5NDE4ODYw", "avatar_url": "https://avatars3.githubusercontent.com/u/39418860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Volker-Weissmann", "html_url": "https://github.com/Volker-Weissmann", "followers_url": "https://api.github.com/users/Volker-Weissmann/followers", "following_url": "https://api.github.com/users/Volker-Weissmann/following{/other_user}", "gists_url": "https://api.github.com/users/Volker-Weissmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/Volker-Weissmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Volker-Weissmann/subscriptions", "organizations_url": "https://api.github.com/users/Volker-Weissmann/orgs", "repos_url": "https://api.github.com/users/Volker-Weissmann/repos", "events_url": "https://api.github.com/users/Volker-Weissmann/events{/privacy}", "received_events_url": "https://api.github.com/users/Volker-Weissmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-17T17:11:22Z", "updated_at": "2020-03-18T09:05:59Z", "closed_at": null, "author_association": "NONE", "body": "I have tried to reproduce https://www.tensorflow.org/guide/function , and got a \"Please report this to the TensorFlow team.\" message:\r\n\r\n```\r\n#!/usr/bin/env python\r\nfrom __future__ import absolute_import, division, print_function, unicode_literals\r\nimport tensorflow as tf\r\nimport os\r\nassert os.getenv(\"AUTOGRAPH_VERBOSITY\") == \"10\"\r\n@tf.function\r\ndef add(a, b):\r\n  return a + b\r\nadd(tf.ones([2, 2]), tf.ones([2, 2]))\r\n```\r\n\r\noutput:\r\n\r\n> 2020-03-17 18:06:18.294500: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.2\r\n> 2020-03-17 18:06:19.371349: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcuda.so.1\r\n> 2020-03-17 18:06:19.384766: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n> 2020-03-17 18:06:19.385191: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 0 with properties: \r\n> pciBusID: 0000:01:00.0 name: GeForce GTX 1060 6GB computeCapability: 6.1\r\n> coreClock: 1.7715GHz coreCount: 10 deviceMemorySize: 5.93GiB deviceMemoryBandwidth: 178.99GiB/s\r\n> 2020-03-17 18:06:19.385217: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.2\r\n> 2020-03-17 18:06:19.386622: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10\r\n> 2020-03-17 18:06:19.387892: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10\r\n> 2020-03-17 18:06:19.388198: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10\r\n> 2020-03-17 18:06:19.389675: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10\r\n> 2020-03-17 18:06:19.390453: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10\r\n> 2020-03-17 18:06:19.393493: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7\r\n> 2020-03-17 18:06:19.393632: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n> 2020-03-17 18:06:19.394206: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n> 2020-03-17 18:06:19.394571: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1697] Adding visible gpu devices: 0\r\n> 2020-03-17 18:06:19.394880: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE3 SSE4.1 SSE4.2 AVX AVX2 FMA\r\n> 2020-03-17 18:06:19.414984: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 3301330000 Hz\r\n> 2020-03-17 18:06:19.415262: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x55714b447370 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\n> 2020-03-17 18:06:19.415294: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\n> 2020-03-17 18:06:19.415474: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n> 2020-03-17 18:06:19.416213: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 0 with properties: \r\n> pciBusID: 0000:01:00.0 name: GeForce GTX 1060 6GB computeCapability: 6.1\r\n> coreClock: 1.7715GHz coreCount: 10 deviceMemorySize: 5.93GiB deviceMemoryBandwidth: 178.99GiB/s\r\n> 2020-03-17 18:06:19.416246: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.2\r\n> 2020-03-17 18:06:19.416275: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10\r\n> 2020-03-17 18:06:19.416299: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10\r\n> 2020-03-17 18:06:19.416319: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10\r\n> 2020-03-17 18:06:19.416337: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10\r\n> 2020-03-17 18:06:19.416369: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10\r\n> 2020-03-17 18:06:19.416392: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7\r\n> 2020-03-17 18:06:19.416469: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n> 2020-03-17 18:06:19.417223: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n> 2020-03-17 18:06:19.417977: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1697] Adding visible gpu devices: 0\r\n> 2020-03-17 18:06:19.418016: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.2\r\n> 2020-03-17 18:06:19.888411: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1096] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n> 2020-03-17 18:06:19.888453: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1102]      0 \r\n> 2020-03-17 18:06:19.888461: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] 0:   N \r\n> 2020-03-17 18:06:19.888673: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n> 2020-03-17 18:06:19.889087: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n> 2020-03-17 18:06:19.889446: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n> 2020-03-17 18:06:19.889799: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1241] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 5327 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1060 6GB, pci bus id: 0000:01:00.0, compute capability: 6.1)\r\n> 2020-03-17 18:06:19.891138: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x55715b807340 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:\r\n> 2020-03-17 18:06:19.891155: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): GeForce GTX 1060 6GB, Compute Capability 6.1\r\n> WARNING:tensorflow:AutoGraph could not transform <function add at 0x7f2cdacf68b0> and will run it as-is.\r\n> Please report this to the TensorFlow team. When filing the bug, set the verbosity to 10 (on Linux, `export AUTOGRAPH_VERBOSITY=10`) and attach the full output.\r\n> Cause: Bad argument number for Name: 3, expecting 4\r\n> \r\n> \r\n\r\n\r\n\r\n**System information** \r\n- Have I written custom code: No\r\n- OS Platform and Distribution: Arch Linux\r\n- TensorFlow installed from: pacman -S python-tensorflow-cuda\r\n- TensorFlow version (use command below): GIT_VERSION=\"unknown\" VERSION=2.1.0\r\n- Python version: 3.8.2\r\n- CUDA/cuDNN version: Output of nvcc --version :\r\nnvcc: NVIDIA (R) Cuda compiler driver\r\nCopyright (c) 2005-2019 NVIDIA Corporation\r\nBuilt on Wed_Oct_23_19:24:38_PDT_2019\r\nCuda compilation tools, release 10.2, V10.2.89\r\n- GPU model and memory: GeForce GTX 1060 6GB"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37669", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37669/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37669/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37669/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37669", "id": 583111950, "node_id": "MDU6SXNzdWU1ODMxMTE5NTA=", "number": 37669, "title": "Scatter nd add has legacy docstrings from scatter nd", "user": {"login": "zaccharieramzi", "id": 6387497, "node_id": "MDQ6VXNlcjYzODc0OTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/6387497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaccharieramzi", "html_url": "https://github.com/zaccharieramzi", "followers_url": "https://api.github.com/users/zaccharieramzi/followers", "following_url": "https://api.github.com/users/zaccharieramzi/following{/other_user}", "gists_url": "https://api.github.com/users/zaccharieramzi/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaccharieramzi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaccharieramzi/subscriptions", "organizations_url": "https://api.github.com/users/zaccharieramzi/orgs", "repos_url": "https://api.github.com/users/zaccharieramzi/repos", "events_url": "https://api.github.com/users/zaccharieramzi/events{/privacy}", "received_events_url": "https://api.github.com/users/zaccharieramzi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-17T15:48:17Z", "updated_at": "2020-03-18T09:24:25Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "\r\n## URL(s) with the issue:\r\nhttps://www.tensorflow.org/api_docs/python/tf/tensor_scatter_nd_add\r\n\r\n## Description of issue (what needs changing):\r\nThese sentences: \r\n> `indices` is an integer tensor containing indices into a new tensor of shape `shape`. The last dimension of `indices` can be at most the rank of `shape`:\r\n\r\nSeem to be direct copy-paste from the docs of [`scatter_nd`](https://www.tensorflow.org/api_docs/python/tf/scatter_nd). However, there is no `shape` args in `scatter_nd_add`.\r\n\r\n### Clear description\r\n\r\nThe docs should instead refer to `tensor.shape`.\r\n\r\n### Correct links\r\n\r\nIs the link to the source code correct? There is no link (that's another issue though I guess), only to the tf v1\r\n\r\n### Parameters defined\r\n\r\nAre all parameters defined and formatted correctly? Yes \r\n\r\n### Returns defined\r\n\r\nAre return values defined? Yes\r\n\r\n### Raises listed and defined\r\n\r\nAre the errors defined? No errors raised apparently\r\n\r\n### Usage example\r\n\r\nIs there a usage example? Yes\r\n\r\n### Request visuals, if applicable\r\n\r\nAre there currently visuals? If not, will it clarify the content? No, but there are some in `scatter_nd`, I guess it's enough\r\n\r\n### Submit a pull request?\r\n\r\nAre you planning to also submit a pull request to fix the issue? See the docs\r\ncontributor guide: https://www.tensorflow.org/community/contribute/docs,\r\ndocs API guide: https://www.tensorflow.org/community/contribute/docs_ref and the\r\ndocs style guide: https://www.tensorflow.org/community/contribute/docs_style\r\n\r\nNot right now\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37668", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37668/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37668/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37668/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37668", "id": 583081383, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg5ODkzODYw", "number": 37668, "title": "TFLu: replace old cmsis scratch buffer", "user": {"login": "mansnils", "id": 5793387, "node_id": "MDQ6VXNlcjU3OTMzODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/5793387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mansnils", "html_url": "https://github.com/mansnils", "followers_url": "https://api.github.com/users/mansnils/followers", "following_url": "https://api.github.com/users/mansnils/following{/other_user}", "gists_url": "https://api.github.com/users/mansnils/gists{/gist_id}", "starred_url": "https://api.github.com/users/mansnils/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mansnils/subscriptions", "organizations_url": "https://api.github.com/users/mansnils/orgs", "repos_url": "https://api.github.com/users/mansnils/repos", "events_url": "https://api.github.com/users/mansnils/events{/privacy}", "received_events_url": "https://api.github.com/users/mansnils/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1589976566, "node_id": "MDU6TGFiZWwxNTg5OTc2NTY2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:micro", "name": "comp:micro", "color": "3e2eea", "default": false, "description": "Related to TensorFlow Lite Microcontrollers"}, {"id": 987666414, "node_id": "MDU6TGFiZWw5ODc2NjY0MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/ready%20to%20pull", "name": "ready to pull", "color": "2cd643", "default": false, "description": ""}, {"id": 1169365682, "node_id": "MDU6TGFiZWwxMTY5MzY1Njgy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:L", "name": "size:L", "color": "adafea", "default": false, "description": "CL Change Size: Large"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-17T15:06:52Z", "updated_at": "2020-03-19T07:50:33Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37668", "html_url": "https://github.com/tensorflow/tensorflow/pull/37668", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37668.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37668.patch"}, "body": ""}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37667", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37667/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37667/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37667/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37667", "id": 583005886, "node_id": "MDU6SXNzdWU1ODMwMDU4ODY=", "number": 37667, "title": "Inconsistently sized samples with TimeseriesGenerator", "user": {"login": "adamw96", "id": 34133796, "node_id": "MDQ6VXNlcjM0MTMzNzk2", "avatar_url": "https://avatars0.githubusercontent.com/u/34133796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamw96", "html_url": "https://github.com/adamw96", "followers_url": "https://api.github.com/users/adamw96/followers", "following_url": "https://api.github.com/users/adamw96/following{/other_user}", "gists_url": "https://api.github.com/users/adamw96/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamw96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamw96/subscriptions", "organizations_url": "https://api.github.com/users/adamw96/orgs", "repos_url": "https://api.github.com/users/adamw96/repos", "events_url": "https://api.github.com/users/adamw96/events{/privacy}", "received_events_url": "https://api.github.com/users/adamw96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-17T13:17:29Z", "updated_at": "2020-03-18T05:45:10Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): **Yes**\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): **Win 10**\r\n- TensorFlow installed from (source or\r\nbinary): **Binary** \r\n- TensorFlow version (use command below): **v2.1.0**\r\n- Python version: **3.6.10**\r\n\r\n**Describe the current behavior**\r\n`tensorflow.keras.preprocessing.sequence.TimeseriesGenerator` generates inconsistently sized samples depending on parameters passed to `length, batch_size`. Ends up throwing input shape errors when passed into a model such as LSTM.\r\n\r\n**Describe the expected behavior**\r\nEach sample should be of size `(batch_size, length, n_features), (batch_size,)`.\r\n\r\n**Standalone code to reproduce the issue** \r\n```\r\nimport numpy as np\r\nfrom tensorflow.keras.preprocessing.sequence import TimeseriesGenerator\r\n\r\ndef GenerateData(TIMESTEPS, BATCHSIZE, N_FEATURES, N_SAMPLES):\r\n    \"\"\"\r\n    Generates batches of one-step forward samples (x_1,...,x_n), (y_n+1)\r\n    Args: TIMESTEPS (int) Number of past observations\r\n          BATCHSIZE (int) Number of samples in each batch\r\n          N_FEATURES (int) Number of features in dataset\r\n          N_SAMPLES (int) Length of dataset\r\n\r\n    Each generated sample should be shape (BATCHSIZE, TIMESTEPS, N_FEATURES), (BATCHSIZE,)\r\n    \"\"\"\r\n    # Dummy multivariate series\r\n    dummy_x = np.random.rand(N_SAMPLES, N_FEATURES)\r\n    dummy_y = np.array([x[0] for x in dummy_x]) # Predict future values of first column\r\n    print(f'Data X Shape: {dummy_x.shape}, Data Y Shape: {dummy_y.shape}')\r\n\r\n    generator = TimeseriesGenerator(data=dummy_x, targets=dummy_y,\r\n                                    length=TIMESTEPS,\r\n                                    batch_size=BATCHSIZE,\r\n                                    sampling_rate=1,\r\n                                    stride=1\r\n                                   )\r\n\r\n    # Check whether each sample is shaped correctly\r\n    for n in range(len(generator)):\r\n        x,y = generator[n]\r\n        if x.shape != (BATCHSIZE, TIMESTEPS, N_FEATURES):\r\n            print(f'Check index {n}.')\r\n```\r\n\r\n**Tests:**\r\n```\r\n[In]\r\nGenerateData(TIMESTEPS=5, BATCHSIZE=2, N_FEATURES=5, N_SAMPLES=1000)\r\n[Out]\r\nData X Shape: (1000, 5), Data Y Shape: (1000,)\r\nCheck index 497.\r\nIndex 497 shapes: (1, 5, 5), (1,)\r\n\r\n[In]\r\nGenerateData(TIMESTEPS=5, BATCHSIZE=2, N_FEATURES=5, N_SAMPLES=1001)\r\n[Out]\r\nData X Shape: (1001, 5), Data Y Shape: (1001,)\r\n\r\n[In]\r\nGenerateData(TIMESTEPS=6, BATCHSIZE=2, N_FEATURES=5, N_SAMPLES=1001)\r\n[Out]\r\nData X Shape: (1001, 5), Data Y Shape: (1001,)\r\nCheck index 497.\r\nIndex 497 shapes: (1, 6, 5), (1,)\r\n\r\n[In]\r\nGenerateData(TIMESTEPS=6, BATCHSIZE=32, N_FEATURES=5, N_SAMPLES=1001)\r\n[Out]\r\nData X Shape: (1001, 5), Data Y Shape: (1001,)\r\nCheck index 31.\r\nIndex 31 shapes: (3, 6, 5), (3,)\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37666", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37666/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37666/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37666/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37666", "id": 583001806, "node_id": "MDU6SXNzdWU1ODMwMDE4MDY=", "number": 37666, "title": "enable_mixed_precision_graph_rewrite error", "user": {"login": "sjtusmartboy", "id": 12267324, "node_id": "MDQ6VXNlcjEyMjY3MzI0", "avatar_url": "https://avatars2.githubusercontent.com/u/12267324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjtusmartboy", "html_url": "https://github.com/sjtusmartboy", "followers_url": "https://api.github.com/users/sjtusmartboy/followers", "following_url": "https://api.github.com/users/sjtusmartboy/following{/other_user}", "gists_url": "https://api.github.com/users/sjtusmartboy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjtusmartboy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjtusmartboy/subscriptions", "organizations_url": "https://api.github.com/users/sjtusmartboy/orgs", "repos_url": "https://api.github.com/users/sjtusmartboy/repos", "events_url": "https://api.github.com/users/sjtusmartboy/events{/privacy}", "received_events_url": "https://api.github.com/users/sjtusmartboy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1445545631, "node_id": "MDU6TGFiZWwxNDQ1NTQ1NjMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.14", "name": "TF 1.14", "color": "5319e7", "default": false, "description": "for issues seen with TF 1.14"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-17T13:11:04Z", "updated_at": "2020-03-19T10:10:21Z", "closed_at": null, "author_association": "NONE", "body": "tensorflow  1.14 and ubuntu 18.04\r\n \r\nI'm trying the mixed precision training using the `tf.train.experimental.enable_mixed_precision_graph_rewrite`. \r\nBy adding the wrapper of `enable_mixed_precision_graph_rewrite` to the `dnn_optimizer` in the [census wide-n-deep model](https://github.com/baidu-research/tensorflow-allreduce/blob/master/tensorflow/examples/learn/wide_n_deep_tutorial.py#L147), I find the tensorflow internal error of `ValueError: Tensor(\"current_loss_scale/Read/ReadVariableOp:0\", shape=(), dtype=float32) must be from the same graph as Tensor(\"head/weighted_loss/Sum:0\", shape=(), dtype=float32)`\r\n\r\n```\r\n    m = tf.estimator.DNNLinearCombinedClassifier(\r\n        model_dir=model_dir,\r\n        linear_feature_columns=crossed_columns,\r\n        dnn_feature_columns=deep_columns,\r\n        dnn_hidden_units=[100, 50])\r\n```\r\nis changed to\r\n```\r\n    m = tf.estimator.DNNLinearCombinedClassifier(\r\n        model_dir=model_dir,\r\n        linear_feature_columns=crossed_columns,\r\n        dnn_feature_columns=deep_columns,\r\n        dnn_optimizer=tf.train.experimental.enable_mixed_precision_graph_rewrite(\r\n              tf.compat.v1.train.GradientDescentOptimizer(0.05)),\r\n        dnn_hidden_units=[100, 50])\r\n```\r\nMaybe it's a compatible error of estimator and enable_mixed_precision_graph_rewrite, please give some help, thanks.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37665", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37665/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37665/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37665/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37665", "id": 582881917, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg5NzI3MjUy", "number": 37665, "title": "Added Adaptive pooling layers to tf.keras", "user": {"login": "Susmit-A", "id": 17704685, "node_id": "MDQ6VXNlcjE3NzA0Njg1", "avatar_url": "https://avatars0.githubusercontent.com/u/17704685?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Susmit-A", "html_url": "https://github.com/Susmit-A", "followers_url": "https://api.github.com/users/Susmit-A/followers", "following_url": "https://api.github.com/users/Susmit-A/following{/other_user}", "gists_url": "https://api.github.com/users/Susmit-A/gists{/gist_id}", "starred_url": "https://api.github.com/users/Susmit-A/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Susmit-A/subscriptions", "organizations_url": "https://api.github.com/users/Susmit-A/orgs", "repos_url": "https://api.github.com/users/Susmit-A/repos", "events_url": "https://api.github.com/users/Susmit-A/events{/privacy}", "received_events_url": "https://api.github.com/users/Susmit-A/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1169365682, "node_id": "MDU6TGFiZWwxMTY5MzY1Njgy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:L", "name": "size:L", "color": "adafea", "default": false, "description": "CL Change Size: Large"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-17T09:41:04Z", "updated_at": "2020-03-19T13:09:25Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37665", "html_url": "https://github.com/tensorflow/tensorflow/pull/37665", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37665.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37665.patch"}, "body": "Added the following layers in the file tensorflow/python/keras/layers/adaptive_pooling.py:\r\nAdaptiveAveragePooling1D\r\nAdaptiveAveragePooling2D\r\nAdaptiveAveragePooling3D\r\nAdaptiveMaxPooling1D\r\nAdaptiveMaxPooling2D\r\nAdaptiveMaxPooling3D\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37664", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37664/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37664/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37664/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37664", "id": 582857356, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg5NzA3OTk1", "number": 37664, "title": "tf.sparse.SparseTensor and tf.repeat doc", "user": {"login": "Angus-Luo", "id": 18400425, "node_id": "MDQ6VXNlcjE4NDAwNDI1", "avatar_url": "https://avatars0.githubusercontent.com/u/18400425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Angus-Luo", "html_url": "https://github.com/Angus-Luo", "followers_url": "https://api.github.com/users/Angus-Luo/followers", "following_url": "https://api.github.com/users/Angus-Luo/following{/other_user}", "gists_url": "https://api.github.com/users/Angus-Luo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Angus-Luo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Angus-Luo/subscriptions", "organizations_url": "https://api.github.com/users/Angus-Luo/orgs", "repos_url": "https://api.github.com/users/Angus-Luo/repos", "events_url": "https://api.github.com/users/Angus-Luo/events{/privacy}", "received_events_url": "https://api.github.com/users/Angus-Luo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-17T08:59:15Z", "updated_at": "2020-03-19T13:09:48Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37664", "html_url": "https://github.com/tensorflow/tensorflow/pull/37664", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37664.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37664.patch"}, "body": "- Afaik, tf.SparseTensor is currently just an alias for tf.sparse.SparseTensor. But since the later might get removed in the future, suggest replacing usage with the more consistent alias.\r\n\r\n- Change \"repeat\" to \"tf.repeat\" for consistency in this doc and easier to copy and experiment with the code."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37663", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37663/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37663/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37663/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37663", "id": 582840202, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg5Njk0MjE3", "number": 37663, "title": "r1.15 cherry-pick request: Fix linking issue on TFLite r1.15 branch.", "user": {"login": "terryheo", "id": 2908505, "node_id": "MDQ6VXNlcjI5MDg1MDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2908505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/terryheo", "html_url": "https://github.com/terryheo", "followers_url": "https://api.github.com/users/terryheo/followers", "following_url": "https://api.github.com/users/terryheo/following{/other_user}", "gists_url": "https://api.github.com/users/terryheo/gists{/gist_id}", "starred_url": "https://api.github.com/users/terryheo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/terryheo/subscriptions", "organizations_url": "https://api.github.com/users/terryheo/orgs", "repos_url": "https://api.github.com/users/terryheo/repos", "events_url": "https://api.github.com/users/terryheo/events{/privacy}", "received_events_url": "https://api.github.com/users/terryheo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136613, "node_id": "MDU6TGFiZWwzMDAxMzY2MTM=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20no", "name": "cla: no", "color": "eb6420", "default": false, "description": null}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}, {"id": 1918510949, "node_id": "MDU6TGFiZWwxOTE4NTEwOTQ5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/waiting%20for%20patch%20release", "name": "waiting for patch release", "color": "e8c25c", "default": false, "description": "PR will be reviewed and merged only if we do a patch release since PR is not on master branch"}], "state": "open", "locked": false, "assignee": {"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-17T08:26:58Z", "updated_at": "2020-03-18T17:14:43Z", "closed_at": null, "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37663", "html_url": "https://github.com/tensorflow/tensorflow/pull/37663", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37663.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37663.patch"}, "body": "\u2026btensorflow-lite.a\r\n\r\nlite/kernels/rfft2d.cc has reference to rdft2d.\r\nAs a consequence, libtensorflow-lite.a need to include fft2d/fftsg2d.c source\r\nin its build.\r\n\r\nIf fftsg2d.c is not part of libtensorflow-lite.a, a C/C++ application\r\nthat use the libtensorflow-lite.a static library is not able to link\r\nwith the following error:\r\nrfft2d.cc:(.text+0x594): undefined reference to `rdft2d'\r\n\r\nSigned-off-by: Vincent ABRIOU <vincent.abriou@st.com>"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37662", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37662/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37662/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37662/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37662", "id": 582827311, "node_id": "MDU6SXNzdWU1ODI4MjczMTE=", "number": 37662, "title": "dimension lost by using tf_trt", "user": {"login": "chennuo0125", "id": 37269147, "node_id": "MDQ6VXNlcjM3MjY5MTQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/37269147?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chennuo0125", "html_url": "https://github.com/chennuo0125", "followers_url": "https://api.github.com/users/chennuo0125/followers", "following_url": "https://api.github.com/users/chennuo0125/following{/other_user}", "gists_url": "https://api.github.com/users/chennuo0125/gists{/gist_id}", "starred_url": "https://api.github.com/users/chennuo0125/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chennuo0125/subscriptions", "organizations_url": "https://api.github.com/users/chennuo0125/orgs", "repos_url": "https://api.github.com/users/chennuo0125/repos", "events_url": "https://api.github.com/users/chennuo0125/events{/privacy}", "received_events_url": "https://api.github.com/users/chennuo0125/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1754777628, "node_id": "MDU6TGFiZWwxNzU0Nzc3NjI4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu:tensorrt", "name": "comp:gpu:tensorrt", "color": "ea98ba", "default": false, "description": "Issues specific to TensorRT"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-03-17T08:03:11Z", "updated_at": "2020-03-19T09:35:02Z", "closed_at": null, "author_association": "NONE", "body": "I use:\r\nOS: ubuntu 18.04\r\ncuda: 10.0\r\ncudnn: 7.6.3\r\npython:3.6\r\ntensorflow-gpu:1.15\r\nGPU: nvidia jetson xavier kit\r\nmemory: 32G\r\n\r\nthe source code line is [https://github.com/nwojke/deep_sort/blob/280b8bdb255f223813ff4a8679f3e1321b08cdfc/tools/generate_detections.py#L71](url)\r\nthe tf model is [https://drive.google.com/open?id=1bB66hP9voDXuoBoaCcKYY7a8IYzMMs4P](url)\r\nold code : \r\n```\r\n74    def __init__(self, checkpoint_filename, input_name=\"images\",\r\n75                output_name=\"features\"):\r\n76        self.session = tf.Session()\r\n77        with tf.gfile.GFile(checkpoint_filename, \"rb\") as file_handle:\r\n78             graph_def = tf.GraphDef()\r\n79             graph_def.ParseFromString(file_handle.read())\r\n80         tf.import_graph_def(graph_def, name=\"net\")\r\n81         self.input_var = tf.get_default_graph().get_tensor_by_name(\r\n82             \"net/%s:0\" % input_name)\r\n83         self.output_var = tf.get_default_graph().get_tensor_by_name(\r\n84             \"net/%s:0\" % output_name)\r\n85 \r\n86         assert len(self.output_var.get_shape()) == 2\r\n87         assert len(self.input_var.get_shape()) == 4\r\n88         self.feature_dim = self.output_var.get_shape().as_list()[-1]\r\n89         self.image_shape = self.input_var.get_shape().as_list()[1:]\r\n```\r\nnew code with tf_trt : \r\n```\r\n91    def __init__(self, checkpoint_filename, input_name=\"images\",\r\n92                 output_name=\"features\"):\r\n93        self.session = tf.Session()\r\n94        with tf.gfile.GFile(checkpoint_filename, \"rb\") as file_handle:\r\n95            graph_def = tf.GraphDef()\r\n96            graph_def.ParseFromString(file_handle.read())\r\n97        converter = trt.TrtGraphConverter(input_graph_def=graph_def, nodes_blacklist=[\"images:0\", \"features:0\"])\r\n98        trt_graph = converter.convert()\r\n99        tf.import_graph_def(trt_graph, name=\"net\")\r\n100       self.input_var = tf.get_default_graph().get_tensor_by_name(\r\n101           \"net/%s:0\" % input_name)\r\n102       self.output_var = tf.get_default_graph().get_tensor_by_name(\r\n103           \"net/%s:0\" % output_name)\r\n104\r\n105       assert len(self.output_var.get_shape()) == 2\r\n106       assert len(self.input_var.get_shape()) == 4\r\n107       self.feature_dim = self.output_var.get_shape().as_list()[-1]\r\n108        self.image_shape = self.input_var.get_shape().as_list()[1:]\r\n```\r\nerror is follow : \r\n```\r\nTraceback (most recent call last):\r\n  File \"tools/generate_detections.py\", line 235, in <module>\r\n    main()\r\n  File \"tools/generate_detections.py\", line 229, in main\r\n    encoder = create_box_encoder(args.model, batch_size=32)\r\n  File \"tools/generate_detections.py\", line 120, in create_box_encoder\r\n    image_encoder = ImageEncoder(model_filename, input_name, output_name)\r\n  File \"tools/generate_detections.py\", line 105, in __init__\r\n    assert len(self.output_var.get_shape()) == 2\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/framework/tensor_shape.py\", line 827, in __len__\r\n    raise ValueError(\"Cannot take the length of shape with unknown rank.\")\r\nValueError: Cannot take the length of shape with unknown rank.\r\n```\r\n\r\nthen i print input and output tensor : \r\n```\r\nprint(self.input_var)\r\nprint(self.output_var)\r\n```\r\nthe result is :\r\nold code : \r\n```\r\nTensor(\"net/images:0\",  shape=(?, 128, 64, 3), dtype=uint8)\r\nTensor(\"net/features:0\", shape=(?, 128), dtype=float32)\r\n```\r\nnew code :\r\n```\r\nTensor(\"net/images:0\",  shape=(?, 128, 64, 3), dtype=uint8)\r\nTensor(\"net/features:0\", dtype=float32)\r\n```\r\nfrom above comparison, can found that new code lost tensor \"net/features:0\" dimension. please give me some advise, thank you\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37661", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37661/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37661/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37661/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37661", "id": 582820658, "node_id": "MDU6SXNzdWU1ODI4MjA2NTg=", "number": 37661, "title": "use tf_trt to optimize model, but cost too much time and too much memory consumed ", "user": {"login": "chennuo0125", "id": 37269147, "node_id": "MDQ6VXNlcjM3MjY5MTQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/37269147?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chennuo0125", "html_url": "https://github.com/chennuo0125", "followers_url": "https://api.github.com/users/chennuo0125/followers", "following_url": "https://api.github.com/users/chennuo0125/following{/other_user}", "gists_url": "https://api.github.com/users/chennuo0125/gists{/gist_id}", "starred_url": "https://api.github.com/users/chennuo0125/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chennuo0125/subscriptions", "organizations_url": "https://api.github.com/users/chennuo0125/orgs", "repos_url": "https://api.github.com/users/chennuo0125/repos", "events_url": "https://api.github.com/users/chennuo0125/events{/privacy}", "received_events_url": "https://api.github.com/users/chennuo0125/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1754777628, "node_id": "MDU6TGFiZWwxNzU0Nzc3NjI4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu:tensorrt", "name": "comp:gpu:tensorrt", "color": "ea98ba", "default": false, "description": "Issues specific to TensorRT"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 1463677878, "node_id": "MDU6TGFiZWwxNDYzNjc3ODc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:performance", "name": "type:performance", "color": "159b2e", "default": false, "description": "Performance Issue"}], "state": "open", "locked": false, "assignee": {"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-17T07:50:22Z", "updated_at": "2020-03-17T16:53:26Z", "closed_at": null, "author_association": "NONE", "body": "I use:\r\nOS: ubuntu 18.04\r\ncuda: 10.0\r\ncudnn: 7.6.3\r\npython:3.6\r\ntensorflow-gpu:1.15\r\nGPU: nvidia jetson xavier kit\r\nmemory: 32G\r\n\r\nsource code line is [https://github.com/YunYang1994/tensorflow-yolov3/blob/eb02b0731dfb1c2614e216c619ac7b22db57d994/core/utils.py#L126](url)\r\nand changed as follows : \r\n```\r\n    converter = trt.TrtGraphConverter(input_graph_def=frozen_graph_def,\\\r\n            nodes_blacklist=return_elements,\\\r\n            is_dynamic_op=True,\\\r\n            precision_mode=trt.TrtPrecisionMode.FP16,\\\r\n            max_workspace_size_bytes=1*10**9,\\\r\n            max_batch_size=10\r\n            )\r\n    trt_graph = converter.convert()\r\n    with graph.as_default():\r\n        return_elements = tf.import_graph_def(trt_graph,\r\n                                              return_elements=return_elements)\r\n```\r\nthe result fps is ok, detection fps improve from 5 to 15, but which cost too much time and memory. usually i need to wait for 15 minutes to get the model loaded, besides memory cost too much and just 1G surplus (total 32G), sometimes no enough memory to run the program and program  is killed itself.\r\nthen i saved converted model as follows:\r\n```\r\n    # save optimized graph\r\n    with tf.gfile.GFile(\"/home/xavier/python_ws/models/optimized_yolov3_f16.pb\", \"wb\") as f:\r\n        f.write(trt_graph.SerializeToString())\r\n```\r\nand load the optimized model as follows : \r\n```\r\n    with tf.gfile.FastGFile(pb_file, 'rb') as f:\r\n        frozen_graph_def = tf.GraphDef()\r\n        frozen_graph_def.ParseFromString(f.read())\r\n\r\n    with graph.as_default():\r\n        return_elements = tf.import_graph_def(frozen_graph_def,\r\n                                              return_elements=return_elements)\r\n```\r\nbut the result is as previous, and the problem dont get improved, how can i to solve the problem ?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37660", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37660/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37660/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37660/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37660", "id": 582807439, "node_id": "MDU6SXNzdWU1ODI4MDc0Mzk=", "number": 37660, "title": "Table not initialized with TF-TRT", "user": {"login": "wangxiang2713", "id": 49302617, "node_id": "MDQ6VXNlcjQ5MzAyNjE3", "avatar_url": "https://avatars3.githubusercontent.com/u/49302617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wangxiang2713", "html_url": "https://github.com/wangxiang2713", "followers_url": "https://api.github.com/users/wangxiang2713/followers", "following_url": "https://api.github.com/users/wangxiang2713/following{/other_user}", "gists_url": "https://api.github.com/users/wangxiang2713/gists{/gist_id}", "starred_url": "https://api.github.com/users/wangxiang2713/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wangxiang2713/subscriptions", "organizations_url": "https://api.github.com/users/wangxiang2713/orgs", "repos_url": "https://api.github.com/users/wangxiang2713/repos", "events_url": "https://api.github.com/users/wangxiang2713/events{/privacy}", "received_events_url": "https://api.github.com/users/wangxiang2713/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1754777628, "node_id": "MDU6TGFiZWwxNzU0Nzc3NjI4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu:tensorrt", "name": "comp:gpu:tensorrt", "color": "ea98ba", "default": false, "description": "Issues specific to TensorRT"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-17T07:22:12Z", "updated_at": "2020-03-17T15:14:11Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\nCentos 7\r\nTITAN Xp\r\n\r\nCUDA 10\r\nTensorflow 1.15.0\r\nPython 2.7\r\n\r\n**Describe the current behavior**\r\nI want to convert my model to TRT-INT8, however, when i get into converter.calibrate function, i get the error:\r\nFile \"/usr/lib64/python2.7/site-packages/tensorflow_core/python/compiler/tensorrt/trt_convert.py\", line 612, in calibrate\r\n    fetches, feed_dict=feed_dict_fn() if feed_dict_fn else None)\r\n  File \"/usr/lib64/python2.7/site-packages/tensorflow_core/python/client/session.py\", line 956, in run\r\n    run_metadata_ptr)\r\n  File \"/usr/lib64/python2.7/site-packages/tensorflow_core/python/client/session.py\", line 1180, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"/usr/lib64/python2.7/site-packages/tensorflow_core/python/client/session.py\", line 1359, in _do_run\r\n    run_metadata)\r\n  File \"/usr/lib64/python2.7/site-packages/tensorflow_core/python/client/session.py\", line 1384, in _do_call\r\n    raise type(e)(node_def, op, message)\r\n**FailedPreconditionError: Table not initialized.**\r\n         **[[node index_to_string_Lookup (defined at usr/lib64/python2.7/site-packages/tensorflow_core/python/framework/ops.py:1748) ]]**\r\n\r\nNode index_to_string_Lookup is a output node of my model.\r\n\r\nI googled this problem and get the an suggest to add sess.run(tf.tables_initializer()), so i change the calibrate func by add calibration_sess.run(tf.tables_initializer()):\r\n```\r\nwith session.Session(\r\n  graph=self._calibration_graph,\r\n  config=self._session_config) as calibration_sess:\r\n  calibration_sess.run(tf.tables_initializer())\r\n   for _ in range(num_runs):\r\n     calibration_sess.run(\r\n        fetches, feed_dict=feed_dict_fn() if feed_dict_fn else None)\r\n```\r\nbut i failed, how can i slove this problem?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37659", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37659/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37659/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37659/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37659", "id": 582793403, "node_id": "MDU6SXNzdWU1ODI3OTM0MDM=", "number": 37659, "title": "Stateful Keras RNN Conversion", "user": {"login": "Abhipray", "id": 1261472, "node_id": "MDQ6VXNlcjEyNjE0NzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1261472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Abhipray", "html_url": "https://github.com/Abhipray", "followers_url": "https://api.github.com/users/Abhipray/followers", "following_url": "https://api.github.com/users/Abhipray/following{/other_user}", "gists_url": "https://api.github.com/users/Abhipray/gists{/gist_id}", "starred_url": "https://api.github.com/users/Abhipray/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Abhipray/subscriptions", "organizations_url": "https://api.github.com/users/Abhipray/orgs", "repos_url": "https://api.github.com/users/Abhipray/repos", "events_url": "https://api.github.com/users/Abhipray/events{/privacy}", "received_events_url": "https://api.github.com/users/Abhipray/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1661751498, "node_id": "MDU6TGFiZWwxNjYxNzUxNDk4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TFLiteConverter", "name": "TFLiteConverter", "color": "bfdadc", "default": false, "description": "For issues related to TFLite converter"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-17T06:49:02Z", "updated_at": "2020-03-18T11:12:56Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Mac OSX\r\n- 2.2.0.dev20200316\r\n\r\n\r\n**Command used to run the converter or code if you\u2019re using the Python API**\r\nhttps://colab.research.google.com/drive/1H7EWTn9lQZ18R6DDBWJtJUxxX3XIVd2K\r\n\r\n\r\n**The output from the converter invocation**\r\n\r\n```\r\nValueError: Input 0 of node sequential_3/gru_3/AssignVariableOp was passed float from sequential_3/gru_3/Read/ReadVariableOp/resource:0 incompatible with expected resource.\r\n```\r\n\r\n\r\n**Any other info / logs**\r\nI am trying to make predictions using an RNN model that maintains state across forward pass of batches of unit size and consecutive time samples. \r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37658", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37658/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37658/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37658/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37658", "id": 582784404, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg5NjQ4NTky", "number": 37658, "title": "get is_training from bn_op so moving_mean and moving_var tensor is se\u2026", "user": {"login": "charlieguo0307", "id": 20089543, "node_id": "MDQ6VXNlcjIwMDg5NTQz", "avatar_url": "https://avatars1.githubusercontent.com/u/20089543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charlieguo0307", "html_url": "https://github.com/charlieguo0307", "followers_url": "https://api.github.com/users/charlieguo0307/followers", "following_url": "https://api.github.com/users/charlieguo0307/following{/other_user}", "gists_url": "https://api.github.com/users/charlieguo0307/gists{/gist_id}", "starred_url": "https://api.github.com/users/charlieguo0307/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charlieguo0307/subscriptions", "organizations_url": "https://api.github.com/users/charlieguo0307/orgs", "repos_url": "https://api.github.com/users/charlieguo0307/repos", "events_url": "https://api.github.com/users/charlieguo0307/events{/privacy}", "received_events_url": "https://api.github.com/users/charlieguo0307/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}, {"id": 1918510949, "node_id": "MDU6TGFiZWwxOTE4NTEwOTQ5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/waiting%20for%20patch%20release", "name": "waiting for patch release", "color": "e8c25c", "default": false, "description": "PR will be reviewed and merged only if we do a patch release since PR is not on master branch"}], "state": "open", "locked": false, "assignee": {"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-03-17T06:25:34Z", "updated_at": "2020-03-18T17:14:42Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37658", "html_url": "https://github.com/tensorflow/tensorflow/pull/37658", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37658.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37658.patch"}, "body": "\u2026t correctly\r\n\r\nIf not set so, moving_mean_tensor and moving_variance_tensor is None Type"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37657", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37657/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37657/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37657/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37657", "id": 582784020, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg5NjQ4Mjcw", "number": 37657, "title": "Add gitpod config", "user": {"login": "namckim1", "id": 24259527, "node_id": "MDQ6VXNlcjI0MjU5NTI3", "avatar_url": "https://avatars0.githubusercontent.com/u/24259527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/namckim1", "html_url": "https://github.com/namckim1", "followers_url": "https://api.github.com/users/namckim1/followers", "following_url": "https://api.github.com/users/namckim1/following{/other_user}", "gists_url": "https://api.github.com/users/namckim1/gists{/gist_id}", "starred_url": "https://api.github.com/users/namckim1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/namckim1/subscriptions", "organizations_url": "https://api.github.com/users/namckim1/orgs", "repos_url": "https://api.github.com/users/namckim1/repos", "events_url": "https://api.github.com/users/namckim1/events{/privacy}", "received_events_url": "https://api.github.com/users/namckim1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136613, "node_id": "MDU6TGFiZWwzMDAxMzY2MTM=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20no", "name": "cla: no", "color": "eb6420", "default": false, "description": null}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-17T06:24:36Z", "updated_at": "2020-03-17T09:18:57Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37657", "html_url": "https://github.com/tensorflow/tensorflow/pull/37657", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37657.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37657.patch"}, "body": "this commit adds support for Gitpod.io, a free automated\ndev environment that makes contributing and generally working on GitHub\nprojects much easier. It allows anyone to start a ready-to-code dev\nenvironment for any branch, issue and pull request with a single click."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37656", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37656/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37656/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37656/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37656", "id": 582744612, "node_id": "MDU6SXNzdWU1ODI3NDQ2MTI=", "number": 37656, "title": "Get different results in eager and graph mode when I use tf.keras.Reduction.NONE on Loss object.", "user": {"login": "fsx950223", "id": 17592563, "node_id": "MDQ6VXNlcjE3NTkyNTYz", "avatar_url": "https://avatars0.githubusercontent.com/u/17592563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fsx950223", "html_url": "https://github.com/fsx950223", "followers_url": "https://api.github.com/users/fsx950223/followers", "following_url": "https://api.github.com/users/fsx950223/following{/other_user}", "gists_url": "https://api.github.com/users/fsx950223/gists{/gist_id}", "starred_url": "https://api.github.com/users/fsx950223/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fsx950223/subscriptions", "organizations_url": "https://api.github.com/users/fsx950223/orgs", "repos_url": "https://api.github.com/users/fsx950223/repos", "events_url": "https://api.github.com/users/fsx950223/events{/privacy}", "received_events_url": "https://api.github.com/users/fsx950223/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1903591931, "node_id": "MDU6TGFiZWwxOTAzNTkxOTMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.2", "name": "TF 2.2", "color": "0052cc", "default": false, "description": "Issues related to TF 2.2"}, {"id": 736653459, "node_id": "MDU6TGFiZWw3MzY2NTM0NTk=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:eager", "name": "comp:eager", "color": "0052cc", "default": false, "description": ""}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "pavithrasv", "id": 13326758, "node_id": "MDQ6VXNlcjEzMzI2NzU4", "avatar_url": "https://avatars0.githubusercontent.com/u/13326758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pavithrasv", "html_url": "https://github.com/pavithrasv", "followers_url": "https://api.github.com/users/pavithrasv/followers", "following_url": "https://api.github.com/users/pavithrasv/following{/other_user}", "gists_url": "https://api.github.com/users/pavithrasv/gists{/gist_id}", "starred_url": "https://api.github.com/users/pavithrasv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pavithrasv/subscriptions", "organizations_url": "https://api.github.com/users/pavithrasv/orgs", "repos_url": "https://api.github.com/users/pavithrasv/repos", "events_url": "https://api.github.com/users/pavithrasv/events{/privacy}", "received_events_url": "https://api.github.com/users/pavithrasv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pavithrasv", "id": 13326758, "node_id": "MDQ6VXNlcjEzMzI2NzU4", "avatar_url": "https://avatars0.githubusercontent.com/u/13326758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pavithrasv", "html_url": "https://github.com/pavithrasv", "followers_url": "https://api.github.com/users/pavithrasv/followers", "following_url": "https://api.github.com/users/pavithrasv/following{/other_user}", "gists_url": "https://api.github.com/users/pavithrasv/gists{/gist_id}", "starred_url": "https://api.github.com/users/pavithrasv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pavithrasv/subscriptions", "organizations_url": "https://api.github.com/users/pavithrasv/orgs", "repos_url": "https://api.github.com/users/pavithrasv/repos", "events_url": "https://api.github.com/users/pavithrasv/events{/privacy}", "received_events_url": "https://api.github.com/users/pavithrasv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-17T04:21:36Z", "updated_at": "2020-03-17T15:12:36Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): \r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): Ubuntu\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: \r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below): \r\n- Python version: - Bazel\r\nversion (if compiling from source):2.2.0\r\n- GCC/Compiler version (if compiling from\r\nsource): \r\n- CUDA/cuDNN version: - GPU model and memory:\r\n\r\n\r\n[Colab example](https://colab.research.google.com/drive/1VWVty280phZLVsmB91aW6GqdQoEgDCdP)\r\n\r\n\r\nRelated [addons](https://github.com/tensorflow/addons/issues/1320)"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37653", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37653/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37653/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37653/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37653", "id": 582712181, "node_id": "MDU6SXNzdWU1ODI3MTIxODE=", "number": 37653, "title": "Memory Leak in tf.data.Dataset.from_generator", "user": {"login": "hankcs", "id": 5326890, "node_id": "MDQ6VXNlcjUzMjY4OTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/5326890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hankcs", "html_url": "https://github.com/hankcs", "followers_url": "https://api.github.com/users/hankcs/followers", "following_url": "https://api.github.com/users/hankcs/following{/other_user}", "gists_url": "https://api.github.com/users/hankcs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hankcs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hankcs/subscriptions", "organizations_url": "https://api.github.com/users/hankcs/orgs", "repos_url": "https://api.github.com/users/hankcs/repos", "events_url": "https://api.github.com/users/hankcs/events{/privacy}", "received_events_url": "https://api.github.com/users/hankcs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1114343535, "node_id": "MDU6TGFiZWwxMTE0MzQzNTM1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:data", "name": "comp:data", "color": "0052cc", "default": false, "description": "tf.data related issues"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 1463677878, "node_id": "MDU6TGFiZWwxNDYzNjc3ODc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:performance", "name": "type:performance", "color": "159b2e", "default": false, "description": "Performance Issue"}], "state": "open", "locked": false, "assignee": {"login": "kkimdev", "id": 503414, "node_id": "MDQ6VXNlcjUwMzQxNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/503414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kkimdev", "html_url": "https://github.com/kkimdev", "followers_url": "https://api.github.com/users/kkimdev/followers", "following_url": "https://api.github.com/users/kkimdev/following{/other_user}", "gists_url": "https://api.github.com/users/kkimdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/kkimdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kkimdev/subscriptions", "organizations_url": "https://api.github.com/users/kkimdev/orgs", "repos_url": "https://api.github.com/users/kkimdev/repos", "events_url": "https://api.github.com/users/kkimdev/events{/privacy}", "received_events_url": "https://api.github.com/users/kkimdev/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kkimdev", "id": 503414, "node_id": "MDQ6VXNlcjUwMzQxNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/503414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kkimdev", "html_url": "https://github.com/kkimdev", "followers_url": "https://api.github.com/users/kkimdev/followers", "following_url": "https://api.github.com/users/kkimdev/following{/other_user}", "gists_url": "https://api.github.com/users/kkimdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/kkimdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kkimdev/subscriptions", "organizations_url": "https://api.github.com/users/kkimdev/orgs", "repos_url": "https://api.github.com/users/kkimdev/repos", "events_url": "https://api.github.com/users/kkimdev/events{/privacy}", "received_events_url": "https://api.github.com/users/kkimdev/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-03-17T02:40:25Z", "updated_at": "2020-03-18T01:21:08Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04):  Ubuntu 18.04.3 LTS\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: \r\n- TensorFlow installed from (source or\r\nbinary): binary\r\n- TensorFlow version (use command below): v2.1.0-rc2-17-ge5bf8de 2.1.0\r\n- Python version: Python 3.6.6\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from\r\nsource): \r\n- CUDA/cuDNN version: \r\nCUDA Version: 10.1\r\ncudnn-10.1\r\n- GPU model and memory:\r\nTITAN RTX\r\n24190MiB\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\n`tf.data.Dataset.from_generator` leaks memory after each call even if followed by `gc.collect()`.\r\n\r\n**Describe the expected behavior**\r\nMemory should be released when no reference exists for the dataset.\r\n\r\n**Standalone code to reproduce the issue** \r\nProvide a reproducible test case that is the bare minimum necessary to generate\r\nthe problem. If possible, please share a link to Colab/Jupyter/any notebook.\r\n\r\n```\r\nimport gc\r\nimport os\r\n\r\nos.environ[\"CUDA_VISIBLE_DEVICES\"] = \"-1\"\r\nimport tensorflow as tf\r\nimport tracemalloc\r\nimport linecache\r\n\r\n\r\ndef display_top(snapshot, key_type='lineno', limit=3):\r\n    snapshot = snapshot.filter_traces((\r\n        tracemalloc.Filter(False, \"<frozen importlib._bootstrap>\"),\r\n        tracemalloc.Filter(False, \"<unknown>\"),\r\n    ))\r\n    top_stats = snapshot.statistics(key_type)\r\n\r\n    print(\"Top %s lines\" % limit)\r\n    for index, stat in enumerate(top_stats[:limit], 1):\r\n        frame = stat.traceback[0]\r\n        # replace \"/path/to/module/file.py\" with \"module/file.py\"\r\n        filename = os.sep.join(frame.filename.split(os.sep)[-2:])\r\n        print(\"#%s: %s:%s: %.1f KiB\"\r\n              % (index, filename, frame.lineno, stat.size / 1024))\r\n        line = linecache.getline(frame.filename, frame.lineno).strip()\r\n        if line:\r\n            print('    %s' % line)\r\n\r\n    other = top_stats[limit:]\r\n    if other:\r\n        size = sum(stat.size for stat in other)\r\n        print(\"%s other: %.1f KiB\" % (len(other), size / 1024))\r\n    total = sum(stat.size for stat in top_stats)\r\n    print(\"Total allocated size: %.1f KiB\" % (total / 1024))\r\n\r\n\r\ndef generator():\r\n    yield tf.zeros(2, 3)\r\n\r\n\r\ntracemalloc.start()\r\nfor i in range(1000):\r\n    dataset = tf.data.Dataset.from_generator(generator, output_types=tf.int32, output_shapes=[None])\r\n    del dataset\r\n    gc.collect()\r\n    snapshot = tracemalloc.take_snapshot()\r\n    display_top(snapshot)\r\n```\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n\r\n```\r\nTop 3 lines\r\n#1: python3.6/_weakrefset.py:84: 159.5 KiB\r\n    self.data.add(ref(item, self._remove))\r\n#2: python3.6/_weakrefset.py:37: 38.2 KiB\r\n    self.data = set()\r\n#3: python3.6/_weakrefset.py:48: 32.4 KiB\r\n    self._iterating = set()\r\n461 other: 306.4 KiB\r\nTotal allocated size: 536.4 KiB\r\nTop 3 lines\r\n#1: python3.6/_weakrefset.py:84: 159.5 KiB\r\n    self.data.add(ref(item, self._remove))\r\n#2: python3.6/_weakrefset.py:37: 38.2 KiB\r\n    self.data = set()\r\n#3: python3.6/_weakrefset.py:48: 32.4 KiB\r\n    self._iterating = set()\r\n516 other: 343.1 KiB\r\nTotal allocated size: 573.1 KiB\r\n\r\n...\r\n\r\nTop 3 lines\r\n#1: python3.6/weakref.py:335: 257.8 KiB\r\n    self = ref.__new__(type, ob, callback)\r\n#2: debug/tf_dataset_memory_leak.py:45: 189.7 KiB\r\n    dataset = tf.data.Dataset.from_generator(generator, output_types=tf.int32, output_shapes=[None])\r\n#3: ops/script_ops.py:257: 174.7 KiB\r\n    return \"pyfunc_%d\" % uid\r\n519 other: 2423.3 KiB\r\nTotal allocated size: 3045.5 KiB\r\n```\r\n\r\nIt leaks 3MB in 1000 calls. In [some real projects](https://github.com/hankcs/HanLP/issues/1437), it can leak as much as 5GB and keeps increasing."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37652", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37652/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37652/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37652/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37652", "id": 582703764, "node_id": "MDU6SXNzdWU1ODI3MDM3NjQ=", "number": 37652, "title": "Predict API does not work with VarLenFeature when batch inputs from different size", "user": {"login": "FelixHo", "id": 4403856, "node_id": "MDQ6VXNlcjQ0MDM4NTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/4403856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FelixHo", "html_url": "https://github.com/FelixHo", "followers_url": "https://api.github.com/users/FelixHo/followers", "following_url": "https://api.github.com/users/FelixHo/following{/other_user}", "gists_url": "https://api.github.com/users/FelixHo/gists{/gist_id}", "starred_url": "https://api.github.com/users/FelixHo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FelixHo/subscriptions", "organizations_url": "https://api.github.com/users/FelixHo/orgs", "repos_url": "https://api.github.com/users/FelixHo/repos", "events_url": "https://api.github.com/users/FelixHo/events{/privacy}", "received_events_url": "https://api.github.com/users/FelixHo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "k-w-w", "id": 31663267, "node_id": "MDQ6VXNlcjMxNjYzMjY3", "avatar_url": "https://avatars2.githubusercontent.com/u/31663267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-w-w", "html_url": "https://github.com/k-w-w", "followers_url": "https://api.github.com/users/k-w-w/followers", "following_url": "https://api.github.com/users/k-w-w/following{/other_user}", "gists_url": "https://api.github.com/users/k-w-w/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-w-w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-w-w/subscriptions", "organizations_url": "https://api.github.com/users/k-w-w/orgs", "repos_url": "https://api.github.com/users/k-w-w/repos", "events_url": "https://api.github.com/users/k-w-w/events{/privacy}", "received_events_url": "https://api.github.com/users/k-w-w/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "k-w-w", "id": 31663267, "node_id": "MDQ6VXNlcjMxNjYzMjY3", "avatar_url": "https://avatars2.githubusercontent.com/u/31663267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-w-w", "html_url": "https://github.com/k-w-w", "followers_url": "https://api.github.com/users/k-w-w/followers", "following_url": "https://api.github.com/users/k-w-w/following{/other_user}", "gists_url": "https://api.github.com/users/k-w-w/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-w-w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-w-w/subscriptions", "organizations_url": "https://api.github.com/users/k-w-w/orgs", "repos_url": "https://api.github.com/users/k-w-w/repos", "events_url": "https://api.github.com/users/k-w-w/events{/privacy}", "received_events_url": "https://api.github.com/users/k-w-w/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-17T02:12:25Z", "updated_at": "2020-03-18T19:17:51Z", "closed_at": null, "author_association": "NONE", "body": "\r\n_I thought this [issue](https://github.com/tensorflow/serving/issues/1574)  was related to tensorflow / serving repo , but they told me it belongs to this repo, and hoped that put it here to discuss, so I created this issue_\r\n\r\n-------------\r\n\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g.,Linux Ubuntu 16.04):  MacOS\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: \r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): 2.1.0\r\n- Python version: 2.7.13\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling fromsource): \r\n- CUDA/cuDNN version: \r\n- GPU model and memory: \r\n\r\n**Describe the current behavior**\r\n\r\nPredict API is not compatible with batch variable length inputs. Everything is ok when the input is just one instance, or multiple instances with the same length of a var length feature.\r\n\r\nps: Classify API works pretty good in this case.\r\n\r\nI tried to generate the exact same model through Estimator, and tested the above situation through the Classify API, everything was perfect. But since TensorFlow 2.0, Predict API is the default and only signature of keras model. I really want to solve this problem, instead of switching back to using Estimator or custom signature. This problem has troubled me for a while, thank you very much for your help :)\r\n\r\n**Describe the expected behavior**\r\n\r\nPredict API should be as compatible with variable length input features as Classify API\r\n\r\n### Source code / logs\r\n\r\nHere is a simple code to reproduce this, which will output a model and serving from it.\r\n\r\n[code]\r\n```python\r\nimport tensorflow as tf\r\n\r\n# generate dummy dataset \r\ndef serialize_example(val, label):\r\n    features = {\r\n      'color': tf.train.Feature(bytes_list=tf.train.BytesList(value=val)),\r\n      'label': tf.train.Feature(int64_list=tf.train.Int64List(value=[label]))\r\n    }\r\n    example_proto = tf.train.Example(features=tf.train.Features(feature=features))\r\n    return example_proto.SerializeToString()\r\n\r\ntfrecord_writer = tf.io.TFRecordWriter('./color.tfrecord')\r\nfor val, label in [([b'G', b'R'], 1), ([b'B'], 1), ([b'B', b'G'], 0), ([b'R'], 1)]:\r\n    tfrecord_writer.write(serialize_example(val, label))\r\ntfrecord_writer.close()\r\n\r\n# load the data generate above\r\ndef parse(example_proto):\r\n    feature_description = {\r\n        'color': tf.io.VarLenFeature(tf.string) ,           # ** VarLenFeature **\r\n        'label': tf.io.FixedLenFeature([], tf.int64)        \r\n    }\r\n    parsed_features = tf.io.parse_single_example(example_proto, feature_description)\r\n    labels = parsed_features.pop('label')\r\n    return parsed_features, labels\r\n    \r\ndataset = tf.data.TFRecordDataset('./color.tfrecord').map(parse).repeat(5).batch(2)\r\n\r\n# feature column & inputs.\r\ncolor_cat = tf.feature_column.categorical_column_with_vocabulary_list(\r\n                    key='color', vocabulary_list=[\"R\", \"G\", \"B\"])    \r\n\r\ncolor_emb = tf.feature_column.embedding_column(color_cat, dimension=4, combiner='mean')\r\n\r\ninputs = {\r\n    'color': tf.keras.layers.Input(name='color', shape=(None, ), sparse=True, dtype=tf.string)    \r\n}\r\n\r\n# build model\r\ndeep = tf.keras.layers.DenseFeatures([color_emb, ])(inputs)\r\noutput = tf.keras.layers.Dense(1, activation='sigmoid', name='output')(deep)\r\nmodel = tf.keras.Model(inputs, output)\r\nmodel.compile(optimizer='adam', loss='binary_crossentropy')\r\n\r\nmodel.summary()\r\n\r\nmodel.fit(dataset, epochs=5)\r\nmodel.save('./dummy_model', save_format='tf')\r\n```\r\n\r\n[output log]\r\n```\r\nModel: \"model\"\r\n_________________________________________________________________\r\nLayer (type)                 Output Shape              Param #   \r\n=================================================================\r\ncolor (InputLayer)           [(None, None)]            0         \r\n_________________________________________________________________\r\ndense_features (DenseFeature (None, 4)                 12        \r\n_________________________________________________________________\r\noutput (Dense)               (None, 1)                 5         \r\n=================================================================\r\nTotal params: 17\r\nTrainable params: 17\r\nNon-trainable params: 0\r\n_________________________________________________________________\r\nEpoch 1/5\r\n10/10 [==============================] - 1s 119ms/step - loss: 0.7157\r\nEpoch 2/5\r\n10/10 [==============================] - 0s 4ms/step - loss: 0.7045\r\nEpoch 3/5\r\n10/10 [==============================] - 0s 4ms/step - loss: 0.6977\r\nEpoch 4/5\r\n10/10 [==============================] - 0s 5ms/step - loss: 0.6911\r\nEpoch 5/5\r\n10/10 [==============================] - 0s 5ms/step - loss: 0.6847\r\nWARNING:tensorflow:From /Users/felix/Envs/tf2/lib/python2.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1781: calling __init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nIf using Keras pass *_constraint arguments to layers.\r\nINFO:tensorflow:Assets written to: ./dummy_model/assets\r\n```\r\n\r\n[saved_model signature]\r\n```\r\n$ saved_model_cli show --dir ./ --all\r\n--------------------------------------------------------------------------\r\nMetaGraphDef with tag-set: 'serve' contains the following SignatureDefs:\r\n\r\nsignature_def['__saved_model_init_op']:\r\n  The given SavedModel SignatureDef contains the following input(s):\r\n  The given SavedModel SignatureDef contains the following output(s):\r\n    outputs['__saved_model_init_op'] tensor_info:\r\n        dtype: DT_INVALID\r\n        shape: unknown_rank\r\n        name: NoOp\r\n  Method name is:\r\n\r\nsignature_def['serving_default']:\r\n  The given SavedModel SignatureDef contains the following input(s):\r\n    inputs['color'] tensor_info:\r\n        dtype: DT_STRING\r\n        shape: (-1, -1)\r\n        name: serving_default_color:0\r\n  The given SavedModel SignatureDef contains the following output(s):\r\n    outputs['output'] tensor_info:\r\n        dtype: DT_FLOAT\r\n        shape: (-1, 1)\r\n        name: StatefulPartitionedCall_8:0\r\n  Method name is: tensorflow/serving/predict\r\n```\r\n### Exact Steps to Reproduce\r\n1. let me say there are two examples with the same shape , these work pretty good\r\n```\r\ncurl -XPOST 0.0.0.0:8501/v1/models/dummy_model:predict -d '\r\n{\r\n  \"inputs\": {\r\n    \"color\": [\r\n      [\"R\"],\r\n      [\"G\"]\r\n    ]\r\n  }\r\n}'\r\n----- response ----\r\n{\r\n    \"outputs\": [\r\n        [\r\n            0.370285\r\n        ],\r\n        [\r\n            0.49326694\r\n        ]\r\n    ]\r\n}\r\n\r\n====================================================\r\ncurl -XPOST 0.0.0.0:8501/v1/models/dummy_model:predict -d '\r\n{\r\n  \"inputs\": {\r\n    \"color\": [\r\n      [\"R\", \"G\"],\r\n      [\"G\", \"B\"]\r\n    ]\r\n  }\r\n}'\r\n------- response ---------\r\n{\r\n    \"outputs\": [\r\n        [\r\n            0.430707693\r\n        ],\r\n        [\r\n            0.558493555\r\n        ]\r\n    ]\r\n}\r\n```\r\n2. batch examples with different shape , does not work as expected\r\n```\r\ncurl -XPOST 0.0.0.0:8501/v1/models/dummy_model:predict -d '\r\n{\r\n  \"inputs\": {\r\n    \"color\": [\r\n      [\"R\"],\r\n      [\"G\", \"B\"]\r\n    ]\r\n  }\r\n}'\r\n-------- response -------\r\n\r\n{ \"error\": \"Encountered list at unexpected size: 2 at level: 1 expected size: 1\" }\r\n\r\n```\r\n3.  \"instances\" key also not works\r\n\r\n```\r\ncurl -XPOST 0.0.0.0:8501/v1/models/dummy_model:predict -d '\r\n{\r\n  \"instances\": [\r\n    {\"color\": [\"R\"]},\r\n    {\"color\": [\"G\", \"B\"]}\r\n  ]\r\n}'\r\n\r\n--------- response -----------\r\n{ \"error\": \"Failed to process element: 1 key: color of \\'instances\\' list. Error: Invalid argument: Expecting tensor size: 1 but got: 2\" }\r\n\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37649", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37649/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37649/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37649/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37649", "id": 582608328, "node_id": "MDU6SXNzdWU1ODI2MDgzMjg=", "number": 37649, "title": "Can't disable TensorFlow logs", "user": {"login": "jpatts", "id": 14956156, "node_id": "MDQ6VXNlcjE0OTU2MTU2", "avatar_url": "https://avatars0.githubusercontent.com/u/14956156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpatts", "html_url": "https://github.com/jpatts", "followers_url": "https://api.github.com/users/jpatts/followers", "following_url": "https://api.github.com/users/jpatts/following{/other_user}", "gists_url": "https://api.github.com/users/jpatts/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpatts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpatts/subscriptions", "organizations_url": "https://api.github.com/users/jpatts/orgs", "repos_url": "https://api.github.com/users/jpatts/repos", "events_url": "https://api.github.com/users/jpatts/events{/privacy}", "received_events_url": "https://api.github.com/users/jpatts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-16T21:25:40Z", "updated_at": "2020-03-17T20:19:59Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow):  Yes\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04):  Windows 10\r\n- TensorFlow installed from (source or\r\nbinary):  pip\r\n- TensorFlow version (use command below): 2.1.0\r\n- Python version: 3.7.6\r\n- CUDA/cuDNN version: 10.1\r\n- GPU model and memory: 2080 Super, 8gb\r\n\r\n**Describe the current behavior**\r\nCan't prevent logging, on either cpu or gpu.\r\n\r\n**Describe the expected behavior**\r\nShould be able to disable logs.\r\n\r\n**Standalone code to reproduce the issue** \r\n```\r\nimport os, logging\r\nimport tensorflow as tf\r\n\r\n# One of these should prevent logs\r\nos.environ['TF_CPP_MIN_LOG_LEVEL'] = '3'\r\nlogging.disable(logging.WARNING)\r\ntf.compat.v1.logging.set_verbosity(tf.compat.v1.logging.ERROR)\r\nlogging.getLogger('tensorflow').setLevel(logging.FATAL)\r\ntf.get_logger().setLevel(logging.ERROR)\r\ntf.autograph.set_verbosity(1)\r\n\r\nx = tf.constant([[1.0]])\r\ntf.matmul(x, x)\r\n```\r\n\r\nOutput:\r\n```\r\n2020-03-16 14:23:41.863992: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_101.dll\r\n2020-03-16 14:23:43.322241: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library nvcuda.dll\r\n2020-03-16 14:23:43.368176: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 0 with properties: \r\npciBusID: 0000:91:00.0 name: GeForce RTX 2080 SUPER computeCapability: 7.5\r\ncoreClock: 1.815GHz coreCount: 48 deviceMemorySize: 8.00GiB deviceMemoryBandwidth: 462.00GiB/s\r\n2020-03-16 14:23:43.377139: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_101.dll\r\n2020-03-16 14:23:43.384321: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cublas64_10.dll\r\n2020-03-16 14:23:43.391462: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cufft64_10.dll \r\n2020-03-16 14:23:43.396430: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library curand64_10.dll\r\n2020-03-16 14:23:43.403926: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusolver64_10.dll\r\n2020-03-16 14:23:43.410194: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusparse64_10.dll\r\n2020-03-16 14:23:43.422736: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudnn64_7.dll\r\n2020-03-16 14:23:43.426995: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1697] Adding visible gpu devices: 0\r\n2020-03-16 14:23:43.430185: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2\r\n2020-03-16 14:23:43.437794: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 0 with properties:\r\npciBusID: 0000:91:00.0 name: GeForce RTX 2080 SUPER computeCapability: 7.5\r\ncoreClock: 1.815GHz coreCount: 48 deviceMemorySize: 8.00GiB deviceMemoryBandwidth: 462.00GiB/s\r\n2020-03-16 14:23:43.445464: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_101.dll\r\n2020-03-16 14:23:43.449487: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cublas64_10.dll\r\n2020-03-16 14:23:43.453326: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cufft64_10.dll\r\n2020-03-16 14:23:43.457145: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library curand64_10.dll\r\n2020-03-16 14:23:43.461076: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusolver64_10.dll\r\n2020-03-16 14:23:43.464880: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cusparse64_10.dll\r\n2020-03-16 14:23:43.468782: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudnn64_7.dll\r\n2020-03-16 14:23:43.473079: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1697] Adding visible gpu devices: 0\r\n2020-03-16 14:23:44.093908: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1096] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2020-03-16 14:23:44.098926: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1102]      0\r\n2020-03-16 14:23:44.101402: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] 0:   N\r\n2020-03-16 14:23:44.105271: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1241] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 6265 MB memory) -> physical GPU (device: 0, name: GeForce RTX 2080 SUPER, pci \r\nbus id: 0000:91:00.0, compute capability: 7.5)\r\n2020-03-16 14:23:44.115422: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cublas64_10.dll\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37647", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37647/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37647/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37647/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37647", "id": 582564248, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg5NDY1Nzg3", "number": 37647, "title": "Refactor DirectedInterleaveDatasetOp", "user": {"login": "feihugis", "id": 5057740, "node_id": "MDQ6VXNlcjUwNTc3NDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5057740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feihugis", "html_url": "https://github.com/feihugis", "followers_url": "https://api.github.com/users/feihugis/followers", "following_url": "https://api.github.com/users/feihugis/following{/other_user}", "gists_url": "https://api.github.com/users/feihugis/gists{/gist_id}", "starred_url": "https://api.github.com/users/feihugis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feihugis/subscriptions", "organizations_url": "https://api.github.com/users/feihugis/orgs", "repos_url": "https://api.github.com/users/feihugis/repos", "events_url": "https://api.github.com/users/feihugis/events{/privacy}", "received_events_url": "https://api.github.com/users/feihugis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 1169365682, "node_id": "MDU6TGFiZWwxMTY5MzY1Njgy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:L", "name": "size:L", "color": "adafea", "default": false, "description": "CL Change Size: Large"}], "state": "open", "locked": false, "assignee": {"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-16T19:56:10Z", "updated_at": "2020-03-18T05:51:00Z", "closed_at": null, "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37647", "html_url": "https://github.com/tensorflow/tensorflow/pull/37647", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37647.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37647.patch"}, "body": "This PR refactors `DirectedInterleaveDatasetOp` and adds the kernel tests."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37645", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37645/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37645/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37645/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37645", "id": 582523018, "node_id": "MDU6SXNzdWU1ODI1MjMwMTg=", "number": 37645, "title": "AttributeError: module 'tensorflow.python.framework.op_def_registry' has no attribute 'register_op_list'", "user": {"login": "sumannelli", "id": 32793480, "node_id": "MDQ6VXNlcjMyNzkzNDgw", "avatar_url": "https://avatars2.githubusercontent.com/u/32793480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sumannelli", "html_url": "https://github.com/sumannelli", "followers_url": "https://api.github.com/users/sumannelli/followers", "following_url": "https://api.github.com/users/sumannelli/following{/other_user}", "gists_url": "https://api.github.com/users/sumannelli/gists{/gist_id}", "starred_url": "https://api.github.com/users/sumannelli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sumannelli/subscriptions", "organizations_url": "https://api.github.com/users/sumannelli/orgs", "repos_url": "https://api.github.com/users/sumannelli/repos", "events_url": "https://api.github.com/users/sumannelli/events{/privacy}", "received_events_url": "https://api.github.com/users/sumannelli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-16T18:40:52Z", "updated_at": "2020-03-17T05:12:09Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): \r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): \r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: \r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below): \r\n- Python version: - Bazel\r\nversion (if compiling from source):\r\n- GCC/Compiler version (if compiling from\r\nsource): \r\n- CUDA/cuDNN version: - GPU model and memory:\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\n\r\n**Describe the expected behavior**\r\n\r\n**Standalone code to reproduce the issue** \r\nProvide a reproducible test case that is the bare minimum necessary to generate\r\nthe problem. If possible, please share a link to Colab/Jupyter/any notebook.\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37643", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37643/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37643/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37643/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37643", "id": 582467813, "node_id": "MDU6SXNzdWU1ODI0Njc4MTM=", "number": 37643, "title": "Could not use TPU provided by Google Collab with custom training", "user": {"login": "pikaliov", "id": 17013861, "node_id": "MDQ6VXNlcjE3MDEzODYx", "avatar_url": "https://avatars2.githubusercontent.com/u/17013861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pikaliov", "html_url": "https://github.com/pikaliov", "followers_url": "https://api.github.com/users/pikaliov/followers", "following_url": "https://api.github.com/users/pikaliov/following{/other_user}", "gists_url": "https://api.github.com/users/pikaliov/gists{/gist_id}", "starred_url": "https://api.github.com/users/pikaliov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pikaliov/subscriptions", "organizations_url": "https://api.github.com/users/pikaliov/orgs", "repos_url": "https://api.github.com/users/pikaliov/repos", "events_url": "https://api.github.com/users/pikaliov/events{/privacy}", "received_events_url": "https://api.github.com/users/pikaliov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097541661, "node_id": "MDU6TGFiZWwxMDk3NTQxNjYx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tpus", "name": "comp:tpus", "color": "0052cc", "default": false, "description": "tpu, tpuestimator"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-16T17:12:54Z", "updated_at": "2020-03-17T06:12:14Z", "closed_at": null, "author_association": "NONE", "body": "I try to use TPU provided by Google Collab with custom training.\r\nANN-architecture - Transformer, with batch_size=128. I tested with GPU and all works fine. I wanted to speed up process and use larger batch. I modified code for TPU  but with TPU i got \"Your session crashed for an unknown reason\". I cant get it how to catch errors and etc.\r\nCan you help me cause I cant train ANN with TPU.\r\n\r\nTensorflow version: 2.1.0 (also i used \"%tensorflow_version 2.x\" in collab notebook)\r\n\r\nWarnings from logs:\r\n> 2020-03-16 16:22:04.297929: W tensorflow/core/framework/cpu_allocator_impl.cc:81] Allocation of 780573800 exceeds 10% of system memory. \r\n\r\n> 2020-03-16 16:22:03.324150: E tensorflow/stream_executor/cuda/cuda_driver.cc:351] failed call to cuInit: CUDA_ERROR_NO_DEVICE: no CUDA-capable device is detected\r\n\r\n\r\nPreprocessing code\r\n```\r\ndef _read_and_batch_from_files(input_arr, target_arr, shuffle=True, shuffle_val=20):\r\n\r\n  dataset = tf.data.Dataset.from_tensor_slices((input_arr, target_arr))\r\n  if shuffle:\r\n    dataset = dataset.shuffle(buffer_size=6000, seed=shuffle_val,\r\n                              reshuffle_each_iteration=True)\r\n  else:\r\n    dataset = dataset.batch(base_model_conf_obj.batch_size)\r\n  dataset = dataset.repeat()\r\n  return dataset\r\n \r\ninput_arr_test = np.load('/content/gdrive/My Drive/for_ds/x_test_tok.npy', allow_pickle=True)\r\ntarget_arr_test = np.load('/content/gdrive/My Drive/for_ds/y_test_tok.npy', allow_pickle=True)\r\n# i used this just for test before use init training/test files\r\ntrain_dataset =  _read_and_batch_from_files(input_arr_test, target_arr_test, \r\n                                            shuffle=True, shuffle_val=20)\r\n```\r\n\r\nInitialize TPU-strategy\r\n```\r\nclass SingleDeviceStrategy(object):\r\n  def __enter__(self, *args, **kwargs):\r\n    pass\r\n\r\n  def __exit__(self, *args, **kwargs):\r\n    pass\r\n\r\n  def scope(self):\r\n    return self\r\n\r\n  def experimental_distribute_dataset(self, dataset):\r\n    return dataset\r\n\r\n  def experimental_run_v2(self, func, args, kwargs):\r\n    return func(*args, **kwargs)\r\n\r\n  def reduce(self, reduction_type, distributed_data, axis):  # pylint: disable=unused-argument\r\n    return distributed_data\r\n\r\ndef connect_to_tpu(tpu=None):\r\n  if tpu:\r\n    cluster_resolver = tf.distribute.cluster_resolver.TPUClusterResolver(tpu)\r\n    tf.config.experimental_connect_to_host(cluster_resolver.get_master())\r\n    tf.tpu.experimental.initialize_tpu_system(cluster_resolver)\r\n    strategy = tf.distribute.experimental.TPUStrategy(cluster_resolver)\r\n    return strategy, \"/task:1\" if os.environ.get(\"COLAB_TPU_ADDR\") else \"/job:worker\"\r\n  return SingleDeviceStrategy(), \"\"\r\n```\r\n\r\nTraining procedure\r\n```\r\nworker_tpu = 'grpc://' + os.environ['COLAB_TPU_ADDR']\r\nd_strat, device = connect_to_tpu(worker_tpu)\r\nwith d_strat.scope():\r\n  dataset_iter = iter(d_strat.experimental_distribute_dataset(train_dataset))\r\n  for epoch in range(starting_epoch, num_epochs):\r\n    start = time.time()\r\n    inp, tar = next(dataset_iter)\r\n    def tpu_step(inp, tar):\r\n      tar_inp = tar[:, :-1]\r\n      tar_real = tar[:, 1:]\r\n      enc_padding_mask, combined_mask, dec_padding_mask = create_masks(inp, tar_inp)\r\n      with tf.GradientTape() as tape:\r\n        predictions, _ = transformer(inp, tar_inp,\r\n                                        True,\r\n                                        enc_padding_mask,\r\n                                        combined_mask,\r\n                                        dec_padding_mask)\r\n        loss = loss_function(tar_real, predictions)\r\n        loss_ce = loss * (1.0 / base_model_conf.batch_size)\r\n      variables = transformer.trainable_variables\r\n      gradients = tape.gradient(loss_ce, variables)\r\n      gradients = [(tf.clip_by_value(grad, -1.0, 1.0))\r\n                        for grad in gradients]\r\n      train_loss.update_state(loss_ce)\r\n      train_op = optimizer.apply_gradients(zip(gradients, variables))\r\n      with tf.control_dependencies([train_op]):\r\n        return tf.cast(optimizer.iterations, tf.float32)\r\n\r\n    @tf.function\r\n    def train_step(inp, tar):\r\n      distributed_metric = d_strat.experimental_run_v2(tpu_step, args=[inp, tar])\r\n      step = d_strat.reduce(tf.distribute.ReduceOp.MEAN, distributed_metric, axis=None)\r\n      return step\r\n\r\n    step = tf.cast(train_step(inp, tar), tf.int32)\r\n    train_loss.reset_states()\r\n    train_loss_res = train_loss.result().numpy()\r\n    print('Epoch {} Loss {:.4f}'.format(epoch + 1, train_loss_res,))\r\n    print('Time taken for train 1 epoch: {} secs\\n'.format(time.time() - start))\r\n    ckpt_save_path = ckpt_manager.save()\r\n    print('Saving checkpoint for epoch {} at {}'.format(epoch + 1, ckpt_save_path))\r\n    print('Time taken for test 1 epoch: {} secs\\n'.format(time.time() - start))\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37641", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37641/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37641/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37641/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37641", "id": 582388485, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg5MzE1Mjk0", "number": 37641, "title": "TFL: Port HARD_SWISH operator from TFLite to TFLu", "user": {"login": "mansnils", "id": 5793387, "node_id": "MDQ6VXNlcjU3OTMzODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/5793387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mansnils", "html_url": "https://github.com/mansnils", "followers_url": "https://api.github.com/users/mansnils/followers", "following_url": "https://api.github.com/users/mansnils/following{/other_user}", "gists_url": "https://api.github.com/users/mansnils/gists{/gist_id}", "starred_url": "https://api.github.com/users/mansnils/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mansnils/subscriptions", "organizations_url": "https://api.github.com/users/mansnils/orgs", "repos_url": "https://api.github.com/users/mansnils/repos", "events_url": "https://api.github.com/users/mansnils/events{/privacy}", "received_events_url": "https://api.github.com/users/mansnils/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1169365682, "node_id": "MDU6TGFiZWwxMTY5MzY1Njgy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:L", "name": "size:L", "color": "adafea", "default": false, "description": "CL Change Size: Large"}], "state": "open", "locked": false, "assignee": {"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-16T15:29:08Z", "updated_at": "2020-03-16T18:53:04Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37641", "html_url": "https://github.com/tensorflow/tensorflow/pull/37641", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37641.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37641.patch"}, "body": "This is needed for mobilenet v3.\r\n\r\nThere is some duplicated code because of references to Gemmlowp. If those could be replaced, the tensorflow lite hard_swish operator could be moved out to its own reference/hard_swish.h that both Lite and Micro could include."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37640", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37640/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37640/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37640/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37640", "id": 582377456, "node_id": "MDU6SXNzdWU1ODIzNzc0NTY=", "number": 37640, "title": "Sparce Tensor wrong exeption Message when passing argument with wrong Type", "user": {"login": "bela127", "id": 33230742, "node_id": "MDQ6VXNlcjMzMjMwNzQy", "avatar_url": "https://avatars1.githubusercontent.com/u/33230742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bela127", "html_url": "https://github.com/bela127", "followers_url": "https://api.github.com/users/bela127/followers", "following_url": "https://api.github.com/users/bela127/following{/other_user}", "gists_url": "https://api.github.com/users/bela127/gists{/gist_id}", "starred_url": "https://api.github.com/users/bela127/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bela127/subscriptions", "organizations_url": "https://api.github.com/users/bela127/orgs", "repos_url": "https://api.github.com/users/bela127/repos", "events_url": "https://api.github.com/users/bela127/events{/privacy}", "received_events_url": "https://api.github.com/users/bela127/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1903591931, "node_id": "MDU6TGFiZWwxOTAzNTkxOTMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.2", "name": "TF 2.2", "color": "0052cc", "default": false, "description": "Issues related to TF 2.2"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-16T15:14:55Z", "updated_at": "2020-03-19T14:51:01Z", "closed_at": null, "author_association": "NONE", "body": "System information\r\n\r\n    Have I written custom code (as opposed to using a stock\r\n    example script provided in TensorFlow): No\r\n    OS Platform and Distribution (e.g.,\r\n    Linux Ubuntu 16.04): Linux Mint 19.3 (ubuntu)\r\n    TensorFlow installed from (source or\r\n    binary): binatry\r\n    TensorFlow version (use command below): both tf-nightly and tf-2.1\r\n    Python version: 3.8 and 3.6\r\n\r\n**Describe the current behavior**\r\nwhen passing an int32 tensor to Sparce Tensor\r\nlast Error displayed is:\r\n```\r\nValueError: Unable to create eager SparseTensor. Check that your shape is correctly defined. Eager SparseTensors don't support unknown dimesions.\r\ngot shape:\r\n    [4 4 4 4]\r\n```\r\nwhen looking back in stack trace, the right error is raced:\r\n\r\n`ValueError: Tensor conversion requested dtype int64 for Tensor with dtype int32: <tf.Tensor: shape=(4,), dtype=int32, numpy=array([4, 4, 4, 4], dtype=int32)>`\r\n\r\n\r\n**Describe the expected behavior**\r\none of the following:\r\n1) conversion should not fail\r\n2) last Error should be:\r\nexpected int64 tensor for shape argument got int32 tensor\r\n\r\n**Standalone code to reproduce the issue** \r\n```\r\nimport tensorflow as tf\r\n\r\nindices = tf.cast([[1,1,1,1],[1,3,1,1]],dtype=tf.int64)\r\nshape = tf.cast([4,4,4,4],dtype=tf.int64)\r\n\r\nheat_map = tf.SparseTensor(indices = indices, values = tf.ones(tf.shape(indices)[0]), dense_shape = shape)\r\n\r\nindices = tf.cast([[1,1,1,1],[1,3,1,1]],dtype=tf.int64)\r\nshape = tf.cast([4,4,4,4],dtype=tf.int32)\r\n\r\nheat_map = tf.SparseTensor(indices = indices, values = tf.ones(tf.shape(indices)[0]), dense_shape = shape)\r\n```\r\n\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/bhb/Cloud/Code/Git/3D_Person_Pose_Estimation_from_2D_Singelview_Image_Data/src/venv/lib/python3.6/site-packages/tensorflow/python/framework/sparse_tensor.py\", line 142, in __init__\r\n    dense_shape, name=\"dense_shape\", dtype=dtypes.int64)\r\n  File \"/home/bhb/Cloud/Code/Git/3D_Person_Pose_Estimation_from_2D_Singelview_Image_Data/src/venv/lib/python3.6/site-packages/tensorflow/python/framework/ops.py\", line 1317, in convert_to_tensor\r\n    (dtype.name, value.dtype.name, value))\r\nValueError: Tensor conversion requested dtype int64 for Tensor with dtype int32: <tf.Tensor: shape=(4,), dtype=int32, numpy=array([4, 4, 4, 4], dtype=int32)>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/bhb/.vscode/extensions/ms-python.python-2020.2.64397/pythonFiles/ptvsd_launcher.py\", line 48, in <module>\r\n    main(ptvsdArgs)\r\n  File \"/home/bhb/.vscode/extensions/ms-python.python-2020.2.64397/pythonFiles/lib/python/old_ptvsd/ptvsd/__main__.py\", line 432, in main\r\n    run()\r\n  File \"/home/bhb/.vscode/extensions/ms-python.python-2020.2.64397/pythonFiles/lib/python/old_ptvsd/ptvsd/__main__.py\", line 316, in run_file\r\n    runpy.run_path(target, run_name='__main__')\r\n  File \"/usr/lib/python3.6/runpy.py\", line 263, in run_path\r\n    pkg_name=pkg_name, script_name=fname)\r\n  File \"/usr/lib/python3.6/runpy.py\", line 96, in _run_module_code\r\n    mod_name, mod_spec, pkg_name, script_name)\r\n  File \"/usr/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/bhb/Cloud/Code/Git/3D_Person_Pose_Estimation_from_2D_Singelview_Image_Data/src/test_sparce_tensor.py\", line 11, in <module>\r\n    heat_map = tf.SparseTensor(indices = indices, values = tf.ones(tf.shape(indices)[0]), dense_shape = shape)\r\n  File \"/home/bhb/Cloud/Code/Git/3D_Person_Pose_Estimation_from_2D_Singelview_Image_Data/src/venv/lib/python3.6/site-packages/tensorflow/python/framework/sparse_tensor.py\", line 148, in __init__\r\n    \"got shape:\\n    {}\".format(dense_shape))\r\nValueError: Unable to create eager SparseTensor. Check that your shape is correctly defined. Eager SparseTensors don't support unknown dimesions.\r\ngot shape:\r\n    [4 4 4 4]\r\nBeendet\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37639", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37639/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37639/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37639/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37639", "id": 582359401, "node_id": "MDU6SXNzdWU1ODIzNTk0MDE=", "number": 37639, "title": "TFLite build - missing interpreter_wrapper.i", "user": {"login": "philmassie", "id": 18571935, "node_id": "MDQ6VXNlcjE4NTcxOTM1", "avatar_url": "https://avatars0.githubusercontent.com/u/18571935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philmassie", "html_url": "https://github.com/philmassie", "followers_url": "https://api.github.com/users/philmassie/followers", "following_url": "https://api.github.com/users/philmassie/following{/other_user}", "gists_url": "https://api.github.com/users/philmassie/gists{/gist_id}", "starred_url": "https://api.github.com/users/philmassie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philmassie/subscriptions", "organizations_url": "https://api.github.com/users/philmassie/orgs", "repos_url": "https://api.github.com/users/philmassie/repos", "events_url": "https://api.github.com/users/philmassie/events{/privacy}", "received_events_url": "https://api.github.com/users/philmassie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "teijeong", "id": 4837376, "node_id": "MDQ6VXNlcjQ4MzczNzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/4837376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teijeong", "html_url": "https://github.com/teijeong", "followers_url": "https://api.github.com/users/teijeong/followers", "following_url": "https://api.github.com/users/teijeong/following{/other_user}", "gists_url": "https://api.github.com/users/teijeong/gists{/gist_id}", "starred_url": "https://api.github.com/users/teijeong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teijeong/subscriptions", "organizations_url": "https://api.github.com/users/teijeong/orgs", "repos_url": "https://api.github.com/users/teijeong/repos", "events_url": "https://api.github.com/users/teijeong/events{/privacy}", "received_events_url": "https://api.github.com/users/teijeong/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "teijeong", "id": 4837376, "node_id": "MDQ6VXNlcjQ4MzczNzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/4837376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teijeong", "html_url": "https://github.com/teijeong", "followers_url": "https://api.github.com/users/teijeong/followers", "following_url": "https://api.github.com/users/teijeong/following{/other_user}", "gists_url": "https://api.github.com/users/teijeong/gists{/gist_id}", "starred_url": "https://api.github.com/users/teijeong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teijeong/subscriptions", "organizations_url": "https://api.github.com/users/teijeong/orgs", "repos_url": "https://api.github.com/users/teijeong/repos", "events_url": "https://api.github.com/users/teijeong/events{/privacy}", "received_events_url": "https://api.github.com/users/teijeong/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-16T14:51:44Z", "updated_at": "2020-03-17T16:21:56Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): amazonlinux\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:NA\r\n- TensorFlow installed from (source or binary):binary\r\n- TensorFlow version:2.1.0\r\n- Python version:3.6.9\r\n- Installed using virtualenv? pip? conda?:pip\r\n- Bazel version (if compiling from source):2.0.0\r\n- GCC/Compiler version (if compiling from source):7.2.1\r\n- CUDA/cuDNN version:NA\r\n- GPU model and memory:NA\r\n\r\n**Describe the problem**\r\nRunning sh ./tensorflow/lite/tools/pip_package/build_pip_package.sh results in:\r\n...\r\nswig -python -c++ -I/root/tensorflow/tensorflow/lite/tools/pip_package/../../../.. -module interpreter_wrapper -outdir tflite_runtime -o interpreter_wrapper/interpreter_wrapper_wrap.cpp interpreter_wrapper/interpreter_wrapper.i\r\nUnable to find file 'interpreter_wrapper/interpreter_wrapper.i'.\r\nerror: command 'swig' failed with exit status 1\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\nTrying to build Tensorflow lite for AWS Lambda in amazonlinux.\r\nDockerfile:\r\nFROM amazonlinux\r\n\r\nWORKDIR /tflite\r\n\r\nRUN yum groupinstall -y development\r\nRUN yum install -y python3.7\r\nRUN yum install -y python3-devel\r\nRUN pip3 install numpy wheel\r\nRUN git clone https://github.com/tensorflow/tensorflow.git\r\nRUN sh ./tensorflow/tensorflow/lite/tools/pip_package/build_pip_package.sh\r\n\r\n\r\n**Any other info / logs**\r\nI am a total newb at compiling, so I apologise in advance for missing obvious info/logs.\r\nThe issue happens when `setup.py bdist bdist_wheel` is executed. I am afraid I cant figure out why the .i file is not there, or is not getting generated.\r\nDo I need to generate them separately?\r\n\r\nThanks\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37638", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37638/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37638/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37638/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37638", "id": 582334174, "node_id": "MDU6SXNzdWU1ODIzMzQxNzQ=", "number": 37638, "title": "[2.x] SparseTensor shape becomes <unknown> after some operations if using tf.function", "user": {"login": "llan-ml", "id": 22030149, "node_id": "MDQ6VXNlcjIyMDMwMTQ5", "avatar_url": "https://avatars0.githubusercontent.com/u/22030149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llan-ml", "html_url": "https://github.com/llan-ml", "followers_url": "https://api.github.com/users/llan-ml/followers", "following_url": "https://api.github.com/users/llan-ml/following{/other_user}", "gists_url": "https://api.github.com/users/llan-ml/gists{/gist_id}", "starred_url": "https://api.github.com/users/llan-ml/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llan-ml/subscriptions", "organizations_url": "https://api.github.com/users/llan-ml/orgs", "repos_url": "https://api.github.com/users/llan-ml/repos", "events_url": "https://api.github.com/users/llan-ml/events{/privacy}", "received_events_url": "https://api.github.com/users/llan-ml/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1478826728, "node_id": "MDU6TGFiZWwxNDc4ODI2NzI4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:core", "name": "comp:core", "color": "024391", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-16T14:16:52Z", "updated_at": "2020-03-18T15:44:14Z", "closed_at": null, "author_association": "NONE", "body": "With tf.function, if an argument `x` of a function is a 2-d `tf.SparseTensor`, its shape is `(None, None)`. However, after some operations such as `tf.sparse.transpose` and `tf.sparse.reduce_sum`, the shapes of the resulting tensors become `<unknown>`.\r\n\r\nPlease refer to this [script](https://colab.research.google.com/drive/17DqrrFVZePJlJsfymrRCXNGBMNPNKeqd) for reproduction.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37637", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37637/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37637/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37637/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37637", "id": 582277060, "node_id": "MDU6SXNzdWU1ODIyNzcwNjA=", "number": 37637, "title": "Segmentation fault when using Cloud TPU", "user": {"login": "ChristopherBrix", "id": 5114411, "node_id": "MDQ6VXNlcjUxMTQ0MTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5114411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChristopherBrix", "html_url": "https://github.com/ChristopherBrix", "followers_url": "https://api.github.com/users/ChristopherBrix/followers", "following_url": "https://api.github.com/users/ChristopherBrix/following{/other_user}", "gists_url": "https://api.github.com/users/ChristopherBrix/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChristopherBrix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChristopherBrix/subscriptions", "organizations_url": "https://api.github.com/users/ChristopherBrix/orgs", "repos_url": "https://api.github.com/users/ChristopherBrix/repos", "events_url": "https://api.github.com/users/ChristopherBrix/events{/privacy}", "received_events_url": "https://api.github.com/users/ChristopherBrix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1097541661, "node_id": "MDU6TGFiZWwxMDk3NTQxNjYx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tpus", "name": "comp:tpus", "color": "0052cc", "default": false, "description": "tpu, tpuestimator"}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-16T13:01:38Z", "updated_at": "2020-03-17T06:29:51Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Debian GNU/Linux 9.12 (stretch)\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or binary): preinstalled by Google Cloud Platform\r\n- TensorFlow version (use command below): v1.15.0-rc3-22-g590d6ee\r\n- Python version: Python 2.7.13 (default, Sep 26 2018, 18:42:22) [GCC 6.3.0 20170516] on linux2\r\n- Bazel version (if compiling from source): N/A\r\n- GCC/Compiler version (if compiling from source): N/A\r\n- CUDA/cuDNN version: ?\r\n- GPU model and memory: TPU (provided by Google Cloud), version v3-8\r\n\r\n**Describe the current behavior**\r\nI request a VM and corresponding TPU using `ctpu up --zone=europe-west4-a --tpu-size=v3-8 --name europe4 --tf-version=1.15 --machine-type=n1-standard-2 --project my-project`\r\nAfter connecting to it, and I start training a translation model using `t2t-trainer   --model=transformer   --hparams_set=transformer_tpu   --problem=translate_ende_wmt32k_packed   --train_steps=10   --eval_steps=3   --data_dir=gs://my-project/data   --output_dir=gs://my-project/training/tmp   --use_tpu=True   --cloud_tpu_name=europe4 --tpu_num_shards=8   --schedule=train` (this is the command specified in the [tutorial](https://cloud.google.com/tpu/docs/tutorials/transformer?hl=en#train_a_language_model_on_a_pod)).\r\nBut the training does not start, the command is aborted due to an segmentation fault:\r\n\r\n```\r\nmy-user@europe4:~$ t2t-trainer   --model=transformer   --hparams_set=transformer_tpu   --problem=translate_ende_wmt32k_packed   --train_steps=10   --eval_steps=3   --data_dir=gs://my-project/data   --output_dir=gs://my-project/training/tmp   --use_tpu=True   --cloud_tpu_name=europe4 --tpu_num_shards=8   --schedule=train\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/expert_utils.py:68: The name tf.variable_scope is deprecated. Please use tf.compat.v1.variable_scope instead.\r\n\r\nWARNING:tensorflow:\r\nThe TensorFlow contrib module will not be included in TensorFlow 2.0.\r\nFor more information, please see:\r\n  * https://github.com/tensorflow/community/blob/master/rfcs/20180907-contrib-sunset.md\r\n  * https://github.com/tensorflow/addons\r\n  * https://github.com/tensorflow/io (for I/O related ops)\r\nIf you depend on functionality not listed there, please file an issue.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/adafactor.py:27: The name tf.train.Optimizer is deprecated. Please use tf.compat.v1.train.Optimizer instead.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/multistep_optimizer.py:32: The name tf.train.AdamOptimizer is deprecated. Please use tf.compat.v1.train.AdamOptimizer instead.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/mesh_tensorflow/ops.py:4237: The name tf.train.CheckpointSaverListener is deprecated. Please use tf.estimator.CheckpointSaverListener instead.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/mesh_tensorflow/ops.py:4260: The name tf.train.SessionRunHook is deprecated. Please use tf.estimator.SessionRunHook instead.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/models/research/neural_stack.py:38: The name tf.nn.rnn_cell.RNNCell is deprecated. Please use tf.compat.v1.nn.rnn_cell.RNNCell instead.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/rl/gym_utils.py:235: The name tf.logging.info is deprecated. Please use tf.compat.v1.logging.info instead.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/trainer_lib.py:111: The name tf.OptimizerOptions is deprecated. Please use tf.compat.v1.OptimizerOptions instead.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensorflow_gan/python/estimator/tpu_gan_estimator.py:42: The name tf.estimator.tpu.TPUEstimator is deprecated. Please use tf.compat.v1.estimator.tpu.TPUEstimator instead.\r\n\r\nWARNING:tensorflow:From /usr/local/bin/t2t-trainer:32: The name tf.logging.set_verbosity is deprecated. Please use tf.compat.v1.logging.set_verbosity instead.\r\n\r\nWARNING:tensorflow:From /usr/local/bin/t2t-trainer:32: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.\r\n\r\nWARNING:tensorflow:From /usr/local/bin/t2t-trainer:33: The name tf.app.run is deprecated. Please use tf.compat.v1.app.run instead.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/hparams_lib.py:49: The name tf.gfile.Exists is deprecated. Please use tf.io.gfile.exists instead.\r\n\r\nW0316 12:49:12.574630 140506290238912 deprecation_wrapper.py:119] From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/hparams_lib.py:49: The name tf.gfile.Exists is deprecated. Please use tf.io.gfile.exists instead.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/trainer_lib.py:839: The name tf.set_random_seed is deprecated. Please use tf.compat.v1.set_random_seed instead.\r\n\r\nW0316 12:49:12.673067 140506290238912 deprecation_wrapper.py:119] From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/trainer_lib.py:839: The name tf.set_random_seed is deprecated. Please use tf.compat.v1.set_random_seed instead.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/trainer_lib.py:116: The name tf.GraphOptions is deprecated. Please use tf.compat.v1.GraphOptions instead.\r\n\r\nW0316 12:49:12.675126 140506290238912 deprecation_wrapper.py:119] From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/trainer_lib.py:116: The name tf.GraphOptions is deprecated. Please use tf.compat.v1.GraphOptions instead.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/trainer_lib.py:129: The name tf.GPUOptions is deprecated. Please use tf.compat.v1.GPUOptions instead.\r\n\r\nW0316 12:49:12.675529 140506290238912 deprecation_wrapper.py:119] From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/trainer_lib.py:129: The name tf.GPUOptions is deprecated. Please use tf.compat.v1.GPUOptions instead.\r\n\r\nI0316 12:49:12.683859 140506290238912 discovery.py:271] URL being requested: GET https://www.googleapis.com/discovery/v1/apis/tpu/v1alpha1/rest\r\nI0316 12:49:12.725476 140506290238912 discovery.py:867] URL being requested: GET https://tpu.googleapis.com/v1alpha1/projects/my-project/locations/europe-west4-a/nodes/europe4?alt=json\r\nI0316 12:49:12.725781 140506290238912 transport.py:157] Attempting refresh to obtain initial access_token\r\nI0316 12:49:12.812311 140506290238912 discovery.py:271] URL being requested: GET https://www.googleapis.com/discovery/v1/apis/tpu/v1alpha1/rest\r\nI0316 12:49:12.851186 140506290238912 discovery.py:867] URL being requested: GET https://tpu.googleapis.com/v1alpha1/projects/my-project/locations/europe-west4-a/nodes/europe4?alt=json\r\nI0316 12:49:12.851486 140506290238912 transport.py:157] Attempting refresh to obtain initial access_token\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/data_generators/text_encoder.py:940: The name tf.gfile.Open is deprecated. Please use tf.io.gfile.GFile instead.\r\n\r\nW0316 12:49:12.991070 140506290238912 deprecation_wrapper.py:119] From /usr/local/lib/python2.7/dist-packages/tensor2tensor/data_generators/text_encoder.py:940: The name tf.gfile.Open is deprecated. Please use tf.io.gfile.GFile instead.\r\n\r\nWARNING:tensorflow:Estimator's model_fn (<function wrapping_model_fn at 0x7fc9fc26f398>) includes params argument, but params are not passed to Estimator.\r\nW0316 12:49:13.249932 140506290238912 estimator.py:1984] Estimator's model_fn (<function wrapping_model_fn at 0x7fc9fc26f398>) includes params argument, but params are not passed to Estimator.\r\nINFO:tensorflow:Using config: {'_save_checkpoints_secs': None, '_num_ps_replicas': 0, '_keep_checkpoint_max': 20, '_task_type': 'worker', '_global_id_in_cluster': 0, '_is_chief': True, '_tpu_config': TPUConfig(iterations_per_loop=100, num_shards=8, num_cores_per_replica=None, per_host_input_for_training=2, tpu_job_name=None, initial_infeed_sleep_secs=None, input_partition_dims=None, eval_training_input_configuration=2), '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7fc9fc006510>, '_model_dir': 'gs://my-project/training/tmp', '_protocol': None, '_save_checkpoints_steps': 1000, '_keep_checkpoint_every_n_hours': 10000, '_service': None, '_session_config': gpu_options {\r\n  per_process_gpu_memory_fraction: 0.95\r\n}\r\nallow_soft_placement: true\r\ngraph_options {\r\n}\r\ncluster_def {\r\n  job {\r\n    name: \"worker\"\r\n    tasks {\r\n      key: 0\r\n      value: \"10.240.1.18:8470\"\r\n    }\r\n  }\r\n}\r\nisolate_session_state: true\r\n, 'use_tpu': True, '_tf_random_seed': None, '_save_summary_steps': 100, '_device_fn': None, '_cluster': <tensorflow.python.distribute.cluster_resolver.tpu_cluster_resolver.TPUClusterResolver object at 0x7fc9fd129250>, '_experimental_distribute': None, '_num_worker_replicas': 1, '_task_id': 0, '_log_step_count_steps': None, '_experimental_max_worker_delay_secs': None, '_evaluation_master': u'grpc://10.240.1.18:8470', '_eval_distribute': None, '_train_distribute': None, '_master': u'grpc://10.240.1.18:8470'}\r\nI0316 12:49:13.251069 140506290238912 estimator.py:209] Using config: {'_save_checkpoints_secs': None, '_num_ps_replicas': 0, '_keep_checkpoint_max': 20, '_task_type': 'worker', '_global_id_in_cluster': 0, '_is_chief': True, '_tpu_config': TPUConfig(iterations_per_loop=100, num_shards=8, num_cores_per_replica=None, per_host_input_for_training=2, tpu_job_name=None, initial_infeed_sleep_secs=None, input_partition_dims=None, eval_training_input_configuration=2), '_cluster_spec': <tensorflow.python.training.server_lib.ClusterSpec object at 0x7fc9fc006510>, '_model_dir': 'gs://my-project/training/tmp', '_protocol': None, '_save_checkpoints_steps': 1000, '_keep_checkpoint_every_n_hours': 10000, '_service': None, '_session_config': gpu_options {\r\n  per_process_gpu_memory_fraction: 0.95\r\n}\r\nallow_soft_placement: true\r\ngraph_options {\r\n}\r\ncluster_def {\r\n  job {\r\n    name: \"worker\"\r\n    tasks {\r\n      key: 0\r\n      value: \"10.240.1.18:8470\"\r\n    }\r\n  }\r\n}\r\nisolate_session_state: true\r\n, 'use_tpu': True, '_tf_random_seed': None, '_save_summary_steps': 100, '_device_fn': None, '_cluster': <tensorflow.python.distribute.cluster_resolver.tpu_cluster_resolver.TPUClusterResolver object at 0x7fc9fd129250>, '_experimental_distribute': None, '_num_worker_replicas': 1, '_task_id': 0, '_log_step_count_steps': None, '_experimental_max_worker_delay_secs': None, '_evaluation_master': u'grpc://10.240.1.18:8470', '_eval_distribute': None, '_train_distribute': None, '_master': u'grpc://10.240.1.18:8470'}\r\nINFO:tensorflow:_TPUContext: eval_on_tpu True\r\nI0316 12:49:13.252732 140506290238912 tpu_context.py:209] _TPUContext: eval_on_tpu True\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/bin/t2t_trainer.py:328: The name tf.gfile.MakeDirs is deprecated. Please use tf.io.gfile.makedirs instead.\r\n\r\nW0316 12:49:13.368489 140506290238912 deprecation_wrapper.py:119] From /usr/local/lib/python2.7/dist-packages/tensor2tensor/bin/t2t_trainer.py:328: The name tf.gfile.MakeDirs is deprecated. Please use tf.io.gfile.makedirs instead.\r\n\r\nINFO:tensorflow:Querying Tensorflow master (grpc://10.240.1.18:8470) for TPU system metadata.\r\nI0316 12:49:14.371850 140506290238912 tpu_system_metadata.py:78] Querying Tensorflow master (grpc://10.240.1.18:8470) for TPU system metadata.\r\n2020-03-16 12:49:14.373167: W tensorflow/core/distributed_runtime/rpc/grpc_session.cc:356] GrpcSession::ListDevices will initialize the session with an empty graph and other defaults because the session has not yet been created.\r\nINFO:tensorflow:Found TPU system:\r\nI0316 12:49:14.384757 140506290238912 tpu_system_metadata.py:148] Found TPU system:\r\nINFO:tensorflow:*** Num TPU Cores: 8\r\nI0316 12:49:14.385152 140506290238912 tpu_system_metadata.py:149] *** Num TPU Cores: 8\r\nINFO:tensorflow:*** Num TPU Workers: 1\r\nI0316 12:49:14.385714 140506290238912 tpu_system_metadata.py:150] *** Num TPU Workers: 1\r\nINFO:tensorflow:*** Num TPU Cores Per Worker: 8\r\nI0316 12:49:14.385898 140506290238912 tpu_system_metadata.py:152] *** Num TPU Cores Per Worker: 8\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:CPU:0, CPU, -1, 18153004822558697212)\r\nI0316 12:49:14.386076 140506290238912 tpu_system_metadata.py:154] *** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:CPU:0, CPU, -1, 18153004822558697212)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:0, TPU, 17179869184, 3131077452827063453)\r\nI0316 12:49:14.386504 140506290238912 tpu_system_metadata.py:154] *** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:0, TPU, 17179869184, 3131077452827063453)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:1, TPU, 17179869184, 285863435827645433)\r\nI0316 12:49:14.386677 140506290238912 tpu_system_metadata.py:154] *** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:1, TPU, 17179869184, 285863435827645433)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:2, TPU, 17179869184, 7574921377020815195)\r\nI0316 12:49:14.386845 140506290238912 tpu_system_metadata.py:154] *** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:2, TPU, 17179869184, 7574921377020815195)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:3, TPU, 17179869184, 6156291304405420504)\r\nI0316 12:49:14.387026 140506290238912 tpu_system_metadata.py:154] *** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:3, TPU, 17179869184, 6156291304405420504)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:4, TPU, 17179869184, 2147180529096251620)\r\nI0316 12:49:14.387211 140506290238912 tpu_system_metadata.py:154] *** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:4, TPU, 17179869184, 2147180529096251620)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:5, TPU, 17179869184, 16404941304364531224)\r\nI0316 12:49:14.387377 140506290238912 tpu_system_metadata.py:154] *** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:5, TPU, 17179869184, 16404941304364531224)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:6, TPU, 17179869184, 4697263980141791991)\r\nI0316 12:49:14.387541 140506290238912 tpu_system_metadata.py:154] *** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:6, TPU, 17179869184, 4697263980141791991)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:7, TPU, 17179869184, 15388571662384413779)\r\nI0316 12:49:14.387706 140506290238912 tpu_system_metadata.py:154] *** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU:7, TPU, 17179869184, 15388571662384413779)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU_SYSTEM:0, TPU_SYSTEM, 17179869184, 15368005949461242606)\r\nI0316 12:49:14.387868 140506290238912 tpu_system_metadata.py:154] *** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:TPU_SYSTEM:0, TPU_SYSTEM, 17179869184, 15368005949461242606)\r\nINFO:tensorflow:*** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 17179869184, 2717797883427288239)\r\nI0316 12:49:14.388044 140506290238912 tpu_system_metadata.py:154] *** Available Device: _DeviceAttributes(/job:worker/replica:0/task:0/device:XLA_CPU:0, XLA_CPU, 17179869184, 2717797883427288239)\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensorflow/python/training/training_util.py:236: initialized_value (from tensorflow.python.ops.variables) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse Variable.read_value. Variables in 2.X are initialized automatically both in eager and graph (inside tf.defun) contexts.\r\nW0316 12:49:14.393487 140506290238912 deprecation.py:323] From /usr/local/lib/python2.7/dist-packages/tensorflow/python/training/training_util.py:236: initialized_value (from tensorflow.python.ops.variables) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse Variable.read_value. Variables in 2.X are initialized automatically both in eager and graph (inside tf.defun) contexts.\r\nINFO:tensorflow:Calling model_fn.\r\nI0316 12:49:14.414323 140506290238912 estimator.py:1145] Calling model_fn.\r\nINFO:tensorflow:num_partitions = 1 partition_id = 0\r\nI0316 12:49:14.414944 140506290238912 problem.py:826] num_partitions = 1 partition_id = 0\r\nINFO:tensorflow:Reading data files from gs://my-project/data/translate_ende_wmt32k_packed-train*\r\nI0316 12:49:14.415206 140506290238912 problem.py:644] Reading data files from gs://my-project/data/translate_ende_wmt32k_packed-train*\r\nINFO:tensorflow:partition: 0 num_data_files: 100\r\nI0316 12:49:14.476078 140506290238912 problem.py:670] partition: 0 num_data_files: 100\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/data_generators/problem.py:680: parallel_interleave (from tensorflow.python.data.experimental.ops.interleave_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.data.Dataset.interleave(map_func, cycle_length, block_length, num_parallel_calls=tf.data.experimental.AUTOTUNE)` instead. If sloppy execution is desired, use `tf.data.Options.experimental_determinstic`.\r\nW0316 12:49:14.479042 140506290238912 deprecation.py:323] From /usr/local/lib/python2.7/dist-packages/tensor2tensor/data_generators/problem.py:680: parallel_interleave (from tensorflow.python.data.experimental.ops.interleave_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.data.Dataset.interleave(map_func, cycle_length, block_length, num_parallel_calls=tf.data.experimental.AUTOTUNE)` instead. If sloppy execution is desired, use `tf.data.Options.experimental_determinstic`.\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/data_reader.py:275: tf_record_iterator (from tensorflow.python.lib.io.tf_record) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse eager execution and: \r\n`tf.data.TFRecordDataset(path)`\r\nW0316 12:49:14.603265 140506290238912 deprecation.py:323] From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/data_reader.py:275: tf_record_iterator (from tensorflow.python.lib.io.tf_record) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse eager execution and: \r\n`tf.data.TFRecordDataset(path)`\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/data_reader.py:37: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.cast` instead.\r\nW0316 12:49:14.820894 140506290238912 deprecation.py:323] From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/data_reader.py:37: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.cast` instead.\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/data_reader.py:417: output_shapes (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.compat.v1.data.get_output_shapes(dataset)`.\r\nW0316 12:49:14.870455 140506290238912 deprecation.py:323] From /usr/local/lib/python2.7/dist-packages/tensor2tensor/utils/data_reader.py:417: output_shapes (from tensorflow.python.data.ops.dataset_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.compat.v1.data.get_output_shapes(dataset)`.\r\nINFO:tensorflow:Setting T2TModel mode to 'train'\r\nI0316 12:49:14.991553 140506290238912 t2t_model.py:2248] Setting T2TModel mode to 'train'\r\nINFO:tensorflow:Using variable initializer: uniform_unit_scaling\r\nI0316 12:49:15.940623 140506290238912 api.py:255] Using variable initializer: uniform_unit_scaling\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensorflow/python/autograph/converters/directives.py:117: The name tf.summary.scalar is deprecated. Please use tf.compat.v1.summary.scalar instead.\r\n\r\nW0316 12:49:15.987256 140506290238912 deprecation_wrapper.py:119] From /usr/local/lib/python2.7/dist-packages/tensorflow/python/autograph/converters/directives.py:117: The name tf.summary.scalar is deprecated. Please use tf.compat.v1.summary.scalar instead.\r\n\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensorflow/python/autograph/impl/api.py:255: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.cast` instead.\r\nW0316 12:49:16.365370 140506290238912 deprecation.py:323] From /usr/local/lib/python2.7/dist-packages/tensorflow/python/autograph/impl/api.py:255: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.cast` instead.\r\nINFO:tensorflow:Transforming feature 'inputs' with symbol_modality_33288_512.bottom\r\nI0316 12:49:16.533937 140506290238912 t2t_model.py:2248] Transforming feature 'inputs' with symbol_modality_33288_512.bottom\r\nINFO:tensorflow:Transforming feature 'inputs_position' with identity_modality.bottom\r\nI0316 12:49:16.568705 140506290238912 t2t_model.py:2248] Transforming feature 'inputs_position' with identity_modality.bottom\r\nINFO:tensorflow:Transforming feature 'inputs_segmentation' with identity_modality.bottom\r\nI0316 12:49:16.570141 140506290238912 t2t_model.py:2248] Transforming feature 'inputs_segmentation' with identity_modality.bottom\r\nINFO:tensorflow:Transforming feature 'targets' with symbol_modality_33288_512.targets_bottom\r\nI0316 12:49:16.571368 140506290238912 t2t_model.py:2248] Transforming feature 'targets' with symbol_modality_33288_512.targets_bottom\r\nINFO:tensorflow:Transforming feature 'targets_position' with identity_modality.bottom\r\nI0316 12:49:16.598011 140506290238912 t2t_model.py:2248] Transforming feature 'targets_position' with identity_modality.bottom\r\nINFO:tensorflow:Transforming feature 'targets_segmentation' with identity_modality.bottom\r\nI0316 12:49:16.599239 140506290238912 t2t_model.py:2248] Transforming feature 'targets_segmentation' with identity_modality.bottom\r\nINFO:tensorflow:Building model body\r\nI0316 12:49:16.600420 140506290238912 t2t_model.py:2248] Building model body\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/models/transformer.py:96: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.\r\nW0316 12:49:16.674422 140506290238912 deprecation.py:506] From /usr/local/lib/python2.7/dist-packages/tensor2tensor/models/transformer.py:96: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nPlease use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensor2tensor/layers/common_layers.py:3077: The name tf.layers.Dense is deprecated. Please use tf.compat.v1.layers.Dense instead.\r\n\r\nW0316 12:49:16.710041 140506290238912 deprecation_wrapper.py:119] From /usr/local/lib/python2.7/dist-packages/tensor2tensor/layers/common_layers.py:3077: The name tf.layers.Dense is deprecated. Please use tf.compat.v1.layers.Dense instead.\r\n\r\nSegmentation fault\r\n```\r\n\r\n\r\n**Describe the expected behavior**\r\nThe training should start. This worked 2 weeks ago.\r\n\r\n**Standalone code to reproduce the issue** \r\nRequest a VM and TPU using `ctpu up --zone=europe-west4-a --tpu-size=v3-8 --name europe4 --tf-version=1.15 --machine-type=n1-standard-2 --project my-project`\r\nThen, generate the data using `t2t-datagen --problem=translate_ende_wmt32k_packed --data_dir=${DATA_DIR} --tmp_dir=${TMP_DIR}`\r\nFinally, start the training using `t2t-trainer --model=transformer --hparams_set=transformer_tpu --problem=translate_ende_wmt32k_packed --eval_steps=3 --data_dir=${DATA_DIR} --output_dir=${MODEL_DIR}/translate_ende --use_tpu=True --cloud_tpu_name=${TPU_NAME} --train_steps=10` \r\nBoth steps are copied from the tutorial: https://cloud.google.com/tpu/docs/tutorials/transformer?hl=en#train_a_language_model_on_a_single_or_a_pod\r\n\r\nThis did work 2 weeks ago, I'm not sure what changed in the meantime.\r\nTraining using only a CPU works fine."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37635", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37635/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37635/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37635/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37635", "id": 582265094, "node_id": "MDU6SXNzdWU1ODIyNjUwOTQ=", "number": 37635, "title": "Class type changes after saving and loading", "user": {"login": "hgaiser", "id": 716138, "node_id": "MDQ6VXNlcjcxNjEzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/716138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hgaiser", "html_url": "https://github.com/hgaiser", "followers_url": "https://api.github.com/users/hgaiser/followers", "following_url": "https://api.github.com/users/hgaiser/following{/other_user}", "gists_url": "https://api.github.com/users/hgaiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/hgaiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hgaiser/subscriptions", "organizations_url": "https://api.github.com/users/hgaiser/orgs", "repos_url": "https://api.github.com/users/hgaiser/repos", "events_url": "https://api.github.com/users/hgaiser/events{/privacy}", "received_events_url": "https://api.github.com/users/hgaiser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-16T12:42:43Z", "updated_at": "2020-03-18T09:31:19Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Arch Linux\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: \r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): 2.1.0\r\n- Python version: 3.8.1\r\n- Bazel version (if compiling from source): N/A\r\n- GCC/Compiler version (if compiling from source): N/A\r\n- CUDA/cuDNN version: N/A\r\n- GPU model and memory: N/A\r\n\r\n**Describe the current behavior**\r\nCreating a model containing a certain layer class (in my case `tf.keras.layers.BatchNormalization`) changes after saving and loading the model.\r\n\r\nBefore loading it is of type \r\n```python\r\ntensorflow.python.keras.layers.normalization_v2.BatchNormalization\r\n```\r\n\r\nWhich is the same as `tf.keras.layers.BatchNormalization`, but after loading it is of type:\r\n\r\n```python\r\ntensorflow.python.keras.layers.normalization.BatchNormalization\r\n```\r\n\r\nWhich is not the same.\r\n\r\n**Describe the expected behavior**\r\nExpected behavior is that the type of the layer remains unchanged after saving and loading.\r\n\r\n**Standalone code to reproduce the issue** \r\n```python\r\nimport tensorflow as tf\r\n\r\nmodel = tf.keras.Sequential([\r\n\ttf.keras.layers.BatchNormalization()\r\n])\r\nmodel.build(input_shape=(1,))\r\nmodel.save('/tmp/model.h5')\r\n\r\nloaded_model = tf.keras.models.load_model('/tmp/model.h5')\r\n\r\n# True\r\nprint(isinstance(model.layers[0], tf.keras.layers.BatchNormalization))\r\n\r\n# False\r\nprint(isinstance(loaded_model.layers[0], tf.keras.layers.BatchNormalization))\r\n\r\n# AttributeError: module 'tensorflow' has no attribute 'python'\r\nimport tensorflow.python.keras.layers.normalization\r\nprint(isinstance(loaded_model.layers[0], tensorflow.python.keras.layers.normalization.BatchNormalization))\r\n```\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\nThe reason I want to do this is because I want to freeze updating of the batch normalization weights, which can be done by setting `layer.training = False`. My goal is to do something like this:\r\n```python\r\nfor l in model.layers:\r\n    if isinstance(l, tf.keras.layers.BatchNormalization):\r\n        l.training = False\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37634", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37634/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37634/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37634/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37634", "id": 582210787, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg5MTYzNTQ5", "number": 37634, "title": "[Feature] use np.asarray_chkfinite in tf.keras.backend.cast_to_floatx", "user": {"login": "howl-anderson", "id": 1263428, "node_id": "MDQ6VXNlcjEyNjM0Mjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1263428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/howl-anderson", "html_url": "https://github.com/howl-anderson", "followers_url": "https://api.github.com/users/howl-anderson/followers", "following_url": "https://api.github.com/users/howl-anderson/following{/other_user}", "gists_url": "https://api.github.com/users/howl-anderson/gists{/gist_id}", "starred_url": "https://api.github.com/users/howl-anderson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/howl-anderson/subscriptions", "organizations_url": "https://api.github.com/users/howl-anderson/orgs", "repos_url": "https://api.github.com/users/howl-anderson/repos", "events_url": "https://api.github.com/users/howl-anderson/events{/privacy}", "received_events_url": "https://api.github.com/users/howl-anderson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}], "state": "open", "locked": false, "assignee": {"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-16T11:19:36Z", "updated_at": "2020-03-16T17:59:40Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37634", "html_url": "https://github.com/tensorflow/tensorflow/pull/37634", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37634.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37634.patch"}, "body": "Use `numpy.asarray_chkfinite` instead of `numpy.asarray` in `tf.keras.backend.cast_to_floatx`.\r\n\r\nIt can help prevent user pass value which contains None, `inf`, `np.nan` or `np.inf` as input.\r\n\r\nrelated to issue #37196\r\nfixes #37627"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37633", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37633/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37633/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37633/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37633", "id": 582209525, "node_id": "MDU6SXNzdWU1ODIyMDk1MjU=", "number": 37633, "title": "set_shape is not loaded from saved model", "user": {"login": "StefReck", "id": 33060163, "node_id": "MDQ6VXNlcjMzMDYwMTYz", "avatar_url": "https://avatars2.githubusercontent.com/u/33060163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StefReck", "html_url": "https://github.com/StefReck", "followers_url": "https://api.github.com/users/StefReck/followers", "following_url": "https://api.github.com/users/StefReck/following{/other_user}", "gists_url": "https://api.github.com/users/StefReck/gists{/gist_id}", "starred_url": "https://api.github.com/users/StefReck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StefReck/subscriptions", "organizations_url": "https://api.github.com/users/StefReck/orgs", "repos_url": "https://api.github.com/users/StefReck/repos", "events_url": "https://api.github.com/users/StefReck/events{/privacy}", "received_events_url": "https://api.github.com/users/StefReck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "k-w-w", "id": 31663267, "node_id": "MDQ6VXNlcjMxNjYzMjY3", "avatar_url": "https://avatars2.githubusercontent.com/u/31663267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-w-w", "html_url": "https://github.com/k-w-w", "followers_url": "https://api.github.com/users/k-w-w/followers", "following_url": "https://api.github.com/users/k-w-w/following{/other_user}", "gists_url": "https://api.github.com/users/k-w-w/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-w-w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-w-w/subscriptions", "organizations_url": "https://api.github.com/users/k-w-w/orgs", "repos_url": "https://api.github.com/users/k-w-w/repos", "events_url": "https://api.github.com/users/k-w-w/events{/privacy}", "received_events_url": "https://api.github.com/users/k-w-w/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "k-w-w", "id": 31663267, "node_id": "MDQ6VXNlcjMxNjYzMjY3", "avatar_url": "https://avatars2.githubusercontent.com/u/31663267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-w-w", "html_url": "https://github.com/k-w-w", "followers_url": "https://api.github.com/users/k-w-w/followers", "following_url": "https://api.github.com/users/k-w-w/following{/other_user}", "gists_url": "https://api.github.com/users/k-w-w/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-w-w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-w-w/subscriptions", "organizations_url": "https://api.github.com/users/k-w-w/orgs", "repos_url": "https://api.github.com/users/k-w-w/repos", "events_url": "https://api.github.com/users/k-w-w/events{/privacy}", "received_events_url": "https://api.github.com/users/k-w-w/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-03-16T11:17:36Z", "updated_at": "2020-03-18T09:57:22Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n- TensorFlow version (use command below): 2.1.0\r\n- Python version: 3.6.10\r\n\r\n**Describe the current behavior**\r\nWhen loading a saved keras model that contains .set_shape on a tensor, this is not loaded.\r\n\r\n``` python\r\nimport tensorflow as tf\r\n\r\ninp = tf.keras.Input((None, 3))\r\ninp.set_shape((None, 2, 3))\r\nx = tf.keras.layers.Dense(3)(inp)\r\n\r\nmodel = tf.keras.Model(inp, x)\r\nmodel.summary()\r\n\r\nmodel.save(\"test.h5\")\r\nloaded = tf.keras.models.load_model(\"test.h5\")\r\nloaded.summary()\r\n```\r\n\r\nmodel.summary():\r\n```\r\n_________________________________________________________________\r\nLayer (type)                 Output Shape              Param #   \r\n=================================================================\r\ninput_1 (InputLayer)         [(None, None, 3)]         0         \r\n_________________________________________________________________\r\ndense (Dense)                (None, 2, 3)              12        \r\n=================================================================\r\n```\r\n\r\nloaded.summary():\r\n\r\n```\r\n_________________________________________________________________\r\nLayer (type)                 Output Shape              Param #   \r\n=================================================================\r\ninput_1 (InputLayer)         [(None, None, 3)]         0         \r\n_________________________________________________________________\r\ndense (Dense)                (None, None, 3)           12        \r\n=================================================================\r\n```\r\n--> Shape is not identical!\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37631", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37631/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37631/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37631/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37631", "id": 582154724, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg5MTE1NjIx", "number": 37631, "title": "NFC - minor spelling tweaks under lite/delegates directory ", "user": {"login": "kiszk", "id": 1315079, "node_id": "MDQ6VXNlcjEzMTUwNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1315079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiszk", "html_url": "https://github.com/kiszk", "followers_url": "https://api.github.com/users/kiszk/followers", "following_url": "https://api.github.com/users/kiszk/following{/other_user}", "gists_url": "https://api.github.com/users/kiszk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiszk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiszk/subscriptions", "organizations_url": "https://api.github.com/users/kiszk/orgs", "repos_url": "https://api.github.com/users/kiszk/repos", "events_url": "https://api.github.com/users/kiszk/events{/privacy}", "received_events_url": "https://api.github.com/users/kiszk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 987666414, "node_id": "MDU6TGFiZWw5ODc2NjY0MTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/ready%20to%20pull", "name": "ready to pull", "color": "2cd643", "default": false, "description": ""}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-16T09:58:45Z", "updated_at": "2020-03-17T18:06:23Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37631", "html_url": "https://github.com/tensorflow/tensorflow/pull/37631", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37631.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37631.patch"}, "body": "This PR addresses minor spelling tweaks under `tensorflow/lite/delegates` directory.\r\nfollow-on of #35286"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37630", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37630/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37630/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37630/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37630", "id": 582143935, "node_id": "MDU6SXNzdWU1ODIxNDM5MzU=", "number": 37630, "title": "TFRecordDataset is loaded into memory entirely, yielding out-of-memory", "user": {"login": "jonyvp", "id": 39876179, "node_id": "MDQ6VXNlcjM5ODc2MTc5", "avatar_url": "https://avatars2.githubusercontent.com/u/39876179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonyvp", "html_url": "https://github.com/jonyvp", "followers_url": "https://api.github.com/users/jonyvp/followers", "following_url": "https://api.github.com/users/jonyvp/following{/other_user}", "gists_url": "https://api.github.com/users/jonyvp/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonyvp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonyvp/subscriptions", "organizations_url": "https://api.github.com/users/jonyvp/orgs", "repos_url": "https://api.github.com/users/jonyvp/repos", "events_url": "https://api.github.com/users/jonyvp/events{/privacy}", "received_events_url": "https://api.github.com/users/jonyvp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1114343535, "node_id": "MDU6TGFiZWwxMTE0MzQzNTM1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:data", "name": "comp:data", "color": "0052cc", "default": false, "description": "tf.data related issues"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 1463677878, "node_id": "MDU6TGFiZWwxNDYzNjc3ODc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:performance", "name": "type:performance", "color": "159b2e", "default": false, "description": "Performance Issue"}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-16T09:41:57Z", "updated_at": "2020-03-16T16:31:04Z", "closed_at": null, "author_association": "NONE", "body": "\r\n\r\n**System information** \r\nSystem information\r\n\r\nHave I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): Yes\r\nOS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): complex_model_m_gpu tier on the nightly docker image of tf\r\nMobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: /\r\nTensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below): Nightly\r\nPython version: - 3.6.9\r\nversion (if compiling from source): /\r\nGCC/Compiler version (if compiling from\r\nsource): /\r\nCUDA/cuDNN version: - GPU model and memory: Using K80 GPU's\r\n\r\n**Describe the current behavior**\r\nI previously loaded my images as npz bytestrings into a TFRecord, together with the label of the image. I would then convert the image and label to the expected format using TFRecordDataset mappings onto `tf.py_function()`s for training . \r\n\r\nI now try to do the formatting beforehand. This yields TFRecords that are much larger. I therefore use the `GZIP` compression. At runtime though, it seems the entire TFRecord is loaded into memory, making the training crash after some time. I even split the TFRecords into smaller partitions, but this makes no difference. How should this be tackled and/or is this normal behavior?\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/39876179/76743276-ab887180-6772-11ea-9017-5de8f0683a36.png)\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37629", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37629/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37629/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37629/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37629", "id": 582099672, "node_id": "MDU6SXNzdWU1ODIwOTk2NzI=", "number": 37629, "title": "Build TF 2.1.0 with RHEL6/RHEL7", "user": {"login": "npandey2385", "id": 30336991, "node_id": "MDQ6VXNlcjMwMzM2OTkx", "avatar_url": "https://avatars2.githubusercontent.com/u/30336991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/npandey2385", "html_url": "https://github.com/npandey2385", "followers_url": "https://api.github.com/users/npandey2385/followers", "following_url": "https://api.github.com/users/npandey2385/following{/other_user}", "gists_url": "https://api.github.com/users/npandey2385/gists{/gist_id}", "starred_url": "https://api.github.com/users/npandey2385/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/npandey2385/subscriptions", "organizations_url": "https://api.github.com/users/npandey2385/orgs", "repos_url": "https://api.github.com/users/npandey2385/repos", "events_url": "https://api.github.com/users/npandey2385/events{/privacy}", "received_events_url": "https://api.github.com/users/npandey2385/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 1205615612, "node_id": "MDU6TGFiZWwxMjA1NjE1NjEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:%20ubuntu/linux", "name": "subtype: ubuntu/linux", "color": "b619ea", "default": false, "description": "Ubuntu/Linux Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "angerson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angerson", "html_url": "https://github.com/angerson", "followers_url": "https://api.github.com/users/angerson/followers", "following_url": "https://api.github.com/users/angerson/following{/other_user}", "gists_url": "https://api.github.com/users/angerson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angerson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angerson/subscriptions", "organizations_url": "https://api.github.com/users/angerson/orgs", "repos_url": "https://api.github.com/users/angerson/repos", "events_url": "https://api.github.com/users/angerson/events{/privacy}", "received_events_url": "https://api.github.com/users/angerson/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "angerson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angerson", "html_url": "https://github.com/angerson", "followers_url": "https://api.github.com/users/angerson/followers", "following_url": "https://api.github.com/users/angerson/following{/other_user}", "gists_url": "https://api.github.com/users/angerson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angerson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angerson/subscriptions", "organizations_url": "https://api.github.com/users/angerson/orgs", "repos_url": "https://api.github.com/users/angerson/repos", "events_url": "https://api.github.com/users/angerson/events{/privacy}", "received_events_url": "https://api.github.com/users/angerson/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-16T08:31:59Z", "updated_at": "2020-03-17T06:59:16Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (Linux Redhat 6):\r\n- TensorFlow installed from (source ):\r\n- TensorFlow version:  2.1.0\r\n- Python version:   3.7.2\r\n- Bazel version (if compiling from source):   0.28.1\r\n- GCC/Compiler version (if compiling from source):    7.4.0\r\n\r\n**Describe the problem**\r\nNot able to build TF 2.1.0 on RHEL6 and RHEL7\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\n./configure\r\nbazel build --config=opt //tensorflow/tools/pip_package:build_pip_package\r\n\r\n**Any other info / logs**\r\n\r\nERROR: /servers/scratch03/niraj/tf-2.1/tensorflow-2.1.0/tensorflow/compiler/tf2tensorrt/BUILD:524:1: SWIGing tensorflow/compiler/tf2tensorrt/utils/py_utils.i failed (Exit 1)\r\n/home/niraj/.cache/bazel/_bazel_niraj/install/efb644d4834d79efdfe4de9f85220414/_embedded_binaries/process-wrapper: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.21' not found (required by /home/niraj/.cache/bazel/_bazel_niraj/install/efb644d4834d79efdfe4de9f85220414/_embedded_binaries/process-wrapper)\r\n/home/niraj/.cache/bazel/_bazel_niraj/install/efb644d4834d79efdfe4de9f85220414/_embedded_binaries/process-wrapper: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.18' not found (required by /home/niraj/.cache/bazel/_bazel_niraj/install/efb644d4834d79efdfe4de9f85220414/_embedded_binaries/process-wrapper)\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37627", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37627/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37627/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37627/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37627", "id": 582080463, "node_id": "MDU6SXNzdWU1ODIwODA0NjM=", "number": 37627, "title": "[Proposal] use numpy.asarray_chkfinite in tf.keras.backend.cast_to_floatx", "user": {"login": "howl-anderson", "id": 1263428, "node_id": "MDQ6VXNlcjEyNjM0Mjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1263428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/howl-anderson", "html_url": "https://github.com/howl-anderson", "followers_url": "https://api.github.com/users/howl-anderson/followers", "following_url": "https://api.github.com/users/howl-anderson/following{/other_user}", "gists_url": "https://api.github.com/users/howl-anderson/gists{/gist_id}", "starred_url": "https://api.github.com/users/howl-anderson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/howl-anderson/subscriptions", "organizations_url": "https://api.github.com/users/howl-anderson/orgs", "repos_url": "https://api.github.com/users/howl-anderson/repos", "events_url": "https://api.github.com/users/howl-anderson/events{/privacy}", "received_events_url": "https://api.github.com/users/howl-anderson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rchao", "id": 6505863, "node_id": "MDQ6VXNlcjY1MDU4NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6505863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchao", "html_url": "https://github.com/rchao", "followers_url": "https://api.github.com/users/rchao/followers", "following_url": "https://api.github.com/users/rchao/following{/other_user}", "gists_url": "https://api.github.com/users/rchao/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchao/subscriptions", "organizations_url": "https://api.github.com/users/rchao/orgs", "repos_url": "https://api.github.com/users/rchao/repos", "events_url": "https://api.github.com/users/rchao/events{/privacy}", "received_events_url": "https://api.github.com/users/rchao/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchao", "id": 6505863, "node_id": "MDQ6VXNlcjY1MDU4NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6505863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchao", "html_url": "https://github.com/rchao", "followers_url": "https://api.github.com/users/rchao/followers", "following_url": "https://api.github.com/users/rchao/following{/other_user}", "gists_url": "https://api.github.com/users/rchao/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchao/subscriptions", "organizations_url": "https://api.github.com/users/rchao/orgs", "repos_url": "https://api.github.com/users/rchao/repos", "events_url": "https://api.github.com/users/rchao/events{/privacy}", "received_events_url": "https://api.github.com/users/rchao/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-16T07:59:18Z", "updated_at": "2020-03-18T15:06:29Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "Maybe we can use `numpy.asarray_chkfinite` instead of `numpy.asarray` in `tf.keras.backend.cast_to_floatx`?\r\n\r\n```python\r\n@keras_export('keras.backend.cast_to_floatx')\r\ndef cast_to_floatx(x):\r\n  if isinstance(x, (ops.Tensor,\r\n                    variables_module.Variable,\r\n                    sparse_tensor.SparseTensor)):\r\n    return math_ops.cast(x, dtype=floatx())\r\n  return np.asarray(x, dtype=floatx())\r\n```\r\n\r\nIt can help prevent user pass value which contains None, `inf`, `np.nan` or `np.inf` as input.\r\n\r\nrelated to issue #37196\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37626", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37626/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37626/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37626/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37626", "id": 582078508, "node_id": "MDU6SXNzdWU1ODIwNzg1MDg=", "number": 37626, "title": "[tflite][java] has_rank_one_input_condition error when use runForMultipleInputsOutputs()", "user": {"login": "aruno14", "id": 34150237, "node_id": "MDQ6VXNlcjM0MTUwMjM3", "avatar_url": "https://avatars0.githubusercontent.com/u/34150237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aruno14", "html_url": "https://github.com/aruno14", "followers_url": "https://api.github.com/users/aruno14/followers", "following_url": "https://api.github.com/users/aruno14/following{/other_user}", "gists_url": "https://api.github.com/users/aruno14/gists{/gist_id}", "starred_url": "https://api.github.com/users/aruno14/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aruno14/subscriptions", "organizations_url": "https://api.github.com/users/aruno14/orgs", "repos_url": "https://api.github.com/users/aruno14/repos", "events_url": "https://api.github.com/users/aruno14/events{/privacy}", "received_events_url": "https://api.github.com/users/aruno14/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "haozha111", "id": 6316921, "node_id": "MDQ6VXNlcjYzMTY5MjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6316921?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haozha111", "html_url": "https://github.com/haozha111", "followers_url": "https://api.github.com/users/haozha111/followers", "following_url": "https://api.github.com/users/haozha111/following{/other_user}", "gists_url": "https://api.github.com/users/haozha111/gists{/gist_id}", "starred_url": "https://api.github.com/users/haozha111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haozha111/subscriptions", "organizations_url": "https://api.github.com/users/haozha111/orgs", "repos_url": "https://api.github.com/users/haozha111/repos", "events_url": "https://api.github.com/users/haozha111/events{/privacy}", "received_events_url": "https://api.github.com/users/haozha111/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "haozha111", "id": 6316921, "node_id": "MDQ6VXNlcjYzMTY5MjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6316921?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haozha111", "html_url": "https://github.com/haozha111", "followers_url": "https://api.github.com/users/haozha111/followers", "following_url": "https://api.github.com/users/haozha111/following{/other_user}", "gists_url": "https://api.github.com/users/haozha111/gists{/gist_id}", "starred_url": "https://api.github.com/users/haozha111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haozha111/subscriptions", "organizations_url": "https://api.github.com/users/haozha111/orgs", "repos_url": "https://api.github.com/users/haozha111/repos", "events_url": "https://api.github.com/users/haozha111/events{/privacy}", "received_events_url": "https://api.github.com/users/haozha111/received_events", "type": "User", "site_admin": false}, {"login": "renjie-liu", "id": 36247193, "node_id": "MDQ6VXNlcjM2MjQ3MTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/36247193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/renjie-liu", "html_url": "https://github.com/renjie-liu", "followers_url": "https://api.github.com/users/renjie-liu/followers", "following_url": "https://api.github.com/users/renjie-liu/following{/other_user}", "gists_url": "https://api.github.com/users/renjie-liu/gists{/gist_id}", "starred_url": "https://api.github.com/users/renjie-liu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/renjie-liu/subscriptions", "organizations_url": "https://api.github.com/users/renjie-liu/orgs", "repos_url": "https://api.github.com/users/renjie-liu/repos", "events_url": "https://api.github.com/users/renjie-liu/events{/privacy}", "received_events_url": "https://api.github.com/users/renjie-liu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-03-16T07:55:23Z", "updated_at": "2020-03-19T04:47:25Z", "closed_at": null, "author_association": "NONE", "body": "I obtain an error when use two inputs in runForMultipleInputsOutputs().\r\n\r\n**System information** \r\n- Custom code\r\n- Android API 29\r\n- Android simulator\r\n- Used libraries:\r\n-- org.tensorflow:tensorflow-lite:2.1.0\r\n-- org.tensorflow:tensorflow-lite-gpu:2.1.0\r\n-- org.tensorflow:tensorflow-lite-support:0.0.0-nightly\r\n\r\n- Used model information\r\n[The model tolite file](https://github.com/tensorflow/tensorflow/files/4336843/classifier_lstm2.tflite.zip)\r\n\r\n[{'name': 'input_1', 'index': 0, 'shape': array([ 1, 10], dtype=int32), 'dtype': <class 'numpy.float32'>, 'quantization': (0.0, 0)}, {'name': 'input_2', 'index': 1, 'shape': array([1, 2], dtype=int32), 'dtype': <class 'numpy.float32'>, 'quantization': (0.0, 0)}]\r\n\r\n```\r\n__________________________________________________________________________________________________\r\nLayer (type)                    Output Shape         Param #     Connected to                     \r\n==================================================================================================\r\ninput_1 (InputLayer)            [(None, 10)]         0                                            \r\n__________________________________________________________________________________________________\r\nembedding_1 (Embedding)         (None, 10, 256)      15616       input_1[0][0]                    \r\n__________________________________________________________________________________________________\r\ninput_2 (InputLayer)            [(None, 2)]          0                                            \r\n__________________________________________________________________________________________________\r\nlstm_1 (LSTM)                   (None, 256)          525312      embedding_1[0][0]                \r\n__________________________________________________________________________________________________\r\nconcatenate (Concatenate)       (None, 258)          0           input_2[0][0]                    \r\n                                                                 lstm_1[0][0]                     \r\n__________________________________________________________________________________________________\r\ndense_1 (Dense)                 (None, 61)           15799       concatenate[0][0]                \r\n==================================================================================================\r\n```\r\n\r\n**The error**\r\n```\r\njava.lang.IllegalArgumentException: Internal error: Failed to run on the given Interpreter: tensorflow/lite/kernels/select.cc:80 data->has_rank_one_input_condition was not true.\r\nNode number 23 (SELECT) failed to prepare.\r\nNode number 19 (WHILE) failed to invoke.\r\n```\r\n\r\n**The code**\r\n\r\n```\r\nMappedByteBuffer tfliteModelCaption = FileUtil.loadMappedFile(activity, \"classifier_caption.tflite\");\r\nInterpreter.Options options = new Interpreter.Options();\r\nInterpreter tflite = new Interpreter(tfliteModelCaption, options);\r\nfloat[][] inputString = new float[1][10];\r\ninputString[0][9] = 4;\r\nfloat[][] inputData = new float[1][2];\r\ninputData[0][0] = 0;\r\ninputData[0][1] = 1;\r\nObject[] inputArray = {inputString, inputData};\r\nMap<Integer, Object> outputMap = new HashMap<>();\r\noutputMap.put(0, new float[1][61]);\r\ntflite.runForMultipleInputsOutputs(inputArray, outputMap);\r\ntflite.close();\r\nfloat[] result = ((float[][]) outputMap.get(0))[0];\r\ntextViewAge.setText(\"Test: \" + Arrays.toString(result));\r\n```\r\n\r\nThe error seems to means the shape of the inputs does not fit the model input, but I checked it many time and for me it looks the same. I create a similar model with only one input (no input_2)  and I can use it without error.\r\n\r\n\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37624", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37624/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37624/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37624/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37624", "id": 582058054, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg5MDM0MzAw", "number": 37624, "title": "[Intel MKL] Enable DepthwiseConv2D + BiasAdd (+ Relu/Relu6/Elu) fusion", "user": {"login": "CuiYifeng", "id": 52697806, "node_id": "MDQ6VXNlcjUyNjk3ODA2", "avatar_url": "https://avatars3.githubusercontent.com/u/52697806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CuiYifeng", "html_url": "https://github.com/CuiYifeng", "followers_url": "https://api.github.com/users/CuiYifeng/followers", "following_url": "https://api.github.com/users/CuiYifeng/following{/other_user}", "gists_url": "https://api.github.com/users/CuiYifeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/CuiYifeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CuiYifeng/subscriptions", "organizations_url": "https://api.github.com/users/CuiYifeng/orgs", "repos_url": "https://api.github.com/users/CuiYifeng/repos", "events_url": "https://api.github.com/users/CuiYifeng/events{/privacy}", "received_events_url": "https://api.github.com/users/CuiYifeng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1104829434, "node_id": "MDU6TGFiZWwxMTA0ODI5NDM0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:mkl", "name": "comp:mkl", "color": "0052cc", "default": false, "description": ""}, {"id": 1169365682, "node_id": "MDU6TGFiZWwxMTY5MzY1Njgy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:L", "name": "size:L", "color": "adafea", "default": false, "description": "CL Change Size: Large"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-16T07:12:01Z", "updated_at": "2020-03-16T07:21:01Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37624", "html_url": "https://github.com/tensorflow/tensorflow/pull/37624", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37624.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37624.patch"}, "body": ""}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37623", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37623/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37623/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37623/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37623", "id": 582010558, "node_id": "MDU6SXNzdWU1ODIwMTA1NTg=", "number": 37623, "title": "Building tensorflow lite for Android (C++) undefined reference error", "user": {"login": "lackhole", "id": 35574936, "node_id": "MDQ6VXNlcjM1NTc0OTM2", "avatar_url": "https://avatars0.githubusercontent.com/u/35574936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lackhole", "html_url": "https://github.com/lackhole", "followers_url": "https://api.github.com/users/lackhole/followers", "following_url": "https://api.github.com/users/lackhole/following{/other_user}", "gists_url": "https://api.github.com/users/lackhole/gists{/gist_id}", "starred_url": "https://api.github.com/users/lackhole/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lackhole/subscriptions", "organizations_url": "https://api.github.com/users/lackhole/orgs", "repos_url": "https://api.github.com/users/lackhole/repos", "events_url": "https://api.github.com/users/lackhole/events{/privacy}", "received_events_url": "https://api.github.com/users/lackhole/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-16T05:17:27Z", "updated_at": "2020-03-18T21:23:37Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04, MacOS 10.15.3\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: latest\r\n- Python version: 2.7.17\r\n- Installed using virtualenv? pip? conda?:\r\n- Bazel version (if compiling from source): 2.2.0\r\n- GCC/Compiler version (if compiling from source): 7.5.0\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\nI want to build tensorflow lite in android with C++, so I followed the [document](https://www.tensorflow.org/lite/guide/build_arm64)\r\nBuild works fine, but when I load libtensorflowlite.a into an Android and build, undefined reference of default libraries apperas.\r\nAt first, undefined std::__cxx11::string... error happened, so I added a compiler flag(-D_GLIBCXX_USE_CXX11_ABI=0).\r\nBut other undefined error still happens.\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\n\r\n**Any other info / logs**\r\nCMakeLists.txt\r\n```\r\nCMAKE_MINIMUM_REQUIRED(VERSION 3.3)\r\nproject(tflite)\r\n\r\nadd_library(tflite INTERFACE)\r\n\r\nset (TFLITE_PATH ${CMAKE_CURRENT_SOURCE_DIR})\r\nset (TFLITE_LIB_PATH \"${TFLITE_PATH}/${CMAKE_ANDROID_ARCH_ABI}\")\r\nset (TFLITE_INCLUDE_PATH \"${TFLITE_PATH}/include\")\r\n\r\ntarget_link_libraries(\r\n        tflite\r\n        INTERFACE\r\n        \"${TFLITE_LIB_PATH}/libtensorflow-lite.a\"\r\n)\r\n\r\ntarget_include_directories(\r\n        tflite\r\n        INTERFACE\r\n        \"${TFLITE_INCLUDE_PATH}\"\r\n        \"${TFLITE_INCLUDE_PATH}/tensorflow\"\r\n        \"${TFLITE_INCLUDE_PATH}/tensorflow/thirdparty\"\r\n)\r\n```\r\n\r\nError log\r\n```\r\nBuild command failed.\r\nError while executing process /Users/yonggyulee/Library/Android/sdk/cmake/3.6.4111459/bin/cmake with arguments {--build /Users/yonggyulee/Downloads/cppinclude-a4125304137c01ff2f171981e6cdaab051d36d47/app/.cxx/cmake/debug/arm64-v8a --target cpp-test}\r\n[1/4] Building CXX object src/main/cpp/cpp_test/CMakeFiles/cpp-test.dir/src/TestClass.cpp.o\r\n[2/4] Building CXX object src/main/cpp/cpp_test/CMakeFiles/cpp-test.dir/src/LoadModel.cpp.o\r\n[3/4] Building CXX object src/main/cpp/cpp_test/CMakeFiles/cpp-test.dir/src/tftest.cpp.o\r\n[4/4] Linking CXX shared library ../../../../build/intermediates/cmake/debug/obj/arm64-v8a/libcpp-test.so\r\nFAILED: : && /Users/yonggyulee/Library/Android/sdk/ndk/20.0.5594570/toolchains/llvm/prebuilt/darwin-x86_64/bin/clang++  --target=aarch64-none-linux-android24 --gcc-toolchain=/Users/yonggyulee/Library/Android/sdk/ndk/20.0.5594570/toolchains/llvm/prebuilt/darwin-x86_64 --sysroot=/Users/yonggyulee/Library/Android/sdk/ndk/20.0.5594570/toolchains/llvm/prebuilt/darwin-x86_64/sysroot -fPIC -g -DANDROID -fdata-sections -ffunction-sections -funwind-tables -fstack-protector-strong -no-canonical-prefixes -fno-addrsig -Wa,--noexecstack -Wformat -Werror=format-security   -O0 -fno-limit-debug-info  -Wl,--exclude-libs,libgcc.a -Wl,--exclude-libs,libatomic.a -static-libstdc++ -Wl,--build-id -Wl,--warn-shared-textrel -Wl,--fatal-warnings -Wl,--no-undefined -Qunused-arguments -Wl,-z,noexecstack -shared -Wl,-soname,libcpp-test.so -o ../../../../build/intermediates/cmake/debug/obj/arm64-v8a/libcpp-test.so src/main/cpp/cpp_test/CMakeFiles/cpp-test.dir/src/TestClass.cpp.o src/main/cpp/cpp_test/CMakeFiles/cpp-test.dir/src/LoadModel.cpp.o src/main/cpp/cpp_test/CMakeFiles/cpp-test.dir/src/tftest.cpp.o  ../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a -latomic -lm && :\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(model.o): In function `tflite::FlatBufferModel::GetMinimumRuntime() const':\r\nmodel.cc:(.text+0x51c): undefined reference to `std::string::_Rep::_S_empty_rep_storage'\r\nmodel.cc:(.text+0x574): undefined reference to `std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(char const*, unsigned long, std::allocator<char> const&)'\r\nmodel.cc:(.text+0x580): undefined reference to `std::string::compare(char const*) const'\r\nmodel.cc:(.text+0x58c): undefined reference to `std::string::_Rep::_S_empty_rep_storage'\r\nmodel.cc:(.text+0x604): undefined reference to `std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(char const*, std::allocator<char> const&)'\r\nmodel.cc:(.text+0x624): undefined reference to `std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(char const*, std::allocator<char> const&)'\r\nmodel.cc:(.text+0x704): undefined reference to `std::string::_Rep::_M_destroy(std::allocator<char> const&)'\r\nmodel.cc:(.text+0x748): undefined reference to `std::basic_string<char, std::char_traits<char>, std::allocator<char> >::basic_string(char const*, unsigned long, std::allocator<char> const&)'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(allocation.o): In function `tflite::FileCopyAllocation::FileCopyAllocation(char const*, tflite::ErrorReporter*)':\r\nallocation.cc:(.text+0x130): undefined reference to `__fxstat'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(subgraph.o): In function `tflite::Subgraph::ReserveNodes(int)':\r\nsubgraph.cc:(.text+0x51c): undefined reference to `std::__throw_length_error(char const*)'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(subgraph.o): In function `tflite::Subgraph::PrepareOpsStartingAt(int, int*)':\r\nsubgraph.cc:(.text+0xee0): undefined reference to `std::__throw_length_error(char const*)'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(subgraph.o): In function `tflite::Subgraph::Invoke()':\r\nsubgraph.cc:(.text+0x32b4): undefined reference to `std::__throw_length_error(char const*)'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(subgraph.o): In function `std::vector<std::pair<TfLiteNode, TfLiteRegistration>, std::allocator<std::pair<TfLiteNode, TfLiteRegistration> > >::_M_default_append(unsigned long)':\r\nsubgraph.cc:(.text._ZNSt6vectorISt4pairI10TfLiteNode18TfLiteRegistrationESaIS3_EE17_M_default_appendEm[_ZNSt6vectorISt4pairI10TfLiteNode18TfLiteRegistrationESaIS3_EE17_M_default_appendEm]+0x214): undefined reference to `std::__throw_length_error(char const*)'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(subgraph.o): In function `std::vector<TfLiteTensor, std::allocator<TfLiteTensor> >::_M_default_append(unsigned long)':\r\nsubgraph.cc:(.text._ZNSt6vectorI12TfLiteTensorSaIS0_EE17_M_default_appendEm[_ZNSt6vectorI12TfLiteTensorSaIS0_EE17_M_default_appendEm]+0x240): undefined reference to `std::__throw_length_error(char const*)'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(graph_info.o):graph_info.cc:(.text._ZNSt6vectorIiSaIiEE14_M_fill_insertEN9__gnu_cxx17__normal_iteratorIPiS1_EEmRKi[_ZNSt6vectorIiSaIiEE14_M_fill_insertEN9__gnu_cxx17__normal_iteratorIPiS1_EEmRKi]+0x5c0): more undefined references to `std::__throw_length_error(char const*)' follow\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(minimal_logging_default.o): In function `tflite::logging_internal::MinimalLogger::LogFormatted(tflite::LogSeverity, char const*, std::__va_list)':\r\nminimal_logging_default.cc:(.text+0x3c): undefined reference to `__fprintf_chk'\r\nminimal_logging_default.cc:(.text+0x60): undefined reference to `__vfprintf_chk'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(nnapi_delegate_disabled.o): In function `tflite::StatefulNnApiDelegate::StatefulNnApiDelegate()':\r\nnnapi_delegate_disabled.cc:(.text+0x34): undefined reference to `std::string::_Rep::_S_empty_rep_storage'\r\nnnapi_delegate_disabled.cc:(.text+0x44): undefined reference to `std::string::_Rep::_S_empty_rep_storage'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(nnapi_delegate_disabled.o): In function `tflite::StatefulNnApiDelegate::Data::~Data()':\r\nnnapi_delegate_disabled.cc:(.text+0x1c4): undefined reference to `std::string::_Rep::_S_empty_rep_storage'\r\nnnapi_delegate_disabled.cc:(.text+0x1cc): undefined reference to `std::string::_Rep::_S_empty_rep_storage'\r\nnnapi_delegate_disabled.cc:(.text+0x1e0): undefined reference to `std::string::_Rep::_S_empty_rep_storage'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(nnapi_delegate_disabled.o):nnapi_delegate_disabled.cc:(.text+0x1f4): more undefined references to `std::string::_Rep::_S_empty_rep_storage' follow\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(nnapi_delegate_disabled.o): In function `tflite::StatefulNnApiDelegate::Data::~Data()':\r\nnnapi_delegate_disabled.cc:(.text+0x254): undefined reference to `std::string::_Rep::_M_destroy(std::allocator<char> const&)'\r\nnnapi_delegate_disabled.cc:(.text+0x288): undefined reference to `std::string::_Rep::_M_destroy(std::allocator<char> const&)'\r\nnnapi_delegate_disabled.cc:(.text+0x2bc): undefined reference to `std::string::_Rep::_M_destroy(std::allocator<char> const&)'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(arena_planner.o): In function `tflite::ArenaPlanner::CreateTensorAllocationVector(int, int)':\r\narena_planner.cc:(.text+0x19e8): undefined reference to `std::_Rb_tree_increment(std::_Rb_tree_node_base const*)'\r\narena_planner.cc:(.text+0x1a3c): undefined reference to `std::_Rb_tree_increment(std::_Rb_tree_node_base const*)'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(arena_planner.o): In function `std::vector<tflite::ArenaAllocWithUsageInterval, std::allocator<tflite::ArenaAllocWithUsageInterval> >::_M_default_append(unsigned long)':\r\narena_planner.cc:(.text._ZNSt6vectorIN6tflite27ArenaAllocWithUsageIntervalESaIS1_EE17_M_default_appendEm[_ZNSt6vectorIN6tflite27ArenaAllocWithUsageIntervalESaIS1_EE17_M_default_appendEm]+0x1a8): undefined reference to `std::__throw_length_error(char const*)'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(arena_planner.o): In function `std::pair<std::_Rb_tree_iterator<int>, bool> std::_Rb_tree<int, int, std::_Identity<int>, std::less<int>, std::allocator<int> >::_M_insert_unique<int const&>(int const&)':\r\narena_planner.cc:(.text._ZNSt8_Rb_treeIiiSt9_IdentityIiESt4lessIiESaIiEE16_M_insert_uniqueIRKiEESt4pairISt17_Rb_tree_iteratorIiEbEOT_[_ZNSt8_Rb_treeIiiSt9_IdentityIiESt4lessIiESaIiEE16_M_insert_uniqueIRKiEESt4pairISt17_Rb_tree_iteratorIiEbEOT_]+0xa8): undefined reference to `std::_Rb_tree_decrement(std::_Rb_tree_node_base*)'\r\narena_planner.cc:(.text._ZNSt8_Rb_treeIiiSt9_IdentityIiESt4lessIiESaIiEE16_M_insert_uniqueIRKiEESt4pairISt17_Rb_tree_iteratorIiEbEOT_[_ZNSt8_Rb_treeIiiSt9_IdentityIiESt4lessIiESaIiEE16_M_insert_uniqueIRKiEESt4pairISt17_Rb_tree_iteratorIiEbEOT_]+0xf8): undefined reference to `std::_Rb_tree_insert_and_rebalance(bool, std::_Rb_tree_node_base*, std::_Rb_tree_node_base*, std::_Rb_tree_node_base&)'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(simple_memory_arena.o): In function `tflite::SimpleMemoryArena::Allocate(TfLiteContext*, unsigned long, unsigned long, int, int, int, tflite::ArenaAllocWithUsageInterval*)':\r\nsimple_memory_arena.cc:(.text+0x15c): undefined reference to `std::__detail::_List_node_base::_M_hook(std::__detail::_List_node_base*)'\r\n../../../../src/main/cpp/cpp_test/tflite/arm64-v8a/libtensorflow-lite.a(simple_memory_arena.o): In function `tflite::SimpleMemoryArena::Deallocate(TfLiteContext*, tflite::ArenaAllocWithUsageInterval const&)':\r\nsimple_memory_arena.cc:(.text+0x228): undefined reference to `std::__detail::_List_node_base::_M_unhook()'\r\nclang++: error: linker command failed with exit code 1 (use -v to see invocation)\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37622", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37622/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37622/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37622/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37622", "id": 581990610, "node_id": "MDU6SXNzdWU1ODE5OTA2MTA=", "number": 37622, "title": "grpc+verbs fail with tensorflow/core/common_runtime/process_state.cc:128] Check failed: 0 == cpu_allocators_.size() (0 vs. 1)", "user": {"login": "moshevolo", "id": 1912434, "node_id": "MDQ6VXNlcjE5MTI0MzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1912434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moshevolo", "html_url": "https://github.com/moshevolo", "followers_url": "https://api.github.com/users/moshevolo/followers", "following_url": "https://api.github.com/users/moshevolo/following{/other_user}", "gists_url": "https://api.github.com/users/moshevolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/moshevolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moshevolo/subscriptions", "organizations_url": "https://api.github.com/users/moshevolo/orgs", "repos_url": "https://api.github.com/users/moshevolo/repos", "events_url": "https://api.github.com/users/moshevolo/events{/privacy}", "received_events_url": "https://api.github.com/users/moshevolo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 996845227, "node_id": "MDU6TGFiZWw5OTY4NDUyMjc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:dist-strat", "name": "comp:dist-strat", "color": "0052cc", "default": false, "description": "Distribution Strategy related issues"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-03-16T04:16:39Z", "updated_at": "2020-03-18T22:23:17Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): \r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04):  centos 7\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: \r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below):  r1.15 from source\r\n- Python version: - Bazel\r\nversion (if compiling from source): python 3.6.8, bazel 0.26.1\r\n- GCC/Compiler version (if compiling from\r\nsource):  gcc version 7.3.1\r\n- CUDA/cuDNN version: - GPU model and memory: CPU only\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\nUsing grpc+verbs and getting the following error:\r\n2020-03-15 21:08:10.425600: F tensorflow/core/common_runtime/process_state.cc:128] Check failed: 0 == cpu_allocators_.size() (0 vs. 1)AddCPUAllocVisitor must be called prior to first call to ProcessState::GetCPUAllocator\r\nAborted\r\n\r\n**Describe the expected behavior**\r\nShould run without errors\r\n**Standalone code to reproduce the issue** \r\nProvide a reproducible test case that is the bare minimum necessary to generate\r\nthe problem. If possible, please share a link to Colab/Jupyter/any notebook.\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37621", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37621/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37621/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37621/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37621", "id": 581970277, "node_id": "MDU6SXNzdWU1ODE5NzAyNzc=", "number": 37621, "title": "conv2d calculation results are inconsistent with pytorch", "user": {"login": "lvjunsetup", "id": 23273933, "node_id": "MDQ6VXNlcjIzMjczOTMz", "avatar_url": "https://avatars0.githubusercontent.com/u/23273933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lvjunsetup", "html_url": "https://github.com/lvjunsetup", "followers_url": "https://api.github.com/users/lvjunsetup/followers", "following_url": "https://api.github.com/users/lvjunsetup/following{/other_user}", "gists_url": "https://api.github.com/users/lvjunsetup/gists{/gist_id}", "starred_url": "https://api.github.com/users/lvjunsetup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lvjunsetup/subscriptions", "organizations_url": "https://api.github.com/users/lvjunsetup/orgs", "repos_url": "https://api.github.com/users/lvjunsetup/repos", "events_url": "https://api.github.com/users/lvjunsetup/events{/privacy}", "received_events_url": "https://api.github.com/users/lvjunsetup/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-16T03:21:52Z", "updated_at": "2020-03-16T04:47:18Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): \r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): \r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below): \r\n- Python version: 3.6.5\r\n- CUDA/cuDNN version: - GPU model and memory:10.1\r\n\r\n**Describe the current behavior**\r\nFor some specific data, the calculation results of tensorflow and pytorch are inconsistent\r\n**Describe the expected behavior**\r\nThe calculation results of tensorflow and pytorch are consistent or the difference is small\r\n**Standalone code to reproduce the issue** \r\n\r\n        if target_interface == 'conv1':\r\n            weights_torch = torch.from_numpy(np.full((11, 11, 3, 1), 1, np.float64).transpose((3, 2, 0, 1)))\r\n            output_pytorch_cpu = torch.from_numpy(\r\n                F.conv2d(torch.from_numpy(input_pytorch.numpy().transpose((0, 3, 1, 2))), weights_torch, padding=0,\r\n                         stride=4).numpy().transpose((0, 2, 3, 1)))\r\n**Other info / logs** \r\ntensorflow_output:\r\n31.42857361,31.4285183,31.42857361\r\n69.24489594,69.24489594,59.3673439\r\n100.89792633,100.89792633,100.89792633\r\n133.26530457,133.26530457,133.26530457\r\n60.22449875,60.22449875,60.22449875\r\n187.46939087,187.46939087,187.46939087\r\n205.918396,205.918396,205.918396\r\n96.42860413,96.42860413,96.42860413\r\n61.42854309,61.42854309,61.42854309\r\n148.89811707,148.89811707,148.89811707\r\n96.28572083,96.28572083,96.28572083\r\n83.02045441,83.02045441,83.02045441\r\n87.89794922,87.89794922,87.89794922\r\n135.12240601,135.12240601,135.12240601\r\n\r\n\r\npytorch_output\r\n31.428574,31.428518,31.428574\r\n59.367344,69.244896,69.244896\r\n100.89793,100.89793,100.89793\r\n133.2653,133.2653,133.2653\r\n60.2245,60.2245,60.2245\r\n187.46939,187.46939,187.46939\r\n205.9184,205.9184,205.9184\r\n96.428604,96.428604,96.428604\r\n61.428543,61.428543,61.428543\r\n148.89812,148.89812,148.89812\r\n96.28572,96.28572,96.28572\r\n83.020454,83.020454,83.020454\r\n87.89795,87.89795,87.89795\r\n135.1224,135.1224,135.1224\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37620", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37620/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37620/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37620/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37620", "id": 581969121, "node_id": "MDU6SXNzdWU1ODE5NjkxMjE=", "number": 37620, "title": "ModelCheckpoint does not save the model when `_is_graph_network` is False", "user": {"login": "TrentHouliston", "id": 957962, "node_id": "MDQ6VXNlcjk1Nzk2Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/957962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TrentHouliston", "html_url": "https://github.com/TrentHouliston", "followers_url": "https://api.github.com/users/TrentHouliston/followers", "following_url": "https://api.github.com/users/TrentHouliston/following{/other_user}", "gists_url": "https://api.github.com/users/TrentHouliston/gists{/gist_id}", "starred_url": "https://api.github.com/users/TrentHouliston/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TrentHouliston/subscriptions", "organizations_url": "https://api.github.com/users/TrentHouliston/orgs", "repos_url": "https://api.github.com/users/TrentHouliston/repos", "events_url": "https://api.github.com/users/TrentHouliston/events{/privacy}", "received_events_url": "https://api.github.com/users/TrentHouliston/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-16T03:19:14Z", "updated_at": "2020-03-16T06:10:30Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): **Yes**\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): `tensorflow/tensorflow:2.1.0-gpu-py3`\r\n\r\n**Describe the current behavior**\r\nWhen using tf.keras.callbacks.ModelCheckpoint it implies that when save_weights_only is False it will save the model using model.save, however it does not.\r\nDue to the code in set_model that checks `model._is_graph_network` save_weights_only becomes True for my usecase.\r\nhttps://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/keras/callbacks.py#L920-L923\r\n\r\n**Describe the expected behavior**\r\nWhen `save_weights_only=False` the network should be saved using `model.save` instead of `model.save_weights`.\r\nIt is not clear to me what the `_is_graph_network` variable is influenced by and how one would make it True. At the very least this is a documentation issue where the documentation implies that settings `save_weights_only` will save the model using `model.save` when this is not true.\r\n\r\nAdditionally, if I run `model.save` outside of the callback it succeeds, therefore there is no reason why the callback should not be able to do the same."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37618", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37618/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37618/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37618/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37618", "id": 581809981, "node_id": "MDU6SXNzdWU1ODE4MDk5ODE=", "number": 37618, "title": "num_replicas_in_sync not equel to my gpus.", "user": {"login": "jkkj1630", "id": 26433451, "node_id": "MDQ6VXNlcjI2NDMzNDUx", "avatar_url": "https://avatars0.githubusercontent.com/u/26433451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jkkj1630", "html_url": "https://github.com/jkkj1630", "followers_url": "https://api.github.com/users/jkkj1630/followers", "following_url": "https://api.github.com/users/jkkj1630/following{/other_user}", "gists_url": "https://api.github.com/users/jkkj1630/gists{/gist_id}", "starred_url": "https://api.github.com/users/jkkj1630/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jkkj1630/subscriptions", "organizations_url": "https://api.github.com/users/jkkj1630/orgs", "repos_url": "https://api.github.com/users/jkkj1630/repos", "events_url": "https://api.github.com/users/jkkj1630/events{/privacy}", "received_events_url": "https://api.github.com/users/jkkj1630/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 996845227, "node_id": "MDU6TGFiZWw5OTY4NDUyMjc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:dist-strat", "name": "comp:dist-strat", "color": "0052cc", "default": false, "description": "Distribution Strategy related issues"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-15T20:17:02Z", "updated_at": "2020-03-19T05:30:35Z", "closed_at": null, "author_association": "NONE", "body": "strategy = tf.distribute.MirroredStrategy()\r\nprint('Number of devices: {}'.format(strategy.num_replicas_in_sync))\r\n\r\ni have 4x2080Ti\r\nbut when i run this code, i got :\r\nNumber of devices: 1\r\n\r\nand training a model have warning:\r\nWARNING:tensorflow:There are non-GPU devices in `tf.distribute.Strategy`, not using nccl allreduce.\r\n\r\nand no gpu in used\r\n\r\ntensorflow 2.1.0\r\nkeras 2.3.1"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37617", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37617/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37617/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37617/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37617", "id": 581806467, "node_id": "MDU6SXNzdWU1ODE4MDY0Njc=", "number": 37617, "title": "No documentation on how to convert Session.run calls to tf.function calls", "user": {"login": "nhubbard", "id": 3649523, "node_id": "MDQ6VXNlcjM2NDk1MjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3649523?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nhubbard", "html_url": "https://github.com/nhubbard", "followers_url": "https://api.github.com/users/nhubbard/followers", "following_url": "https://api.github.com/users/nhubbard/following{/other_user}", "gists_url": "https://api.github.com/users/nhubbard/gists{/gist_id}", "starred_url": "https://api.github.com/users/nhubbard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nhubbard/subscriptions", "organizations_url": "https://api.github.com/users/nhubbard/orgs", "repos_url": "https://api.github.com/users/nhubbard/repos", "events_url": "https://api.github.com/users/nhubbard/events{/privacy}", "received_events_url": "https://api.github.com/users/nhubbard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-15T20:06:49Z", "updated_at": "2020-03-17T17:25:32Z", "closed_at": null, "author_association": "NONE", "body": "## URL(s) with the issue:\r\n\r\n* https://www.tensorflow.org/guide/migrate#1_replace_v1sessionrun_calls\r\n\r\n## Description of issue (what needs changing):\r\n\r\nThere is no information provided to the end-user on how to convert simple `Session.run` calls into `tf.function` calls for TensorFlow 2. For people who are only interested in running saved models and not building their own architectures, the lack of information makes it difficult to fully migrate away from TensorFlow 1.x.\r\n\r\n### Clear description\r\n\r\nIf I am doing a SavedModel-based system with TensorFlow 1.x (I was provided the model, I did not make the model), there should be a direct explanation of how to convert `Session.run` calls into more modern `tf.function` calls. Here is an example of the code I'm trying to convert to TensorFlow 2, but I can't complete the conversion because of a lack of documentation for this use case:\r\n\r\n```python\r\nwith tf.Session(graph=tf.Graph()) as sess:\r\n    tf.saved_model.loader.load(sess, [\"serve\"], path_to_model)\r\n    cap = cv2.VideoCapture(camera_id)\r\n    ret, frame = cap.read()\r\n    ret, encoded = cv2.imencode(\".jpg\", frame)\r\n    inferred = sess.run([\"detection_scores:0\", \"detection_boxes:0\"], feed_dict={\r\n        \"encoded_image_string_tensor:0\": [encoded.tobytes(),]\r\n    })\r\n```\r\n\r\nEssentially, I'm looking for a piece of documentation with code equivalency for these sort of examples.\r\n\r\n### Correct links\r\n\r\n***Not applicable***\r\n\r\n### Parameters defined\r\n\r\n***Not applicable***\r\n\r\n### Returns defined\r\n\r\n***Not applicable***\r\n\r\n### Raises listed and defined\r\n\r\n***Not applicable***\r\n\r\n### Usage example\r\n\r\n***Not applicable***\r\n\r\n### Request visuals, if applicable\r\n\r\n***Not applicable***\r\n\r\n### Submit a pull request?\r\n\r\nI can't submit a pull request because of the lack of documentation on the issue at hand. I could, however, submit a pull request to resolve the problem once I know how to resolve the problem.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37616", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37616/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37616/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37616/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37616", "id": 581806109, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg4ODE0NzE2", "number": 37616, "title": "Added several 'see also' references in Python API documentation", "user": {"login": "tomasvr", "id": 17680777, "node_id": "MDQ6VXNlcjE3NjgwNzc3", "avatar_url": "https://avatars1.githubusercontent.com/u/17680777?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomasvr", "html_url": "https://github.com/tomasvr", "followers_url": "https://api.github.com/users/tomasvr/followers", "following_url": "https://api.github.com/users/tomasvr/following{/other_user}", "gists_url": "https://api.github.com/users/tomasvr/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomasvr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomasvr/subscriptions", "organizations_url": "https://api.github.com/users/tomasvr/orgs", "repos_url": "https://api.github.com/users/tomasvr/repos", "events_url": "https://api.github.com/users/tomasvr/events{/privacy}", "received_events_url": "https://api.github.com/users/tomasvr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-15T20:05:35Z", "updated_at": "2020-03-19T13:08:18Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37616", "html_url": "https://github.com/tensorflow/tensorflow/pull/37616", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37616.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37616.patch"}, "body": "In relation to issue #36786 and PR #37121 I have added some additional 'see also' references between functions in the Python API docs. \r\n\r\nThese references make it easier for newcomers to learn about existing alternatives to functions that might better fit their use case and also reminds intermediate users about different options. This style of referencing is similar to what is seen in PyTorch and Arduino documentation. Any feedback is welcome. \r\n\r\nFor your convenience, these are roughly the functions which I have referred to each other \r\n\r\n- `tf.slice` and `tf.strided_slice`\r\n- `tf.rank` and `tf.shape`\r\n- `tf.scan` and `tf.map_fn`\r\n- `tf.unqiue` and `tf.unique_with_counts`\r\n- `tf.fill`, `tf.ones`, `tf.zeros`, `tf.eye`, `tf.one_hot` \r\n\r\nFor the last group, I left out certain references if they seemed unnecessary (e.g. `tf.one_hot` and `tf.zeros`).\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37615", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37615/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37615/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37615/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37615", "id": 581736669, "node_id": "MDU6SXNzdWU1ODE3MzY2Njk=", "number": 37615, "title": "TF saved model Assertion Error ( Called a function referencing variables which have been deleted )", "user": {"login": "s4sarath", "id": 10637096, "node_id": "MDQ6VXNlcjEwNjM3MDk2", "avatar_url": "https://avatars0.githubusercontent.com/u/10637096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/s4sarath", "html_url": "https://github.com/s4sarath", "followers_url": "https://api.github.com/users/s4sarath/followers", "following_url": "https://api.github.com/users/s4sarath/following{/other_user}", "gists_url": "https://api.github.com/users/s4sarath/gists{/gist_id}", "starred_url": "https://api.github.com/users/s4sarath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/s4sarath/subscriptions", "organizations_url": "https://api.github.com/users/s4sarath/orgs", "repos_url": "https://api.github.com/users/s4sarath/repos", "events_url": "https://api.github.com/users/s4sarath/events{/privacy}", "received_events_url": "https://api.github.com/users/s4sarath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-03-15T16:25:56Z", "updated_at": "2020-03-19T10:12:38Z", "closed_at": null, "author_association": "NONE", "body": "I am facing an issue . When returning a ```tf.saved_model.load``` object inside a function and then try to use it, it is not working. \r\n\r\nI am having a file ```sample.py``` \r\n```\r\n#### sample.py\r\n\r\nimport tensorflow as tf\r\ndef load_model(model_dir):\r\n\r\n    # Load Model\r\n    loaded = tf.saved_model.load(model_dir)\r\n    model = loaded.signatures['serving_default']\r\n    print(\"Model Loaded\")\r\n    return model\r\n\r\n```\r\n\r\nWhen I am executing ```main.py```\r\n\r\n```\r\nfrom sample import load_model\r\n\r\nmodel_dir = 'som_path of a saved model'\r\nmodel1 = load_model(model_dir)\r\n```\r\n\r\nIf I print model.variables I am getting following error\r\n\r\n```\r\nAssertionError: Called a function referencing variables which have been deleted. This likely means that function-local variables were created and not referenced elsewhere in the program. This is generally a mistake; consider storing variables in an object attribute on first call.\r\n\r\n```\r\n\r\nBut. If load the model with same code inside the function, but not using the function it works fine\r\n\r\n```\r\n#### main.py\r\nloaded = tf.saved_model.load(model_dir)\r\nmodel = loaded.signatures['serving_default']\r\n```\r\nIf I print model.variables, its working as expected. "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37614", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37614/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37614/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37614/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37614", "id": 581721143, "node_id": "MDU6SXNzdWU1ODE3MjExNDM=", "number": 37614, "title": "Bazel build tensorflow1.15.2 error", "user": {"login": "ivankxt", "id": 42996988, "node_id": "MDQ6VXNlcjQyOTk2OTg4", "avatar_url": "https://avatars3.githubusercontent.com/u/42996988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivankxt", "html_url": "https://github.com/ivankxt", "followers_url": "https://api.github.com/users/ivankxt/followers", "following_url": "https://api.github.com/users/ivankxt/following{/other_user}", "gists_url": "https://api.github.com/users/ivankxt/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivankxt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivankxt/subscriptions", "organizations_url": "https://api.github.com/users/ivankxt/orgs", "repos_url": "https://api.github.com/users/ivankxt/repos", "events_url": "https://api.github.com/users/ivankxt/events{/privacy}", "received_events_url": "https://api.github.com/users/ivankxt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1205615612, "node_id": "MDU6TGFiZWwxMjA1NjE1NjEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:%20ubuntu/linux", "name": "subtype: ubuntu/linux", "color": "b619ea", "default": false, "description": "Ubuntu/Linux Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-03-15T15:38:56Z", "updated_at": "2020-03-19T01:16:00Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): ubuntu1~18.04.1\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: 1.15.2\r\n- Python version: 3.6.8\r\n- Bazel version (if compiling from source): 0.24.1 \r\n- GCC/Compiler version (if compiling from source): gcc (Ubuntu 7.4.0-1ubuntu1~18.04.1) 7.4.0\r\n- CUDA/cuDNN version: cuda10.0\r\n\r\n### Tensorflow build by bazel:\r\n> bazel  build  //tensorflow/tools/pip_package:build_pip_package\r\n\r\n**Describe the problem**\r\n```\r\nINFO: Options provided by the client:\r\n  Inherited 'common' options: --isatty=1 --terminal_columns=109\r\nINFO: Reading rc options for 'build' from /data1/home/other/ttensorflow/previos/ttensorflow/.bazelrc:\r\n  'build' options: --apple_platform_type=macos --define framework_shared_object=true --define open_source_build=true --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone -c opt --announce_rc --define=grpc_no_ares=true --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include --copt=-w --config=v1\r\nINFO: Reading rc options for 'build' from /data1/home/other/ttensorflow/previos/ttensorflow/.tf_configure.bazelrc:\r\n  'build' options: --action_env PYTHON_BIN_PATH=/usr/local/bin/python --action_env PYTHON_LIB_PATH=/usr/local/lib/python3.6/dist-packages --python_path=/usr/local/bin/python --config=xla --action_env TF_CONFIGURE_IOS=0\r\nINFO: Found applicable config definition build:v1 in file /data1/home/other/ttensorflow/previos/ttensorflow/.bazelrc: --define=tf_api_version=1 --action_env=TF2_BEHAVIOR=0\r\nINFO: Found applicable config definition build:xla in file /data1/home/other/ttensorflow/previos/ttensorflow/.bazelrc: --action_env=TF_ENABLE_XLA=1 --define=with_xla_support=true\r\nINFO: Found applicable config definition build:xla in file /data1/home/other/ttensorflow/previos/ttensorflow/.tf_configure.bazelrc: --define with_xla_support=true\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/densenet.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:densenet.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/imagenet_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:imagenet_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/inception_resnet_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:inception_resnet_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/inception_v3.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:inception_v3.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/mobilenet.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:mobilenet.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/mobilenet_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:mobilenet_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/nasnet.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:nasnet.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/resnet.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:resnet.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/resnet_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:resnet_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/vgg16.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:vgg16.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/vgg19.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:vgg19.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:applications/xception.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:xception.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/boston_housing.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:boston_housing.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/cifar.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:cifar.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/cifar10.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:cifar10.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/cifar100.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:cifar100.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/fashion_mnist.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:fashion_mnist.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/imdb.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:imdb.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/mnist.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:mnist.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:datasets/reuters.py' crosses boundary of subpackage 'tensorflow/python/keras/datasets' (perhaps you meant to put the colon here: '//tensorflow/python/keras/datasets:reuters.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:preprocessing/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:preprocessing/image.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:image.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:preprocessing/sequence.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:sequence.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:preprocessing/text.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:text.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:utils/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:utils/multi_gpu_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:multi_gpu_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:utils/np_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:np_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:utils/vis_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:vis_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:wrappers/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/wrappers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/wrappers:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:21:12: Label '//tensorflow/python/keras:wrappers/scikit_learn.py' crosses boundary of subpackage 'tensorflow/python/keras/wrappers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/wrappers:scikit_learn.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:140:12: Label '//tensorflow/python/keras:engine/base_layer_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:base_layer_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/input_layer.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:input_layer.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/network.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:network.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/node.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:node.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/partial_batch_padding_handler.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:partial_batch_padding_handler.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/saving.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:saving.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/sequential.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:sequential.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_arrays.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_arrays.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_distributed.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_distributed.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_eager.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_eager.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_generator.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_generator.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:engine/training_v2_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_v2_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:162:12: Label '//tensorflow/python/keras:utils/metrics_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:metrics_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:222:12: Label '//tensorflow/python/keras:engine/data_adapter.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:data_adapter.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:234:12: Label '//tensorflow/python/keras:engine/input_spec.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:input_spec.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:248:12: Label '//tensorflow/python/keras:engine/base_layer.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:base_layer.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:277:12: Label '//tensorflow/python/keras:engine/base_preprocessing_layer.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:base_preprocessing_layer.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:277:12: Label '//tensorflow/python/keras:engine/base_preprocessing_layer_v1.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:base_preprocessing_layer_v1.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/hdf5_format.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:hdf5_format.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/model_config.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:model_config.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/save.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:save.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saved_model/constants.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model/constants.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saved_model/load.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model/load.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saved_model/save.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model/save.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saved_model/serialized_attributes.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model/serialized_attributes.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saved_model/utils.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model/utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saved_model_experimental.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model_experimental.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:294:12: Label '//tensorflow/python/keras:saving/saving_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saving_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:429:12: Label '//tensorflow/python/keras:utils/conv_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:conv_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:429:12: Label '//tensorflow/python/keras:utils/data_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:data_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:429:12: Label '//tensorflow/python/keras:utils/io_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:io_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:429:12: Label '//tensorflow/python/keras:utils/losses_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:losses_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:444:12: Label '//tensorflow/python/keras:utils/tf_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:tf_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/__init__.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:__init__.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/advanced_activations.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:advanced_activations.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/convolutional.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:convolutional.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/convolutional_recurrent.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:convolutional_recurrent.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/core.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:core.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/cudnn_recurrent.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:cudnn_recurrent.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/dense_attention.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:dense_attention.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/embeddings.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:embeddings.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/kernelized.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:kernelized.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/local.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:local.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/merge.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:merge.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/noise.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:noise.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/normalization.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:normalization.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/normalization_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:normalization_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/pooling.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:pooling.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/preprocessing/normalization.py' crosses boundary of subpackage 'tensorflow/python/keras/layers/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers/preprocessing:normalization.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/preprocessing/normalization_v1.py' crosses boundary of subpackage 'tensorflow/python/keras/layers/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers/preprocessing:normalization_v1.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/recurrent.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:recurrent.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/recurrent_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:recurrent_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/rnn_cell_wrapper_v2.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:rnn_cell_wrapper_v2.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:layers/wrappers.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:wrappers.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:utils/kernelized_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:kernelized_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:464:12: Label '//tensorflow/python/keras:utils/layer_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:layer_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:518:12: Label '//tensorflow/python/keras:layers/preprocessing/preprocessing_test_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/layers/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers/preprocessing:preprocessing_test_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:529:12: Label '//tensorflow/python/keras:layers/serialization.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:serialization.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:542:12: Label '//tensorflow/python/keras:utils/generic_utils.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:generic_utils.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:554:12: Label '//tensorflow/python/keras:utils/mode_keys.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:mode_keys.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:603:1: Label '//tensorflow/python/keras:engine/data_adapter_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:data_adapter_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:730:1: Label '//tensorflow/python/keras:applications/applications_test.py' crosses boundary of subpackage 'tensorflow/python/keras/applications' (perhaps you meant to put the colon here: '//tensorflow/python/keras/applications:applications_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:742:1: Label '//tensorflow/python/keras:layers/advanced_activations_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:advanced_activations_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:753:1: Label '//tensorflow/python/keras:layers/tensorflow_op_layer_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:tensorflow_op_layer_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:769:1: Label '//tensorflow/python/keras:layers/convolutional_recurrent_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:convolutional_recurrent_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:783:1: Label '//tensorflow/python/keras:layers/convolutional_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:convolutional_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:797:1: Label '//tensorflow/python/keras:layers/convolutional_transpose_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:convolutional_transpose_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:810:1: Label '//tensorflow/python/keras:layers/cudnn_recurrent_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:cudnn_recurrent_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:827:1: Label '//tensorflow/python/keras:engine/base_preprocessing_layer_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:base_preprocessing_layer_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:841:1: Label '//tensorflow/python/keras:layers/pooling_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:pooling_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:857:1: Label '//tensorflow/python/keras:layers/core_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:core_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:870:1: Label '//tensorflow/python/keras:layers/subclassed_layers_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:subclassed_layers_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:883:1: Label '//tensorflow/python/keras:layers/dense_attention_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:dense_attention_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:895:1: Label '//tensorflow/python/keras:layers/embeddings_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:embeddings_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:907:1: Label '//tensorflow/python/keras:layers/local_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:local_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:921:1: Label '//tensorflow/python/keras:layers/merge_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:merge_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:933:1: Label '//tensorflow/python/keras:layers/noise_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:noise_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:944:1: Label '//tensorflow/python/keras:layers/normalization_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:normalization_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:961:1: Label '//tensorflow/python/keras:layers/preprocessing/normalization_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers/preprocessing:normalization_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:974:1: Label '//tensorflow/python/keras:layers/simplernn_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:simplernn_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:988:1: Label '//tensorflow/python/keras:layers/gru_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:gru_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1002:1: Label '//tensorflow/python/keras:layers/lstm_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:lstm_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1019:1: Label '//tensorflow/python/keras:layers/recurrent_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:recurrent_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1032:1: Label '//tensorflow/python/keras:layers/recurrent_v2_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:recurrent_v2_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1046:1: Label '//tensorflow/python/keras:layers/separable_convolutional_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:separable_convolutional_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1059:1: Label '//tensorflow/python/keras:layers/lstm_v2_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:lstm_v2_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1074:1: Label '//tensorflow/python/keras:layers/gru_v2_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:gru_v2_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1089:1: Label '//tensorflow/python/keras:layers/serialization_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:serialization_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1100:1: Label '//tensorflow/python/keras:layers/kernelized_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:kernelized_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1126:1: Label '//tensorflow/python/keras:layers/wrappers_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:wrappers_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1143:1: Label '//tensorflow/python/keras:layers/rnn_cell_wrapper_v2_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:rnn_cell_wrapper_v2_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1159:1: Label '//tensorflow/python/keras:layers/time_distributed_learning_phase_test.py' crosses boundary of subpackage 'tensorflow/python/keras/layers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/layers:time_distributed_learning_phase_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1174:1: Label '//tensorflow/python/keras:wrappers/scikit_learn_test.py' crosses boundary of subpackage 'tensorflow/python/keras/wrappers' (perhaps you meant to put the colon here: '//tensorflow/python/keras/wrappers:scikit_learn_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1187:1: Label '//tensorflow/python/keras:utils/data_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:data_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1207:1: Label '//tensorflow/python/keras:utils/generic_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:generic_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1218:1: Label '//tensorflow/python/keras:utils/tf_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:tf_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1228:1: Label '//tensorflow/python/keras:utils/composite_tensor_support_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:composite_tensor_support_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1251:1: Label '//tensorflow/python/keras:utils/io_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:io_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1267:1: Label '//tensorflow/python/keras:utils/np_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:np_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1279:1: Label '//tensorflow/python/keras:utils/kernelized_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:kernelized_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1291:1: Label '//tensorflow/python/keras:utils/multi_gpu_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:multi_gpu_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1307:1: Label '//tensorflow/python/keras:engine/training_gpu_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_gpu_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1323:1: Label '//tensorflow/python/keras:utils/vis_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:vis_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1335:1: Label '//tensorflow/python/keras:utils/conv_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:conv_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1347:1: Label '//tensorflow/python/keras:preprocessing/image_test.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:image_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1359:1: Label '//tensorflow/python/keras:preprocessing/sequence_test.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:sequence_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1371:1: Label '//tensorflow/python/keras:preprocessing/text_test.py' crosses boundary of subpackage 'tensorflow/python/keras/preprocessing' (perhaps you meant to put the colon here: '//tensorflow/python/keras/preprocessing:text_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1413:1: Label '//tensorflow/python/keras:engine/correctness_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:correctness_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1430:1: Label '//tensorflow/python/keras:engine/input_spec_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:input_spec_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1444:1: Label '//tensorflow/python/keras:engine/training_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1462:1: Label '//tensorflow/python/keras:engine/training_dataset_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_dataset_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1478:1: Label '//tensorflow/python/keras:engine/training_arrays_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_arrays_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1497:1: Label '//tensorflow/python/keras:engine/training_generator_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_generator_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1515:1: Label '//tensorflow/python/keras:engine/training_integration_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_integration_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1532:1: Label '//tensorflow/python/keras:engine/feature_columns_integration_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:feature_columns_integration_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1549:1: Label '//tensorflow/python/keras:engine/training_eager_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_eager_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1566:1: Label '//tensorflow/python/keras:engine/training_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:training_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1641:1: Label '//tensorflow/python/keras:engine/network_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:network_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1658:1: Label '//tensorflow/python/keras:engine/base_layer_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:base_layer_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1675:1: Label '//tensorflow/python/keras:engine/control_flow_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:control_flow_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1691:1: Label '//tensorflow/python/keras:saving/hdf5_format_test.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:hdf5_format_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1707:1: Label '//tensorflow/python/keras:engine/sequential_test.py' crosses boundary of subpackage 'tensorflow/python/keras/engine' (perhaps you meant to put the colon here: '//tensorflow/python/keras/engine:sequential_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1776:1: Label '//tensorflow/python/keras:saving/save_test.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:save_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1789:1: Label '//tensorflow/python/keras:saving/saved_model_experimental_test.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model_experimental_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1806:1: Label '//tensorflow/python/keras:saving/saved_model/saved_model_test.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saved_model/saved_model_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1822:1: Label '//tensorflow/python/keras:saving/saving_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/saving' (perhaps you meant to put the colon here: '//tensorflow/python/keras/saving:saving_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1835:1: Label '//tensorflow/python/keras:utils/metrics_utils_test.py' crosses boundary of subpackage 'tensorflow/python/keras/utils' (perhaps you meant to put the colon here: '//tensorflow/python/keras/utils:metrics_utils_test.py'?)\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1582:1: Target '//tensorflow/python/keras:keras' contains an error and its package is in error and referenced by '//tensorflow/python/keras:model_subclassing_test_util'\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/python/keras/BUILD:1582:1: Target '//tensorflow/python/keras:model_subclassing_test_util.py' contains an error and its package is in error and referenced by '//tensorflow/python/keras:model_subclassing_test_util'\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/tools/pip_package/BUILD:233:1: Target '//tensorflow/python/keras:model_subclassing_test_util' contains an error and its package is in error and referenced by '//tensorflow/tools/pip_package:build_pip_package'\r\nERROR: /data1/home/other/ttensorflow/previos/ttensorflow/tensorflow/tools/pip_package/BUILD:233:1: Target '//tensorflow/python/keras:preprocessing_test_utils' contains an error and its package is in error and referenced by '//tensorflow/tools/pip_package:build_pip_package'\r\nERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted: Analysis failed\r\nINFO: Elapsed time: 0.145s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully (10 packages loaded, 129 targets configured)\r\n    currently loading: tensorflow/core/kernels ... (9 packages)\r\n    Fetching @local_config_cc; Restarting.\r\n    Fetching @local_config_sycl; fetching\r\n    Fetching @swig; Restarting.\r\n```\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n```\r\nbazel  build  //tensorflow/tools/pip_package:build_pip_package\r\n```\r\n\r\n### Could you give me some advice? Thank you!"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37613", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37613/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37613/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37613/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37613", "id": 581708962, "node_id": "MDU6SXNzdWU1ODE3MDg5NjI=", "number": 37613, "title": "How to use our own tflite model ?", "user": {"login": "RomitGandhi07", "id": 46276226, "node_id": "MDQ6VXNlcjQ2Mjc2MjI2", "avatar_url": "https://avatars1.githubusercontent.com/u/46276226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RomitGandhi07", "html_url": "https://github.com/RomitGandhi07", "followers_url": "https://api.github.com/users/RomitGandhi07/followers", "following_url": "https://api.github.com/users/RomitGandhi07/following{/other_user}", "gists_url": "https://api.github.com/users/RomitGandhi07/gists{/gist_id}", "starred_url": "https://api.github.com/users/RomitGandhi07/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RomitGandhi07/subscriptions", "organizations_url": "https://api.github.com/users/RomitGandhi07/orgs", "repos_url": "https://api.github.com/users/RomitGandhi07/repos", "events_url": "https://api.github.com/users/RomitGandhi07/events{/privacy}", "received_events_url": "https://api.github.com/users/RomitGandhi07/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-03-15T15:04:14Z", "updated_at": "2020-03-19T17:06:24Z", "closed_at": null, "author_association": "NONE", "body": "This template is for miscellaneous issues not covered by the other issue categories.\r\n\r\nFor questions on how to work with TensorFlow, or support for problems that are not verified bugs in TensorFlow, please go to [StackOverflow](https://stackoverflow.com/questions/tagged/tensorflow).\r\n\r\nIf you are reporting a vulnerability, please use the [dedicated reporting process](https://github.com/tensorflow/tensorflow/blob/master/SECURITY.md).\r\n\r\nFor high-level discussions about TensorFlow, please post to discuss@tensorflow.org, for questions about the development or internal workings of TensorFlow, or if you would like to know how to contribute to TensorFlow, please post to developers@tensorflow.org.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37611", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37611/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37611/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37611/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37611", "id": 581642891, "node_id": "MDU6SXNzdWU1ODE2NDI4OTE=", "number": 37611, "title": "Failed to get convolution algorithm. This is probably because cuDNN failed to initialize, so try looking to see if a warning log message was printed above. [Op:Conv2D]", "user": {"login": "Aditya-shahh", "id": 30383061, "node_id": "MDQ6VXNlcjMwMzgzMDYx", "avatar_url": "https://avatars1.githubusercontent.com/u/30383061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aditya-shahh", "html_url": "https://github.com/Aditya-shahh", "followers_url": "https://api.github.com/users/Aditya-shahh/followers", "following_url": "https://api.github.com/users/Aditya-shahh/following{/other_user}", "gists_url": "https://api.github.com/users/Aditya-shahh/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aditya-shahh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aditya-shahh/subscriptions", "organizations_url": "https://api.github.com/users/Aditya-shahh/orgs", "repos_url": "https://api.github.com/users/Aditya-shahh/repos", "events_url": "https://api.github.com/users/Aditya-shahh/events{/privacy}", "received_events_url": "https://api.github.com/users/Aditya-shahh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-15T11:56:34Z", "updated_at": "2020-03-17T10:42:19Z", "closed_at": null, "author_association": "NONE", "body": "Tensorflow version: 2.0\r\nCUDA version: 10.2\r\n\r\nI'm trying to run a CNN network on a set of images in PyCharm IDE.\r\nHowever, when I run the following code:\r\n\r\nhistory = model.fit_generator(\r\n   ...:     train_data_gen,\r\n   ...:     epochs=epochs,\r\n   ...:     validation_data=val_data_gen,)\r\n\r\n I get this error:\r\n\r\n   ...: \r\nEpoch 1/80\r\n2020-03-15 17:14:52.332052: E tensorflow/stream_executor/cuda/cuda_dnn.cc:329] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\n2020-03-15 17:14:52.346548: E tensorflow/stream_executor/cuda/cuda_dnn.cc:329] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR\r\nTraceback (most recent call last):\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 3326, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-18-5e082c56bdc2>\", line 4, in <module>\r\n    validation_data=val_data_gen,)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training.py\", line 1297, in fit_generator\r\n    steps_name='steps_per_epoch')\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_generator.py\", line 265, in model_iteration\r\n    batch_outs = batch_function(*batch_data)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training.py\", line 973, in train_on_batch\r\n    class_weight=class_weight, reset_metrics=reset_metrics)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_v2_utils.py\", line 264, in train_on_batch\r\n    output_loss_metrics=model._output_loss_metrics)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_eager.py\", line 311, in train_on_batch\r\n    output_loss_metrics=output_loss_metrics))\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_eager.py\", line 252, in _process_single_batch\r\n    training=training))\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_eager.py\", line 127, in _model_loss\r\n    outs = model(inputs, **kwargs)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 891, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/sequential.py\", line 256, in call\r\n    return super(Sequential, self).call(inputs, training=training, mask=mask)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/network.py\", line 708, in call\r\n    convert_kwargs_to_constants=base_layer_utils.call_context().saving)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/network.py\", line 860, in _run_internal_graph\r\n    output_tensors = layer(computed_tensors, **kwargs)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 891, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/keras/layers/convolutional.py\", line 197, in call\r\n    outputs = self._convolution_op(inputs, self.kernel)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/ops/nn_ops.py\", line 1134, in __call__\r\n    return self.conv_op(inp, filter)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/ops/nn_ops.py\", line 639, in __call__\r\n    return self.call(inp, filter)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/ops/nn_ops.py\", line 238, in __call__\r\n    name=self.name)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/ops/nn_ops.py\", line 2010, in conv2d\r\n    name=name)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/ops/gen_nn_ops.py\", line 1031, in conv2d\r\n    data_format=data_format, dilations=dilations, name=name, ctx=_ctx)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/ops/gen_nn_ops.py\", line 1130, in conv2d_eager_fallback\r\n    ctx=_ctx, name=name)\r\n  File \"/home/adisha512/env/dl/lib/python3.6/site-packages/tensorflow_core/python/eager/execute.py\", line 67, in quick_execute\r\n    six.raise_from(core._status_to_exception(e.code, message), None)\r\n  File \"<string>\", line 3, in raise_from\r\ntensorflow.python.framework.errors_impl.UnknownError: Failed to get convolution algorithm. This is probably because cuDNN failed to initialize, so try looking to see if a warning log message was printed above. [Op:Conv2D]\r\n\r\n\r\nHere's my complete code:\r\n\r\n```bash\r\nfrom __future__ import absolute_import, division, print_function, unicode_literals\r\nimport os\r\nimport numpy as np\r\nimport glob\r\nimport shutil\r\nfrom IPython.display import display\r\nfrom PIL import Image\r\nimport tensorflow as tf\r\nimport matplotlib.pyplot as plt\r\nfrom tensorflow.keras.preprocessing.image import ImageDataGenerator\r\n_URL = \"https://storage.googleapis.com/download.tensorflow.org/example_images/flower_photos.tgz\"\r\n\r\nzip_file = tf.keras.utils.get_file(origin=_URL,\r\n                                   fname=\"flower_photos.tgz\",\r\n                                   extract=True)\r\n\r\nbase_dir = os.path.join(os.path.dirname(zip_file), 'flower_photos')\r\n\r\nclasses = ['roses', 'daisy', 'dandelion', 'sunflowers', 'tulips']\r\nprint(base_dir)\r\n\r\nfor cl in classes:\r\n  img_path = os.path.join(base_dir, cl)\r\n  images = glob.glob(img_path + '/*.jpg')\r\n  print(\"{}: {} Images\".format(cl, len(images)))\r\n  train, val = images[:round(len(images)*0.8)], images[round(len(images)*0.8):]\r\n  for t in train:\r\n    if not os.path.exists(os.path.join(base_dir, 'train', cl)):\r\n      os.makedirs(os.path.join(base_dir, 'train', cl))\r\n    shutil.move(t, os.path.join(base_dir, 'train', cl))\r\n\r\n  for v in val:\r\n    if not os.path.exists(os.path.join(base_dir, 'val', cl)):\r\n      os.makedirs(os.path.join(base_dir, 'val', cl))\r\n    shutil.move(v, os.path.join(base_dir, 'val', cl))\r\n\r\n\r\ntrain_dir = os.path.join(base_dir, 'train')\r\nval_dir = os.path.join(base_dir, 'val')\r\n\r\nbatch_size = 16\r\nIMG_SHAPE = 150\r\n\r\nimage_gen_train = ImageDataGenerator(\r\n      rescale=1./255,\r\n      rotation_range=40,\r\n      width_shift_range=0.2,\r\n      height_shift_range=0.2,\r\n      shear_range=0.2,\r\n      zoom_range=0.2,\r\n      horizontal_flip=True,\r\n      fill_mode='nearest')\r\n\r\n\r\ntrain_data_gen = image_gen_train.flow_from_directory(batch_size= batch_size,\r\n                                                     directory=train_dir,\r\n                                                     shuffle=True,\r\n                                                     target_size=(IMG_SHAPE,IMG_SHAPE),\r\n                                                     class_mode='categorical')\r\n\r\nimage_gen_val = ImageDataGenerator(rescale=1/255)\r\nval_data_gen = image_gen_val.flow_from_directory(batch_size = batch_size,\r\n                                                 directory=val_dir,\r\n                                                 target_size=(IMG_SHAPE, IMG_SHAPE),\r\n                                                 class_mode='categorical')\r\n\r\nmodel = tf.keras.models.Sequential([\r\n    tf.keras.layers.Conv2D(16, (3, 3), activation='relu', input_shape=(150, 150, 3)),\r\n    tf.keras.layers.MaxPooling2D(2, 2),\r\n\r\n    tf.keras.layers.Conv2D(32, (3, 3), activation='relu'),\r\n    tf.keras.layers.MaxPooling2D(2, 2),\r\n\r\n    tf.keras.layers.Conv2D(64, (3, 3), activation='relu'),\r\n    tf.keras.layers.MaxPooling2D(2, 2),\r\n\r\n    tf.keras.layers.Conv2D(128, (3, 3), activation='relu'),\r\n    tf.keras.layers.MaxPooling2D(2, 2),\r\n    tf.keras.layers.Flatten(),\r\n    tf.keras.layers.Dropout(0.2),\r\n    tf.keras.layers.Dense(1024, activation='relu'),\r\n    tf.keras.layers.Dropout(0.2),\r\n    tf.keras.layers.Dense(512, activation='relu'),\r\n    tf.keras.layers.Dense(5, activation='softmax')\r\n\r\n])\r\n\r\nmodel.compile(loss = 'categorical_crossentropy', optimizer='rmsprop', metrics=['accuracy'])\r\n\r\nmodel.summary()\r\n\r\nepochs = 80\r\n\r\nimport tensorflow as tf\r\nconfig = tf.compat.v1.ConfigProto()\r\nconfig.gpu_options.allow_growth = True\r\n\r\ntf.compat.v1.Session(config=config)\r\n\r\nhistory = model.fit_generator(\r\n    train_data_gen,\r\n    epochs=epochs,\r\n    validation_data=val_data_gen,)\r\n```\r\n\r\n\r\n### Can anyone please suggest me what to do here\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37610", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37610/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37610/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37610/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37610", "id": 581633707, "node_id": "MDU6SXNzdWU1ODE2MzM3MDc=", "number": 37610, "title": "Generated docs for TF 2.1 and TF 2.2 are missing information present in the source docs", "user": {"login": "foxik", "id": 560016, "node_id": "MDQ6VXNlcjU2MDAxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/560016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/foxik", "html_url": "https://github.com/foxik", "followers_url": "https://api.github.com/users/foxik/followers", "following_url": "https://api.github.com/users/foxik/following{/other_user}", "gists_url": "https://api.github.com/users/foxik/gists{/gist_id}", "starred_url": "https://api.github.com/users/foxik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/foxik/subscriptions", "organizations_url": "https://api.github.com/users/foxik/orgs", "repos_url": "https://api.github.com/users/foxik/repos", "events_url": "https://api.github.com/users/foxik/events{/privacy}", "received_events_url": "https://api.github.com/users/foxik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, {"login": "yashk2810", "id": 14262417, "node_id": "MDQ6VXNlcjE0MjYyNDE3", "avatar_url": "https://avatars1.githubusercontent.com/u/14262417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yashk2810", "html_url": "https://github.com/yashk2810", "followers_url": "https://api.github.com/users/yashk2810/followers", "following_url": "https://api.github.com/users/yashk2810/following{/other_user}", "gists_url": "https://api.github.com/users/yashk2810/gists{/gist_id}", "starred_url": "https://api.github.com/users/yashk2810/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yashk2810/subscriptions", "organizations_url": "https://api.github.com/users/yashk2810/orgs", "repos_url": "https://api.github.com/users/yashk2810/repos", "events_url": "https://api.github.com/users/yashk2810/events{/privacy}", "received_events_url": "https://api.github.com/users/yashk2810/received_events", "type": "User", "site_admin": false}, {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-15T11:28:14Z", "updated_at": "2020-03-18T01:11:17Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "## URL(s) with the issue:\r\n\r\nThe issue affects many pages, here is one example:\r\n- TF 2.2: https://www.tensorflow.org/versions/r2.2/api_docs/python/tf/keras/optimizers/schedules/ExponentialDecay\r\n- TF 2.1: https://www.tensorflow.org/versions/r2.1/api_docs/python/tf/keras/optimizers/schedules/ExponentialDecay\r\n- TF 2.0: https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/optimizers/schedules/ExponentialDecay\r\n\r\n## Description of issue (what needs changing):\r\nThe generated docs for TF 2.1 and TF 2.2 is missing important information. Notably, the whole documentation of `__init__` method containing information like detailed learning rate computation\r\n```python\r\ndef decayed_learning_rate(step):\r\n  return initial_learning_rate * decay_rate ^ (step / decay_steps)\r\n```\r\nis missing in TF 2.1 and TF 2.2. However, the information is still present in the source, see \r\nhttps://github.com/tensorflow/tensorflow/blob/3c1e8c03419266bb6ba379d303d3e03a380617a8/tensorflow/python/keras/optimizer_v2/learning_rate_schedule.py#L64-L134\r\n\r\n## Further examples\r\nFor example Adam optimizer is also affected, see\r\n- TF 2.2: https://www.tensorflow.org/versions/r2.2/api_docs/python/tf/keras/optimizers/Adam\r\n- TF 2.0: https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/optimizers/Adam\r\nThe TF 2.0 version contains a lot of math describing how Adam works, which is not present in TF 2.2 docs."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37608", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37608/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37608/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37608/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37608", "id": 581622188, "node_id": "MDU6SXNzdWU1ODE2MjIxODg=", "number": 37608, "title": "need custom implementations: NonMaxSuppressionV5", "user": {"login": "HLearning", "id": 11738124, "node_id": "MDQ6VXNlcjExNzM4MTI0", "avatar_url": "https://avatars1.githubusercontent.com/u/11738124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HLearning", "html_url": "https://github.com/HLearning", "followers_url": "https://api.github.com/users/HLearning/followers", "following_url": "https://api.github.com/users/HLearning/following{/other_user}", "gists_url": "https://api.github.com/users/HLearning/gists{/gist_id}", "starred_url": "https://api.github.com/users/HLearning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HLearning/subscriptions", "organizations_url": "https://api.github.com/users/HLearning/orgs", "repos_url": "https://api.github.com/users/HLearning/repos", "events_url": "https://api.github.com/users/HLearning/events{/privacy}", "received_events_url": "https://api.github.com/users/HLearning/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-15T10:53:01Z", "updated_at": "2020-03-16T08:46:51Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Linux Ubuntu 18.04\r\n- TensorFlow installed from binary\r\n- TensorFlow 2.1\r\n\r\n\r\n**Provide the text output from tflite_convert**\r\n\r\n```\r\nHere is a list of operators for which you will need custom implementations: NonMaxSuppressionV5.\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37607", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37607/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37607/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37607/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37607", "id": 581579000, "node_id": "MDU6SXNzdWU1ODE1NzkwMDA=", "number": 37607, "title": "Lots of links are Broken.", "user": {"login": "abhinavsp0730", "id": 43638955, "node_id": "MDQ6VXNlcjQzNjM4OTU1", "avatar_url": "https://avatars1.githubusercontent.com/u/43638955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhinavsp0730", "html_url": "https://github.com/abhinavsp0730", "followers_url": "https://api.github.com/users/abhinavsp0730/followers", "following_url": "https://api.github.com/users/abhinavsp0730/following{/other_user}", "gists_url": "https://api.github.com/users/abhinavsp0730/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhinavsp0730/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhinavsp0730/subscriptions", "organizations_url": "https://api.github.com/users/abhinavsp0730/orgs", "repos_url": "https://api.github.com/users/abhinavsp0730/repos", "events_url": "https://api.github.com/users/abhinavsp0730/events{/privacy}", "received_events_url": "https://api.github.com/users/abhinavsp0730/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "lamberta", "id": 43051, "node_id": "MDQ6VXNlcjQzMDUx", "avatar_url": "https://avatars2.githubusercontent.com/u/43051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamberta", "html_url": "https://github.com/lamberta", "followers_url": "https://api.github.com/users/lamberta/followers", "following_url": "https://api.github.com/users/lamberta/following{/other_user}", "gists_url": "https://api.github.com/users/lamberta/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamberta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamberta/subscriptions", "organizations_url": "https://api.github.com/users/lamberta/orgs", "repos_url": "https://api.github.com/users/lamberta/repos", "events_url": "https://api.github.com/users/lamberta/events{/privacy}", "received_events_url": "https://api.github.com/users/lamberta/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lamberta", "id": 43051, "node_id": "MDQ6VXNlcjQzMDUx", "avatar_url": "https://avatars2.githubusercontent.com/u/43051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamberta", "html_url": "https://github.com/lamberta", "followers_url": "https://api.github.com/users/lamberta/followers", "following_url": "https://api.github.com/users/lamberta/following{/other_user}", "gists_url": "https://api.github.com/users/lamberta/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamberta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamberta/subscriptions", "organizations_url": "https://api.github.com/users/lamberta/orgs", "repos_url": "https://api.github.com/users/lamberta/repos", "events_url": "https://api.github.com/users/lamberta/events{/privacy}", "received_events_url": "https://api.github.com/users/lamberta/received_events", "type": "User", "site_admin": false}, {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, {"login": "yashk2810", "id": 14262417, "node_id": "MDQ6VXNlcjE0MjYyNDE3", "avatar_url": "https://avatars1.githubusercontent.com/u/14262417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yashk2810", "html_url": "https://github.com/yashk2810", "followers_url": "https://api.github.com/users/yashk2810/followers", "following_url": "https://api.github.com/users/yashk2810/following{/other_user}", "gists_url": "https://api.github.com/users/yashk2810/gists{/gist_id}", "starred_url": "https://api.github.com/users/yashk2810/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yashk2810/subscriptions", "organizations_url": "https://api.github.com/users/yashk2810/orgs", "repos_url": "https://api.github.com/users/yashk2810/repos", "events_url": "https://api.github.com/users/yashk2810/events{/privacy}", "received_events_url": "https://api.github.com/users/yashk2810/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-15T08:20:45Z", "updated_at": "2020-03-16T06:45:43Z", "closed_at": null, "author_association": "NONE", "body": "## URL(s) with the issue:  \r\nhttps://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/index.md\r\n## Description of the issue (what needs changing):\r\nThere are lots of links are broken, some of them are:\r\nhttps://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/tf/dtypes/DType\r\nhttps://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/tf/data/experimental/get_structure\r\nhttps://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/tf/debugging/assert_same_float_dtype\r\nhttps://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/tf/estimator/ModeKeys\r\nhttps://github.com/tensorflow/docs/blob/r2.0/site/en/api_docs/python/tf/fill\r\n\r\n### Clear description\r\nThere are lots of the link is broken in r2.0/site/en/api_docs/python/index.md. when someone clicks on these links it's showing 404 ERROR.\r\n\r\n## Solution \r\nWhen I checked  https://www.tensorflow.org/versions/r2.0/api_docs/python . I found out every links\r\nare correct. For example\r\n* tf.DType link is broken in Github but working fine in TensorFlow website\r\nAs the numbers of broken links are big. I'll suggest adding a message like\r\n\" Our TensorFlow 2.0 RC docs is moved to https://www.tensorflow.org/versions/r2.0/api_docs/python. Kindly checkout there\"\r\nI have seen this type of message in some of the TensorFlow docs.\r\n## Pull Request\r\nHey, @dynamicwebpaige , @lamberta, @MarkDaoust  . Please assign me for doing this. I'll love to address this issue.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37605", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37605/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37605/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37605/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37605", "id": 581529773, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg4NTgzMTI4", "number": 37605, "title": "Update api_def_Div.pbtxt", "user": {"login": "rohanreddych", "id": 43641071, "node_id": "MDQ6VXNlcjQzNjQxMDcx", "avatar_url": "https://avatars3.githubusercontent.com/u/43641071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohanreddych", "html_url": "https://github.com/rohanreddych", "followers_url": "https://api.github.com/users/rohanreddych/followers", "following_url": "https://api.github.com/users/rohanreddych/following{/other_user}", "gists_url": "https://api.github.com/users/rohanreddych/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohanreddych/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohanreddych/subscriptions", "organizations_url": "https://api.github.com/users/rohanreddych/orgs", "repos_url": "https://api.github.com/users/rohanreddych/repos", "events_url": "https://api.github.com/users/rohanreddych/events{/privacy}", "received_events_url": "https://api.github.com/users/rohanreddych/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 522623856, "node_id": "MDU6TGFiZWw1MjI2MjM4NTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/API%20review", "name": "API review", "color": "d4c5f9", "default": false, "description": null}, {"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-15T05:40:03Z", "updated_at": "2020-03-19T13:08:01Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37605", "html_url": "https://github.com/tensorflow/tensorflow/pull/37605", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37605.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37605.patch"}, "body": ""}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37604", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37604/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37604/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37604/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37604", "id": 581525907, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg4NTc5Nzcx", "number": 37604, "title": "Update api_def_Cast.pbtxt", "user": {"login": "rohanreddych", "id": 43641071, "node_id": "MDQ6VXNlcjQzNjQxMDcx", "avatar_url": "https://avatars3.githubusercontent.com/u/43641071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohanreddych", "html_url": "https://github.com/rohanreddych", "followers_url": "https://api.github.com/users/rohanreddych/followers", "following_url": "https://api.github.com/users/rohanreddych/following{/other_user}", "gists_url": "https://api.github.com/users/rohanreddych/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohanreddych/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohanreddych/subscriptions", "organizations_url": "https://api.github.com/users/rohanreddych/orgs", "repos_url": "https://api.github.com/users/rohanreddych/repos", "events_url": "https://api.github.com/users/rohanreddych/events{/privacy}", "received_events_url": "https://api.github.com/users/rohanreddych/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 522623856, "node_id": "MDU6TGFiZWw1MjI2MjM4NTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/API%20review", "name": "API review", "color": "d4c5f9", "default": false, "description": null}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-15T05:26:56Z", "updated_at": "2020-03-16T03:18:43Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37604", "html_url": "https://github.com/tensorflow/tensorflow/pull/37604", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37604.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37604.patch"}, "body": ""}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37603", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37603/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37603/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37603/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37603", "id": 581437176, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg4NDk4OTQx", "number": 37603, "title": "Replace fit_generator by fit", "user": {"login": "teobouvard", "id": 17164058, "node_id": "MDQ6VXNlcjE3MTY0MDU4", "avatar_url": "https://avatars0.githubusercontent.com/u/17164058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teobouvard", "html_url": "https://github.com/teobouvard", "followers_url": "https://api.github.com/users/teobouvard/followers", "following_url": "https://api.github.com/users/teobouvard/following{/other_user}", "gists_url": "https://api.github.com/users/teobouvard/gists{/gist_id}", "starred_url": "https://api.github.com/users/teobouvard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teobouvard/subscriptions", "organizations_url": "https://api.github.com/users/teobouvard/orgs", "repos_url": "https://api.github.com/users/teobouvard/repos", "events_url": "https://api.github.com/users/teobouvard/events{/privacy}", "received_events_url": "https://api.github.com/users/teobouvard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-15T00:33:53Z", "updated_at": "2020-03-19T13:07:22Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37603", "html_url": "https://github.com/tensorflow/tensorflow/pull/37603", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37603.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37603.patch"}, "body": "Function fit_generator is deprecated, but is still used as an example of\r\nhow to use ImageDataGenerator. This patch fixes the two examples where\r\nfit_generator is used."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37602", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37602/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37602/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37602/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37602", "id": 581407268, "node_id": "MDU6SXNzdWU1ODE0MDcyNjg=", "number": 37602, "title": "Mixed Precision with tf.distribute", "user": {"login": "lminer", "id": 5126549, "node_id": "MDQ6VXNlcjUxMjY1NDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/5126549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lminer", "html_url": "https://github.com/lminer", "followers_url": "https://api.github.com/users/lminer/followers", "following_url": "https://api.github.com/users/lminer/following{/other_user}", "gists_url": "https://api.github.com/users/lminer/gists{/gist_id}", "starred_url": "https://api.github.com/users/lminer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lminer/subscriptions", "organizations_url": "https://api.github.com/users/lminer/orgs", "repos_url": "https://api.github.com/users/lminer/repos", "events_url": "https://api.github.com/users/lminer/events{/privacy}", "received_events_url": "https://api.github.com/users/lminer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 996845227, "node_id": "MDU6TGFiZWw5OTY4NDUyMjc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:dist-strat", "name": "comp:dist-strat", "color": "0052cc", "default": false, "description": "Distribution Strategy related issues"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "reedwm", "id": 6510203, "node_id": "MDQ6VXNlcjY1MTAyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6510203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedwm", "html_url": "https://github.com/reedwm", "followers_url": "https://api.github.com/users/reedwm/followers", "following_url": "https://api.github.com/users/reedwm/following{/other_user}", "gists_url": "https://api.github.com/users/reedwm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedwm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedwm/subscriptions", "organizations_url": "https://api.github.com/users/reedwm/orgs", "repos_url": "https://api.github.com/users/reedwm/repos", "events_url": "https://api.github.com/users/reedwm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedwm/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-14T22:56:04Z", "updated_at": "2020-03-19T01:15:32Z", "closed_at": null, "author_association": "NONE", "body": "It doesn't appear that mixed precision currently works with tf.distribute. Are there plans to add this soon?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37601", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37601/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37601/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37601/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37601", "id": 581405551, "node_id": "MDU6SXNzdWU1ODE0MDU1NTE=", "number": 37601, "title": "TF Lite ESP32 make License issue", "user": {"login": "LEMAOR", "id": 18354219, "node_id": "MDQ6VXNlcjE4MzU0MjE5", "avatar_url": "https://avatars1.githubusercontent.com/u/18354219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LEMAOR", "html_url": "https://github.com/LEMAOR", "followers_url": "https://api.github.com/users/LEMAOR/followers", "following_url": "https://api.github.com/users/LEMAOR/following{/other_user}", "gists_url": "https://api.github.com/users/LEMAOR/gists{/gist_id}", "starred_url": "https://api.github.com/users/LEMAOR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LEMAOR/subscriptions", "organizations_url": "https://api.github.com/users/LEMAOR/orgs", "repos_url": "https://api.github.com/users/LEMAOR/repos", "events_url": "https://api.github.com/users/LEMAOR/events{/privacy}", "received_events_url": "https://api.github.com/users/LEMAOR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1589976566, "node_id": "MDU6TGFiZWwxNTg5OTc2NTY2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:micro", "name": "comp:micro", "color": "3e2eea", "default": false, "description": "Related to TensorFlow Lite Microcontrollers"}], "state": "open", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, {"login": "fredrec", "id": 2177544, "node_id": "MDQ6VXNlcjIxNzc1NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/2177544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredrec", "html_url": "https://github.com/fredrec", "followers_url": "https://api.github.com/users/fredrec/followers", "following_url": "https://api.github.com/users/fredrec/following{/other_user}", "gists_url": "https://api.github.com/users/fredrec/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredrec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredrec/subscriptions", "organizations_url": "https://api.github.com/users/fredrec/orgs", "repos_url": "https://api.github.com/users/fredrec/repos", "events_url": "https://api.github.com/users/fredrec/events{/privacy}", "received_events_url": "https://api.github.com/users/fredrec/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-03-14T22:50:29Z", "updated_at": "2020-03-17T18:16:29Z", "closed_at": null, "author_association": "NONE", "body": "\r\n\r\n**System information**\r\n- Windows 10\r\n-tensorflow cloned from git directly\r\n\r\n**Describe the problem**\r\nWhile trying to use make i get an issue with License:\r\n```\r\nC:\\>make -f tensorflow/lite/micro/tools/make/Makefile TARGET=esp generate_hello_world_esp_project\r\nmake: *** No rule to make target 'LICENSE', needed by 'tensorflow/lite/micro/tools/make/gen/esp_xtensa-esp32/prj/hello_world/esp-idf/LICENSE'.  Stop.\r\n```\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nUsing the batch file provided by esp32 i setup the path variables:\r\n\r\n```\r\nUsing Python in C:\\Program Files\\Python36\\\r\nPython 3.6.8\r\nUsing Git in C:\\Program Files\\Git\\cmd\\\r\ngit version 2.21.0.windows.1\r\nSetting IDF_PATH: C:\\Esp_IDF_Release_4_0\\esp-idf\r\n\r\nAdding ESP-IDF tools to PATH...\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\xtensa-esp32-elf\\esp-2019r2-8.2.0\\xtensa-esp32-elf\\bin\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\xtensa-esp32s2-elf\\esp-2019r2-8.2.0\\xtensa-esp32s2-elf\\bin\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\esp32ulp-elf\\2.28.51-esp-20191205\\esp32ulp-elf-binutils\\bin\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\esp32s2ulp-elf\\2.28.51-esp-20191205\\esp32s2ulp-elf-binutils\\bin\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\cmake\\3.13.4\\bin\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\openocd-esp32\\v0.10.0-esp32-20191114\\openocd-esp32\\bin\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\ninja\\1.9.0\\\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\idf-exe\\1.0.1\\\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\tools\\ccache\\3.7\\\r\n    C:\\Esp_IDF_Release_4_0\\.espressif\\python_env\\idf4.2_py3.6_env\\Scripts\r\n    C:\\Esp_IDF_Release_4_0\\esp-idf\\tools\r\n\r\nChecking if Python packages are up to date...\r\nPython requirements from C:\\Esp_IDF_Release_4_0\\esp-idf\\requirements.txt are satisfied.\r\n\r\nDone! You can now compile ESP-IDF projects.\r\nGo to the project directory and run:\r\n\r\n  idf.py build\r\n```\r\n\r\n\r\n**Any other info / logs**\r\n\r\n\r\nmake is working\r\n\r\nidf.py --version\r\nESP-IDF v4.2-dev-701-g0ae960f2f\r\n\r\nI made sure tensorflow folder is on c:/\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37600", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37600/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37600/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37600/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37600", "id": 581361615, "node_id": "MDU6SXNzdWU1ODEzNjE2MTU=", "number": 37600, "title": "Output 0 of type variant does not match declared output type int64 for node node IteratorGetNext", "user": {"login": "tordsae", "id": 60423034, "node_id": "MDQ6VXNlcjYwNDIzMDM0", "avatar_url": "https://avatars1.githubusercontent.com/u/60423034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tordsae", "html_url": "https://github.com/tordsae", "followers_url": "https://api.github.com/users/tordsae/followers", "following_url": "https://api.github.com/users/tordsae/following{/other_user}", "gists_url": "https://api.github.com/users/tordsae/gists{/gist_id}", "starred_url": "https://api.github.com/users/tordsae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tordsae/subscriptions", "organizations_url": "https://api.github.com/users/tordsae/orgs", "repos_url": "https://api.github.com/users/tordsae/repos", "events_url": "https://api.github.com/users/tordsae/events{/privacy}", "received_events_url": "https://api.github.com/users/tordsae/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-14T20:34:17Z", "updated_at": "2020-03-16T07:02:05Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Standard setup for gcp kubeflow and notebook as in https://www.tensorflow.org/tfx/tutorials/tfx/cloud-ai-platform-pipelines\r\n\r\nTrying a pipeline with keras model to estimator method. Similar to the one in https://github.com/tensorflow/tfx/blob/r0.21/tfx/examples/iris/iris_utils.py, but for a simple autoencoder for 1 feature.\r\n\r\n**Current behavior**\r\nWhen the pipeline tries to save checkpoint I get the error:\r\nhttps://github.com/tensorflow/tfx/blob/r0.21/tfx/examples/iris/iris_utils.py\r\n\r\nOutput 0 of type variant does not match declared output type int64 for node node IteratorGetNext"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37598", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37598/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37598/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37598/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37598", "id": 581304330, "node_id": "MDU6SXNzdWU1ODEzMDQzMzA=", "number": 37598, "title": "2.2.0-rc1 aarch64 crosscompile build failed", "user": {"login": "openedev", "id": 7153824, "node_id": "MDQ6VXNlcjcxNTM4MjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/7153824?v=4", "gravatar_id": "", "url": "https://api.github.com/users/openedev", "html_url": "https://github.com/openedev", "followers_url": "https://api.github.com/users/openedev/followers", "following_url": "https://api.github.com/users/openedev/following{/other_user}", "gists_url": "https://api.github.com/users/openedev/gists{/gist_id}", "starred_url": "https://api.github.com/users/openedev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/openedev/subscriptions", "organizations_url": "https://api.github.com/users/openedev/orgs", "repos_url": "https://api.github.com/users/openedev/repos", "events_url": "https://api.github.com/users/openedev/events{/privacy}", "received_events_url": "https://api.github.com/users/openedev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1903591931, "node_id": "MDU6TGFiZWwxOTAzNTkxOTMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.2", "name": "TF 2.2", "color": "0052cc", "default": false, "description": "Issues related to TF 2.2"}, {"id": 1205615612, "node_id": "MDU6TGFiZWwxMjA1NjE1NjEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:%20ubuntu/linux", "name": "subtype: ubuntu/linux", "color": "b619ea", "default": false, "description": "Ubuntu/Linux Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "angerson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angerson", "html_url": "https://github.com/angerson", "followers_url": "https://api.github.com/users/angerson/followers", "following_url": "https://api.github.com/users/angerson/following{/other_user}", "gists_url": "https://api.github.com/users/angerson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angerson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angerson/subscriptions", "organizations_url": "https://api.github.com/users/angerson/orgs", "repos_url": "https://api.github.com/users/angerson/repos", "events_url": "https://api.github.com/users/angerson/events{/privacy}", "received_events_url": "https://api.github.com/users/angerson/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "angerson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angerson", "html_url": "https://github.com/angerson", "followers_url": "https://api.github.com/users/angerson/followers", "following_url": "https://api.github.com/users/angerson/following{/other_user}", "gists_url": "https://api.github.com/users/angerson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angerson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angerson/subscriptions", "organizations_url": "https://api.github.com/users/angerson/orgs", "repos_url": "https://api.github.com/users/angerson/repos", "events_url": "https://api.github.com/users/angerson/events{/privacy}", "received_events_url": "https://api.github.com/users/angerson/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-14T17:49:29Z", "updated_at": "2020-03-16T06:30:58Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: ARM64 development board\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: 2.2.0-rc1\r\n- Python version: 3.8\r\n- Installed using virtualenv? pip? conda?:\r\n- Bazel version (if compiling from source): 2.0.0\r\n- GCC/Compiler version (if compiling from source): buildroot\r\n- CUDA/cuDNN version: none\r\n- GPU model and memory: none\r\n\r\n**Describe the problem**\r\n\r\nBuild failing due to missing value for mandatory attribute 'toolchain_config' in 'cc_toolchain' rule.\r\n\r\nFollowed the instructurons from [tensorflow-aarch64-crossbuild](https://github.com/xifengcun/tensorflow-aarch64-crossbuild) and update the changes as [tensorflow-2.2.0-rc1-aarch64-crossbuild](https://gist.github.com/openedev/7f7cb16af644d09f11fc49f42cbc2de9)\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nBelow is my sample makefile\r\n\r\nPYTHON_TENSORFLOW_CONF_ENV += \\\r\n        PYTHON_BIN_PATH=$(HOST_DIR)/bin/python3 \\\r\n        PYTHON_LIB_PATH=$(HOST_DIR)/lib/python3.8/site-packages \\\r\n        TF_NEED_OPENCL_SYCL=y \\\r\n        HOST_CXX_COMPILER=$(HOST_DIR)/bin/aarch64-buildroot-linux-gnu-g++ \\\r\n        HOST_C_COMPILER=$(HOST_DIR)/bin/aarch64-buildroot-linux-gnu-gcc \\\r\n        TF_NEED_COMPUTECPP=N \\\r\n        TF_NEED_OPENCL_SYCL=N \\\r\n        TF_NEED_ROCM=N \\\r\n        TF_NEED_CUDA=N \\\r\n        TF_DOWNLOAD_CLANG=N \\\r\n        CC_OPT_FLAGS=\"-march=armv8-a\" \\\r\n        TF_SET_ANDROID_WORKSPACE=N\r\n\r\ndefine PYTHON_TENSORFLOW_CONFIGURE_CMDS\r\n        (cd $(@D); \\\r\n                export PATH=$(HOST_DIR)/bin:$(PATH); \\\r\n                $(PYTHON_TENSORFLOW_CONF_ENV) \\\r\n                $(SHELL) ./configure \\\r\n        )\r\nendef\r\n\r\ndefine PYTHON_TENSORFLOW_BUILD_CMDS\r\n        (cd $(@D); \\\r\n                $(HOST_DIR)/bin/bazel build --crosstool_top=//aarch64-compiler:toolchain --cpu=aarch64 --config=opt //tensorflow/tools/pip_package:build_pip_package \\\r\n        )\r\nendef\r\n\r\n**Any other info / logs**\r\n\r\n(cd /mnt/br/output/build/python-tensorflow-2.2.0-rc0; /mnt/br/output/host/bin/bazel build --crosstool_top=//aarch64-compiler:toolchain --cpu=aarch64 --config=opt //tensorflow/tools/pip_package:build_pip_package )\r\nINFO: Options provided by the client:\r\n  Inherited 'common' options: --isatty=1 --terminal_columns=91\r\nINFO: Reading rc options for 'build' from /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.bazelrc:\r\n  Inherited 'common' options: --experimental_repo_remote_exec\r\nINFO: Reading rc options for 'build' from /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.bazelrc:\r\n  'build' options: --apple_platform_type=macos --define framework_shared_object=true --define open_source_build=true --java_toolchain=//third_party/toolchains/java:tf_java_toolchain --host_java_toolchain=//third_party/toolchains/java:tf_java_toolchain --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone -c opt --announce_rc --define=grpc_no_ares=true --noincompatible_remove_legacy_whole_archive --noincompatible_prohibit_aapt1 --enable_platform_specific_config --config=v2\r\nINFO: Reading rc options for 'build' from /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.tf_configure.bazelrc:\r\n  'build' options: --action_env PYTHON_BIN_PATH=/mnt/br/output/host/bin/python3 --action_env PYTHON_LIB_PATH=/mnt/br/output/host/lib/python3.8/site-packages --python_path=/mnt/br/output/host/bin/python3 --config=xla --action_env TF_CONFIGURE_IOS=0\r\nINFO: Found applicable config definition build:v2 in file /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.bazelrc: --define=tf_api_version=2 --action_env=TF2_BEHAVIOR=1\r\nINFO: Found applicable config definition build:xla in file /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.bazelrc: --action_env=TF_ENABLE_XLA=1 --define=with_xla_support=true\r\nINFO: Found applicable config definition build:opt in file /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.tf_configure.bazelrc: --copt=-march=armv8-a --host_copt=-march=native --define with_default_optimizations=true\r\nINFO: Found applicable config definition build:linux in file /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.bazelrc: --copt=-w --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include --cxxopt=-std=c++14 --host_cxxopt=-std=c++14 --config=dynamic_kernels\r\nINFO: Found applicable config definition build:dynamic_kernels in file /mnt/br/output/build/python-tensorflow-2.2.0-rc0/.bazelrc: --define=dynamic_loaded_kernels=true --copt=-DAUTOLOAD_DYNAMIC_KERNELS\r\nERROR: /mnt/br/output/build/python-tensorflow-2.2.0-rc0/aarch64-compiler/BUILD:15:1: //aarch64-compiler:cc-compiler-aarch64: missing value for mandatory attribute 'toolchain_config' in 'cc_toolchain' rule\r\nINFO: Call stack for the definition of repository 'lmdb' which is a tf_http_archive (rule definition at /mnt/br/output/build/python-tensorflow-2.2.0-rc0/third_party/repo.bzl:134:19):\r\n - /mnt/br/output/build/python-tensorflow-2.2.0-rc0/tensorflow/workspace.bzl:618:5\r\n - /mnt/br/output/build/python-tensorflow-2.2.0-rc0/WORKSPACE:19:1\r\nERROR: /mnt/br/output/build/python-tensorflow-2.2.0-rc0/aarch64-compiler/BUILD:15:1: Target '//aarch64-compiler:aarch64_linux_all_files' contains an error and its package is in error and referenced by '//aarch64-compiler:cc-compiler-aarch64'\r\nERROR: /mnt/br/output/build/python-tensorflow-2.2.0-rc0/aarch64-compiler/BUILD:15:1: Target '//aarch64-compiler:empty' contains an error and its package is in error and referenced by '//aarch64-compiler:cc-compiler-aarch64'\r\nERROR: /mnt/br/output/build/python-tensorflow-2.2.0-rc0/aarch64-compiler/BUILD:3:1: Target '//aarch64-compiler:cc-compiler-aarch64' contains an error and its package is in error and referenced by '//aarch64-compiler:toolchain'\r\nERROR: /root/.cache/bazel/_bazel_root/e6c5c285cc2a992859afbeeed0c80f12/external/bazel_tools/src/tools/launcher/BUILD:9:1: every rule of type cc_binary implicitly depends upon the target '//aarch64-compiler:toolchain', but this target could not be found because of: Target '//aarch64-compiler:toolchain' contains an error and its package is in error\r\nERROR: Analysis of target '//tensorflow/tools/pip_package:build_pip_package' failed; build aborted: Analysis failed\r\nINFO: Elapsed time: 0.151s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully (1 packages loaded, 0 targets configured)\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37594", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37594/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37594/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37594/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37594", "id": 581172164, "node_id": "MDU6SXNzdWU1ODExNzIxNjQ=", "number": 37594, "title": "ERROR: C:/tensorflow/tensorflow/core/kernels/BUILD:7897:1: C++ compilation of rule '//tensorflow/core/kernels:mkl_conv_op' failed (Exit 2)", "user": {"login": "Expert73", "id": 25880366, "node_id": "MDQ6VXNlcjI1ODgwMzY2", "avatar_url": "https://avatars1.githubusercontent.com/u/25880366?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Expert73", "html_url": "https://github.com/Expert73", "followers_url": "https://api.github.com/users/Expert73/followers", "following_url": "https://api.github.com/users/Expert73/following{/other_user}", "gists_url": "https://api.github.com/users/Expert73/gists{/gist_id}", "starred_url": "https://api.github.com/users/Expert73/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Expert73/subscriptions", "organizations_url": "https://api.github.com/users/Expert73/orgs", "repos_url": "https://api.github.com/users/Expert73/repos", "events_url": "https://api.github.com/users/Expert73/events{/privacy}", "received_events_url": "https://api.github.com/users/Expert73/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1903591931, "node_id": "MDU6TGFiZWwxOTAzNTkxOTMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.2", "name": "TF 2.2", "color": "0052cc", "default": false, "description": "Issues related to TF 2.2"}, {"id": 1104829434, "node_id": "MDU6TGFiZWwxMTA0ODI5NDM0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:mkl", "name": "comp:mkl", "color": "0052cc", "default": false, "description": ""}, {"id": 1188421838, "node_id": "MDU6TGFiZWwxMTg4NDIxODM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:windows", "name": "subtype:windows", "color": "b619ea", "default": false, "description": "Windows Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "TensorFlow-MKL", "id": 44416303, "node_id": "MDQ6VXNlcjQ0NDE2MzAz", "avatar_url": "https://avatars2.githubusercontent.com/u/44416303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TensorFlow-MKL", "html_url": "https://github.com/TensorFlow-MKL", "followers_url": "https://api.github.com/users/TensorFlow-MKL/followers", "following_url": "https://api.github.com/users/TensorFlow-MKL/following{/other_user}", "gists_url": "https://api.github.com/users/TensorFlow-MKL/gists{/gist_id}", "starred_url": "https://api.github.com/users/TensorFlow-MKL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TensorFlow-MKL/subscriptions", "organizations_url": "https://api.github.com/users/TensorFlow-MKL/orgs", "repos_url": "https://api.github.com/users/TensorFlow-MKL/repos", "events_url": "https://api.github.com/users/TensorFlow-MKL/events{/privacy}", "received_events_url": "https://api.github.com/users/TensorFlow-MKL/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TensorFlow-MKL", "id": 44416303, "node_id": "MDQ6VXNlcjQ0NDE2MzAz", "avatar_url": "https://avatars2.githubusercontent.com/u/44416303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TensorFlow-MKL", "html_url": "https://github.com/TensorFlow-MKL", "followers_url": "https://api.github.com/users/TensorFlow-MKL/followers", "following_url": "https://api.github.com/users/TensorFlow-MKL/following{/other_user}", "gists_url": "https://api.github.com/users/TensorFlow-MKL/gists{/gist_id}", "starred_url": "https://api.github.com/users/TensorFlow-MKL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TensorFlow-MKL/subscriptions", "organizations_url": "https://api.github.com/users/TensorFlow-MKL/orgs", "repos_url": "https://api.github.com/users/TensorFlow-MKL/repos", "events_url": "https://api.github.com/users/TensorFlow-MKL/events{/privacy}", "received_events_url": "https://api.github.com/users/TensorFlow-MKL/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-14T11:48:14Z", "updated_at": "2020-03-16T19:21:51Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): windows 10 x64\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: no\r\n- TensorFlow installed from (source or binary): git\r\n- TensorFlow version: r 2.2\r\n- Python version: 3.7\r\n- Installed using virtualenv? pip? conda?: conda intel 3.7\r\n- Bazel version (if compiling from source): 2.0\r\n- GCC/Compiler version (if compiling from source): VS 2019\r\n- CUDA/cuDNN version: 10.2\r\n- GPU model and memory: Nvidia 1070 ti\r\n\r\n\r\n\r\n**Describe the problem**\r\nbuild error\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\nbazel --output_base=c:/bazel/output_dir/ build --config=mkl --config=opt --config=cuda -- //tensorflow/tools/pip_package:build_pip_package\r\n\r\n**Any other info / logs**\r\nERROR: C:/tensorflow/tensorflow/core/kernels/BUILD:7897:1: C++ compilation of rule '//tensorflow/core/kernels:mkl_conv_op' failed (Exit 2)\r\n.\\tensorflow/core/util/mkl_util.h(1263): error C2131: expression did not evaluate to a constant\r\n.\\tensorflow/core/util/mkl_util.h(1262): note: failure was caused by a read of a variable outside its lifetime\r\n.\\tensorflow/core/util/mkl_util.h(1262): note: see usage of 'dim'\r\n.\\tensorflow/core/util/mkl_util.h(1264): error C2131: expression did not evaluate to a constant\r\n.\\tensorflow/core/util/mkl_util.h(1262): note: failure was caused by a read of a variable outside its lifetime\r\n.\\tensorflow/core/util/mkl_util.h(1262): note: see usage of 'dim'\r\n.\\tensorflow/core/util/mkl_util.h(1266): error C3863: array type 'dnnl_dim_t [kNumDims]' is not assignable\r\n.\\tensorflow/core/util/mkl_util.h(1267): error C3863: array type 'dnnl_dim_t [kNumDims]' is not assignable\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(157): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept(<expr>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(157): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(182): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept(<expr>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(182): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(246): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept(<expr>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(246): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(254): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept(<expr>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(254): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(283): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept(<expr>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(283): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(474): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(474): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(482): error C2679: binary '=': no operator found which takes a right-hand operand of type 'std::vector<long,std::allocator<long>>' (or there is no acceptable conversion)\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1176): note: could be 'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::initializer_list<_Ty>)'\r\n        with\r\n        [\r\n            _Ty=dnnl::memory::dim\r\n        ]\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(1168): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(const std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &)'\r\nC:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\\VC\\Tools\\MSVC\\14.24.28314\\include\\vector(665): note: or       'std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>>::operator =(std::vector<dnnl::memory::dim,std::allocator<dnnl::memory::dim>> &&) noexcept'\r\n.\\tensorflow/core/kernels/mkl_conv_ops.h(482): note: while trying to match the argument list '(dnnl::memory::dims, std::vector<long,std::allocator<long>>)'\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 2360.878s, Critical Path: 182.60s\r\nINFO: 3346 processes: 3346 local.\r\nFAILED: Build did NOT complete successfully\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37593", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37593/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37593/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37593/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37593", "id": 581162988, "node_id": "MDU6SXNzdWU1ODExNjI5ODg=", "number": 37593, "title": "bug in C++ API \"AddSymbolicGradients\"", "user": {"login": "buaasun", "id": 10055603, "node_id": "MDQ6VXNlcjEwMDU1NjAz", "avatar_url": "https://avatars2.githubusercontent.com/u/10055603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/buaasun", "html_url": "https://github.com/buaasun", "followers_url": "https://api.github.com/users/buaasun/followers", "following_url": "https://api.github.com/users/buaasun/following{/other_user}", "gists_url": "https://api.github.com/users/buaasun/gists{/gist_id}", "starred_url": "https://api.github.com/users/buaasun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/buaasun/subscriptions", "organizations_url": "https://api.github.com/users/buaasun/orgs", "repos_url": "https://api.github.com/users/buaasun/repos", "events_url": "https://api.github.com/users/buaasun/events{/privacy}", "received_events_url": "https://api.github.com/users/buaasun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097543484, "node_id": "MDU6TGFiZWwxMDk3NTQzNDg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:runtime", "name": "comp:runtime", "color": "0052cc", "default": false, "description": "c++ runtime, performance issues (cpu)"}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "saxenasaurabh", "id": 3967488, "node_id": "MDQ6VXNlcjM5Njc0ODg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3967488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saxenasaurabh", "html_url": "https://github.com/saxenasaurabh", "followers_url": "https://api.github.com/users/saxenasaurabh/followers", "following_url": "https://api.github.com/users/saxenasaurabh/following{/other_user}", "gists_url": "https://api.github.com/users/saxenasaurabh/gists{/gist_id}", "starred_url": "https://api.github.com/users/saxenasaurabh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saxenasaurabh/subscriptions", "organizations_url": "https://api.github.com/users/saxenasaurabh/orgs", "repos_url": "https://api.github.com/users/saxenasaurabh/repos", "events_url": "https://api.github.com/users/saxenasaurabh/events{/privacy}", "received_events_url": "https://api.github.com/users/saxenasaurabh/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "saxenasaurabh", "id": 3967488, "node_id": "MDQ6VXNlcjM5Njc0ODg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3967488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saxenasaurabh", "html_url": "https://github.com/saxenasaurabh", "followers_url": "https://api.github.com/users/saxenasaurabh/followers", "following_url": "https://api.github.com/users/saxenasaurabh/following{/other_user}", "gists_url": "https://api.github.com/users/saxenasaurabh/gists{/gist_id}", "starred_url": "https://api.github.com/users/saxenasaurabh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saxenasaurabh/subscriptions", "organizations_url": "https://api.github.com/users/saxenasaurabh/orgs", "repos_url": "https://api.github.com/users/saxenasaurabh/repos", "events_url": "https://api.github.com/users/saxenasaurabh/events{/privacy}", "received_events_url": "https://api.github.com/users/saxenasaurabh/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-14T11:21:45Z", "updated_at": "2020-03-19T01:15:30Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): Yes \r\n- OS Platform and Distribution: CentOS Linux 7.4\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: Unknown\r\n- TensorFlow installed from (source or binary):source \r\n- TensorFlow version (use command below): TF 2.0\r\n- Python version:3.7 \r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from\r\nsource): 8.3\r\n- CUDA/cuDNN version: None\r\n- GPU model and memory: None\r\n\r\n**Describe the current behavior**\r\nI build a graph, then call `AddSymbolicGradients` to generate gradients, but I found the order of generated gradients does not match inputs. My inputs are `[a,b]`, but the generated gradients are `[b_grad, a_grad]`\r\n**Describe the expected behavior**\r\ngradients order match inputs. Gradients of inputs `[a,b]` should be `[a_grad, b_grad]`\r\n\r\n**My work to solve the problem** \r\nI checked the code in tensorflow/cc/framework/gradients.cc [L532](https://github.com/tensorflow/tensorflow/blob/07112a5c7e233989652ecac3184f0dd640e1462b/tensorflow/cc/framework/gradients.cc#L532) \r\n```c++\r\n    size_t dx_index = 0;\r\n    for (const Edge* e : n->in_edges()) {\r\n      if (e->IsControlEdge()) continue;\r\n      if (dx_index == dx.size()) {\r\n        return errors::Internal(\r\n            \"Invalid gradient output index: \", dx_index, \" size: \", dx.size());\r\n      }\r\n      TF_RETURN_IF_ERROR(\r\n          BackpropAlongEdge(dx[dx_index++], {e->src(), e->src_output()}));\r\n    }\r\n```\r\nI think `dx_index` in code should be `e->dst_input()`, because `in_edges() `returns a `unordered_set` which order is not match `dx`, the input index of edge is `dst_input()`.The right code may be:\r\n```c++\r\nfor (const Edge* e : n->in_edges()) {\r\n      if (e->IsControlEdge()) continue;\r\n      int dx_index = e->dst_input();\r\n      if (dx_index >= dx.size()) {\r\n        return errors::Internal(\"Invalid gradient output index: \", dx_index, \" size: \", dx.size());\r\n      }\r\n      TF_RETURN_IF_ERROR(BackpropAlongEdge(dx[dx_index], {e->src(), e->src_output()}));\r\n    }\r\n```\r\n\r\nAfter I modified the code, my program seems works fine.\r\n"}]