[{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30371", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30371/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30371/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30371/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30371", "id": 463933442, "node_id": "MDU6SXNzdWU0NjM5MzM0NDI=", "number": 30371, "title": "Bad inference on mobilenet quantized graph", "user": {"login": "joaolcaas", "id": 23393117, "node_id": "MDQ6VXNlcjIzMzkzMTE3", "avatar_url": "https://avatars0.githubusercontent.com/u/23393117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joaolcaas", "html_url": "https://github.com/joaolcaas", "followers_url": "https://api.github.com/users/joaolcaas/followers", "following_url": "https://api.github.com/users/joaolcaas/following{/other_user}", "gists_url": "https://api.github.com/users/joaolcaas/gists{/gist_id}", "starred_url": "https://api.github.com/users/joaolcaas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joaolcaas/subscriptions", "organizations_url": "https://api.github.com/users/joaolcaas/orgs", "repos_url": "https://api.github.com/users/joaolcaas/repos", "events_url": "https://api.github.com/users/joaolcaas/events{/privacy}", "received_events_url": "https://api.github.com/users/joaolcaas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1105108936, "node_id": "MDU6TGFiZWwxMTA1MTA4OTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:model", "name": "comp:model", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "nutsiepully", "id": 1307460, "node_id": "MDQ6VXNlcjEzMDc0NjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1307460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nutsiepully", "html_url": "https://github.com/nutsiepully", "followers_url": "https://api.github.com/users/nutsiepully/followers", "following_url": "https://api.github.com/users/nutsiepully/following{/other_user}", "gists_url": "https://api.github.com/users/nutsiepully/gists{/gist_id}", "starred_url": "https://api.github.com/users/nutsiepully/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nutsiepully/subscriptions", "organizations_url": "https://api.github.com/users/nutsiepully/orgs", "repos_url": "https://api.github.com/users/nutsiepully/repos", "events_url": "https://api.github.com/users/nutsiepully/events{/privacy}", "received_events_url": "https://api.github.com/users/nutsiepully/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nutsiepully", "id": 1307460, "node_id": "MDQ6VXNlcjEzMDc0NjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1307460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nutsiepully", "html_url": "https://github.com/nutsiepully", "followers_url": "https://api.github.com/users/nutsiepully/followers", "following_url": "https://api.github.com/users/nutsiepully/following{/other_user}", "gists_url": "https://api.github.com/users/nutsiepully/gists{/gist_id}", "starred_url": "https://api.github.com/users/nutsiepully/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nutsiepully/subscriptions", "organizations_url": "https://api.github.com/users/nutsiepully/orgs", "repos_url": "https://api.github.com/users/nutsiepully/repos", "events_url": "https://api.github.com/users/nutsiepully/events{/privacy}", "received_events_url": "https://api.github.com/users/nutsiepully/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-07-03T20:13:20Z", "updated_at": "2019-07-09T19:09:50Z", "closed_at": null, "author_association": "NONE", "body": "Hi! I'm having some trouble about quantization on ssd_mobilenet_v1, doing inferences on raspberry Pi 3. I have trained this model using 2007voc dataset with the following comand:\r\n\r\n```bash\r\npython /models/research/object_detection/legacy/train.py \\\r\n\t\t--train_dir $TRAIN_DIR \\\r\n\t\t--pipeline_config_path \"$TRAIN_DIR/pipeline.config\"\r\n```\r\nAnd params '{\"batch_size\":8,\"learning_rate\":0.003}'.\r\nTo generate both frozen and quantized graph, i use the following comand:\r\n\r\n```bash\r\n/tensorflow/bazel-bin/tensorflow/tools/graph_transforms/transform_graph \\\r\n\t\t--in_graph=\"$TRAIN_DIR/frozen_inference_graph.pb\" \\\r\n\t\t--out_graph=\"$TRAIN_DIR/quantized_graph.pb\" \\\r\n\t\t--inputs='image_tensor' \\\r\n\t\t--outputs=MobilenetV1/Predictions/Reshape_1 \\\r\n\t\t--transforms='\r\n\t\tquantize_weights'\r\n```\r\n\r\nDoing inferences using just the quantized graph, the result is really good. The model predict almost everything, with good bouding boxes. But, when i do inferences using the quantized graph, the bouding boxes look like this:\r\n![my2](https://user-images.githubusercontent.com/23393117/60616312-8c45e180-9da7-11e9-9328-77d62e71b144.png)\r\n\r\nI know the inference time is not equals when we compare both models. And i also know the mAP is note the same, but it is suposed to be that bad?\r\n\r\n### Process information\r\n- **The main process you can find [here](https://medium.com/nanonets/how-to-easily-detect-objects-with-deep-learning-on-raspberrypi-225f29635c74)**\r\n- **I use for train:**\r\n- Linux 16.04\r\n- Core i7-4770s\r\n- 16GB Ram\r\n- **I use for Inference:**\r\n- Raspberry Pi3\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30366", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30366/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30366/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30366/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30366", "id": 463883550, "node_id": "MDU6SXNzdWU0NjM4ODM1NTA=", "number": 30366, "title": "get_variable style tf.Variable initialization", "user": {"login": "jbuckman", "id": 10989937, "node_id": "MDQ6VXNlcjEwOTg5OTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10989937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbuckman", "html_url": "https://github.com/jbuckman", "followers_url": "https://api.github.com/users/jbuckman/followers", "following_url": "https://api.github.com/users/jbuckman/following{/other_user}", "gists_url": "https://api.github.com/users/jbuckman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbuckman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbuckman/subscriptions", "organizations_url": "https://api.github.com/users/jbuckman/orgs", "repos_url": "https://api.github.com/users/jbuckman/repos", "events_url": "https://api.github.com/users/jbuckman/events{/privacy}", "received_events_url": "https://api.github.com/users/jbuckman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-07-03T17:58:08Z", "updated_at": "2019-07-11T00:42:57Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): 1.x\r\n- Are you willing to contribute it (Yes/No): No\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\nCurrently, tf.Variable requires passing in an initial value for the variable. It's often much more useful to pass in a shape and initializer. It'd be great if there was a convenience function that made this easy to do. tf.get_variable did this, but it requires a namescope to be specified, which is no longer desirable.\r\n**Will this change the current api? How?**\r\nBarely - it will simply add an additional way to initialize variables.\r\n**Who will benefit with this feature?**\r\nAlmost everyone using TF.\r\n**Any Other info.**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30359", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30359/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30359/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30359/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30359", "id": 463807232, "node_id": "MDU6SXNzdWU0NjM4MDcyMzI=", "number": 30359, "title": "TensorFlow C binding for Raspberry Pi", "user": {"login": "marianopeck", "id": 1032834, "node_id": "MDQ6VXNlcjEwMzI4MzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1032834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marianopeck", "html_url": "https://github.com/marianopeck", "followers_url": "https://api.github.com/users/marianopeck/followers", "following_url": "https://api.github.com/users/marianopeck/following{/other_user}", "gists_url": "https://api.github.com/users/marianopeck/gists{/gist_id}", "starred_url": "https://api.github.com/users/marianopeck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marianopeck/subscriptions", "organizations_url": "https://api.github.com/users/marianopeck/orgs", "repos_url": "https://api.github.com/users/marianopeck/repos", "events_url": "https://api.github.com/users/marianopeck/events{/privacy}", "received_events_url": "https://api.github.com/users/marianopeck/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 1194756584, "node_id": "MDU6TGFiZWwxMTk0NzU2NTg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:%20raspberry%20pi", "name": "subtype: raspberry pi", "color": "b619ea", "default": false, "description": "Raspberry Pi Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2019-07-03T15:07:17Z", "updated_at": "2019-07-21T17:42:17Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version (you are using): 1.13.1\r\n- Are you willing to contribute it (Yes/No): yes, at least as a tester\r\n\r\n**Describe the feature and the current behavior/state.**\r\nI asked on [StackOverflow if there was a TensorFlow C binding for ARM/RaspberryPi](https://stackoverflow.com/questions/56837317/how-can-i-get-a-tensorflow-c-binding-for-raspberry-pi) but I got no answer after many days. \r\n\r\nI couldn't find anything on the website, so I suspect this is not yet available? \r\n\r\nIf it is just a matter that you don't distribute the binaries, I have no troubles to compile it myself if I have the instructions and if it is known to work. But I haven't found anything confirming that either. \r\n\r\n**Will this change the current api? How?**\r\nNo\r\n\r\n**Who will benefit with this feature?**\r\nAll language bindings that use the C library and want to run on any ARM board\r\n\r\n**Any Other info.**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30357", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30357/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30357/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30357/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30357", "id": 463800352, "node_id": "MDU6SXNzdWU0NjM4MDAzNTI=", "number": 30357, "title": "[TF 1.14 Keras] probably bug in network._map_graph_network", "user": {"login": "ziky90", "id": 1810839, "node_id": "MDQ6VXNlcjE4MTA4Mzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1810839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ziky90", "html_url": "https://github.com/ziky90", "followers_url": "https://api.github.com/users/ziky90/followers", "following_url": "https://api.github.com/users/ziky90/following{/other_user}", "gists_url": "https://api.github.com/users/ziky90/gists{/gist_id}", "starred_url": "https://api.github.com/users/ziky90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ziky90/subscriptions", "organizations_url": "https://api.github.com/users/ziky90/orgs", "repos_url": "https://api.github.com/users/ziky90/repos", "events_url": "https://api.github.com/users/ziky90/events{/privacy}", "received_events_url": "https://api.github.com/users/ziky90/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1445545631, "node_id": "MDU6TGFiZWwxNDQ1NTQ1NjMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.14", "name": "TF 1.14", "color": "5319e7", "default": false, "description": "for issues seen with TF 1.14"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2019-07-03T14:54:49Z", "updated_at": "2019-10-11T14:20:34Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): \r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Both OS-X and Ubuntu\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): 1.14.0 binary\r\n- TensorFlow version (use command below): 1.14\r\n- Python version: 3.6.\r\n- Bazel version (if compiling from source): NA\r\n- GCC/Compiler version (if compiling from source): NA\r\n- CUDA/cuDNN version: NA\r\n- GPU model and memory: NA\r\n\r\n**Describe the current behavior**\r\nI have a CNN model that works well with tensorflow==1.13.1 (building the network, training the network and predicting from the network), but after the update to tensorflow==1.14.0 I'm getting following exception:\r\n\r\n```\r\nValueError: Graph disconnected: cannot obtain value for tensor Tensor(\"dropout_1/cond/Merge:0\", shape=(?, 160, 160, 16), dtype=float32) at layer \"concatenate\". The following previous layers were accessed without issue: ['net_input', 'initial_conv2D', 'batch_normalization', 'activation', 'conv2d', 'dropout']\r\n```\r\n\r\n**Other info / logs**\r\nAfter debugging and going through the implementation of `network._map_graph_network` it seems to me that there is either some bug (significantly changed behaviour between tensorflow==1.13.1 and tensorflow 1.14.0) in the graph disconnections checking.\r\nWhen I run the code with tensorflow==1.13.1 the tensorboard graph looks as follows:\r\n![Screenshot 2019-07-03 at 16 36 37](https://user-images.githubusercontent.com/1810839/60600754-134b8780-9db1-11e9-811f-7f36afdc4a77.png)\r\nFrom this I'm not sure why layer dropout_1 (conditional dropout) is checked in the concatenate layer? I assume that droupout should have been checked there?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30356", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30356/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30356/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30356/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30356", "id": 463791421, "node_id": "MDU6SXNzdWU0NjM3OTE0MjE=", "number": 30356, "title": "Compiling custom GPU operation on Microsoft Windows 10", "user": {"login": "alayu", "id": 23160218, "node_id": "MDQ6VXNlcjIzMTYwMjE4", "avatar_url": "https://avatars3.githubusercontent.com/u/23160218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alayu", "html_url": "https://github.com/alayu", "followers_url": "https://api.github.com/users/alayu/followers", "following_url": "https://api.github.com/users/alayu/following{/other_user}", "gists_url": "https://api.github.com/users/alayu/gists{/gist_id}", "starred_url": "https://api.github.com/users/alayu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alayu/subscriptions", "organizations_url": "https://api.github.com/users/alayu/orgs", "repos_url": "https://api.github.com/users/alayu/repos", "events_url": "https://api.github.com/users/alayu/events{/privacy}", "received_events_url": "https://api.github.com/users/alayu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "yifeif", "id": 1192265, "node_id": "MDQ6VXNlcjExOTIyNjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1192265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yifeif", "html_url": "https://github.com/yifeif", "followers_url": "https://api.github.com/users/yifeif/followers", "following_url": "https://api.github.com/users/yifeif/following{/other_user}", "gists_url": "https://api.github.com/users/yifeif/gists{/gist_id}", "starred_url": "https://api.github.com/users/yifeif/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yifeif/subscriptions", "organizations_url": "https://api.github.com/users/yifeif/orgs", "repos_url": "https://api.github.com/users/yifeif/repos", "events_url": "https://api.github.com/users/yifeif/events{/privacy}", "received_events_url": "https://api.github.com/users/yifeif/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yifeif", "id": 1192265, "node_id": "MDQ6VXNlcjExOTIyNjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1192265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yifeif", "html_url": "https://github.com/yifeif", "followers_url": "https://api.github.com/users/yifeif/followers", "following_url": "https://api.github.com/users/yifeif/following{/other_user}", "gists_url": "https://api.github.com/users/yifeif/gists{/gist_id}", "starred_url": "https://api.github.com/users/yifeif/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yifeif/subscriptions", "organizations_url": "https://api.github.com/users/yifeif/orgs", "repos_url": "https://api.github.com/users/yifeif/repos", "events_url": "https://api.github.com/users/yifeif/events{/privacy}", "received_events_url": "https://api.github.com/users/yifeif/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-07-03T14:38:38Z", "updated_at": "2019-12-11T06:34:34Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Microsoft Windows 10\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or binary): Source\r\n- TensorFlow version: 1.12.3\r\n- Python version: 3.5.0\r\n- Installed using virtualenv? pip? conda?: conda\r\n- Bazel version (if compiling from source): 0.17.2\r\n- GCC/Compiler version (if compiling from source): 7.4.0\r\n- CUDA/cuDNN version: 9\r\n- GPU model and memory: NVIDIA Quadro P100\r\n\r\n\r\n\r\n**Describe the problem**\r\nI've been trying to get a custom operation working with a Windows version of TensorFlow GPU version from the guide: https://www.tensorflow.org/guide/extend/op#compiling_the_kernel_for_the_gpu_device\r\n\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\n1. Clone the repository:\r\n\r\n```powershell\r\ngit clone https://github.com/tensorflow/tensorflow.git \r\n```\r\n\r\nI put my C++ implementation of sqrt_kernels.cc, sqrt.h, and sqrt_kernels.cu.cc in tensorflow\\tensorflow\\core\\user_ops\r\n\r\n\r\n**sqrt_kerenls.cc**\r\n```c++\r\n#if GOOGLE_CUDA\r\n#define EIGEN_USE_GPU\r\n#endif\r\n\r\n#include \"sqrt.h\"\r\n#include <math.h>\r\n#include \"tensorflow/core/framework/op_kernel.h\"\r\n\r\nusing namespace tensorflow;\r\n\r\nusing CPUDevice = Eigen::ThreadPoolDevice;\r\nusing GPUDevice = Eigen::GpuDevice;\r\n\r\n// CPU specialization of actual computation\r\ntemplate <typename T>\r\nstruct SqrtFunctor<CPUDevice, T>{\r\n\r\n    void operator()(const CPUDevice& d, int size, const T* in, T* out){\r\n        for(int i = 0; i < size; ++i){\r\n            out[i] = sqrt(in[i]);\r\n        }\r\n    }\r\n};\r\n\r\n//Opkernel definition\r\n//template paramter T is datatype of tensors\r\n\r\ntemplate <typename Device, typename T>\r\nclass SqrtOp : public OpKernel {\r\n    public:\r\n     explicit SqrtOp(OpKernelConstruction* context) : OpKernel(context) {}\r\n\r\n     void Compute(OpKernelContext* context) override {\r\n\r\n         const Tensor& input_tensor = context->input(0);\r\n\r\n         Tensor* output_tensor = NULL;\r\n\r\n         OP_REQUIRES_OK(context, context->allocate_output(0, input_tensor.shape(), &output_tensor));\r\n\r\n         OP_REQUIRES(context, input_tensor.NumElements() <= tensorflow:kint32max, errors::InvalidArgument(\"Too many elements in tensor\"));\r\n\r\n         SqrtFunctor<Device, T>(){\r\n             context->eigen_device<Device>(),\r\n             static_cast<int>(input_tensor.NumElements()),\r\n             input_tensor.flat<T>().data(),\r\n             output_tensor->flat<T>().data());\r\n         }\r\n     }\r\n\r\n};\r\n\r\n//Register the Kernels\r\n#define REGISTER_CPU(T)                     \\\r\n REGISTER_KERNEL_BUILDER(                   \\\r\n        Name(\"Sqrt\").Device(DEVICE_CPU).TypeConstraint<T>(\"T\"), \\\r\n        SqrtOp<CPUDevice, T>);\r\n REGISTER_CPU(float);\r\n REGISTER_CPU(int32);\r\n\r\n#ifdef GOOGLE_CUDA\r\n#define REGISTER_GPU(T)\r\n extern template struct SqrtFunctor<GPUDevice, T>;   \\\r\nREGISTER_KERNEL_BUILDER(\r\n    Name(\"Sqrt\").Device(DEVICE_GPU).TypeConstraint<T>(\"T\"), \\\r\n    SqrtOp<GPUDevice, T>);\r\nREGISTER_GPU(float);\r\nREGISTER_GPU(int32);\r\n#endif\r\n}\r\n}\r\n```\r\n\r\n**sqrt_kenels.cu.cc**\r\n```c++\r\n#if GOOGLE_CUDA\r\n\r\n#define EIGEN_USE_GPU\r\n\r\n#include \"sqrt.h\"\r\n#include \"tensorflow/core/util/cuda_kernel_helper.h\"\r\n\r\n\r\nusing namespace tensorflow;\r\n\r\nusing GPUDevice = Eigen::GpuDevice;\r\n\r\ntemplate <typename T>\r\n\r\n__global__ void SqrtCudaKernel(const int size, const T* in, T* out){\r\n\r\n    for(int i = blockIdx.x * blockDim.x + threadIdx.x; i < size; i += blockDim.x * gridDim.x){\r\n\r\n        out[i] = sqrt(ldg(in + i));\r\n    }\r\n}\r\n\r\ntemplate <typename T>\r\nstruct SqrtFunctor<GPUDevice, T> {\r\n    void operator()(const GPUDevice& d, int size, const T* in, T* out){\r\n\r\n        int block_count = 1024;\r\n        int thread_per_block = 20;\r\n\r\n        SqrtCudaKernel<T> <<<block_count, thread_per_block, 0, d.stream()>>>(size,in,out);\r\n\r\n    }\r\n};\r\n\r\ntemplate struct SqrtFunctor<GPUDevice, float>;\r\ntemplate struct SqrtFunctor<GPUDevice, int32>;\r\n}\r\n}\r\n\r\n#endif\r\n```\r\n**sqrt.h**\r\n\r\n```c++\r\n#ifndef SQRT_H_\r\n#define SQRT_H_\r\n\r\nnamespace tensorflow {\r\n\r\nnamespace functor{\r\n\r\n\r\ntemplate <typename Device, typename T>\r\n\r\nstruct SqrtFunctor{\r\n    void operator()(const Device&d, int size, const T* in, T* out);\r\n};\r\n\r\n#if GOOGLE_CUDA\r\n\r\ntemplate <typename Eigen::GpuDevice, typename T>\r\nstruct SqrtFunctor{\r\n    void operator()(const Eigen::GpuDevice & d, int size, const T* in, T* out);\r\n};\r\n#endif\r\n\r\n}\r\n\r\n}\r\n\r\n#endif\r\n```\r\n\r\n2. Afterwards I configure and built the tensorflow library by using bazel:\r\n\r\n```powershell\r\npython ./configure.py\r\n```\r\n\r\n3.  This is where I get my error after running this command:\r\n\r\n```powershell\r\nnvcc -std=c++11 -c -o cuda_op_kernel.cu.o cuda_op_kernel.cu.cc \\\r\n  ${TF_CFLAGS[@]} -D GOOGLE_CUDA=1 -x cu -Xcompiler -fPIC\r\nnvcc warning : The -std=c++11 flag is not supported with the configured host compiler. Flag will be ignored.\r\nsqrt_kernels.cu.cc\r\ncl : Command line warning D9002 : ignoring unknown option '-fPIC'\r\nsqrt_kernels.cu.cc\r\nC://Users//alayu//AppData//Local//Programs//Python//Python35//lib//site-packages//tensorflow//include\\third_party/eigen3/unsupported/Eigen/CXX11/Tensor(1): fatal error C1083: Cannot open include file: 'unsupported/Eigen/CXX11/Tensor': No such file or directory\r\n```\r\n\r\nI found the file \"unsupported/Eigen/CXX11/Tensor'\" in the path that it said it couldn't find it in, so I don't know what the error could be. Does nvcc require a specific gcc version? If it requires me to downgrade, I had originally used cygwin to install the latest version and it doesn't seem like they include older versions in their installer.\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30319", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30319/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30319/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30319/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30319", "id": 463360204, "node_id": "MDU6SXNzdWU0NjMzNjAyMDQ=", "number": 30319, "title": "TensorFlow does not work without tcmalloc in some cases (boosted trees).", "user": {"login": "daisylab", "id": 31073109, "node_id": "MDQ6VXNlcjMxMDczMTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/31073109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daisylab", "html_url": "https://github.com/daisylab", "followers_url": "https://api.github.com/users/daisylab/followers", "following_url": "https://api.github.com/users/daisylab/following{/other_user}", "gists_url": "https://api.github.com/users/daisylab/gists{/gist_id}", "starred_url": "https://api.github.com/users/daisylab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daisylab/subscriptions", "organizations_url": "https://api.github.com/users/daisylab/orgs", "repos_url": "https://api.github.com/users/daisylab/repos", "events_url": "https://api.github.com/users/daisylab/events{/privacy}", "received_events_url": "https://api.github.com/users/daisylab/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1445545631, "node_id": "MDU6TGFiZWwxNDQ1NTQ1NjMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.14", "name": "TF 1.14", "color": "5319e7", "default": false, "description": "for issues seen with TF 1.14"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, {"login": "nataliaponomareva", "id": 4313109, "node_id": "MDQ6VXNlcjQzMTMxMDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/4313109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nataliaponomareva", "html_url": "https://github.com/nataliaponomareva", "followers_url": "https://api.github.com/users/nataliaponomareva/followers", "following_url": "https://api.github.com/users/nataliaponomareva/following{/other_user}", "gists_url": "https://api.github.com/users/nataliaponomareva/gists{/gist_id}", "starred_url": "https://api.github.com/users/nataliaponomareva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nataliaponomareva/subscriptions", "organizations_url": "https://api.github.com/users/nataliaponomareva/orgs", "repos_url": "https://api.github.com/users/nataliaponomareva/repos", "events_url": "https://api.github.com/users/nataliaponomareva/events{/privacy}", "received_events_url": "https://api.github.com/users/nataliaponomareva/received_events", "type": "User", "site_admin": false}, {"login": "yashk2810", "id": 14262417, "node_id": "MDQ6VXNlcjE0MjYyNDE3", "avatar_url": "https://avatars1.githubusercontent.com/u/14262417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yashk2810", "html_url": "https://github.com/yashk2810", "followers_url": "https://api.github.com/users/yashk2810/followers", "following_url": "https://api.github.com/users/yashk2810/following{/other_user}", "gists_url": "https://api.github.com/users/yashk2810/gists{/gist_id}", "starred_url": "https://api.github.com/users/yashk2810/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yashk2810/subscriptions", "organizations_url": "https://api.github.com/users/yashk2810/orgs", "repos_url": "https://api.github.com/users/yashk2810/repos", "events_url": "https://api.github.com/users/yashk2810/events{/privacy}", "received_events_url": "https://api.github.com/users/yashk2810/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-07-02T17:54:21Z", "updated_at": "2019-09-09T10:03:14Z", "closed_at": null, "author_association": "NONE", "body": "\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: N/A\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04.4\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**: N/A\r\n- **TensorFlow installed from (source or binary)**: binary from pip\r\n- **TensorFlow version (use command below)**: v1.14.0-rc1-22-gaf24dc91b5 1.14.0\r\n- **Python version**: 3.5.2\r\n- **Bazel version (if compiling from source)**: N/A\r\n- **GCC/Compiler version (if compiling from source)**: N/A\r\n- **CUDA/cuDNN version**: N/A\r\n- **GPU model and memory**: N/A\r\n- **Exact command to reproduce**: \r\n\r\n  1. launch jupyter notebook,\r\n  2. download tutorial from google colab (https://colab.research.google.com/github/tensorflow/docs/blob/master/site/en/tutorials/estimators/boosted_trees.ipynb),\r\n  3. run the notebook.\r\n\r\n\r\n\r\n### Describe the problem\r\n\r\n\r\nHi, I'm currently learning TensorFlow from the tutorials of the TF site.\r\n\r\nBut, during exercise in the tutorial (https://www.tensorflow.org/tutorials/estimators/boosted_trees), I got a strange error.\r\n\r\nTensorFlow was constantly crashed with the code, although it was provided from official site. I tried both jupyter notebook and plain python code.\r\n\r\nSo I googled the problem a little bit, and found that there's a workaround (https://github.com/tensorflow/tensorflow/issues/6968), i.e.,\r\n\r\n```bash\r\nsudo apt install libtcmalloc-minimal4\r\nexport LD_PRELOAD=\"/usr/lib/libtcmalloc_minimal.so.4\"\r\n```\r\n\r\nAnd then the code worked flawlessly.\r\n\r\nHowever, this leaves another questions, and these are what I really wonder;\r\n\r\n1. does this problem happen to some boundary cases like mine? Perhaps I am missing some configurations. I'll be glad to let me know.\r\n\r\n2. if not, that is, `tcmalloc` is necessary for the TensorFlow, and considering that `tcmalloc` is not distributed with the every default linux (for example, ubuntu) installations, might be there a better way to evade this situation?\r\n\r\n\r\n\r\n### Source code / logs\r\n\r\n\r\nBefore applying the `tcmalloc` package, jupyter kernel died with this message,\r\n\r\n```\r\nKernel Restarting\r\n\r\nThe kernel appears to have died. It will restart automatically.\r\n```\r\n\r\nHere is some snippet of the log message.\r\n\r\n\r\n```\r\n*** Error in `/home/sungjin/.virtualenvs/boost/bin/python3': malloc(): memory corruption (fast): 0x00007fe0e804d6d0 ***\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7fe1f56097e5]\r\n```\r\n\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30317", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30317/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30317/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30317/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30317", "id": 463310530, "node_id": "MDU6SXNzdWU0NjMzMTA1MzA=", "number": 30317, "title": "tf.nn.depthwise_conv2d does not preserve number of channels", "user": {"login": "adrianstaniec", "id": 15216366, "node_id": "MDQ6VXNlcjE1MjE2MzY2", "avatar_url": "https://avatars0.githubusercontent.com/u/15216366?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianstaniec", "html_url": "https://github.com/adrianstaniec", "followers_url": "https://api.github.com/users/adrianstaniec/followers", "following_url": "https://api.github.com/users/adrianstaniec/following{/other_user}", "gists_url": "https://api.github.com/users/adrianstaniec/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianstaniec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianstaniec/subscriptions", "organizations_url": "https://api.github.com/users/adrianstaniec/orgs", "repos_url": "https://api.github.com/users/adrianstaniec/repos", "events_url": "https://api.github.com/users/adrianstaniec/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianstaniec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-07-02T15:58:27Z", "updated_at": "2019-07-12T21:14:56Z", "closed_at": null, "author_association": "NONE", "body": "edit: _**you can skip reading this post, go to the next one directly**_\r\n\r\n**System information**\r\n\r\n- OS Platform and Distribution: Linux Ubuntu 18.04\r\n- TensorFlow installed from: pip\r\n- TensorFlow version (use command below): 1.13.1\r\n- Python version: 1.13.1\r\n- CUDA/cuDNN version: 10\r\n- GPU model and memory: RTX 2080 Ti\r\n\r\n**Describe the current behavior**\r\nif I  look at the tensor before and after the depthwise_conv2d:\r\n```\r\nic| x: <tf.Tensor 'fusion/upsample/transpose_1:0' shape=(?, 128, ?, ?) dtype=float32>\r\nic| x: <tf.Tensor 'fusion/dwconv1/BatchToSpaceND:0' shape=(?, ?, ?, ?) dtype=float32>\r\n```\r\n\r\n**Describe the expected behavior**\r\nif I  look at the tensor before and after the depthwise_conv2d the channel number should be preserved, and look something like this:\r\n```\r\nic| x: <tf.Tensor 'fusion/upsample/transpose_1:0' shape=(?, 128, ?, ?) dtype=float32>\r\nic| x: <tf.Tensor 'fusion/transpose_1:0' shape=(?, 128, ?, ?) dtype=float32>\r\n```\r\n\r\nso IMO depthwise_conv2d with dilations  and NCHW it's loosing the information about number of channels \r\n\r\n**Code to reproduce the issue**\r\n\r\nbecause tf.layers.depthwise_conv2d is not implemented, I implemented this:\r\n\r\n```\r\ndef _depthwise_conv2d(self, tensor, kernel_size, strides, rate=[1, 1], name='dwconv'):\r\n    \"\"\"Problem: doesn't support channel first + dilations\"\"\"\r\n    c = self._n_channels(tensor)\r\n    filter_shape = [kernel_size[0], kernel_size[1], c, 1]\r\n    filter = tf.get_variable(name + \"/filter\", shape=filter_shape, dtype=tf.float32)\r\n    strides = [1, 1, strides[0], strides[1]]\r\n    tensor = tf.nn.depthwise_conv2d(tensor, filter, strides, padding='SAME',\r\n                                    rate=rate, name=name, data_format='NCHW')\r\n    return tensor\r\n```\r\nthis works:\r\n```\r\nx = self._depthwise_conv2d(x, (3, 3), (1, 1), name='dwconv2')\r\n```\r\nbut this does not:\r\n(the difference is dilations or specifically dilations + NCHW data format)\r\n```\r\nx = self._depthwise_conv2d(x, (3, 3), (1, 1), [4, 4], name='dwconv1')\r\n```\r\n\r\nis gives following error on the batch_norm which follows the depthwise_conv2d\r\n```\r\n    x = tf.layers.batch_normalization(x, self.caxis, training=self.training)\r\n  File \"~/.local/lib/python3.6/site-packages/tensorflow/python/util/deprecation.py\", line 324, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"~/.local/lib/python3.6/site-packages/tensorflow/python/layers/normalization.py\", line 313, in batch_normalization\r\n    return layer.apply(inputs, training=training)\r\n  File \"~/.local/lib/python3.6/site-packages/tensorflow/python/keras/engine/base_layer.py\", line 1227, in apply\r\n    return self.__call__(inputs, *args, **kwargs)\r\n  File \"~/.local/lib/python3.6/site-packages/tensorflow/python/layers/base.py\", line 530, in __call__\r\n    outputs = super(Layer, self).__call__(inputs, *args, **kwargs)\r\n  File \"~/.local/lib/python3.6/site-packages/tensorflow/python/keras/engine/base_layer.py\", line 538, in __call__\r\n    self._maybe_build(inputs)\r\n  File \"~/.local/lib/python3.6/site-packages/tensorflow/python/keras/engine/base_layer.py\", line 1603, in _maybe_build\r\n    self.build(input_shapes)\r\n  File \"~/.local/lib/python3.6/site-packages/tensorflow/python/keras/layers/normalization.py\", line 306, in build\r\n    input_shape)\r\nValueError: ('Input has undefined `axis` dimension. Input shape: ', TensorShape([Dimension(None), Dimension(None), Dimension(None), Dimension(None)]))\r\n```\r\n\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30315", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30315/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30315/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30315/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30315", "id": 463271691, "node_id": "MDU6SXNzdWU0NjMyNzE2OTE=", "number": 30315, "title": "TFlite conversion of Conv1D with dilation !=1", "user": {"login": "yodakohl", "id": 819019, "node_id": "MDQ6VXNlcjgxOTAxOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/819019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yodakohl", "html_url": "https://github.com/yodakohl", "followers_url": "https://api.github.com/users/yodakohl/followers", "following_url": "https://api.github.com/users/yodakohl/following{/other_user}", "gists_url": "https://api.github.com/users/yodakohl/gists{/gist_id}", "starred_url": "https://api.github.com/users/yodakohl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yodakohl/subscriptions", "organizations_url": "https://api.github.com/users/yodakohl/orgs", "repos_url": "https://api.github.com/users/yodakohl/repos", "events_url": "https://api.github.com/users/yodakohl/events{/privacy}", "received_events_url": "https://api.github.com/users/yodakohl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-07-02T14:45:43Z", "updated_at": "2019-10-08T16:38:42Z", "closed_at": null, "author_association": "NONE", "body": "\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Google Colab\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): tensorflow==2.0.0-beta1\r\n- Python version: python3\r\n\r\n\r\n**Describe the current behavior**\r\nAfter converting a Conv1D op to tensorflow lite the interpreter cannot allocate tensors:\r\n\r\n` tensorflow/lite/kernels/space_to_batch_nd.cc:96 NumDimensions(op_context.input) != kInputDimensionNum (3 != 4)Node number 0 (SPACE_TO_BATCH_ND) failed to prepare.\r\n`\r\n\r\n\r\n**Describe the expected behavior**\r\nTflite model should be able to load and execute.\r\n\r\n**Code to reproduce the issue**\r\n\r\n```\r\n!pip install -q tensorflow==2.0.0-beta1\r\n\r\nimport tensorflow as tf\r\n\r\nfrom tensorflow.keras.models import Model\r\nfrom tensorflow.keras.layers import *\r\n\r\ndef get_model():\r\n  input = tf.keras.Input(shape=(10,40))\r\n  \r\n  #No error when dilation rate == 1\r\n  layer = Conv1D(32, (3),dilation_rate =2, padding='same',use_bias=False) (input)\r\n  layer = GlobalMaxPooling1D()(layer)\r\n  output = Dense(2) (layer)\r\n\r\n  model = Model(inputs=[input], outputs=[output])\r\n  return model\r\n\r\n\r\nmodel = get_model()\r\n\r\nconverter = tf.lite.TFLiteConverter.from_keras_model(model)\r\n\r\ntflite_model = converter.convert()\r\nopen(\"./trained_model.tflite\", \"wb\").write(tflite_model)\r\n\r\n\r\ninterpreter = tf.lite.Interpreter(model_path=\"./trained_model.tflite\")\r\n\r\ninterpreter.allocate_tensors()\r\n```\r\n\r\n\r\n**Other info / logs**\r\nThe problem does not occur when dilation_rate ==1"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30313", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30313/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30313/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30313/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30313", "id": 463265093, "node_id": "MDU6SXNzdWU0NjMyNjUwOTM=", "number": 30313, "title": "android GpuDelegate: even the simplest tflite converted models seems to run on CPU", "user": {"login": "bioothod", "id": 1847575, "node_id": "MDQ6VXNlcjE4NDc1NzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1847575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bioothod", "html_url": "https://github.com/bioothod", "followers_url": "https://api.github.com/users/bioothod/followers", "following_url": "https://api.github.com/users/bioothod/following{/other_user}", "gists_url": "https://api.github.com/users/bioothod/gists{/gist_id}", "starred_url": "https://api.github.com/users/bioothod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bioothod/subscriptions", "organizations_url": "https://api.github.com/users/bioothod/orgs", "repos_url": "https://api.github.com/users/bioothod/repos", "events_url": "https://api.github.com/users/bioothod/events{/privacy}", "received_events_url": "https://api.github.com/users/bioothod/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1445545631, "node_id": "MDU6TGFiZWwxNDQ1NTQ1NjMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.14", "name": "TF 1.14", "color": "5319e7", "default": false, "description": "for issues seen with TF 1.14"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "impjdi", "id": 9742927, "node_id": "MDQ6VXNlcjk3NDI5Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9742927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/impjdi", "html_url": "https://github.com/impjdi", "followers_url": "https://api.github.com/users/impjdi/followers", "following_url": "https://api.github.com/users/impjdi/following{/other_user}", "gists_url": "https://api.github.com/users/impjdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/impjdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/impjdi/subscriptions", "organizations_url": "https://api.github.com/users/impjdi/orgs", "repos_url": "https://api.github.com/users/impjdi/repos", "events_url": "https://api.github.com/users/impjdi/events{/privacy}", "received_events_url": "https://api.github.com/users/impjdi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "impjdi", "id": 9742927, "node_id": "MDQ6VXNlcjk3NDI5Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9742927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/impjdi", "html_url": "https://github.com/impjdi", "followers_url": "https://api.github.com/users/impjdi/followers", "following_url": "https://api.github.com/users/impjdi/following{/other_user}", "gists_url": "https://api.github.com/users/impjdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/impjdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/impjdi/subscriptions", "organizations_url": "https://api.github.com/users/impjdi/orgs", "repos_url": "https://api.github.com/users/impjdi/repos", "events_url": "https://api.github.com/users/impjdi/events{/privacy}", "received_events_url": "https://api.github.com/users/impjdi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2019-07-02T14:34:01Z", "updated_at": "2019-07-10T21:42:46Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): tf docker images\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: oneplus5, pixel3, galaxy s10\r\n- TensorFlow installed from (source or binary): various\r\n- TensorFlow version (use command below): 1.12.0, 1.13.1, 1.14.0, 1.15.0-dev20190628, r1.14 source build\r\n- Python version: 3.x\r\n- Bazel version (if compiling from source): 0.25.2\r\n- GCC/Compiler version (if compiling from source): 7.4.0\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n**Describe the current behavior**\r\ntflite converted models seems to always run on cpu despite using gpudelegate, for example the simplest model from https://github.com/tensorflow/tensorflow/issues/30311 runs for hundreds of milliseconds per inference no matter whether cpu or gpudelegate is used, while stock mobilenet_v1 (no quantization, no manual tflite conversion, downloaded tflite model) runs ~80ms per inference on this device when using gpudelegate and 150-300ms on cpu.\r\n\r\n**Describe the expected behavior**\r\ntflite to actually use GPU when running conv2d networks\r\n\r\n**Code to reproduce the issue**\r\nattached NHW3 model (and script to generate pb and tflite with optimization options, which do not have any effect), this is basically NHW3 input, single tf.layers.conv2d() constant-initialized layer and reduce_sum() for output.\r\n\r\nAny hint on debugging this issue?\r\nI tested both jcenter downloaded (0.0.0-nightly branches) and manually built from r1.14 branch tensorflow-lite and tensorflow-lite-gpu.\r\nI used 1.12.0, 1.13.1, 1.14.0, 1.15.0-dev20190628, r1.14 source build tensorflow/tflite with different optimization options with no success.\r\n\r\nCould you please show how *exactly* you generated mobilenet_v1 tflite model found in your tutorials, since it works like a charm with gpudelegate: ~80ms per single-image inference on gpu and several hundreds seconds on cpu on sufficiently recent android. Or any hints on how to debug this gpudelegate issue.\r\n\r\n[test_model_3channels.tar.gz](https://github.com/tensorflow/tensorflow/files/3350552/test_model_3channels.tar.gz)"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30311", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30311/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30311/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30311/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30311", "id": 463258518, "node_id": "MDU6SXNzdWU0NjMyNTg1MTg=", "number": 30311, "title": "TFLite's DepthwiseConv2D is broken with GpuDelegate for 1-channel input", "user": {"login": "bioothod", "id": 1847575, "node_id": "MDQ6VXNlcjE4NDc1NzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1847575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bioothod", "html_url": "https://github.com/bioothod", "followers_url": "https://api.github.com/users/bioothod/followers", "following_url": "https://api.github.com/users/bioothod/following{/other_user}", "gists_url": "https://api.github.com/users/bioothod/gists{/gist_id}", "starred_url": "https://api.github.com/users/bioothod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bioothod/subscriptions", "organizations_url": "https://api.github.com/users/bioothod/orgs", "repos_url": "https://api.github.com/users/bioothod/repos", "events_url": "https://api.github.com/users/bioothod/events{/privacy}", "received_events_url": "https://api.github.com/users/bioothod/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1445545631, "node_id": "MDU6TGFiZWwxNDQ1NTQ1NjMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.14", "name": "TF 1.14", "color": "5319e7", "default": false, "description": "for issues seen with TF 1.14"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "impjdi", "id": 9742927, "node_id": "MDQ6VXNlcjk3NDI5Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9742927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/impjdi", "html_url": "https://github.com/impjdi", "followers_url": "https://api.github.com/users/impjdi/followers", "following_url": "https://api.github.com/users/impjdi/following{/other_user}", "gists_url": "https://api.github.com/users/impjdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/impjdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/impjdi/subscriptions", "organizations_url": "https://api.github.com/users/impjdi/orgs", "repos_url": "https://api.github.com/users/impjdi/repos", "events_url": "https://api.github.com/users/impjdi/events{/privacy}", "received_events_url": "https://api.github.com/users/impjdi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "impjdi", "id": 9742927, "node_id": "MDQ6VXNlcjk3NDI5Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9742927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/impjdi", "html_url": "https://github.com/impjdi", "followers_url": "https://api.github.com/users/impjdi/followers", "following_url": "https://api.github.com/users/impjdi/following{/other_user}", "gists_url": "https://api.github.com/users/impjdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/impjdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/impjdi/subscriptions", "organizations_url": "https://api.github.com/users/impjdi/orgs", "repos_url": "https://api.github.com/users/impjdi/repos", "events_url": "https://api.github.com/users/impjdi/events{/privacy}", "received_events_url": "https://api.github.com/users/impjdi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-07-02T14:22:34Z", "updated_at": "2019-07-10T21:42:46Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): tf docker images\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: oneplus5, pixel3, galaxy s10\r\n- TensorFlow installed from (source or binary): various\r\n- TensorFlow version (use command below):  1.14.0, 1.15.0-dev20190628, r1.14 source build\r\n- Python version: 3.x\r\n- Bazel version (if compiling from source): 0.25.2\r\n- GCC/Compiler version (if compiling from source): 7.4.0\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n**Describe the current behavior**\r\nWhen using supersimple network consisting of NHWC input, single tf.layers.conv2d() layer (constant initialized) and reduce_sum output, output for C=3 is the same for CPU (host tf and tflite and android tflite) and android GpuDelegate are kind of the same (less than 2% difference). When using C=1 CPU host (tf and tflite) and android on CPU are kind of the same (less than 10% difference), but android GpuDelegate produces drastically different output.\r\n\r\n**Describe the expected behavior**\r\nproduce kind of the same results for the same models (no matter C=1 or C=3) for CPU host tf and tflite and android tflite on CPU and GpuDelegate.\r\n\r\n**Code to reproduce the issue**\r\nAttached archive with broken model generated with 1.15.0-dev20190628 tflite converted with default options (no properties changed) and script to create model and tflite file itself.\r\n\r\n**Other info / logs**\r\nI tested tflite both from nightly build from jcenter and local builds from r1.14 branch.\r\nHere are the results when providing 1.224.224.1 image filled with 0.1 value:\r\ncpu host tf: 5677536.5,\r\ncpu host tflite: 6028237.0 (6.2% difference)\r\nandroid cpu: 6028237\r\nandroid gpudelegate: 44336.1\r\n\r\n[test_model.tar.gz](https://github.com/tensorflow/tensorflow/files/3350494/test_model.tar.gz)\r\n\r\nAlso, tflite converted models seems to always run on cpu despite using gpudelegate, for example this model runs for hundreds of milliseconds no matter whether cpu or gpudelegate is used, while stock mobilenet_v1 (no quantization) runs ~80ms per inference on this device when using gpudelegate and 150-300ms on cpu.\r\nI will fill another bug report for this though"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30309", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30309/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30309/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30309/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30309", "id": 463198169, "node_id": "MDU6SXNzdWU0NjMxOTgxNjk=", "number": 30309, "title": "tf.keras.layers.Conv1DTranspose ?", "user": {"login": "yoshihikoueno", "id": 38683757, "node_id": "MDQ6VXNlcjM4NjgzNzU3", "avatar_url": "https://avatars0.githubusercontent.com/u/38683757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoshihikoueno", "html_url": "https://github.com/yoshihikoueno", "followers_url": "https://api.github.com/users/yoshihikoueno/followers", "following_url": "https://api.github.com/users/yoshihikoueno/following{/other_user}", "gists_url": "https://api.github.com/users/yoshihikoueno/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoshihikoueno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoshihikoueno/subscriptions", "organizations_url": "https://api.github.com/users/yoshihikoueno/orgs", "repos_url": "https://api.github.com/users/yoshihikoueno/repos", "events_url": "https://api.github.com/users/yoshihikoueno/events{/privacy}", "received_events_url": "https://api.github.com/users/yoshihikoueno/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-07-02T12:22:36Z", "updated_at": "2020-02-24T22:09:37Z", "closed_at": null, "author_association": "NONE", "body": "This is somewhat related to the issue #8729, which is already solved.\r\nIn the issue, tf.nn.conv1d_transpose was requested and implemented in the end.\r\n\r\nBut the corresponding function in tf.layers or tf.keras is missing.\r\nIn other words, there's no function like tf.layers.conv1d_transpose, tf.keras.layers.Conv1DTranspose.\r\n\r\nCan you please implement it?\r\nSince there's already tf.nn.conv1d_transpose, I guess it doesn't take so much time to implement it."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30304", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30304/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30304/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30304/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30304", "id": 463097001, "node_id": "MDU6SXNzdWU0NjMwOTcwMDE=", "number": 30304, "title": "[BUG, iOS] Symbol not found: _clock_gettime ", "user": {"login": "rhcpfan", "id": 3796970, "node_id": "MDQ6VXNlcjM3OTY5NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/3796970?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhcpfan", "html_url": "https://github.com/rhcpfan", "followers_url": "https://api.github.com/users/rhcpfan/followers", "following_url": "https://api.github.com/users/rhcpfan/following{/other_user}", "gists_url": "https://api.github.com/users/rhcpfan/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhcpfan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhcpfan/subscriptions", "organizations_url": "https://api.github.com/users/rhcpfan/orgs", "repos_url": "https://api.github.com/users/rhcpfan/repos", "events_url": "https://api.github.com/users/rhcpfan/events{/privacy}", "received_events_url": "https://api.github.com/users/rhcpfan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "yyoon", "id": 1309817, "node_id": "MDQ6VXNlcjEzMDk4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1309817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yyoon", "html_url": "https://github.com/yyoon", "followers_url": "https://api.github.com/users/yyoon/followers", "following_url": "https://api.github.com/users/yyoon/following{/other_user}", "gists_url": "https://api.github.com/users/yyoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/yyoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yyoon/subscriptions", "organizations_url": "https://api.github.com/users/yyoon/orgs", "repos_url": "https://api.github.com/users/yyoon/repos", "events_url": "https://api.github.com/users/yyoon/events{/privacy}", "received_events_url": "https://api.github.com/users/yyoon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yyoon", "id": 1309817, "node_id": "MDQ6VXNlcjEzMDk4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1309817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yyoon", "html_url": "https://github.com/yyoon", "followers_url": "https://api.github.com/users/yyoon/followers", "following_url": "https://api.github.com/users/yyoon/following{/other_user}", "gists_url": "https://api.github.com/users/yyoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/yyoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yyoon/subscriptions", "organizations_url": "https://api.github.com/users/yyoon/orgs", "repos_url": "https://api.github.com/users/yyoon/repos", "events_url": "https://api.github.com/users/yyoon/events{/privacy}", "received_events_url": "https://api.github.com/users/yyoon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-07-02T08:39:26Z", "updated_at": "2020-03-06T01:13:56Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): **iOS 9.3**\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: **TESTED on iPhone 6s, iPad Air 2, iPad Mini 4**\r\n- TensorFlow installed from (source or binary): **compiled for iOS using the provided Makefile**\r\n- TensorFlow version (use command below): **1.13**\r\n\r\n**Describe the current behavior**\r\n\r\nLoading a network using TensorFlow 1.13 compiled for iOS (using the provided Makefile, altered to use `ANDROID_TYPES_FULL` [variable is used in iOS as well, not only on Android!]) in an app running on iOS < 10.0 crashes the application with the following error:\r\n\r\n```\r\n\r\ndyld: lazy symbol binding failed: Symbol not found: _clock_gettime\r\n  Referenced from: /Users/rhcpfan/Library/Developer/CoreSimulator/Devices/4B733BDB-F1AB-49A4-87D5-3F23C507B599/data/Containers/Bundle/Application/58FB49D0-1330-442A-A46A-8ADADD34EAA2/MyApp.app/MyApp\r\n  Expected in: /Library/Developer/CoreSimulator/Profiles/Runtimes/iOS 9.3.simruntime/Contents/Resources/RuntimeRoot/usr/lib/libSystem.B.dylib\r\n\r\ndyld: Symbol not found: _clock_gettime\r\n  Referenced from: /Users/slowhand/Library/Developer/CoreSimulator/Devices/4B733BDB-F1AB-49A4-87D5-3F23C507B599/data/Containers/Bundle/Application/58FB49D0-1330-442A-A46A-8ADADD34EAA2/MyApp.app/MyApp\r\n  Expected in: /Library/Developer/CoreSimulator/Profiles/Runtimes/iOS 9.3.simruntime/Contents/Resources/RuntimeRoot/usr/lib/libSystem.B.dylib\r\n\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30293", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30293/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30293/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30293/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30293", "id": 462962354, "node_id": "MDU6SXNzdWU0NjI5NjIzNTQ=", "number": 30293, "title": "[Question] Adding new hardware device support", "user": {"login": "Scott-Thomas-Dev", "id": 38842815, "node_id": "MDQ6VXNlcjM4ODQyODE1", "avatar_url": "https://avatars2.githubusercontent.com/u/38842815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Scott-Thomas-Dev", "html_url": "https://github.com/Scott-Thomas-Dev", "followers_url": "https://api.github.com/users/Scott-Thomas-Dev/followers", "following_url": "https://api.github.com/users/Scott-Thomas-Dev/following{/other_user}", "gists_url": "https://api.github.com/users/Scott-Thomas-Dev/gists{/gist_id}", "starred_url": "https://api.github.com/users/Scott-Thomas-Dev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Scott-Thomas-Dev/subscriptions", "organizations_url": "https://api.github.com/users/Scott-Thomas-Dev/orgs", "repos_url": "https://api.github.com/users/Scott-Thomas-Dev/repos", "events_url": "https://api.github.com/users/Scott-Thomas-Dev/events{/privacy}", "received_events_url": "https://api.github.com/users/Scott-Thomas-Dev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jpienaar", "id": 706766, "node_id": "MDQ6VXNlcjcwNjc2Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/706766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpienaar", "html_url": "https://github.com/jpienaar", "followers_url": "https://api.github.com/users/jpienaar/followers", "following_url": "https://api.github.com/users/jpienaar/following{/other_user}", "gists_url": "https://api.github.com/users/jpienaar/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpienaar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpienaar/subscriptions", "organizations_url": "https://api.github.com/users/jpienaar/orgs", "repos_url": "https://api.github.com/users/jpienaar/repos", "events_url": "https://api.github.com/users/jpienaar/events{/privacy}", "received_events_url": "https://api.github.com/users/jpienaar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jpienaar", "id": 706766, "node_id": "MDQ6VXNlcjcwNjc2Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/706766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpienaar", "html_url": "https://github.com/jpienaar", "followers_url": "https://api.github.com/users/jpienaar/followers", "following_url": "https://api.github.com/users/jpienaar/following{/other_user}", "gists_url": "https://api.github.com/users/jpienaar/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpienaar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpienaar/subscriptions", "organizations_url": "https://api.github.com/users/jpienaar/orgs", "repos_url": "https://api.github.com/users/jpienaar/repos", "events_url": "https://api.github.com/users/jpienaar/events{/privacy}", "received_events_url": "https://api.github.com/users/jpienaar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-07-02T00:10:28Z", "updated_at": "2020-03-16T18:43:53Z", "closed_at": null, "author_association": "NONE", "body": "Hello, \r\nI'm developing a tensorflow modification to support a new hardware device and I was curious if there had been any update to the procedure since this issue was first raised in: \r\nFeature Request: plug-in support for new devices #4359\r\n\r\nI'm following along with the documentation provided here\r\nhttps://github.com/knuedge/tensorflow/blob/36e0cdf04f294bfd51931d4f78e291590ed0d3ec/tensorflow/g3doc/hardware/adding_support/index.md\r\n\r\nBut it is quite out of date so before I plow ahead I'd like to know that this isn't a solved problem.\r\n\r\nThanks,\r\nScott\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30287", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30287/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30287/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30287/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30287", "id": 462864389, "node_id": "MDU6SXNzdWU0NjI4NjQzODk=", "number": 30287, "title": "third_party/repo.bzl file silently failed to apply patch", "user": {"login": "jerryyin", "id": 3454501, "node_id": "MDQ6VXNlcjM0NTQ1MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3454501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jerryyin", "html_url": "https://github.com/jerryyin", "followers_url": "https://api.github.com/users/jerryyin/followers", "following_url": "https://api.github.com/users/jerryyin/following{/other_user}", "gists_url": "https://api.github.com/users/jerryyin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jerryyin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jerryyin/subscriptions", "organizations_url": "https://api.github.com/users/jerryyin/orgs", "repos_url": "https://api.github.com/users/jerryyin/repos", "events_url": "https://api.github.com/users/jerryyin/events{/privacy}", "received_events_url": "https://api.github.com/users/jerryyin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1205615612, "node_id": "MDU6TGFiZWwxMjA1NjE1NjEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:%20ubuntu/linux", "name": "subtype: ubuntu/linux", "color": "b619ea", "default": false, "description": "Ubuntu/Linux Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, {"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}, {"login": "chsigg", "id": 7523982, "node_id": "MDQ6VXNlcjc1MjM5ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/7523982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chsigg", "html_url": "https://github.com/chsigg", "followers_url": "https://api.github.com/users/chsigg/followers", "following_url": "https://api.github.com/users/chsigg/following{/other_user}", "gists_url": "https://api.github.com/users/chsigg/gists{/gist_id}", "starred_url": "https://api.github.com/users/chsigg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chsigg/subscriptions", "organizations_url": "https://api.github.com/users/chsigg/orgs", "repos_url": "https://api.github.com/users/chsigg/repos", "events_url": "https://api.github.com/users/chsigg/events{/privacy}", "received_events_url": "https://api.github.com/users/chsigg/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2019-07-01T19:05:10Z", "updated_at": "2020-01-31T18:45:51Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution: Linux Ubuntu 16.04:\r\n- ~Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:~\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: master branch\r\n- Python version: 3\r\n- ~Installed using virtualenv? pip? conda?:~\r\n- Bazel version (if compiling from source): 0.24.1\r\n- GCC/Compiler version (if compiling from source): 5.4.0\r\n- ~CUDA/cuDNN version:~\r\n- ~GPU model and memory:~\r\n\r\n\r\n\r\n**Describe the problem**\r\n[`git apply -v` in bazel scripts](https://github.com/tensorflow/tensorflow/blob/87f2f24f957abb76ad80e16b26b7221ddd277752/third_party/repo.bzl#L69) sliently failed to apply a patch. This cause tensorflow build to fail in an unexpected way.\r\n\r\nThe reason why `git apply -v` silently failed is due to [`git apply does not work from within the local checkout of an unrelated git repository`](https://stackoverflow.com/questions/24821431/git-apply-patch-fails-silently-no-errors-but-nothing-happens). In my setup, my home directory is a git directory used to sync up local development configuration files, and tensorflow build directory is under my home directory. This makes all tensorflow directories within the local checkout of a git directory (other than the one for project the patch is made for). Thus, at build time, the `_apply_patch()` subroutine will silently fail to apply any patch.\r\n\r\nTo fix, I will use the same patch command under either windows/linux to use the actual `patch -p1` command rather than `git apply`, ie, use [this line](https://github.com/tensorflow/tensorflow/blob/87f2f24f957abb76ad80e16b26b7221ddd277752/third_party/repo.bzl#L67) only. I didn't submit a PR because I'm not aware of why applying the patch need to branch on different OSes. If there is not a good reason to use `git apply`, I'd suggest to always use `patch -p1` instead.\r\n\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\n1. Place tensorflow root directory into a/any git directory\r\n2. Compile tensorflow\r\n3. Tensorflow compilation failed due to related patch not applied.\r\n\r\n~**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.~\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30276", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30276/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30276/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30276/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30276", "id": 462688749, "node_id": "MDU6SXNzdWU0NjI2ODg3NDk=", "number": 30276, "title": "Need better documentation for BestExporter", "user": {"login": "jenishah", "id": 6608106, "node_id": "MDQ6VXNlcjY2MDgxMDY=", "avatar_url": "https://avatars2.githubusercontent.com/u/6608106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jenishah", "html_url": "https://github.com/jenishah", "followers_url": "https://api.github.com/users/jenishah/followers", "following_url": "https://api.github.com/users/jenishah/following{/other_user}", "gists_url": "https://api.github.com/users/jenishah/gists{/gist_id}", "starred_url": "https://api.github.com/users/jenishah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jenishah/subscriptions", "organizations_url": "https://api.github.com/users/jenishah/orgs", "repos_url": "https://api.github.com/users/jenishah/repos", "events_url": "https://api.github.com/users/jenishah/events{/privacy}", "received_events_url": "https://api.github.com/users/jenishah/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-07-01T12:33:35Z", "updated_at": "2019-07-09T04:17:44Z", "closed_at": null, "author_association": "NONE", "body": "In the documentation for [BestExporter](https://www.tensorflow.org/api_docs/python/tf/estimator/BestExporter), the example mentioned does not specify how to write a _compare_fn_ .\r\nBy default, it takes the _loss_.\r\nHow to use it if we were to use custom metrics, that are evaluated in the _model_fn_ ."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30274", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30274/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30274/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30274/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30274", "id": 462650920, "node_id": "MDU6SXNzdWU0NjI2NTA5MjA=", "number": 30274, "title": "TFSlim trained 'mobilenetv2' model is giving poor accuracy with is_training='False' (When save and restore the checkpoints)", "user": {"login": "joyalbin", "id": 1856674, "node_id": "MDQ6VXNlcjE4NTY2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1856674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joyalbin", "html_url": "https://github.com/joyalbin", "followers_url": "https://api.github.com/users/joyalbin/followers", "following_url": "https://api.github.com/users/joyalbin/following{/other_user}", "gists_url": "https://api.github.com/users/joyalbin/gists{/gist_id}", "starred_url": "https://api.github.com/users/joyalbin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joyalbin/subscriptions", "organizations_url": "https://api.github.com/users/joyalbin/orgs", "repos_url": "https://api.github.com/users/joyalbin/repos", "events_url": "https://api.github.com/users/joyalbin/events{/privacy}", "received_events_url": "https://api.github.com/users/joyalbin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1105108936, "node_id": "MDU6TGFiZWwxMTA1MTA4OTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:model", "name": "comp:model", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "sguada", "id": 1766524, "node_id": "MDQ6VXNlcjE3NjY1MjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1766524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sguada", "html_url": "https://github.com/sguada", "followers_url": "https://api.github.com/users/sguada/followers", "following_url": "https://api.github.com/users/sguada/following{/other_user}", "gists_url": "https://api.github.com/users/sguada/gists{/gist_id}", "starred_url": "https://api.github.com/users/sguada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sguada/subscriptions", "organizations_url": "https://api.github.com/users/sguada/orgs", "repos_url": "https://api.github.com/users/sguada/repos", "events_url": "https://api.github.com/users/sguada/events{/privacy}", "received_events_url": "https://api.github.com/users/sguada/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sguada", "id": 1766524, "node_id": "MDQ6VXNlcjE3NjY1MjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1766524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sguada", "html_url": "https://github.com/sguada", "followers_url": "https://api.github.com/users/sguada/followers", "following_url": "https://api.github.com/users/sguada/following{/other_user}", "gists_url": "https://api.github.com/users/sguada/gists{/gist_id}", "starred_url": "https://api.github.com/users/sguada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sguada/subscriptions", "organizations_url": "https://api.github.com/users/sguada/orgs", "repos_url": "https://api.github.com/users/sguada/repos", "events_url": "https://api.github.com/users/sguada/events{/privacy}", "received_events_url": "https://api.github.com/users/sguada/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-07-01T11:03:49Z", "updated_at": "2019-11-23T04:09:34Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "## The steps I have followed\r\n### 1. I have trained the `MobilenetV2` model using `slim` framework with cifar10 dataset.\r\n#### Run training.\r\npython train_image_classifier.py \\\r\n  --train_dir=${TRAIN_DIR} \\\r\n  --dataset_name=cifar10 \\\r\n  --dataset_split_name=train \\\r\n  --dataset_dir=${DATASET_DIR} \\\r\n  --model_name=mobilenet_v2 \\\r\n  --preprocessing_name=mobilenet_v2 \\\r\n  --max_number_of_steps=100000 \\\r\n  --batch_size=48 \\\r\n  --save_interval_secs=120 \\\r\n  --save_summaries_secs=120 \\\r\n  --log_every_n_steps=100 \\\r\n  --optimizer=adagrad \\\r\n  --learning_rate=0.1 \\\r\n  --learning_rate_decay_factor=0.1 \\\r\n  --num_epochs_per_decay=200 \\\r\n  --weight_decay=0.004 \\\r\n  --moving_average_decay=0.9999\r\n\r\n### 2. After training, I could get a proper accuracy with below evaluation options:\r\n#### Run evaluation.\r\npython eval_image_classifier.py \\\r\n  --checkpoint_path=${TRAIN_DIR} \\\r\n  --eval_dir=${TRAIN_DIR} \\\r\n  --dataset_name=cifar10 \\\r\n  --dataset_split_name=test \\\r\n  --dataset_dir=${DATASET_DIR} \\\r\n  --model_name=mobilenet_v2\r\n\r\n### 3. I have saved the checkpoints with `is_training=False` from the `eval_image_classifier.py` itself. Converted the checkpoints to .pb file and then measured the evaluation accuracy. The accuracy is very less.\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):  Linux Ubuntu 18.04\r\n- TensorFlow installed from  binary\r\n- TensorFlow version (use command below):  1.13\r\n- Python version: 3.7.3\r\n- Bazel version (if compiling from source): 24.1\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n**Describe the current behavior**\r\nThe modem accuracy changed after saving the evaluation graph with `'is_training=False'`\r\n\r\n**Describe the expected behavior**\r\nThe model should give same accuracy after saving with `'is_training=False'`\r\n\r\n**Code to reproduce the issue**\r\nTraining with slim framework\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30272", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30272/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30272/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30272/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30272", "id": 462633386, "node_id": "MDU6SXNzdWU0NjI2MzMzODY=", "number": 30272, "title": "tflite_convert  .h5 to .tflite Init node Conv1/kernel/Assign do esn't exist in graph", "user": {"login": "rkuo2000", "id": 3485732, "node_id": "MDQ6VXNlcjM0ODU3MzI=", "avatar_url": "https://avatars0.githubusercontent.com/u/3485732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rkuo2000", "html_url": "https://github.com/rkuo2000", "followers_url": "https://api.github.com/users/rkuo2000/followers", "following_url": "https://api.github.com/users/rkuo2000/following{/other_user}", "gists_url": "https://api.github.com/users/rkuo2000/gists{/gist_id}", "starred_url": "https://api.github.com/users/rkuo2000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rkuo2000/subscriptions", "organizations_url": "https://api.github.com/users/rkuo2000/orgs", "repos_url": "https://api.github.com/users/rkuo2000/repos", "events_url": "https://api.github.com/users/rkuo2000/events{/privacy}", "received_events_url": "https://api.github.com/users/rkuo2000/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1445545631, "node_id": "MDU6TGFiZWwxNDQ1NTQ1NjMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.14", "name": "TF 1.14", "color": "5319e7", "default": false, "description": "for issues seen with TF 1.14"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "haozha111", "id": 6316921, "node_id": "MDQ6VXNlcjYzMTY5MjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6316921?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haozha111", "html_url": "https://github.com/haozha111", "followers_url": "https://api.github.com/users/haozha111/followers", "following_url": "https://api.github.com/users/haozha111/following{/other_user}", "gists_url": "https://api.github.com/users/haozha111/gists{/gist_id}", "starred_url": "https://api.github.com/users/haozha111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haozha111/subscriptions", "organizations_url": "https://api.github.com/users/haozha111/orgs", "repos_url": "https://api.github.com/users/haozha111/repos", "events_url": "https://api.github.com/users/haozha111/events{/privacy}", "received_events_url": "https://api.github.com/users/haozha111/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "haozha111", "id": 6316921, "node_id": "MDQ6VXNlcjYzMTY5MjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6316921?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haozha111", "html_url": "https://github.com/haozha111", "followers_url": "https://api.github.com/users/haozha111/followers", "following_url": "https://api.github.com/users/haozha111/following{/other_user}", "gists_url": "https://api.github.com/users/haozha111/gists{/gist_id}", "starred_url": "https://api.github.com/users/haozha111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haozha111/subscriptions", "organizations_url": "https://api.github.com/users/haozha111/orgs", "repos_url": "https://api.github.com/users/haozha111/repos", "events_url": "https://api.github.com/users/haozha111/events{/privacy}", "received_events_url": "https://api.github.com/users/haozha111/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2019-07-01T10:21:55Z", "updated_at": "2019-11-07T18:57:30Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution : Windows 7\r\n- TensorFlow version: tensorflow_gpu-1.14.0\r\n- Python version: 3.7.3 \r\n- CUDA/cuDNN version: 10.1 / 7.6.1\r\n- GPU model and memory: GTX1080Ti / 11GB\r\n\r\n**Describe the current behavior**\r\nafter transfer learning on tensorflow.keras mobilenet v2 and saved .h5,\r\n*`tflite_convert --keras_model_file=tl_mobilenetv2.h5 --output_file=tl_mobilenetv2.tflite --allow_custom_ops`*\r\n\r\n**Describe the Issues**\r\n.tflite is generated, but error message shown:\r\n**E tensorflow/core/grappler/grappler_item_builder.cc:637] Init node Conv1/kernel/Assign doesn't exist in graph**\r\n\r\n**Other info / logs**\r\nCreated TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10143 MB memory) -> physical GPU (device: 0, name: GeForce GTX 1080 Ti, pci bus id: 0000:03:00.0, compute capability: 6.1)\r\n2019-07-01 18:16:28.142672: E tensorflow/core/grappler/grappler_item_builder.cc:637] Init node Conv1/kernel/Assign doesn't exist in graph\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30251", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30251/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30251/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30251/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30251", "id": 462320166, "node_id": "MDU6SXNzdWU0NjIzMjAxNjY=", "number": 30251, "title": "tf.keras.experimental.export_saved_model in multi-gpu mode doesn't work", "user": {"login": "Oktai15", "id": 17337773, "node_id": "MDQ6VXNlcjE3MzM3Nzcz", "avatar_url": "https://avatars1.githubusercontent.com/u/17337773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Oktai15", "html_url": "https://github.com/Oktai15", "followers_url": "https://api.github.com/users/Oktai15/followers", "following_url": "https://api.github.com/users/Oktai15/following{/other_user}", "gists_url": "https://api.github.com/users/Oktai15/gists{/gist_id}", "starred_url": "https://api.github.com/users/Oktai15/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Oktai15/subscriptions", "organizations_url": "https://api.github.com/users/Oktai15/orgs", "repos_url": "https://api.github.com/users/Oktai15/repos", "events_url": "https://api.github.com/users/Oktai15/events{/privacy}", "received_events_url": "https://api.github.com/users/Oktai15/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "seemuch", "id": 2233625, "node_id": "MDQ6VXNlcjIyMzM2MjU=", "avatar_url": "https://avatars0.githubusercontent.com/u/2233625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seemuch", "html_url": "https://github.com/seemuch", "followers_url": "https://api.github.com/users/seemuch/followers", "following_url": "https://api.github.com/users/seemuch/following{/other_user}", "gists_url": "https://api.github.com/users/seemuch/gists{/gist_id}", "starred_url": "https://api.github.com/users/seemuch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seemuch/subscriptions", "organizations_url": "https://api.github.com/users/seemuch/orgs", "repos_url": "https://api.github.com/users/seemuch/repos", "events_url": "https://api.github.com/users/seemuch/events{/privacy}", "received_events_url": "https://api.github.com/users/seemuch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "seemuch", "id": 2233625, "node_id": "MDQ6VXNlcjIyMzM2MjU=", "avatar_url": "https://avatars0.githubusercontent.com/u/2233625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seemuch", "html_url": "https://github.com/seemuch", "followers_url": "https://api.github.com/users/seemuch/followers", "following_url": "https://api.github.com/users/seemuch/following{/other_user}", "gists_url": "https://api.github.com/users/seemuch/gists{/gist_id}", "starred_url": "https://api.github.com/users/seemuch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seemuch/subscriptions", "organizations_url": "https://api.github.com/users/seemuch/orgs", "repos_url": "https://api.github.com/users/seemuch/repos", "events_url": "https://api.github.com/users/seemuch/events{/privacy}", "received_events_url": "https://api.github.com/users/seemuch/received_events", "type": "User", "site_admin": false}, {"login": "k-w-w", "id": 31663267, "node_id": "MDQ6VXNlcjMxNjYzMjY3", "avatar_url": "https://avatars2.githubusercontent.com/u/31663267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-w-w", "html_url": "https://github.com/k-w-w", "followers_url": "https://api.github.com/users/k-w-w/followers", "following_url": "https://api.github.com/users/k-w-w/following{/other_user}", "gists_url": "https://api.github.com/users/k-w-w/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-w-w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-w-w/subscriptions", "organizations_url": "https://api.github.com/users/k-w-w/orgs", "repos_url": "https://api.github.com/users/k-w-w/repos", "events_url": "https://api.github.com/users/k-w-w/events{/privacy}", "received_events_url": "https://api.github.com/users/k-w-w/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-06-29T16:56:51Z", "updated_at": "2019-07-02T10:38:07Z", "closed_at": null, "author_association": "NONE", "body": "I use TF 2.0. Currently, `tf.keras.experimental.export_saved_model` doesn't work in multi-gpu mode, i.e when model is declarated in `strategy.scope()`. I got the following error:\r\n\r\n```\r\nFile .../tensorflow/python/ops/variables.py\", line 514, in synchronization\r\n    raise NotImplementedError\r\n``` \r\n\r\nI tried the next code:\r\n\r\n```\r\ntf.keras.experimental.export_saved_model(\r\n    model, file_path,\r\n    serving_only=True,\r\n    input_signature=[tf.TensorSpec(shape=[None, None, None, 3], dtype=tf.float32)]\r\n)\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30246", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30246/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30246/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30246/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30246", "id": 462302105, "node_id": "MDU6SXNzdWU0NjIzMDIxMDU=", "number": 30246, "title": "The shared library of C++ API lacks of operation symbols on windows.", "user": {"login": "EternalSaga", "id": 15174504, "node_id": "MDQ6VXNlcjE1MTc0NTA0", "avatar_url": "https://avatars3.githubusercontent.com/u/15174504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EternalSaga", "html_url": "https://github.com/EternalSaga", "followers_url": "https://api.github.com/users/EternalSaga/followers", "following_url": "https://api.github.com/users/EternalSaga/following{/other_user}", "gists_url": "https://api.github.com/users/EternalSaga/gists{/gist_id}", "starred_url": "https://api.github.com/users/EternalSaga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EternalSaga/subscriptions", "organizations_url": "https://api.github.com/users/EternalSaga/orgs", "repos_url": "https://api.github.com/users/EternalSaga/repos", "events_url": "https://api.github.com/users/EternalSaga/events{/privacy}", "received_events_url": "https://api.github.com/users/EternalSaga/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 1188421838, "node_id": "MDU6TGFiZWwxMTg4NDIxODM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:windows", "name": "subtype:windows", "color": "b619ea", "default": false, "description": "Windows Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-06-29T13:21:58Z", "updated_at": "2019-07-17T12:25:06Z", "closed_at": null, "author_association": "NONE", "body": "\r\n**System information**\r\n- Windows 10 1809:\r\n- TensorFlow installed from (source or binary): Source\r\n- TensorFlow version: 1.14.0\r\n- Python version: 3.7.3\r\n- Bazel version (if compiling from source):  0.25.2\r\n- GCC/Compiler version (if compiling from source): visual studio 2017\r\n\r\n**Describe the problem**\r\nI tried to build the [label image c++ demo](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/label_image/main.cc) and I got lots of linking error which cannot find the tf operation symbols. Such as:\r\nSeverity\tCode\tDescription\tProject\tFile\tLine\tSuppression State\r\nError\tLNK2001\tunresolved external symbol \"public: __cdecl tensorflow::ops::Subtract::Subtract(class tensorflow::Scope const &,class tensorflow::Input,class tensorflow::Input)\" (??0Subtract@ops@tensorflow@@QEAA@AEBVScope@2@VInput@2@1@Z)\ttf1.14.0\tD:\\ProgrammingAndStudy\\C++_proj\\tf1.14.0\\tf1.14.0\\main.obj\t1\t\r\n\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\nI build the tensorflow 1.14.0 C++ API through the MSYS2 shell after some configeration. \r\nAlthough I configured using vs2019 here, but it seems useless. Bazel still choosing the vs2017.\r\nexport MSYS_NO_PATHCONV=1\r\nexport MSYS2_ARG_CONV_EXCL=\"*\" \r\nexport PATH=\"/C/Users/yueji/AppData/Local/Programs/Python/Python37\":$PATH\r\nalias python='winpty python.exe'\r\nexport PATH=\"/C/machine learning dlls\":$PATH\r\nset BAZEL_VS=\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\"\r\nset BAZEL_VC=\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\\VC\"\r\n\r\nAnd then, I compiled the tf1.14.0 through\r\nbazel build --config=opt //tensorflow:tensorflow_cc\r\nbazel build --config=opt //tensorflow:tensorflow_framework\r\n\r\nFinally, I got two libs and two dlls. They are located in C:\\Users\\user_name\\_bazel_yueji\\dvw6l3y3\\execroot\\org_tensorflow\\bazel-out\\x64_windows-opt\\bin\\tensorflow\r\ntensorflow.dll.if.lib, tensorflow_framework.dll.if.lib\r\ntensorflow_cc.dll, tensorflow_framework.dll\r\n\r\nI configured my vs projects to make sure the headers are properly included, and linked these two libs. \r\nHowever there are lots of lnk2001 errors are reported.\r\n\r\n**Any other info / logs**\r\nIt's a part of error file.\r\n\r\nSeverity\tCode\tDescription\tProject\tFile\tLine\tSuppression State\r\nError\tLNK2001\tunresolved external symbol \"public: __cdecl tensorflow::ops::Subtract::Subtract(class tensorflow::Scope const &,class tensorflow::Input,class tensorflow::Input)\" (??0Subtract@ops@tensorflow@@QEAA@AEBVScope@2@VInput@2@1@Z)\ttf1.14.0\tD:\\ProgrammingAndStudy\\C++_proj\\tf1.14.0\\tf1.14.0\\main.obj\t1\t\r\nError\tLNK2001\tunresolved external symbol \"public: __cdecl tensorflow::ops::Squeeze::Squeeze(class tensorflow::Scope const &,class tensorflow::Input)\" (??0Squeeze@ops@tensorflow@@QEAA@AEBVScope@2@VInput@2@@Z)\ttf1.14.0\tD:\\ProgrammingAndStudy\\C++_proj\\tf1.14.0\\tf1.14.0\\main.obj\t1\t\r\nError\tLNK2001\tunresolved external symbol \"public: __cdecl tensorflow::ops::DecodeGif::DecodeGif(class tensorflow::Scope const &,class tensorflow::Input)\" (??0DecodeGif@ops@tensorflow@@QEAA@AEBVScope@2@VInput@2@@Z)\ttf1.14.0\tD:\\ProgrammingAndStudy\\C++_proj\\tf1.14.0\\tf1.14.0\\main.obj\t1\t\r\nError\tLNK2001\tunresolved external symbol \"public: __cdecl tensorflow::ops::TopK::TopK(class tensorflow::Scope const &,class tensorflow::Input,class tensorflow::Input)\" (??0TopK@ops@tensorflow@@QEAA@AEBVScope@2@VInput@2@1@Z)\ttf1.14.0\tD:\\ProgrammingAndStudy\\C++_proj\\tf1.14.0\\tf1.14.0\\main.obj\t1\t\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30235", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30235/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30235/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30235/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30235", "id": 462177436, "node_id": "MDU6SXNzdWU0NjIxNzc0MzY=", "number": 30235, "title": "`xla.compile` + `tf.function` lose information about compile-time constants", "user": {"login": "mdanatg", "id": 26628547, "node_id": "MDQ6VXNlcjI2NjI4NTQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/26628547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mdanatg", "html_url": "https://github.com/mdanatg", "followers_url": "https://api.github.com/users/mdanatg/followers", "following_url": "https://api.github.com/users/mdanatg/following{/other_user}", "gists_url": "https://api.github.com/users/mdanatg/gists{/gist_id}", "starred_url": "https://api.github.com/users/mdanatg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mdanatg/subscriptions", "organizations_url": "https://api.github.com/users/mdanatg/orgs", "repos_url": "https://api.github.com/users/mdanatg/repos", "events_url": "https://api.github.com/users/mdanatg/events{/privacy}", "received_events_url": "https://api.github.com/users/mdanatg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1445545631, "node_id": "MDU6TGFiZWwxNDQ1NTQ1NjMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.14", "name": "TF 1.14", "color": "5319e7", "default": false, "description": "for issues seen with TF 1.14"}, {"id": 1133285679, "node_id": "MDU6TGFiZWwxMTMzMjg1Njc5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:xla", "name": "comp:xla", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-28T19:28:49Z", "updated_at": "2019-10-16T23:25:01Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- TensorFlow version (use command below): 1.14\r\n\r\n**Describe the current behavior**\r\n\r\nIn Eager mode, when a function is compiled with `xla.compile`, any constant arguments are auto-cast to Tensors, but these Tensors don't appear to reflect the fact that they are constant. Certain ops, like `tf.range` are sensitive to constant inputs due to the need for static shapes.\r\n\r\nIn effect, the following code raises an error:\r\n\r\n```\r\nimport tensorflow as tf\r\n\r\ntf.enable_eager_execution()\r\n\r\n@tf.function\r\ndef bad(count):\r\n  return tf.range(count)\r\n\r\nxla.compile(bad, (3,))\r\n```\r\n```\r\nInvalidArgumentError: Argument to function must be a compile-time constant, but unable to resolve argument value to a constant.\r\n\tThis error might be occurring with the use of xla.compile. If it is not necessary that every Op be compiled with XLA, an alternative is to use auto_jit with OptimizerOptions.global_jit_level = ON_2 or the environment variable TF_XLA_FLAGS=\"tf_xla_auto_jit=2\" which will attempt to use xla to compile as much of the graph as the compiler is able to.\r\n\t [[{{node cluster}}]] [Op:__inference_xla_compile_wrapper_196]\r\n```\r\n\r\nWhereas this code works:\r\n\r\n```\r\nimport tensorflow as tf\r\n\r\ntf.enable_eager_execution()\r\n\r\n@tf.function\r\ndef good():\r\n  return tf.range(3)\r\n\r\nxla.compile(good, ())\r\n```\r\n```\r\n[<tf.Tensor: id=157, shape=(3,), dtype=int32, numpy=array([0, 1, 2], dtype=int32)>]\r\n```\r\n\r\n**Describe the expected behavior**\r\n\r\nThe two snippets of code above should be equivalent, that is, they should both run successfully.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30232", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30232/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30232/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30232/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30232", "id": 462144797, "node_id": "MDU6SXNzdWU0NjIxNDQ3OTc=", "number": 30232, "title": "Tensorflow Lite conversion misshapes bias vector of FullyConnected", "user": {"login": "dukecyto", "id": 4166968, "node_id": "MDQ6VXNlcjQxNjY5Njg=", "avatar_url": "https://avatars1.githubusercontent.com/u/4166968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dukecyto", "html_url": "https://github.com/dukecyto", "followers_url": "https://api.github.com/users/dukecyto/followers", "following_url": "https://api.github.com/users/dukecyto/following{/other_user}", "gists_url": "https://api.github.com/users/dukecyto/gists{/gist_id}", "starred_url": "https://api.github.com/users/dukecyto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dukecyto/subscriptions", "organizations_url": "https://api.github.com/users/dukecyto/orgs", "repos_url": "https://api.github.com/users/dukecyto/repos", "events_url": "https://api.github.com/users/dukecyto/events{/privacy}", "received_events_url": "https://api.github.com/users/dukecyto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2019-06-28T17:52:54Z", "updated_at": "2019-10-22T05:05:45Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code: tflite converter code is straight from an example script\r\n- OS Platform and Distribution: Mac OS 10.14.5\r\n- TensorFlow installed from: `pip install tf-nightly` and `pip install tensorflow`\r\n- TensorFlow version:\r\ntested on  `v1.12.1-5178-gbafa0371c8 1.15.0-dev20190628` and `v1.13.0-rc2-5-g6612da8951 1.13.1`\r\n- Python version: 3.6.5\r\n\r\n**Describe the current behavior**\r\nTFLite converter incorrectly shapes the bias for FullyConnected operators.\r\nSpecifically in my test case (see attached model below), in the original freeze graph model, `MatMul_6` takes a product of 32x12 matrix and 12x1 vector then `add_7` adds a 32x1 vector to it as a bias. The converted TFLite model puts these two operations together into a FullyConnected op, and somehow its bias `MatMul_6_bias` is incorrectly shaped as a single-element vector. Consequently, the inference result of this TFLite model is incorrect.\r\n\r\n**Describe the expected behavior**\r\nThe bias vectors should be shaped as they were in the original freeze graph model.\r\n\r\n**Code to reproduce the issue**\r\n[tflite_bias_shape_issue.zip](https://github.com/tensorflow/tensorflow/files/3340234/tflite_bias_shape_issue.zip)\r\nThis zip file contains debug.pb (TF freeze graph model) and debug.tflite (TFLite converted model from frozen model). The conversion code is taken straight from the document:\r\n```\r\nimport tensorflow as tf\r\ngraph_def_file = \"debug.pb\"\r\ninput_arrays = [\"input\"]\r\noutput_arrays = [\"Reshape_1\"]\r\nconverter = tf.lite.TFLiteConverter.from_frozen_graph(graph_def_file, input_arrays, output_arrays)\r\ntflite_model = converter.convert()\r\nopen(\"debug.tflite\", \"wb\").write(tflite_model)\r\n```\r\nThe model has extra operators in the beginning (Sub, Div, Gather) just because I did not have time to rebuild the bare minimal test case but I think it is already simple enough."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30229", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30229/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30229/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30229/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30229", "id": 462123492, "node_id": "MDU6SXNzdWU0NjIxMjM0OTI=", "number": 30229, "title": "ReorderAxes in TFLite", "user": {"login": "Oktai15", "id": 17337773, "node_id": "MDQ6VXNlcjE3MzM3Nzcz", "avatar_url": "https://avatars1.githubusercontent.com/u/17337773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Oktai15", "html_url": "https://github.com/Oktai15", "followers_url": "https://api.github.com/users/Oktai15/followers", "following_url": "https://api.github.com/users/Oktai15/following{/other_user}", "gists_url": "https://api.github.com/users/Oktai15/gists{/gist_id}", "starred_url": "https://api.github.com/users/Oktai15/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Oktai15/subscriptions", "organizations_url": "https://api.github.com/users/Oktai15/orgs", "repos_url": "https://api.github.com/users/Oktai15/repos", "events_url": "https://api.github.com/users/Oktai15/events{/privacy}", "received_events_url": "https://api.github.com/users/Oktai15/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1501014628, "node_id": "MDU6TGFiZWwxNTAxMDE0NjI4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0-rc0", "name": "TF 2.0-rc0", "color": "12ce7d", "default": false, "description": "Issues related to TF 2.0-rc0"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gargn", "id": 1900612, "node_id": "MDQ6VXNlcjE5MDA2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1900612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gargn", "html_url": "https://github.com/gargn", "followers_url": "https://api.github.com/users/gargn/followers", "following_url": "https://api.github.com/users/gargn/following{/other_user}", "gists_url": "https://api.github.com/users/gargn/gists{/gist_id}", "starred_url": "https://api.github.com/users/gargn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gargn/subscriptions", "organizations_url": "https://api.github.com/users/gargn/orgs", "repos_url": "https://api.github.com/users/gargn/repos", "events_url": "https://api.github.com/users/gargn/events{/privacy}", "received_events_url": "https://api.github.com/users/gargn/received_events", "type": "User", "site_admin": false}, {"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-06-28T16:50:47Z", "updated_at": "2020-03-19T12:58:27Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution: Ubuntu\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (or github SHA if from source): TF 2.0-beta1\r\n\r\n\r\n**Provide the text output from tflite_convert**\r\n\r\n```\r\n2019-06-28 19:47:44.325579: I tensorflow/lite/toco/import_tensorflow.cc:1336] Converting unsupported operation: Reciprocal\r\n2019-06-28 19:47:44.342432: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 211 operators, 317 arrays (0 quantized)\r\n2019-06-28 19:47:44.345471: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 211 operators, 317 arrays (0 quantized)\r\n2019-06-28 19:47:44.354646: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 153 operators, 279 arrays (0 quantized)\r\n2019-06-28 19:47:44.358004: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 2: 150 operators, 273 arrays (0 quantized)\r\n2019-06-28 19:47:44.361223: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before Group bidirectional sequence lstm/rnn: 150 operators, 273 arrays (0 quantized)\r\n2019-06-28 19:47:44.363593: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 150 operators, 273 arrays (0 quantized)\r\n2019-06-28 19:47:44.367975: I tensorflow/lite/toco/allocate_transient_arrays.cc:345] Total transient array allocated size: 55296128 bytes, theoretical optimal value: 33177600 bytes.\r\n2019-06-28 19:47:44.369169: E tensorflow/lite/toco/toco_tooling.cc:462] We are continually in the process of adding support to TensorFlow Lite for more ops. It would be helpful if you could inform us of how this conversion went by opening a github issue at https://github.com/tensorflow/tensorflow/issues/new?template=40-tflite-op-request.md\r\n and pasting the following:\r\n\r\nSome of the operators in the model are not supported by the standard TensorFlow Lite runtime and are not recognized by TensorFlow. \r\nIf you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.lite.TFLiteConverter(). \r\nHere is a list of builtin operators you are using: ABS, ADD, CAST, CONCATENATION, CONV_2D, DEPTHWISE_CONV_2D, DIV, EXPAND_DIMS, FULLY_CONNECTED, GREATER, LEAKY_RELU, LOGICAL_NOT, MAXIMUM, MEAN, MINIMUM, MUL, NEG, PACK, POW, RESHAPE, RESIZE_BILINEAR, SHAPE, STRIDED_SLICE, SUB, SUM, TANH, TILE, TRANSPOSE. \r\nHere is a list of operators for which you will need custom implementations: ReorderAxes.\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30226", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30226/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30226/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30226/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30226", "id": 462070582, "node_id": "MDU6SXNzdWU0NjIwNzA1ODI=", "number": 30226, "title": "tensorflow:libtensorflow_cc.so fails to build for --cpu=armeabi-v7a", "user": {"login": "flamxi", "id": 30228544, "node_id": "MDQ6VXNlcjMwMjI4NTQ0", "avatar_url": "https://avatars3.githubusercontent.com/u/30228544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamxi", "html_url": "https://github.com/flamxi", "followers_url": "https://api.github.com/users/flamxi/followers", "following_url": "https://api.github.com/users/flamxi/following{/other_user}", "gists_url": "https://api.github.com/users/flamxi/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamxi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamxi/subscriptions", "organizations_url": "https://api.github.com/users/flamxi/orgs", "repos_url": "https://api.github.com/users/flamxi/repos", "events_url": "https://api.github.com/users/flamxi/events{/privacy}", "received_events_url": "https://api.github.com/users/flamxi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-06-28T14:46:44Z", "updated_at": "2019-07-16T15:39:37Z", "closed_at": null, "author_association": "NONE", "body": "- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: Yes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 18.04.3\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**:\r\n- **TensorFlow installed from (source or binary)**: source\r\n- **TensorFlow version (use command below)**: current master branch(28.06.2019)\r\n- **Python version**: 3.6\r\n- **Bazel version (if compiling from source)**: 0.24.1\r\n- **GCC/Compiler version (if compiling from source)**:7.4.0 \r\n- **CUDA/cuDNN version**:Not Used\r\n- **GPU model and memory**:\r\n- **Exact command to reproduce**:\r\nbazel build -c opt //tensorflow:libtensorflow_cc.so --crosstool_top=//external:android/crosstool --host_crosstool_top=@bazel_tools//tools/cpp:toolchain --cpu=armeabi-v7a --verbose_failures --cxxopt=\"-DTENSROFLOW_DISABLE_META\" --jobs 8 --copt=\"-funsafe-math-optimizations\" --copt=\"-ftree-vectorize\" --copt=\"-fomit-frame-pointer\" --copt=-DNO_LOCAL_MEM --copt=-DEIGEN_DONT_VECTORIZE_SYCL --copt=-DMDB_USE_ROBUST=0 --cxxopt=\"-fPIC\" --cxxopt=\"-std=c++11\"\r\n\r\n\r\n### Describe the problem\r\nTrying to compile //tensorflow:libtensorflow_cc.so for armeabi-v7a and/or for arm64-v8a, both failing with the output:\r\n**ERROR: ../tensorflow/tensorflow/cc/saved_model/BUILD:40:1: no such target '//tensorflow/core:saved_model_portable_proto': target 'saved_model_portable_proto' not declared in package 'tensorflow/core' defined by ../tensorflow/tensorflow/core/BUILD and referenced by '//tensorflow/cc/saved_model:reader**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30215", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30215/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30215/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30215/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30215", "id": 461897293, "node_id": "MDU6SXNzdWU0NjE4OTcyOTM=", "number": 30215, "title": "Unexpected `tf.cast` behavior between signed and unsigned integers", "user": {"login": "zicofish", "id": 2431336, "node_id": "MDQ6VXNlcjI0MzEzMzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/2431336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zicofish", "html_url": "https://github.com/zicofish", "followers_url": "https://api.github.com/users/zicofish/followers", "following_url": "https://api.github.com/users/zicofish/following{/other_user}", "gists_url": "https://api.github.com/users/zicofish/gists{/gist_id}", "starred_url": "https://api.github.com/users/zicofish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zicofish/subscriptions", "organizations_url": "https://api.github.com/users/zicofish/orgs", "repos_url": "https://api.github.com/users/zicofish/repos", "events_url": "https://api.github.com/users/zicofish/events{/privacy}", "received_events_url": "https://api.github.com/users/zicofish/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-06-28T07:26:43Z", "updated_at": "2019-07-19T05:18:46Z", "closed_at": null, "author_association": "NONE", "body": "It is tested on Google's own platform `https://colab.research.google.com`:\r\n**System information**\r\n- OS Platform and Distribution: Linux version 4.14.79+ (chrome-bot@swarm-cros-634)\r\n- TensorFlow installed from (source or binary): The platform is provided by Google\r\n- TensorFlow version: 1.14.0-rc1  (also tested on my own machine with TF 1.13.1)\r\n- Python version: 3.6.8\r\n\r\n**Describe the current behavior**\r\nType casting `tf.cast` from `tf.int32` to `tf.uint32` will make the Tensor become 0.\r\n\r\n**Describe the expected behavior**\r\n`tf.cast` should not change the bit representation of values.\r\n\r\n**Code to reproduce the issue**\r\n```\r\nimport tensorflow as tf\r\n\r\nc = tf.constant([5, 6, 7, 8, 9, 10], dtype=tf.int32)\r\nd = tf.constant([5, 6, 7, 8, 9, 10], dtype=tf.int32)\r\nx = tf.cast(c, dtype=tf.uint32)\r\ny = tf.cast(c, dtype=tf.uint32)\r\nwith tf.Session() as sess:\r\n    x_raw, y_raw = sess.run([x, y])\r\n    print(x_raw.dtype, y_raw.dtype)\r\n    print(x_raw)\r\n    print(y_raw)\r\n    \r\nprint(tf.__version__)\r\n```\r\nRunning this code gives the result:\r\n```\r\nuint32 uint32\r\n[0 0 0 0 0 0]\r\n[0 0 0 0 0 0]\r\n1.14.0-rc1\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30212", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30212/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30212/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30212/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30212", "id": 461875558, "node_id": "MDU6SXNzdWU0NjE4NzU1NTg=", "number": 30212, "title": "error C2280: 'tensorflow::FunctionLibraryDefinition &tensorflow::FunctionLibraryDefinition::operator =(const tensorflow::FunctionLibraryDefinition &)': attempting to reference a deleted function", "user": {"login": "mayadav1", "id": 51187678, "node_id": "MDQ6VXNlcjUxMTg3Njc4", "avatar_url": "https://avatars0.githubusercontent.com/u/51187678?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mayadav1", "html_url": "https://github.com/mayadav1", "followers_url": "https://api.github.com/users/mayadav1/followers", "following_url": "https://api.github.com/users/mayadav1/following{/other_user}", "gists_url": "https://api.github.com/users/mayadav1/gists{/gist_id}", "starred_url": "https://api.github.com/users/mayadav1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mayadav1/subscriptions", "organizations_url": "https://api.github.com/users/mayadav1/orgs", "repos_url": "https://api.github.com/users/mayadav1/repos", "events_url": "https://api.github.com/users/mayadav1/events{/privacy}", "received_events_url": "https://api.github.com/users/mayadav1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1188421838, "node_id": "MDU6TGFiZWwxMTg4NDIxODM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:windows", "name": "subtype:windows", "color": "b619ea", "default": false, "description": "Windows Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2019-06-28T06:18:38Z", "updated_at": "2019-12-31T13:29:53Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform :   Windows 10 Pro\r\n- TensorFlow version: 2.99\r\n- Python version: Python 3.6.8 :: Anaconda, Inc.\r\n- Installed using virtualenv: conda\r\n- Bazel version :  0.24.1\r\n- MSVC17\r\n- NO CUDA\r\n\r\nconfiguration : \r\nPlease specify the location of python. [Default is C:\\Users\\zen2_microsoft\\Anaconda3\\envs\\tensorflow-1.13.1-without-mkl\\python.exe]:\r\nFound possible Python library paths:\r\n  C:\\Users\\zen2_microsoft\\Anaconda3\\envs\\tensorflow-1.13.1-without-mkl\\lib\\site-packages\r\nPlease input the desired Python library path to use.  Default is [C:\\Users\\zen2_microsoft\\Anaconda3\\envs\\tensorflow-1.13.1-without-mkl\\lib\\site-packages]\r\nDo you wish to build TensorFlow with XLA JIT support? [y/N]: N\r\nNo XLA JIT support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with ROCm support? [y/N]: N\r\nNo ROCm support will be enabled for TensorFlow.\r\nDo you wish to build TensorFlow with CUDA support? [y/N]: N\r\nNo CUDA support will be enabled for TensorFlow.\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is /arch:AVX]:\r\nWould you like to override eigen strong inline for some C++ compilation to reduce the compilation time? [Y/n]: N\r\n\r\n**Describe the problem**\r\nBuild fails with below error .\r\ncompilation error log :\r\n\r\n  C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.12.25827/bin/HostX64/x64/cl.exe /nologo /DCOMPILER_MSVC /DNOMINMAX /D_WIN32_WINNT=0x0601 /D_CRT_SECURE_NO_DEPRECATE /D_CRT_SECURE_NO_WARNINGS /bigobj /Zm500 /EHsc /wd4351 /wd4291 /wd4250 /wd4996 /I. /Ibazel-out/x64_windows-opt/genfiles /Ibazel-out/x64_windows-opt/bin /Iexternal/com_google_absl /Ibazel-out/x64_windows-opt/genfiles/external/com_google_absl /Ibazel-out/x64_windows-opt/bin/external/com_google_absl /Iexternal/eigen_archive /Ibazel-out/x64_windows-opt/genfiles/external/eigen_archive /Ibazel-out/x64_windows-opt/bin/external/eigen_archive /Iexternal/local_config_sycl /Ibazel-out/x64_windows-opt/genfiles/external/local_config_sycl /Ibazel-out/x64_windows-opt/bin/external/local_config_sycl /Iexternal/nsync /Ibazel-out/x64_windows-opt/genfiles/external/nsync /Ibazel-out/x64_windows-opt/bin/external/nsync /Iexternal/gif_archive /Ibazel-out/x64_windows-opt/genfiles/external/gif_archive /Ibazel-out/x64_windows-opt/bin/external/gif_archive /Iexternal/jpeg /Ibazel-out/x64_windows-opt/genfiles/external/jpeg /Ibazel-out/x64_windows-opt/bin/external/jpeg /Iexternal/com_google_protobuf /Ibazel-out/x64_windows-opt/genfiles/external/com_google_protobuf /Ibazel-out/x64_windows-opt/bin/external/com_google_protobuf /Iexternal/com_googlesource_code_re2 /Ibazel-out/x64_windows-opt/genfiles/external/com_googlesource_code_re2 /Ibazel-out/x64_windows-opt/bin/external/com_googlesource_code_re2 /Iexternal/farmhash_archive /Ibazel-out/x64_windows-opt/genfiles/external/farmhash_archive /Ibazel-out/x64_windows-opt/bin/external/farmhash_archive /Iexternal/fft2d /Ibazel-out/x64_windows-opt/genfiles/external/fft2d /Ibazel-out/x64_windows-opt/bin/external/fft2d /Iexternal/highwayhash /Ibazel-out/x64_windows-opt/genfiles/external/highwayhash /Ibazel-out/x64_windows-opt/bin/external/highwayhash /Iexternal/zlib_archive /Ibazel-out/x64_windows-opt/genfiles/external/zlib_archive /Ibazel-out/x64_windows-opt/bin/external/zlib_archive /Iexternal/double_conversion /Ibazel-out/x64_windows-opt/genfiles/external/double_conversion /Ibazel-out/x64_windows-opt/bin/external/double_conversion /Iexternal/snappy /Ibazel-out/x64_windows-opt/genfiles/external/snappy /Ibazel-out/x64_windows-opt/bin/external/snappy /Iexternal/eigen_archive /Ibazel-out/x64_windows-opt/genfiles/external/eigen_archive /Ibazel-out/x64_windows-opt/bin/external/eigen_archive /Iexternal/nsync/public /Ibazel-out/x64_windows-opt/genfiles/external/nsync/public /Ibazel-out/x64_windows-opt/bin/external/nsync/public /Iexternal/gif_archive/lib /Ibazel-out/x64_windows-opt/genfiles/external/gif_archive/lib /Ibazel-out/x64_windows-opt/bin/external/gif_archive/lib /Iexternal/gif_archive/windows /Ibazel-out/x64_windows-opt/genfiles/external/gif_archive/windows /Ibazel-out/x64_windows-opt/bin/external/gif_archive/windows /Iexternal/com_google_protobuf/src /Ibazel-out/x64_windows-opt/genfiles/external/com_google_protobuf/src /Ibazel-out/x64_windows-opt/bin/external/com_google_protobuf/src /Iexternal/farmhash_archive/src /Ibazel-out/x64_windows-opt/genfiles/external/farmhash_archive/src /Ibazel-out/x64_windows-opt/bin/external/farmhash_archive/src /Iexternal/zlib_archive /Ibazel-out/x64_windows-opt/genfiles/external/zlib_archive /Ibazel-out/x64_windows-opt/bin/external/zlib_archive /Iexternal/double_conversion /Ibazel-out/x64_windows-opt/genfiles/external/double_conversion /Ibazel-out/x64_windows-opt/bin/external/double_conversion /D__CLANG_SUPPORT_DYN_ANNOTATION__ /DEIGEN_MPL2_ONLY /DEIGEN_MAX_ALIGN_BYTES=64 /DEIGEN_HAS_TYPE_TRAITS=0 /DTF_USE_SNAPPY /showIncludes /MD /O2 /Oy- /DNDEBUG /wd4117 -D__DATE__=\"redacted\" -D__TIMESTAMP__=\"redacted\" -D__TIME__=\"redacted\" /Gy /Gw -w -DWIN32_LEAN_AND_MEAN -DNOGDI /arch:AVX /Fobazel-out/x64_windows-opt/bin/tensorflow/core/grappler/_objs/grappler_item/grappler_item.obj /c tensorflow/core/grappler/grappler_item.cc\r\nExecution platform: @bazel_tools//platforms:host_platform\r\nexternal/com_google_absl\\absl/meta/type_traits.h(141): error C2280: 'tensorflow::FunctionLibraryDefinition &tensorflow::FunctionLibraryDefinition::operator =(const tensorflow::FunctionLibraryDefinition &)': attempting to reference a deleted function\r\n.\\tensorflow/core/framework/function.h(334): note: see declaration of 'tensorflow::FunctionLibraryDefinition::operator ='\r\nexternal/com_google_absl\\absl/meta/type_traits.h(121): note: see reference to alias template instantiation 'IsCopyAssignableImpl<tensorflow::FunctionLibraryDefinition>' being compiled\r\nexternal/com_google_absl\\absl/meta/type_traits.h(150): note: see reference to class template instantiation 'absl::type_traits_internal::is_detected<absl::type_traits_internal::IsCopyAssignableImpl,T>' being compiled\r\n        with\r\n        [\r\n            T=tensorflow::FunctionLibraryDefinition\r\n        ]\r\nexternal/com_google_absl\\absl/meta/type_traits.h(432): note: see reference to class template instantiation 'absl::is_copy_assignable<T>' being compiled\r\n        with\r\n        [\r\n            T=tensorflow::FunctionLibraryDefinition\r\n        ]\r\nexternal/com_google_absl\\absl/types/internal/optional.h(173): note: see reference to class template instantiation 'absl::is_trivially_copy_assignable<tensorflow::FunctionLibraryDefinition>' being compiled\r\ntensorflow/core/grappler/grappler_item.cc(118): note: see reference to class template instantiation 'absl::optional<tensorflow::FunctionLibraryDefinition>' being compiled\r\n.\\tensorflow/core/framework/function.h(334): note: 'tensorflow::FunctionLibraryDefinition &tensorflow::FunctionLibraryDefinition::operator =(const tensorflow::FunctionLibraryDefinition &)': function was explicitly deleted\r\nexternal/com_google_absl\\absl/meta/type_traits.h(144): error C2280: 'tensorflow::FunctionLibraryDefinition &tensorflow::FunctionLibraryDefinition::operator =(const tensorflow::FunctionLibraryDefinition &)': attempting to reference a deleted function\r\n.\\tensorflow/core/framework/function.h(334): note: see declaration of 'tensorflow::FunctionLibraryDefinition::operator ='\r\nexternal/com_google_absl\\absl/meta/type_traits.h(121): note: see reference to alias template instantiation 'IsMoveAssignableImpl<tensorflow::FunctionLibraryDefinition>' being compiled\r\nexternal/com_google_absl\\absl/meta/type_traits.h(155): note: see reference to class template instantiation 'absl::type_traits_internal::is_detected<absl::type_traits_internal::IsMoveAssignableImpl,T>' being compiled\r\n        with\r\n        [\r\n            T=tensorflow::FunctionLibraryDefinition\r\n        ]\r\nexternal/com_google_absl\\absl/types/internal/optional.h(328): note: see reference to class template instantiation 'absl::is_move_assignable<T>' being compiled\r\n        with\r\n        [\r\n            T=tensorflow::FunctionLibraryDefinition\r\n        ]\r\nexternal/com_google_absl\\absl/types/optional.h(120): note: see reference to class template instantiation 'absl::optional_internal::assign_copy_traits<T>' being compiled\r\n        with\r\n        [\r\n            T=tensorflow::FunctionLibraryDefinition\r\n        ]\r\n.\\tensorflow/core/framework/function.h(334): note: 'tensorflow::FunctionLibraryDefinition &tensorflow::FunctionLibraryDefinition::operator =(const tensorflow::FunctionLibraryDefinition &)': function was explicitly deleted\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 11024.399s, Critical Path: 6294.48s\r\nINFO: 2398 processes: 2398 local.\r\nFAILED: Build did NOT complete successfully \r\n\r\nPlease help me out ."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30195", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30195/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30195/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30195/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30195", "id": 461366280, "node_id": "MDU6SXNzdWU0NjEzNjYyODA=", "number": 30195, "title": "make tf.image ops support tf.float16 in tensorflow 2.0", "user": {"login": "mttbx", "id": 38148377, "node_id": "MDQ6VXNlcjM4MTQ4Mzc3", "avatar_url": "https://avatars3.githubusercontent.com/u/38148377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mttbx", "html_url": "https://github.com/mttbx", "followers_url": "https://api.github.com/users/mttbx/followers", "following_url": "https://api.github.com/users/mttbx/following{/other_user}", "gists_url": "https://api.github.com/users/mttbx/gists{/gist_id}", "starred_url": "https://api.github.com/users/mttbx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mttbx/subscriptions", "organizations_url": "https://api.github.com/users/mttbx/orgs", "repos_url": "https://api.github.com/users/mttbx/repos", "events_url": "https://api.github.com/users/mttbx/events{/privacy}", "received_events_url": "https://api.github.com/users/mttbx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "annarev", "id": 22060313, "node_id": "MDQ6VXNlcjIyMDYwMzEz", "avatar_url": "https://avatars0.githubusercontent.com/u/22060313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annarev", "html_url": "https://github.com/annarev", "followers_url": "https://api.github.com/users/annarev/followers", "following_url": "https://api.github.com/users/annarev/following{/other_user}", "gists_url": "https://api.github.com/users/annarev/gists{/gist_id}", "starred_url": "https://api.github.com/users/annarev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annarev/subscriptions", "organizations_url": "https://api.github.com/users/annarev/orgs", "repos_url": "https://api.github.com/users/annarev/repos", "events_url": "https://api.github.com/users/annarev/events{/privacy}", "received_events_url": "https://api.github.com/users/annarev/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "annarev", "id": 22060313, "node_id": "MDQ6VXNlcjIyMDYwMzEz", "avatar_url": "https://avatars0.githubusercontent.com/u/22060313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annarev", "html_url": "https://github.com/annarev", "followers_url": "https://api.github.com/users/annarev/followers", "following_url": "https://api.github.com/users/annarev/following{/other_user}", "gists_url": "https://api.github.com/users/annarev/gists{/gist_id}", "starred_url": "https://api.github.com/users/annarev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annarev/subscriptions", "organizations_url": "https://api.github.com/users/annarev/orgs", "repos_url": "https://api.github.com/users/annarev/repos", "events_url": "https://api.github.com/users/annarev/events{/privacy}", "received_events_url": "https://api.github.com/users/annarev/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-06-27T07:34:42Z", "updated_at": "2019-07-09T17:09:17Z", "closed_at": null, "author_association": "NONE", "body": "make tf.image ops like tf.image.extract_patches/tf.image.resize to support tf.float16, or at least make them to do implicit cast."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30176", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30176/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30176/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30176/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30176", "id": 460979091, "node_id": "MDU6SXNzdWU0NjA5NzkwOTE=", "number": 30176, "title": "Getting `bad_alloc` in allocateTensors ", "user": {"login": "aminbenarieb", "id": 2438950, "node_id": "MDQ6VXNlcjI0Mzg5NTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/2438950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aminbenarieb", "html_url": "https://github.com/aminbenarieb", "followers_url": "https://api.github.com/users/aminbenarieb/followers", "following_url": "https://api.github.com/users/aminbenarieb/following{/other_user}", "gists_url": "https://api.github.com/users/aminbenarieb/gists{/gist_id}", "starred_url": "https://api.github.com/users/aminbenarieb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aminbenarieb/subscriptions", "organizations_url": "https://api.github.com/users/aminbenarieb/orgs", "repos_url": "https://api.github.com/users/aminbenarieb/repos", "events_url": "https://api.github.com/users/aminbenarieb/events{/privacy}", "received_events_url": "https://api.github.com/users/aminbenarieb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "miaout17", "id": 22063, "node_id": "MDQ6VXNlcjIyMDYz", "avatar_url": "https://avatars0.githubusercontent.com/u/22063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miaout17", "html_url": "https://github.com/miaout17", "followers_url": "https://api.github.com/users/miaout17/followers", "following_url": "https://api.github.com/users/miaout17/following{/other_user}", "gists_url": "https://api.github.com/users/miaout17/gists{/gist_id}", "starred_url": "https://api.github.com/users/miaout17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miaout17/subscriptions", "organizations_url": "https://api.github.com/users/miaout17/orgs", "repos_url": "https://api.github.com/users/miaout17/repos", "events_url": "https://api.github.com/users/miaout17/events{/privacy}", "received_events_url": "https://api.github.com/users/miaout17/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "miaout17", "id": 22063, "node_id": "MDQ6VXNlcjIyMDYz", "avatar_url": "https://avatars0.githubusercontent.com/u/22063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miaout17", "html_url": "https://github.com/miaout17", "followers_url": "https://api.github.com/users/miaout17/followers", "following_url": "https://api.github.com/users/miaout17/following{/other_user}", "gists_url": "https://api.github.com/users/miaout17/gists{/gist_id}", "starred_url": "https://api.github.com/users/miaout17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miaout17/subscriptions", "organizations_url": "https://api.github.com/users/miaout17/orgs", "repos_url": "https://api.github.com/users/miaout17/repos", "events_url": "https://api.github.com/users/miaout17/events{/privacy}", "received_events_url": "https://api.github.com/users/miaout17/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-06-26T13:42:29Z", "updated_at": "2019-07-03T07:47:36Z", "closed_at": null, "author_association": "NONE", "body": "**What I've done:**\r\nI've picked up [one of iOS Tensorflow examples]([https://github.com/tensorflow/examples/tree/master/lite/examples/object_detection/ios]) and tried to use my `.tflite` model\r\n\r\n**What I expected**:\r\nLoaded model just like in the example.\r\n\r\n**What I've got**:\r\n`uncaught exception of type std::bad_alloc` and here are the logs with it:\r\n```\r\n    2019-06-26 15:25:45.414765+0300 Celly[5485:1152189] Initialized TensorFlow Lite runtime.\r\n    Celly(5485,0x1006aebc0) malloc: can't allocate region\r\n    *** mach_vm_map(size=1800945664) failed (error code=3)\r\n    Celly(5485,0x1006aebc0) malloc: *** set a breakpoint in malloc_error_break to debug\r\n    libc++abi.dylib: terminating with uncaught exception of type std::bad_alloc: std::bad_alloc\r\n```\r\n\r\n\r\nIs there any known workaround or help from documentation or so? Is this problem in the model, so it needs to be optimised or configured appropriately? "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30172", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30172/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30172/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30172/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30172", "id": 460933206, "node_id": "MDU6SXNzdWU0NjA5MzMyMDY=", "number": 30172, "title": "How to write the  .bmp images from tensors to disk after resizing ?", "user": {"login": "mohapatras", "id": 10518386, "node_id": "MDQ6VXNlcjEwNTE4Mzg2", "avatar_url": "https://avatars1.githubusercontent.com/u/10518386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mohapatras", "html_url": "https://github.com/mohapatras", "followers_url": "https://api.github.com/users/mohapatras/followers", "following_url": "https://api.github.com/users/mohapatras/following{/other_user}", "gists_url": "https://api.github.com/users/mohapatras/gists{/gist_id}", "starred_url": "https://api.github.com/users/mohapatras/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mohapatras/subscriptions", "organizations_url": "https://api.github.com/users/mohapatras/orgs", "repos_url": "https://api.github.com/users/mohapatras/repos", "events_url": "https://api.github.com/users/mohapatras/events{/privacy}", "received_events_url": "https://api.github.com/users/mohapatras/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-06-26T12:10:17Z", "updated_at": "2020-01-06T16:18:26Z", "closed_at": null, "author_association": "NONE", "body": "I am trying to read bmp images, resize them and write the image to disk using tensorflow. I have succeeded in reading it but unable to find a way write it to disk. Any idea how to do it ?\r\n\r\nHere is the code below:\r\n\r\n```\r\nimport tensorflow as tf\r\n\r\nimg_path = \"D:/image01.bmp\"\r\n\r\nimg = tf.read_file(img_path)\r\n\r\nimg_decode = tf.image.decode_bmp(img, channels=1) # unit8 tensor\r\n\r\nIMG_WIDTH = 256\r\n\r\nIMG_HEIGHT = 256\r\n\r\nimg_cast = tf.cast(img_decode,dtype=tf.float32)\r\n\r\nimg_res = tf.image.resize_bilinear(img_4d, (IMG_HEIGHT, IMG_WIDTH), align_corners=True)\r\n```\r\nThe problem is I can't find a \"encode_bmp\" or any bmp related function that can be used to encode the image and save the resized image to disk."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30169", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30169/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30169/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30169/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30169", "id": 460871919, "node_id": "MDU6SXNzdWU0NjA4NzE5MTk=", "number": 30169, "title": "TFLite GPU works slower than CPU", "user": {"login": "zchfaq", "id": 8298991, "node_id": "MDQ6VXNlcjgyOTg5OTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/8298991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zchfaq", "html_url": "https://github.com/zchfaq", "followers_url": "https://api.github.com/users/zchfaq/followers", "following_url": "https://api.github.com/users/zchfaq/following{/other_user}", "gists_url": "https://api.github.com/users/zchfaq/gists{/gist_id}", "starred_url": "https://api.github.com/users/zchfaq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zchfaq/subscriptions", "organizations_url": "https://api.github.com/users/zchfaq/orgs", "repos_url": "https://api.github.com/users/zchfaq/repos", "events_url": "https://api.github.com/users/zchfaq/events{/privacy}", "received_events_url": "https://api.github.com/users/zchfaq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "impjdi", "id": 9742927, "node_id": "MDQ6VXNlcjk3NDI5Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9742927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/impjdi", "html_url": "https://github.com/impjdi", "followers_url": "https://api.github.com/users/impjdi/followers", "following_url": "https://api.github.com/users/impjdi/following{/other_user}", "gists_url": "https://api.github.com/users/impjdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/impjdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/impjdi/subscriptions", "organizations_url": "https://api.github.com/users/impjdi/orgs", "repos_url": "https://api.github.com/users/impjdi/repos", "events_url": "https://api.github.com/users/impjdi/events{/privacy}", "received_events_url": "https://api.github.com/users/impjdi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "impjdi", "id": 9742927, "node_id": "MDQ6VXNlcjk3NDI5Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9742927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/impjdi", "html_url": "https://github.com/impjdi", "followers_url": "https://api.github.com/users/impjdi/followers", "following_url": "https://api.github.com/users/impjdi/following{/other_user}", "gists_url": "https://api.github.com/users/impjdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/impjdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/impjdi/subscriptions", "organizations_url": "https://api.github.com/users/impjdi/orgs", "repos_url": "https://api.github.com/users/impjdi/repos", "events_url": "https://api.github.com/users/impjdi/events{/privacy}", "received_events_url": "https://api.github.com/users/impjdi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2019-06-26T09:51:17Z", "updated_at": "2019-07-08T22:35:37Z", "closed_at": null, "author_association": "NONE", "body": "\r\nI run tflite in Qualcomm 660, for a test\uff0cthere is just a con2d. But when i run it,\r\ncpu costs 30ms  while  cpu costs 130ms.\r\nI don't know why"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30161", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30161/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30161/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30161/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30161", "id": 460758036, "node_id": "MDU6SXNzdWU0NjA3NTgwMzY=", "number": 30161, "title": "tf.keras.BatchNormalization ignores Mask when calculating Mean/Variance", "user": {"login": "LukeBolly", "id": 24449147, "node_id": "MDQ6VXNlcjI0NDQ5MTQ3", "avatar_url": "https://avatars2.githubusercontent.com/u/24449147?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LukeBolly", "html_url": "https://github.com/LukeBolly", "followers_url": "https://api.github.com/users/LukeBolly/followers", "following_url": "https://api.github.com/users/LukeBolly/following{/other_user}", "gists_url": "https://api.github.com/users/LukeBolly/gists{/gist_id}", "starred_url": "https://api.github.com/users/LukeBolly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LukeBolly/subscriptions", "organizations_url": "https://api.github.com/users/LukeBolly/orgs", "repos_url": "https://api.github.com/users/LukeBolly/repos", "events_url": "https://api.github.com/users/LukeBolly/events{/privacy}", "received_events_url": "https://api.github.com/users/LukeBolly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-06-26T04:45:23Z", "updated_at": "2020-02-28T17:00:50Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- TensorFlow installed from (source or binary): Binary\r\n- TensorFlow version (use command below): 1.13.1\r\n- Python version: 3.6.7\r\n- CUDA/cuDNN version: 10\r\n- GPU model and memory: GTX 960M\r\n\r\n**Describe the current behavior**\r\ntf.keras.layers.BatchNormalization layers do not take the Mask into account when calculating mean/variance. This results in a Mean biased towards 0 and an inflated Variance when passing in padded samples. This is made worse by the fact that the BatchNormalization layer claims to support masking, yet all it does is pass it through to the next layer. This is an issue in TF 1.13, 1.14 and 2.0b where the implementation is imported straight from Keras.\r\n\r\nThe result from a toy example:\r\n```\r\npadded mean:\t\t1.5\r\nunpadded mean:\t\t3.0\r\n\r\npadded variance:\t3.25\r\nunpadded variance:\t2.0\r\n```\r\n\r\n**Describe the expected behavior**\r\nThe Boolean Mask should be used when calculating the Mean and Variance, to ignore any 0's as a result of padded data.\r\n\r\n**Code to reproduce the issue**\r\nThis example compares the behavior of BatchNorm against a padded and un-padded 1D signal. The resulting Means and Variances come out very different.\r\n```\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\n# Mask value of -10\r\npadded_data = np.expand_dims(np.array([[1,2,3,4,5,-10,-10,-10,-10,-10] for _ in range(100)], dtype='float32'), 2)\r\ndata = np.expand_dims(np.array([[1,2,3,4,5] for _ in range(100)], dtype='float32'), 2)\r\n\r\ndef build_padding_model():\r\n    input = tf.keras.layers.Input((10, 1))\r\n    masked = tf.keras.layers.Masking(-10)(input)\r\n    normed = tf.keras.layers.BatchNormalization(momentum=0.01)(masked)\r\n    model = tf.keras.models.Model(input, normed)\r\n    model.compile(\"adam\", loss=\"mse\")\r\n    return model\r\n\r\ndef build_model():\r\n    input = tf.keras.layers.Input((5, 1))\r\n    normed = tf.keras.layers.BatchNormalization(momentum=0.01)(input)\r\n    model = tf.keras.models.Model(inputs=input, outputs=normed)\r\n    model.compile(\"adam\", loss=\"mse\")\r\n    return model\r\n\r\nif __name__ =='__main__':\r\n    batch_size = 100\r\n    signal_length = 20\r\n\r\n    pad = build_padding_model()\r\n    pad.fit(x=padded_data, y=padded_data, batch_size=10, epochs=5)\r\n\r\n    nopad = build_model()\r\n    nopad.fit(x=data, y=data, batch_size=10, epochs=5)\r\n\r\n    weights1 = pad.layers[2].get_weights()\r\n    weights2 = nopad.layers[1].get_weights()\r\n    print('\\npadded mean:\\t\\t' + str(weights1[2][0]) + '\\nunpadded mean:\\t\\t' + str(weights2[2][0]) + '\\n')\r\n    print('padded variance:\\t' + str(weights1[3][0]) + '\\nunpadded variance:\\t' + str(weights2[3][0]) + '\\n')\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30159", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30159/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30159/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30159/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30159", "id": 460718158, "node_id": "MDU6SXNzdWU0NjA3MTgxNTg=", "number": 30159, "title": "Enable SupervisedInputReceiver", "user": {"login": "WangYongzhao", "id": 19544350, "node_id": "MDQ6VXNlcjE5NTQ0MzUw", "avatar_url": "https://avatars2.githubusercontent.com/u/19544350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WangYongzhao", "html_url": "https://github.com/WangYongzhao", "followers_url": "https://api.github.com/users/WangYongzhao/followers", "following_url": "https://api.github.com/users/WangYongzhao/following{/other_user}", "gists_url": "https://api.github.com/users/WangYongzhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/WangYongzhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WangYongzhao/subscriptions", "organizations_url": "https://api.github.com/users/WangYongzhao/orgs", "repos_url": "https://api.github.com/users/WangYongzhao/repos", "events_url": "https://api.github.com/users/WangYongzhao/events{/privacy}", "received_events_url": "https://api.github.com/users/WangYongzhao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "k-w-w", "id": 31663267, "node_id": "MDQ6VXNlcjMxNjYzMjY3", "avatar_url": "https://avatars2.githubusercontent.com/u/31663267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-w-w", "html_url": "https://github.com/k-w-w", "followers_url": "https://api.github.com/users/k-w-w/followers", "following_url": "https://api.github.com/users/k-w-w/following{/other_user}", "gists_url": "https://api.github.com/users/k-w-w/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-w-w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-w-w/subscriptions", "organizations_url": "https://api.github.com/users/k-w-w/orgs", "repos_url": "https://api.github.com/users/k-w-w/repos", "events_url": "https://api.github.com/users/k-w-w/events{/privacy}", "received_events_url": "https://api.github.com/users/k-w-w/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "k-w-w", "id": 31663267, "node_id": "MDQ6VXNlcjMxNjYzMjY3", "avatar_url": "https://avatars2.githubusercontent.com/u/31663267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-w-w", "html_url": "https://github.com/k-w-w", "followers_url": "https://api.github.com/users/k-w-w/followers", "following_url": "https://api.github.com/users/k-w-w/following{/other_user}", "gists_url": "https://api.github.com/users/k-w-w/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-w-w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-w-w/subscriptions", "organizations_url": "https://api.github.com/users/k-w-w/orgs", "repos_url": "https://api.github.com/users/k-w-w/repos", "events_url": "https://api.github.com/users/k-w-w/events{/privacy}", "received_events_url": "https://api.github.com/users/k-w-w/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-06-26T01:38:31Z", "updated_at": "2019-08-21T21:22:11Z", "closed_at": null, "author_association": "NONE", "body": "I want to serving a model with SupervisedInputReceiver, but I found this feature is not official supported by tensorflow. Is there replacement for this feature? if no, I suggest to enable this feature.\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): 1.13.1\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\nhttps://github.com/tensorflow/estimator/blob/master/tensorflow_estimator/python/estimator/export/export.py#L251\r\nthis class is not in the related __init__.py, so can't use it officially\r\n\r\n**Will this change the current api? How?** I think no.\r\n\r\n**Who will benefit with this feature?** who want to serve model with both input/output.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30121", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30121/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30121/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30121/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30121", "id": 460443280, "node_id": "MDU6SXNzdWU0NjA0NDMyODA=", "number": 30121, "title": "About `Evaluator` in TF_CONFIG", "user": {"login": "wangsiyu", "id": 5387343, "node_id": "MDQ6VXNlcjUzODczNDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/5387343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wangsiyu", "html_url": "https://github.com/wangsiyu", "followers_url": "https://api.github.com/users/wangsiyu/followers", "following_url": "https://api.github.com/users/wangsiyu/following{/other_user}", "gists_url": "https://api.github.com/users/wangsiyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/wangsiyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wangsiyu/subscriptions", "organizations_url": "https://api.github.com/users/wangsiyu/orgs", "repos_url": "https://api.github.com/users/wangsiyu/repos", "events_url": "https://api.github.com/users/wangsiyu/events{/privacy}", "received_events_url": "https://api.github.com/users/wangsiyu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 996845227, "node_id": "MDU6TGFiZWw5OTY4NDUyMjc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:dist-strat", "name": "comp:dist-strat", "color": "0052cc", "default": false, "description": "Distribution Strategy related issues"}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "yuefengz", "id": 1647833, "node_id": "MDQ6VXNlcjE2NDc4MzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1647833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuefengz", "html_url": "https://github.com/yuefengz", "followers_url": "https://api.github.com/users/yuefengz/followers", "following_url": "https://api.github.com/users/yuefengz/following{/other_user}", "gists_url": "https://api.github.com/users/yuefengz/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuefengz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuefengz/subscriptions", "organizations_url": "https://api.github.com/users/yuefengz/orgs", "repos_url": "https://api.github.com/users/yuefengz/repos", "events_url": "https://api.github.com/users/yuefengz/events{/privacy}", "received_events_url": "https://api.github.com/users/yuefengz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yuefengz", "id": 1647833, "node_id": "MDQ6VXNlcjE2NDc4MzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1647833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuefengz", "html_url": "https://github.com/yuefengz", "followers_url": "https://api.github.com/users/yuefengz/followers", "following_url": "https://api.github.com/users/yuefengz/following{/other_user}", "gists_url": "https://api.github.com/users/yuefengz/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuefengz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuefengz/subscriptions", "organizations_url": "https://api.github.com/users/yuefengz/orgs", "repos_url": "https://api.github.com/users/yuefengz/repos", "events_url": "https://api.github.com/users/yuefengz/events{/privacy}", "received_events_url": "https://api.github.com/users/yuefengz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2019-06-25T14:00:52Z", "updated_at": "2020-01-28T17:47:57Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\n- TensorFlow installed from (source or binary): source\n- TensorFlow version (use command below): master\n- Python version: 2.7\n- Bazel version (if compiling from source):\n- GCC/Compiler version (if compiling from source):\n- CUDA/cuDNN version: \n- GPU model and memory:\n\n**Describe the current behavior**\nThe `evaluator` in `TF_CONFIG` makes me confused. In `RunConfig` document, I found the `evaluator` should not be in `cluster`. For example, \n```  \ncluster = {'chief': ['host0:2222'],\n             'ps': ['host1:2222', 'host2:2222'],\n             'worker': ['host3:2222', 'host4:2222', 'host5:2222']}\nos.environ['TF_CONFIG'] = json.dumps(\n      {'cluster': cluster,\n       'task': {'type': 'evaluator', 'index': 0}})\n```\nThis means the `evaluator` is not part of training cluster.  So it is not going to be in the `cluster_spec`.\nHowever, in `DistributionStrategy` there is a check to find `evaluator` node in `cluster_spec`. For example, in `tensorflow/python/distribute/multi_worker_util.py`, there is a function named `_validate_cluster_spec`. \n```\n  if task_type not in (\"chief\", \"worker\", \"evaluator\", \"ps\"):\n    raise ValueError(\n        \"Unrecognized task_type: %r, valid task types are: \\\"chief\\\", \"\n        \"\\\"worker\\\", \\\"evaluator\\\" and \\\"ps\\\".\" % task_type)\n\n  if task_type and task_type not in cluster_spec:\n    raise ValueError(\"`task_type` %r not found in cluster_spec.\" % task_type)\n\n```\nThat means if the `task_type` is `evaluator`, it should be in `cluster_spec`. This is inconsistent with what is stated in the document above.  So what should `TF_CONFIG` be like when I want to use `DistributionStrategy` in training and single mode in evaluation? I try many times but failed because of this check. So it is better to give an example about how to construct `TF_CONFIG`. Thanks very much.\n@yuefengz @anj-s \n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30115", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30115/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30115/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30115/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30115", "id": 460354078, "node_id": "MDU6SXNzdWU0NjAzNTQwNzg=", "number": 30115, "title": "Tensorboard embeddings mnist example crashes", "user": {"login": "KevinWalker1000", "id": 52199487, "node_id": "MDQ6VXNlcjUyMTk5NDg3", "avatar_url": "https://avatars1.githubusercontent.com/u/52199487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KevinWalker1000", "html_url": "https://github.com/KevinWalker1000", "followers_url": "https://api.github.com/users/KevinWalker1000/followers", "following_url": "https://api.github.com/users/KevinWalker1000/following{/other_user}", "gists_url": "https://api.github.com/users/KevinWalker1000/gists{/gist_id}", "starred_url": "https://api.github.com/users/KevinWalker1000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KevinWalker1000/subscriptions", "organizations_url": "https://api.github.com/users/KevinWalker1000/orgs", "repos_url": "https://api.github.com/users/KevinWalker1000/repos", "events_url": "https://api.github.com/users/KevinWalker1000/events{/privacy}", "received_events_url": "https://api.github.com/users/KevinWalker1000/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 284285184, "node_id": "MDU6TGFiZWwyODQyODUxODQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tensorboard", "name": "comp:tensorboard", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-06-25T10:56:40Z", "updated_at": "2019-10-18T20:39:09Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\n- OS Platform and Distribution Windows 10 Pro 64-bit\r\n- TensorFlow installed from binary\r\n- TensorFlow version: b'v1.13.1-0-g6612da8951' 1.13.1\r\n- Python version: 3.6\r\n- CUDA/cuDNN version: 10.0/7.6.0\r\n- GPU model and memory: GeForce GTX 1070 8Mb\r\n\r\n**Describe the current behavior**\r\nWhen attempting to run the following example, https://keras.io/examples/tensorboard_embeddings_mnist/, I get a crash after the first epoch.\r\n\r\nI get the following error message:\r\n\r\n```\r\n2019-06-25 11:33:16.177546: W tensorflow/core/framework/op_kernel.cc:1401] OP_REQUIRES failed at strided_slice_op.cc:308 : Not found: Resource localhost/features_embedding/class tensorflow::Var does not exist.\r\nTraceback (most recent call last):\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1334, in _do_call\r\n    return fn(*args)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1319, in _run_fn\r\n    options, feed_dict, fetch_list, target_list, run_metadata)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1407, in _call_tf_sessionrun\r\n    run_metadata)\r\ntensorflow.python.framework.errors_impl.NotFoundError: Resource localhost/features_embedding/class tensorflow::Var does not exist.\r\n\t [[{{node strided_slice/_assign}}]]\r\n\t [[{{node ReadVariableOp_1}}]]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2018.2.4\\helpers\\pydev\\pydevd.py\", line 1664, in <module>\r\n    main()\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2018.2.4\\helpers\\pydev\\pydevd.py\", line 1658, in main\r\n    globals = debugger.run(setup['file'], None, None, is_module)\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2018.2.4\\helpers\\pydev\\pydevd.py\", line 1068, in run\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2018.2.4\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"X:/CoreTech/LTI791_FaceEncoding/Research/Python/Faces/Encoding/Scripts/MNISTExample.py\", line 84, in <module>\r\n    validation_data=(x_test, y_test))\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\training.py\", line 880, in fit\r\n    validation_steps=validation_steps)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\training_arrays.py\", line 370, in model_iteration\r\n    callbacks.on_epoch_end(epoch, epoch_logs, mode=mode)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\callbacks.py\", line 251, in on_epoch_end\r\n    callback.on_epoch_end(epoch, logs)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\callbacks.py\", line 1204, in on_epoch_end\r\n    K.sess.run(self.assign_embeddings, feed_dict=feed_dict)\r\nAttributeError: module 'tensorflow.python.keras.backend' has no attribute 'sess'\r\n```\r\n\r\nThis was fixed using the following change set tensorflow/tensorflow@d994300\r\n\r\nI now get the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2018.2.4\\helpers\\pydev\\pydevd.py\", line 1664, in <module>\r\n    main()\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2018.2.4\\helpers\\pydev\\pydevd.py\", line 1658, in main\r\n    globals = debugger.run(setup['file'], None, None, is_module)\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2018.2.4\\helpers\\pydev\\pydevd.py\", line 1068, in run\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2018.2.4\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"X:/CoreTech/LTI791_FaceEncoding/Research/Python/Faces/Encoding/Scripts/MNISTExample.py\", line 84, in <module>\r\n    validation_data=(x_test, y_test))\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\training.py\", line 880, in fit\r\n    validation_steps=validation_steps)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\training_arrays.py\", line 370, in model_iteration\r\n    callbacks.on_epoch_end(epoch, epoch_logs, mode=mode)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\callbacks.py\", line 251, in on_epoch_end\r\n    callback.on_epoch_end(epoch, logs)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\callbacks.py\", line 1204, in on_epoch_end\r\n    sess.run(self.assign_embeddings, feed_dict=feed_dict)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 929, in run\r\n    run_metadata_ptr)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1152, in _run\r\n    feed_dict_tensor, options, run_metadata)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1328, in _do_run\r\n    run_metadata)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\client\\session.py\", line 1348, in _do_call\r\n    raise type(e)(node_def, op, message)\r\ntensorflow.python.framework.errors_impl.NotFoundError: Resource localhost/features_embedding/class tensorflow::Var does not exist.\r\n\t [[node strided_slice/_assign (defined at X:/CoreTech/LTI791_FaceEncoding/Research/Python/Faces/Encoding/Scripts/MNISTExample.py:84) ]]\r\n\t [[node ReadVariableOp_1 (defined at X:/CoreTech/LTI791_FaceEncoding/Research/Python/Faces/Encoding/Scripts/MNISTExample.py:84) ]]\r\n\r\nCaused by op 'strided_slice/_assign', defined at:\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2018.2.4\\helpers\\pydev\\pydevd.py\", line 1664, in <module>\r\n    main()\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2018.2.4\\helpers\\pydev\\pydevd.py\", line 1658, in main\r\n    globals = debugger.run(setup['file'], None, None, is_module)\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2018.2.4\\helpers\\pydev\\pydevd.py\", line 1068, in run\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm Community Edition 2018.2.4\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"X:/CoreTech/LTI791_FaceEncoding/Research/Python/Faces/Encoding/Scripts/MNISTExample.py\", line 84, in <module>\r\n    validation_data=(x_test, y_test))\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\training.py\", line 880, in fit\r\n    validation_steps=validation_steps)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\training_arrays.py\", line 215, in model_iteration\r\n    mode=mode)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\callbacks.py\", line 106, in configure_callbacks\r\n    callback_list.set_model(callback_model)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\callbacks.py\", line 178, in set_model\r\n    callback.set_model(model)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\keras\\callbacks.py\", line 1051, in set_model\r\n    embedding_input)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\ops\\state_ops.py\", line 224, in assign\r\n    return ref.assign(value, name=name)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\ops\\array_ops.py\", line 844, in assign\r\n    shrink_axis_mask=shrink_axis_mask)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\ops\\resource_variable_ops.py\", line 1163, in _strided_slice_assign\r\n    shrink_axis_mask=shrink_axis_mask))\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\ops\\gen_array_ops.py\", line 8576, in resource_strided_slice_assign\r\n    name=name)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\framework\\op_def_library.py\", line 788, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\util\\deprecation.py\", line 507, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 3300, in create_op\r\n    op_def=op_def)\r\n  File \"C:\\ProgramData\\Anaconda2\\envs\\py36new\\lib\\site-packages\\tensorflow\\python\\framework\\ops.py\", line 1801, in __init__\r\n    self._traceback = tf_stack.extract_stack()\r\n\r\nNotFoundError (see above for traceback): Resource localhost/features_embedding/class tensorflow::Var does not exist.\r\n\t [[node strided_slice/_assign (defined at X:/CoreTech/LTI791_FaceEncoding/Research/Python/Faces/Encoding/Scripts/MNISTExample.py:84) ]]\r\n\t [[node ReadVariableOp_1 (defined at X:/CoreTech/LTI791_FaceEncoding/Research/Python/Faces/Encoding/Scripts/MNISTExample.py:84) ]]\r\n```\r\n\r\n**Describe the expected behavior**\r\nMy aim is to find a working example that allows me to visualize weights/gradients etc in tensorboard. I would expect this example to run multiple epochs saving the embedding layer data to a log file for each epoch so I can visualize it using tensorboard. \r\n\r\n**Code to reproduce the issue**\r\nhttps://keras.io/examples/tensorboard_embeddings_mnist/\r\n\r\nplus the following fix:\r\ntensorflow/tensorflow@d994300\r\n\r\n**Other info / logs**\r\nThe example works fine if embeddings_freq is set to 0.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30108", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30108/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30108/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30108/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30108", "id": 460188013, "node_id": "MDU6SXNzdWU0NjAxODgwMTM=", "number": 30108, "title": "CPU memory is not released after calling sess.run and closing session", "user": {"login": "fgvbrt", "id": 21062076, "node_id": "MDQ6VXNlcjIxMDYyMDc2", "avatar_url": "https://avatars0.githubusercontent.com/u/21062076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgvbrt", "html_url": "https://github.com/fgvbrt", "followers_url": "https://api.github.com/users/fgvbrt/followers", "following_url": "https://api.github.com/users/fgvbrt/following{/other_user}", "gists_url": "https://api.github.com/users/fgvbrt/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgvbrt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgvbrt/subscriptions", "organizations_url": "https://api.github.com/users/fgvbrt/orgs", "repos_url": "https://api.github.com/users/fgvbrt/repos", "events_url": "https://api.github.com/users/fgvbrt/events{/privacy}", "received_events_url": "https://api.github.com/users/fgvbrt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097543484, "node_id": "MDU6TGFiZWwxMDk3NTQzNDg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:runtime", "name": "comp:runtime", "color": "0052cc", "default": false, "description": "c++ runtime, performance issues (cpu)"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "penpornk", "id": 38085909, "node_id": "MDQ6VXNlcjM4MDg1OTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/38085909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/penpornk", "html_url": "https://github.com/penpornk", "followers_url": "https://api.github.com/users/penpornk/followers", "following_url": "https://api.github.com/users/penpornk/following{/other_user}", "gists_url": "https://api.github.com/users/penpornk/gists{/gist_id}", "starred_url": "https://api.github.com/users/penpornk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/penpornk/subscriptions", "organizations_url": "https://api.github.com/users/penpornk/orgs", "repos_url": "https://api.github.com/users/penpornk/repos", "events_url": "https://api.github.com/users/penpornk/events{/privacy}", "received_events_url": "https://api.github.com/users/penpornk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "penpornk", "id": 38085909, "node_id": "MDQ6VXNlcjM4MDg1OTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/38085909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/penpornk", "html_url": "https://github.com/penpornk", "followers_url": "https://api.github.com/users/penpornk/followers", "following_url": "https://api.github.com/users/penpornk/following{/other_user}", "gists_url": "https://api.github.com/users/penpornk/gists{/gist_id}", "starred_url": "https://api.github.com/users/penpornk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/penpornk/subscriptions", "organizations_url": "https://api.github.com/users/penpornk/orgs", "repos_url": "https://api.github.com/users/penpornk/repos", "events_url": "https://api.github.com/users/penpornk/events{/privacy}", "received_events_url": "https://api.github.com/users/penpornk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-06-25T03:19:11Z", "updated_at": "2019-10-17T17:30:44Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): not sure\r\n- TensorFlow version (use command below): v1.13.1-0-g6612da8\r\n- Python version: 3.7.3\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: CUDA 10.0\r\n- GPU model and memory: Tesla V100, 16130MiB\r\n\r\n**Describe the current behavior**\r\nI observed increase of cpu memory usage (and not releasing memory) when fetching big tensors with `sess.run` from gpu and also not releasing cpu memory when closing session and resetting graph.\r\n\r\nI attached example and memory profiler logs. I tested 3 situations:\r\n1) Create two variables on gpu and fetch them in one `sess.run` call: memory increases by 1057MiB and is not released after closing session and resetting graph)\r\n2) Create two variables on gpu and fetch them one by one with `sess.run` call: memory increases by 528MiB and is not released after closing session and resetting graph)\r\n3) Create two variables on \u0441pu and fetch them: memory isn\u2019t increased and released after closing session.\r\n\r\n**Describe the expected behavior**\r\nMemory is released after `sess.run` and closing session, like in case 3 above but for gpu.\r\n\r\n**Code to reproduce the issue**\r\nhttps://gist.github.com/fgvbrt/7e9163267e1bc1fc501916125e09cd6d\r\n\r\n**Other info / logs**\r\nLogs with run commands for 3 situation above:\r\n[profile.txt](https://github.com/tensorflow/tensorflow/files/3323401/profile.txt)\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30094", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30094/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30094/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30094/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30094", "id": 460006937, "node_id": "MDU6SXNzdWU0NjAwMDY5Mzc=", "number": 30094, "title": "Tensorboard callback with histogram_freq=1 crashes after one epoch in non-eager mode ", "user": {"login": "mahzoon", "id": 5605360, "node_id": "MDQ6VXNlcjU2MDUzNjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/5605360?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mahzoon", "html_url": "https://github.com/mahzoon", "followers_url": "https://api.github.com/users/mahzoon/followers", "following_url": "https://api.github.com/users/mahzoon/following{/other_user}", "gists_url": "https://api.github.com/users/mahzoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/mahzoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mahzoon/subscriptions", "organizations_url": "https://api.github.com/users/mahzoon/orgs", "repos_url": "https://api.github.com/users/mahzoon/repos", "events_url": "https://api.github.com/users/mahzoon/events{/privacy}", "received_events_url": "https://api.github.com/users/mahzoon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 284285184, "node_id": "MDU6TGFiZWwyODQyODUxODQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tensorboard", "name": "comp:tensorboard", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nfelt", "id": 710113, "node_id": "MDQ6VXNlcjcxMDExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/710113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfelt", "html_url": "https://github.com/nfelt", "followers_url": "https://api.github.com/users/nfelt/followers", "following_url": "https://api.github.com/users/nfelt/following{/other_user}", "gists_url": "https://api.github.com/users/nfelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfelt/subscriptions", "organizations_url": "https://api.github.com/users/nfelt/orgs", "repos_url": "https://api.github.com/users/nfelt/repos", "events_url": "https://api.github.com/users/nfelt/events{/privacy}", "received_events_url": "https://api.github.com/users/nfelt/received_events", "type": "User", "site_admin": false}, {"login": "omalleyt12", "id": 29100818, "node_id": "MDQ6VXNlcjI5MTAwODE4", "avatar_url": "https://avatars3.githubusercontent.com/u/29100818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omalleyt12", "html_url": "https://github.com/omalleyt12", "followers_url": "https://api.github.com/users/omalleyt12/followers", "following_url": "https://api.github.com/users/omalleyt12/following{/other_user}", "gists_url": "https://api.github.com/users/omalleyt12/gists{/gist_id}", "starred_url": "https://api.github.com/users/omalleyt12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omalleyt12/subscriptions", "organizations_url": "https://api.github.com/users/omalleyt12/orgs", "repos_url": "https://api.github.com/users/omalleyt12/repos", "events_url": "https://api.github.com/users/omalleyt12/events{/privacy}", "received_events_url": "https://api.github.com/users/omalleyt12/received_events", "type": "User", "site_admin": false}, {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2019-06-24T17:22:59Z", "updated_at": "2020-03-16T13:44:24Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Y\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): macOS 10.13.6\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: NA\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below):\r\ntf version = 2.0.0-dev20190622\r\ntf git version = v1.12.1-4759-g9856697d8b\r\n- Python version: 3.6.4\r\n- Bazel version (if compiling from source): NA\r\n- GCC/Compiler version (if compiling from source): NA\r\n- CUDA/cuDNN version: NA\r\n- GPU model and memory: NA\r\n\r\n**Describe the current behavior**\r\nCalling the Keras ```fit``` function in non-eager mode fails after one epoch, if specifying a tensorboard callback which has ```histogram_freq=1```. \r\n\r\n**Describe the expected behavior**\r\nI think the ```fit``` function should continue training without crashing.\r\n\r\n**Code to reproduce the issue**\r\n```python\r\n\r\nimport tensorflow as tf\r\n\r\ntf.compat.v1.disable_eager_execution()\r\n\r\n# model architecture\r\ninputs = tf.keras.Input(shape=(784,), name='flattened_image')\r\nx = tf.keras.layers.Dense(64, activation='relu')(inputs)\r\nx = tf.keras.layers.Dense(64, activation='relu')(x)\r\noutputs = tf.keras.layers.Dense(10, activation='softmax', name='predictions')(x)\r\n# creating the model\r\nmodel = tf.keras.Model(inputs=inputs, outputs=outputs, name='test1')\r\n\r\n# loading data\r\n(x_train, y_train), (x_test, y_test) = tf.keras.datasets.mnist.load_data()\r\nx_train = x_train.reshape(60000, 784).astype('float32') / 255\r\nx_test = x_test.reshape(10000, 784).astype('float32') / 255\r\n\r\n# create the training dataset\r\ntrain_dataset = tf.data.Dataset.from_tensor_slices((x_train, y_train))\r\n# shuffle, batch and prefetch for optimizing io reads\r\ntrain_dataset = train_dataset.shuffle(buffer_size=1024).batch(64).prefetch(1024)\r\n# create the validation dataset.\r\nval_dataset = tf.data.Dataset.from_tensor_slices((x_test, y_test))\r\n# batch and prefetch for optimizing io reads\r\nval_dataset = val_dataset.batch(64).prefetch(1024)\r\n\r\n# compile the model\r\nmodel.compile(\r\n    loss='sparse_categorical_crossentropy',\r\n    optimizer='rmsprop',\r\n    metrics=['accuracy'],\r\n)\r\n\r\ntensorboard_callback = tf.keras.callbacks.TensorBoard(\r\n    log_dir='./tensorboard_logs/',\r\n    # enabling histogram will crash the learninig in non-eager mode\r\n    histogram_freq=1, # every epoch\r\n    write_images=True, # visualize model weights in image form\r\n    update_freq='batch', # this can be 'epoch' to make training faster (less logs)\r\n)\r\n\r\n# fit the model\r\nhistory = model.fit(\r\n    train_dataset,\r\n    validation_data=val_dataset,\r\n    callbacks=[tensorboard_callback],\r\n    epochs=2,\r\n    steps_per_epoch=50\r\n)\r\n\r\n# the returned \"history\" object holds a record of the loss values and metric values during training\r\nprint('\\nhistory dict:', history.history)\r\n```\r\n\r\n**Other info / logs**\r\nHere is the stack trace...\r\n```\r\nWARNING: Logging before flag parsing goes to stderr.\r\nW0624 13:13:30.813938 140736272085888 deprecation.py:506] From /temp/v36/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1624: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nIf using Keras pass *_constraint arguments to layers.\r\n2019-06-24 13:13:34.039928: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2019-06-24 13:13:34.055276: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x7fda14c310d0 executing computations on platform Host. Devices:\r\n2019-06-24 13:13:34.055294: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): <undefined>, <undefined>\r\n2019-06-24 13:13:35.799524: W tensorflow/compiler/jit/mark_for_compilation_pass.cc:1541] (One-time warning): Not using XLA:CPU for cluster because envvar TF_XLA_FLAGS=--tf_xla_cpu_global_jit was not set.  If you want XLA:CPU, either set that envvar, or use experimental_jit_scope to enable XLA:CPU.  To confirm that XLA is active, pass --vmodule=xla_compilation_cache=1 (as a proper command-line flag, not via TF_XLA_FLAGS) or set the envvar XLA_FLAGS=--xla_hlo_profile.\r\nW0624 13:13:43.409096 140736272085888 deprecation.py:323] From /temp/v36/lib/python3.6/site-packages/tensorflow_core/python/keras/optimizer_v2/optimizer_v2.py:460: BaseResourceVariable.constraint (from tensorflow.python.ops.resource_variable_ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nApply a constraint manually following the optimizer update step.\r\nTrain on 50 steps, validate on 157 steps\r\nEpoch 1/2\r\n30/50 [=================>............] - ETA: 0s - loss: 1.3660 - accuracy: 0.6500  Traceback (most recent call last):\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/ops/gen_resource_variable_ops.py\", line 570, in read_variable_op\r\n    \"dtype\", dtype)\r\ntensorflow.python.eager.core._FallbackException: This function does not handle the case of the path where all inputs are not already EagerTensors.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"error_showcase_tb.py\", line 50, in <module>\r\n    steps_per_epoch=50\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training.py\", line 669, in fit\r\n    use_multiprocessing=use_multiprocessing)\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_arrays.py\", line 669, in fit\r\n    steps_name='steps_per_epoch')\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/keras/engine/training_arrays.py\", line 444, in model_iteration\r\n    callbacks.on_epoch_end(epoch, epoch_logs)\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/keras/callbacks.py\", line 296, in on_epoch_end\r\n    callback.on_epoch_end(epoch, logs)\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/keras/callbacks.py\", line 1612, in on_epoch_end\r\n    self._log_weights(epoch)\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/keras/callbacks.py\", line 1691, in _log_weights\r\n    weight = K.get_value(weight)\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/keras/backend.py\", line 3016, in get_value\r\n    return x.numpy()\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py\", line 580, in numpy\r\n    return self.read_value().numpy()\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py\", line 633, in read_value\r\n    value = self._read_variable_op()\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py\", line 611, in _read_variable_op\r\n    self._dtype)\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/ops/gen_resource_variable_ops.py\", line 575, in read_variable_op\r\n    resource, dtype=dtype, name=name, ctx=_ctx)\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/ops/gen_resource_variable_ops.py\", line 613, in read_variable_op_eager_fallback\r\n    attrs=_attrs, ctx=_ctx, name=name)\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/eager/execute.py\", line 71, in quick_execute\r\n    raise e\r\n  File \"/temp/v36/lib/python3.6/site-packages/tensorflow_core/python/eager/execute.py\", line 61, in quick_execute\r\n    num_outputs)\r\nTypeError: An op outside of the function building code is being passed\r\na \"Graph\" tensor. It is possible to have Graph tensors\r\nleak out of the function building context by including a\r\ntf.init_scope in your function building code.\r\nFor example, the following function will fail:\r\n  @tf.function\r\n  def has_init_scope():\r\n    my_constant = tf.constant(1.)\r\n    with tf.init_scope():\r\n      added = my_constant * 2\r\nThe graph tensor has name: dense/kernel:0\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30089", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30089/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30089/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30089/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30089", "id": 459884300, "node_id": "MDU6SXNzdWU0NTk4ODQzMDA=", "number": 30089, "title": "TypeError: Generator object is not an iterator", "user": {"login": "chinmayshah99", "id": 10958613, "node_id": "MDQ6VXNlcjEwOTU4NjEz", "avatar_url": "https://avatars0.githubusercontent.com/u/10958613?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chinmayshah99", "html_url": "https://github.com/chinmayshah99", "followers_url": "https://api.github.com/users/chinmayshah99/followers", "following_url": "https://api.github.com/users/chinmayshah99/following{/other_user}", "gists_url": "https://api.github.com/users/chinmayshah99/gists{/gist_id}", "starred_url": "https://api.github.com/users/chinmayshah99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chinmayshah99/subscriptions", "organizations_url": "https://api.github.com/users/chinmayshah99/orgs", "repos_url": "https://api.github.com/users/chinmayshah99/repos", "events_url": "https://api.github.com/users/chinmayshah99/events{/privacy}", "received_events_url": "https://api.github.com/users/chinmayshah99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "omalleyt12", "id": 29100818, "node_id": "MDQ6VXNlcjI5MTAwODE4", "avatar_url": "https://avatars3.githubusercontent.com/u/29100818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omalleyt12", "html_url": "https://github.com/omalleyt12", "followers_url": "https://api.github.com/users/omalleyt12/followers", "following_url": "https://api.github.com/users/omalleyt12/following{/other_user}", "gists_url": "https://api.github.com/users/omalleyt12/gists{/gist_id}", "starred_url": "https://api.github.com/users/omalleyt12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omalleyt12/subscriptions", "organizations_url": "https://api.github.com/users/omalleyt12/orgs", "repos_url": "https://api.github.com/users/omalleyt12/repos", "events_url": "https://api.github.com/users/omalleyt12/events{/privacy}", "received_events_url": "https://api.github.com/users/omalleyt12/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "omalleyt12", "id": 29100818, "node_id": "MDQ6VXNlcjI5MTAwODE4", "avatar_url": "https://avatars3.githubusercontent.com/u/29100818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omalleyt12", "html_url": "https://github.com/omalleyt12", "followers_url": "https://api.github.com/users/omalleyt12/followers", "following_url": "https://api.github.com/users/omalleyt12/following{/other_user}", "gists_url": "https://api.github.com/users/omalleyt12/gists{/gist_id}", "starred_url": "https://api.github.com/users/omalleyt12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omalleyt12/subscriptions", "organizations_url": "https://api.github.com/users/omalleyt12/orgs", "repos_url": "https://api.github.com/users/omalleyt12/repos", "events_url": "https://api.github.com/users/omalleyt12/events{/privacy}", "received_events_url": "https://api.github.com/users/omalleyt12/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-06-24T13:12:34Z", "updated_at": "2019-06-27T21:20:20Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10 Home 64bit\r\n- TensorFlow installed from (source or binary): Binary\r\n- TensorFlow version (use command below): 1.12.0\r\n- Python version: Anaconda 3.7\r\n- GPU model and memory: GTX 1050 2GB\r\nEdit: With tensorflow CPU (tf version: 1.14), same issue occurs.\r\n\r\nWhen I'm trying to do model.fit(), memoryerror occurs, resulting in using fit_generator. \r\nFor fit_generator, since my input is a custom 512D embedding from a previous model, I wrote my custom generator function, but while running it, following error occurs:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"neural.py\", line 244, in <module>\r\n    model.fit_generator(mygenerator(neural_network_x_1, neural_network_x_2, neural_network_y), steps_per_epoch= 25,epochs=100)\r\n  File \"C:\\Users\\chinm\\AppData\\Local\\conda\\conda\\envs\\tensorflow_gpuenv\\lib\\site-packages\\keras\\legacy\\interfaces.py\", line 91, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\chinm\\AppData\\Local\\conda\\conda\\envs\\tensorflow_gpuenv\\lib\\site-packages\\keras\\engine\\training.py\", line 1418, in fit_generator\r\n    initial_epoch=initial_epoch)\r\n  File \"C:\\Users\\chinm\\AppData\\Local\\conda\\conda\\envs\\tensorflow_gpuenv\\lib\\site-packages\\keras\\engine\\training_generator.py\", line 181, in fit_generator\r\n    generator_output = next(output_generator)\r\n  File \"C:\\Users\\chinm\\AppData\\Local\\conda\\conda\\envs\\tensorflow_gpuenv\\lib\\site-packages\\keras\\utils\\data_utils.py\", line 709, in get\r\n    six.reraise(*sys.exc_info())\r\n  File \"C:\\Users\\chinm\\AppData\\Local\\conda\\conda\\envs\\tensorflow_gpuenv\\lib\\site-packages\\six.py\", line 693, in reraise\r\n    raise value\r\n  File \"C:\\Users\\chinm\\AppData\\Local\\conda\\conda\\envs\\tensorflow_gpuenv\\lib\\site-packages\\keras\\utils\\data_utils.py\", line 685, in get\r\n    inputs = self.queue.get(block=True).get()\r\n  File \"C:\\Users\\chinm\\AppData\\Local\\conda\\conda\\envs\\tensorflow_gpuenv\\lib\\multiprocessing\\pool.py\", line 670, in get\r\n    raise self._value\r\n  File \"C:\\Users\\chinm\\AppData\\Local\\conda\\conda\\envs\\tensorflow_gpuenv\\lib\\multiprocessing\\pool.py\", line 119, in worker\r\n    result = (True, func(*args, **kwds))\r\n  File \"C:\\Users\\chinm\\AppData\\Local\\conda\\conda\\envs\\tensorflow_gpuenv\\lib\\site-packages\\keras\\utils\\data_utils.py\", line 626, in next_sample\r\n    return six.next(_SHARED_SEQUENCES[uid])\r\nTypeError: 'mygenerator' object is not an iterator\r\n\r\n```\r\nThe generator class mentioned below is in the order as mentioned in: https://www.tensorflow.org/api_docs/python/tf/keras/utils/Sequence\r\n\r\n```\r\nfrom tensorflow.python.keras.utils.data_utils import Sequence\r\nclass mygenerator(Sequence):\r\n    def __init__(self, x_set_1, x_set_2, y_set, batch_size = 16):\r\n        self.x1, self.x2, self.y = x_set_1, x_set_2, y_set\r\n        self.batch_size = batch_size\r\n        self.len_data = 0\r\n\r\n    def __len__(self):\r\n        return int(np.ceil(len(self.y) / float(self.batch_size)))\r\n\r\n    def __getitem__(self, idx):\r\n        batch_x1 = self.x1[idx * self.batch_size:(idx + 1) * self.batch_size]\r\n        batch_x2 = self.x2[idx * self.batch_size:(idx + 1) * self.batch_size]\r\n        batch_y = self.y[idx * self.batch_size:(idx + 1) * self.batch_size]\r\n\r\n        # read your data here using the batch lists, batch_x and batch_y\r\n        xi = [item for item in batch_x1] \r\n        xj = [item for item in batch_x2] \r\n        yi = [item for item in batch_y]\r\n        return np.asarray([xi, xj], yi)\r\n\r\nmodel.fit_generator(mygenerator(neural_network_x_1, neural_network_x_2, neural_network_y), steps_per_epoch= 25,epochs=100)\r\n\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30087", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30087/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30087/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30087/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30087", "id": 459837992, "node_id": "MDU6SXNzdWU0NTk4Mzc5OTI=", "number": 30087, "title": "Multiple duplicate tflite android example projects", "user": {"login": "mukulhase", "id": 9693405, "node_id": "MDQ6VXNlcjk2OTM0MDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/9693405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mukulhase", "html_url": "https://github.com/mukulhase", "followers_url": "https://api.github.com/users/mukulhase/followers", "following_url": "https://api.github.com/users/mukulhase/following{/other_user}", "gists_url": "https://api.github.com/users/mukulhase/gists{/gist_id}", "starred_url": "https://api.github.com/users/mukulhase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mukulhase/subscriptions", "organizations_url": "https://api.github.com/users/mukulhase/orgs", "repos_url": "https://api.github.com/users/mukulhase/repos", "events_url": "https://api.github.com/users/mukulhase/events{/privacy}", "received_events_url": "https://api.github.com/users/mukulhase/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-06-24T11:28:24Z", "updated_at": "2019-07-20T00:33:45Z", "closed_at": null, "author_association": "NONE", "body": "### Description:\r\nThere are two examples for \"tflite image classification on android\" on the Tensorflow repo which achieve the same thing. They both have almost identical code but slight differences(In UI and in code).\r\n\r\n**Example A:** https://github.com/tensorflow/examples/tree/master/lite/examples/image_classification/android\r\n**Example B:** https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/java\r\n\r\nI would like to know which one is supposed to be used, and whether they can be merged so that this confusion is avoided?\r\n\r\n### Example of a difference:\r\n\r\n- In example A we do **not** create a NNAPI Delegate\r\n\r\nhttps://github.com/tensorflow/examples/blob/156a12782a06f085adeb6b352c2763648cece066/lite/examples/image_classification/android/app/src/main/java/org/tensorflow/lite/examples/classification/tflite/Classifier.java#L179\r\n\r\n- But in example B we do create an NNAPI Delegate\r\n\r\nhttps://github.com/tensorflow/tensorflow/blob/e8ad5b0552a03e5d065a8f302dd0c0e0ae6b3925/tensorflow/lite/java/demo/app/src/main/java/com/example/android/tflitecamerademo/ImageClassifier.java#L186"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30072", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30072/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30072/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30072/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30072", "id": 459730489, "node_id": "MDU6SXNzdWU0NTk3MzA0ODk=", "number": 30072, "title": "Can build tflite with xcode ?", "user": {"login": "weinixuehao", "id": 17869361, "node_id": "MDQ6VXNlcjE3ODY5MzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/17869361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weinixuehao", "html_url": "https://github.com/weinixuehao", "followers_url": "https://api.github.com/users/weinixuehao/followers", "following_url": "https://api.github.com/users/weinixuehao/following{/other_user}", "gists_url": "https://api.github.com/users/weinixuehao/gists{/gist_id}", "starred_url": "https://api.github.com/users/weinixuehao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weinixuehao/subscriptions", "organizations_url": "https://api.github.com/users/weinixuehao/orgs", "repos_url": "https://api.github.com/users/weinixuehao/repos", "events_url": "https://api.github.com/users/weinixuehao/events{/privacy}", "received_events_url": "https://api.github.com/users/weinixuehao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "miaout17", "id": 22063, "node_id": "MDQ6VXNlcjIyMDYz", "avatar_url": "https://avatars0.githubusercontent.com/u/22063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miaout17", "html_url": "https://github.com/miaout17", "followers_url": "https://api.github.com/users/miaout17/followers", "following_url": "https://api.github.com/users/miaout17/following{/other_user}", "gists_url": "https://api.github.com/users/miaout17/gists{/gist_id}", "starred_url": "https://api.github.com/users/miaout17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miaout17/subscriptions", "organizations_url": "https://api.github.com/users/miaout17/orgs", "repos_url": "https://api.github.com/users/miaout17/repos", "events_url": "https://api.github.com/users/miaout17/events{/privacy}", "received_events_url": "https://api.github.com/users/miaout17/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "miaout17", "id": 22063, "node_id": "MDQ6VXNlcjIyMDYz", "avatar_url": "https://avatars0.githubusercontent.com/u/22063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miaout17", "html_url": "https://github.com/miaout17", "followers_url": "https://api.github.com/users/miaout17/followers", "following_url": "https://api.github.com/users/miaout17/following{/other_user}", "gists_url": "https://api.github.com/users/miaout17/gists{/gist_id}", "starred_url": "https://api.github.com/users/miaout17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miaout17/subscriptions", "organizations_url": "https://api.github.com/users/miaout17/orgs", "repos_url": "https://api.github.com/users/miaout17/repos", "events_url": "https://api.github.com/users/miaout17/events{/privacy}", "received_events_url": "https://api.github.com/users/miaout17/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-06-24T07:21:21Z", "updated_at": "2019-06-27T18:13:10Z", "closed_at": null, "author_association": "NONE", "body": "I build tflite with https://www.tensorflow.org/lite/guide/build_ios and set not optimizing code for debug code in tflite \r\nThough can hit breakpoint and step by step to debug sources but has some messy so i want build tflite from source with xcode\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30069", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30069/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30069/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30069/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30069", "id": 459691371, "node_id": "MDU6SXNzdWU0NTk2OTEzNzE=", "number": 30069, "title": "Support Sparse Tensors in py_function", "user": {"login": "novog", "id": 16354547, "node_id": "MDQ6VXNlcjE2MzU0NTQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/16354547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/novog", "html_url": "https://github.com/novog", "followers_url": "https://api.github.com/users/novog/followers", "following_url": "https://api.github.com/users/novog/following{/other_user}", "gists_url": "https://api.github.com/users/novog/gists{/gist_id}", "starred_url": "https://api.github.com/users/novog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/novog/subscriptions", "organizations_url": "https://api.github.com/users/novog/orgs", "repos_url": "https://api.github.com/users/novog/repos", "events_url": "https://api.github.com/users/novog/events{/privacy}", "received_events_url": "https://api.github.com/users/novog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2019-06-24T05:13:05Z", "updated_at": "2020-01-02T18:45:31Z", "closed_at": null, "author_association": "NONE", "body": "- TensorFlow version (you are using): 2.0.0b0\r\n- Are you willing to contribute it (Yes/No): No\r\n\r\n**Describe the feature and the current behavior/state.**\r\nCurrently, sparse tensors don't seem to be supported as inputs to `py_function`. Attempting to pass one results in an error like \"`TypeError: Tensors in list passed to 'input' of 'EagerPyFunc' Op have types [<NOT CONVERTIBLE TO TENSOR>] that are invalid.`\". Example:\r\n\r\n    def dataset_map_sparse_test():\r\n        input_data_sparse = tf.SparseTensor(indices=[[0, 0], [1, 2]], values=[1, 2], dense_shape=[3, 4])\r\n        input_data_dense = tf.sparse.to_dense(input_data_sparse)\r\n    \r\n        ds_dense = tf.data.Dataset.from_tensor_slices(input_data_dense)\r\n        ds_sparse = tf.data.Dataset.from_tensor_slices(input_data_sparse)\r\n\r\n        def inner_fn(*input):\r\n            return input\r\n\r\n        def outer_fn(*input_data):\r\n            return tf.py_function(\r\n                inner_fn,\r\n                input_data,\r\n                (tf.int32,))\r\n\r\n        # this works\r\n        ds_dense_mapped = ds_dense.map(outer_fn)\r\n        print(next(iter(ds_dense_mapped)))\r\n\r\n        # this results in the error specified above\r\n        ds_sparse_mapped = ds_sparse.map(outer_fn)\r\n        print(next(iter(ds_sparse_mapped)))\r\n\r\n**Will this change the current api? How?**\r\nYes. The `inp` parameter of `py_function` currently accepts a list of `Tensor` objects; this change would broaden it to accept either `Tensor`s or `SparseTensor`s. (Possibly `_TensorLike`s?)\r\n\r\n**Who will benefit with this feature?**\r\nAnyone wishing to pass sparse tensors to a `py_function`-wrapped function. There are situations where this wrapping is necessary; for example, functions passed to `Dataset.map` cannot perform certain operations unless the function is wrapped using `py_function`.\r\n\r\n**Any Other info.**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30063", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30063/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30063/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30063/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30063", "id": 459627802, "node_id": "MDU6SXNzdWU0NTk2Mjc4MDI=", "number": 30063, "title": "Tensorflow Bitcast - float32 to int32 to float32?", "user": {"login": "etolliver", "id": 52138894, "node_id": "MDQ6VXNlcjUyMTM4ODk0", "avatar_url": "https://avatars0.githubusercontent.com/u/52138894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etolliver", "html_url": "https://github.com/etolliver", "followers_url": "https://api.github.com/users/etolliver/followers", "following_url": "https://api.github.com/users/etolliver/following{/other_user}", "gists_url": "https://api.github.com/users/etolliver/gists{/gist_id}", "starred_url": "https://api.github.com/users/etolliver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etolliver/subscriptions", "organizations_url": "https://api.github.com/users/etolliver/orgs", "repos_url": "https://api.github.com/users/etolliver/repos", "events_url": "https://api.github.com/users/etolliver/events{/privacy}", "received_events_url": "https://api.github.com/users/etolliver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "alextp", "id": 5061, "node_id": "MDQ6VXNlcjUwNjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alextp", "html_url": "https://github.com/alextp", "followers_url": "https://api.github.com/users/alextp/followers", "following_url": "https://api.github.com/users/alextp/following{/other_user}", "gists_url": "https://api.github.com/users/alextp/gists{/gist_id}", "starred_url": "https://api.github.com/users/alextp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alextp/subscriptions", "organizations_url": "https://api.github.com/users/alextp/orgs", "repos_url": "https://api.github.com/users/alextp/repos", "events_url": "https://api.github.com/users/alextp/events{/privacy}", "received_events_url": "https://api.github.com/users/alextp/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-06-23T23:00:38Z", "updated_at": "2019-08-14T15:54:12Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: \r\n- TensorFlow installed from (source or binary): Binary\r\n- TensorFlow version (use command below): ('v1.10.1-0-g4dcfddc5d1', '1.10.1')\r\n- Python version: 2.7.12\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: CPU\r\n- GPU model and memory: \r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\nBased off of the network, found at, \r\nhttps://www.easy-tensorflow.com/tf-tutorials/convolutional-neural-nets-cnns/cnn1\r\nand after some additional modifications, I added layers before and after each convolutional layer that bitcasts the initial tf.float32 to a tf.int32 and back to a tf.float32. This resulted in a average accuracy loss of 5% compared to passing the tensor through the layer unmodified \r\n\r\n**Describe the expected behavior**\r\nBased off of the documentation:\r\n> tf.bitcast ( input, type, name=None )\r\n> Given a tensor _input_, this operation returns a tensor that has the same buffer data as _input_ with datatype _type_.\r\n\r\nI expected that a change and return to the original data type, without modifying the buffer data would not cause that amount of decrease to the network's accuracy.  \r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n`\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\nold_v = tf.logging.get_verbosity()\r\ntf.logging.set_verbosity(tf.logging.ERROR)\r\n\r\nfrom tensorflow.examples.tutorials.mnist import input_data\r\n\r\n#Image / Class Information\r\nimg_h = img_w = 28  # MNIST images are 28x28\r\nimg_size_flat = img_h * img_w  # 28x28=784, the total number of pixels\r\nn_classes = 10  # Number of classes, one class per digit\r\nn_channels = 1\r\n\r\n #Numpy Number Type\r\nnpNumberType = np.float32\r\n\r\n\r\ndef load_data(mode='train'):\r\n    mnist = input_data.read_data_sets(\"MNIST_data/\", one_hot=True)\r\n    if mode == 'train':\r\n        x_train, y_train, x_valid, y_valid = mnist.train.images, mnist.train.labels, \\\r\n                                             mnist.validation.images, mnist.validation.labels\r\n        x_train, _ = reformat(x_train, y_train)\r\n        x_valid, _ = reformat(x_valid, y_valid)\r\n        return x_train, y_train, x_valid, y_valid\r\n    elif mode == 'test':\r\n        x_test, y_test = mnist.test.images, mnist.test.labels\r\n        x_test, _ = reformat(x_test, y_test)\r\n    return x_test, y_test\r\n\r\n\r\ndef reformat(x, y):\r\n    img_size, num_ch, num_class = int(np.sqrt(x.shape[-1])), 1, len(np.unique(np.argmax(y, 1)))\r\n    dataset = x.reshape((-1, img_size, img_size, num_ch)).astype(npNumberType)\r\n    labels = (np.arange(num_class) == y[:, None]).astype(npNumberType)\r\n    return dataset, labels\r\n\r\n\r\ndef randomize(x, y):\r\n    permutation = np.random.permutation(y.shape[0])\r\n    shuffled_x = x[permutation, :, :, :]\r\n    shuffled_y = y[permutation]\r\n    return shuffled_x, shuffled_y\r\n\r\n\r\ndef get_next_batch(x, y, start, end):\r\n    x_batch = x[start:end]\r\n    y_batch = y[start:end]\r\n    return x_batch, y_batch\r\n\r\n\r\nx_train, y_train, x_valid, y_valid = load_data(mode='train')\r\nprint(\"Size of:\")\r\nprint(\"- Training-set:\\t\\t{}\".format(len(y_train)))\r\nprint(\"- Validation-set:\\t{}\".format(len(y_valid)))\r\n\r\ndef padding (x, name):\r\n    dtypecast = tf.bitcast(x, tf.int32)\r\n    return tf.bitcast(dtypecast, tf.float32, name=name)\r\n\r\n#TensorFlow Number Format\r\ntfGraphNumberType = tf.float32\r\nrngseed = 1234\r\n\r\nfor runs in range(1, 2, 1):\r\n    tf.reset_default_graph()\r\n    tf.set_random_seed(rngseed)\r\n    np.random.seed(rngseed)\r\n\r\n    with tf.name_scope('Input'):\r\n        x = tf.placeholder(tfGraphNumberType, shape=[None, img_h, img_w, n_channels], name='X')\r\n        y = tf.placeholder(tfGraphNumberType, shape=[None, n_classes], name='Y')\r\n\r\n    padding0 = padding(x, 'Pad0')\r\n\r\n    # 1st Convolutional Layer\r\n    filter_size1 = 5  # Convolution filters are 5 x 5 pixels.\r\n    num_filters1 = 16  # There are 16 of these filters.\r\n    stride1 = 1  # The stride of the sliding window\r\n\r\n    with tf.variable_scope('conv1'):\r\n        num_in_channel = padding0.get_shape().as_list()[-1]\r\n        W = tf.get_variable('W', dtype=tfGraphNumberType,\r\n                            shape=[filter_size1, filter_size1, num_in_channel, num_filters1],\r\n                            initializer=tf.truncated_normal_initializer(stddev=0.01,seed=rngseed))\r\n        tf.summary.histogram('weight', W)\r\n        b = tf.get_variable('b', dtype=tfGraphNumberType,\r\n                            initializer=tf.constant(0., shape=[num_filters1], dtype=tfGraphNumberType))\r\n        tf.summary.histogram('bias', b)\r\n        layer = tf.nn.conv2d(padding0, W, strides=[1, stride1, stride1, 1], padding=\"SAME\")\r\n        layer += b\r\n        conv1 = tf.nn.relu(layer)\r\n\r\n    shape = conv1.get_shape().as_list()[-1]\r\n    padding1 = padding(conv1, 'Pad1')\r\n    pool1 = tf.nn.max_pool(padding1, ksize=[1, 2, 2, 1], strides=[1, 2, 2, 1], padding=\"SAME\", name='pool1')\r\n\r\n    # 2nd Convolutional Layer\r\n    filter_size2 = 5  # Convolution filters are 5 x 5 pixels.\r\n    num_filters2 = 32  # There are 32 of these filters.\r\n    stride2 = 1  # The stride of the sliding window\r\n\r\n    with tf.variable_scope('conv2'):\r\n        num_in_channel = pool1.get_shape().as_list()[-1]\r\n        W = tf.get_variable('W', dtype=tfGraphNumberType,\r\n                            shape=[filter_size2, filter_size2, num_in_channel, num_filters2],\r\n                            initializer=tf.truncated_normal_initializer(stddev=0.01, seed=rngseed))\r\n        tf.summary.histogram('weight', W)\r\n        b = tf.get_variable('b', dtype=tfGraphNumberType,\r\n                            initializer=tf.constant(0., shape=[num_filters2], dtype=tfGraphNumberType))\r\n        tf.summary.histogram('bias', b)\r\n        layer = tf.nn.conv2d(pool1, W, strides=[1, stride2, stride2, 1], padding=\"SAME\")\r\n        layer += b\r\n        conv2 = tf.nn.relu(layer)\r\n\r\n    padding2 = padding(conv2, 'Pad2')\r\n    pool2 = tf.nn.max_pool(padding2, ksize=[1, 2, 2, 1], strides=[1, 2, 2, 1], padding=\"SAME\", name='pool2')\r\n\r\n    with tf.variable_scope('Flatten_layer'):\r\n        layer_shape = pool2.get_shape()\r\n        num_features = layer_shape[1:4].num_elements()\r\n        layer_flat = tf.reshape(pool2, [-1, num_features])\r\n\r\n    # Fully-connected layer.\r\n    h1 = 128  # Number of neurons in fully-connected layer.\r\n\r\n    with tf.variable_scope('FC1'):\r\n        in_dim = layer_flat.get_shape()[1]\r\n        W = tf.get_variable('W', dtype=tfGraphNumberType,\r\n                            shape=[in_dim, h1],\r\n                            initializer=tf.truncated_normal_initializer(stddev=0.01, seed=1234))\r\n        tf.summary.histogram('weight', W)\r\n        b = tf.get_variable('b', dtype=tfGraphNumberType,\r\n                            initializer=tf.constant(0., shape=[h1], dtype=tfGraphNumberType))\r\n        tf.summary.histogram('bias', b)\r\n\r\n        layer = tf.matmul(layer_flat, W)\r\n        layer += b\r\n        fc1 = tf.nn.relu(layer)\r\n\r\n    with tf.variable_scope('OUT'):\r\n        in_dim = fc1.get_shape()[1]\r\n        W = tf.get_variable('W', dtype=tfGraphNumberType,\r\n                            shape=[in_dim, n_classes],\r\n                            initializer=tf.truncated_normal_initializer(stddev=0.01, seed=rngseed))\r\n        tf.summary.histogram('weight', W)\r\n        b = tf.get_variable('b', dtype=tfGraphNumberType,\r\n                            initializer=tf.constant(0., shape=[n_classes], dtype=tfGraphNumberType))\r\n        tf.summary.histogram('bias', b)\r\n\r\n        output_logits = tf.matmul(fc1, W)\r\n        output_logits += b\r\n\r\n    # Training Variables\r\n    logs_path = \"./logs\"  # path to the folder that we want to save the logs for Tensorboard\r\n    lr = 0.001  # The optimization initial learning rate\r\n    epochs = 5  # Total number of training epochs\r\n    batch_size = 100  # Training batch size\r\n    display_freq = 50  # Frequency of displaying the training results\r\n    tfOutputNumberType = tf.float32\r\n\r\n    with tf.variable_scope('Train'):\r\n        with tf.variable_scope('Loss'):\r\n            loss = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(labels=y, logits=output_logits), name='loss')\r\n        tf.summary.scalar('loss', loss)\r\n        with tf.variable_scope('Optimizer'):\r\n            optimizer = tf.train.AdamOptimizer(learning_rate=lr, name='Adam-op').minimize(loss)\r\n        with tf.variable_scope('Accuracy'):\r\n            correct_prediction = tf.equal(tf.argmax(output_logits, 1), tf.argmax(y, 1), name='correct_pred')\r\n            accuracy = tf.reduce_mean(tf.cast(correct_prediction, tfOutputNumberType), name='accuracy')\r\n        tf.summary.scalar('accuracy', accuracy)\r\n        with tf.variable_scope('Prediction'):\r\n            cls_prediction = tf.argmax(output_logits, axis=1, name='predictions')\r\n\r\n    # Number of training iterations in each epoch\r\n    num_tr_iter = int(len(y_train) / batch_size)\r\n\r\n    # Initialize the variables\r\n    init = tf.global_variables_initializer()\r\n    # Merge all summaries\r\n    merged = tf.summary.merge_all()\r\n\r\n    sess = tf.InteractiveSession()\r\n    sess.run(init)\r\n    global_step = 0\r\n    summary_writer = tf.summary.FileWriter(logs_path, sess.graph)\r\n\r\n    print('R: {}'.format(runs))\r\n    for epoch in range(epochs):\r\n        #print('Training epoch: {}'.format(epoch + 1))\r\n        x_train, y_train = randomize(x_train, y_train)\r\n        for iteration in range(num_tr_iter):\r\n            global_step += 1\r\n            start = iteration * batch_size\r\n            end = (iteration + 1) * batch_size\r\n            x_batch, y_batch = get_next_batch(x_train, y_train, start, end)\r\n\r\n            # Run optimization op (backprop)\r\n            feed_dict_batch = {x: x_batch, y: y_batch}\r\n            sess.run(optimizer, feed_dict=feed_dict_batch)\r\n\r\n            if iteration % display_freq == 0:\r\n                # Calculate and display the batch loss and accuracy\r\n                loss_batch, acc_batch, summary_tr = sess.run([loss, accuracy, merged],\r\n                                                             feed_dict=feed_dict_batch)\r\n                summary_writer.add_summary(summary_tr, global_step)\r\n\r\n                print(\"I:{0:3d}:\\t L={1:.2f},\\tA={2:.01%}\".\r\n                      format(iteration, loss_batch, acc_batch))\r\n\r\n\r\n        # Run validation after every epoch\r\n        feed_dict_valid = {x: x_valid, y: y_valid}\r\n        loss_valid, acc_valid = sess.run([loss, accuracy], feed_dict=feed_dict_valid)\r\n\r\n        print(\"M:{0}\\tE:{1}\\tF\\tA:{2:.01%}\".\r\n              format(runs, epoch + 1, acc_valid))\r\n\r\n\r\n    # Test the network when training is done\r\n    x_test, y_test = load_data(mode='test')\r\n    feed_dict_test = {x: x_test, y: y_test}\r\n    loss_test, acc_test = sess.run([loss, accuracy], feed_dict=feed_dict_test)\r\n    print('---------------------------------------------------------')\r\n    print(\"Test loss: {0:.2f}, test accuracy: {1:.01%}\".format(loss_test, acc_test))\r\n    print('---------------------------------------------------------')\r\n\r\n    # close the session after you are done with testing\r\n    sess.close()\r\n`\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\nI attached a spreadsheet file with the results of training with different datatypes and my expectations. I apoplgize for any mistakes or missing information. Thank you.\r\n[Bitcast Logs.xlsx](https://github.com/tensorflow/tensorflow/files/3318652/Bitcast.Logs.xlsx)\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30056", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30056/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30056/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30056/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30056", "id": 459533941, "node_id": "MDU6SXNzdWU0NTk1MzM5NDE=", "number": 30056, "title": "multi-gpu training: tf.compat.v1.scatter_sub() operation throws exception", "user": {"login": "scotthong", "id": 647033, "node_id": "MDQ6VXNlcjY0NzAzMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/647033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scotthong", "html_url": "https://github.com/scotthong", "followers_url": "https://api.github.com/users/scotthong/followers", "following_url": "https://api.github.com/users/scotthong/following{/other_user}", "gists_url": "https://api.github.com/users/scotthong/gists{/gist_id}", "starred_url": "https://api.github.com/users/scotthong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scotthong/subscriptions", "organizations_url": "https://api.github.com/users/scotthong/orgs", "repos_url": "https://api.github.com/users/scotthong/repos", "events_url": "https://api.github.com/users/scotthong/events{/privacy}", "received_events_url": "https://api.github.com/users/scotthong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 996845227, "node_id": "MDU6TGFiZWw5OTY4NDUyMjc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:dist-strat", "name": "comp:dist-strat", "color": "0052cc", "default": false, "description": "Distribution Strategy related issues"}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "guptapriya", "id": 14104855, "node_id": "MDQ6VXNlcjE0MTA0ODU1", "avatar_url": "https://avatars1.githubusercontent.com/u/14104855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guptapriya", "html_url": "https://github.com/guptapriya", "followers_url": "https://api.github.com/users/guptapriya/followers", "following_url": "https://api.github.com/users/guptapriya/following{/other_user}", "gists_url": "https://api.github.com/users/guptapriya/gists{/gist_id}", "starred_url": "https://api.github.com/users/guptapriya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guptapriya/subscriptions", "organizations_url": "https://api.github.com/users/guptapriya/orgs", "repos_url": "https://api.github.com/users/guptapriya/repos", "events_url": "https://api.github.com/users/guptapriya/events{/privacy}", "received_events_url": "https://api.github.com/users/guptapriya/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "guptapriya", "id": 14104855, "node_id": "MDQ6VXNlcjE0MTA0ODU1", "avatar_url": "https://avatars1.githubusercontent.com/u/14104855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guptapriya", "html_url": "https://github.com/guptapriya", "followers_url": "https://api.github.com/users/guptapriya/followers", "following_url": "https://api.github.com/users/guptapriya/following{/other_user}", "gists_url": "https://api.github.com/users/guptapriya/gists{/gist_id}", "starred_url": "https://api.github.com/users/guptapriya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guptapriya/subscriptions", "organizations_url": "https://api.github.com/users/guptapriya/orgs", "repos_url": "https://api.github.com/users/guptapriya/repos", "events_url": "https://api.github.com/users/guptapriya/events{/privacy}", "received_events_url": "https://api.github.com/users/guptapriya/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-06-23T04:01:17Z", "updated_at": "2019-10-08T00:21:54Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\n    - Extended from the stock example\r\n    - https://www.tensorflow.org/beta/tutorials/distribute/keras\r\n    - Working example is attached to this bug report\r\n- OS Platform and Distribution\r\n    - Linux Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n    - No\r\n- TensorFlow installed from (source or binary):\r\n    - Binary\r\n- TensorFlow version (use command below):\r\n    - 2.0.0-beta1\r\n- Python version:\r\n    - Python 3.5.2\r\n- Bazel version (if compiling from source):\r\n    - N/A (0.23.2)\r\n- GCC/Compiler version (if compiling from source):\r\n    - N/A (5.4.0 20160609)\r\n- CUDA/cuDNN version:\r\n    - 10.0.130/7.4.1\r\n- GPU model and memory:\r\n    - 4x Titan Xp (12Gb) (Standalong, no SLI connections)\r\n\r\n**Describe the current behavior**\r\n```\r\ntf.compat.v1.scatter_sub does not support multi-gpu training.\r\n\r\n    AttributeError: 'Tensor' object has no attribute '_lazy_read'\r\n\r\n    is thrown in the tf.compat.v1.scatter_sub() operation.\r\n\r\nThere is no equivalent scatter_* operations in tf.compat.v2 module.\r\n```\r\n\r\n**Describe the expected behavior**\r\ntf.compat.v1.scatter_sub or equivalent scatter_* operations should support multi-gpu training.\r\n\r\n\r\n**Code to reproduce the issue**\r\n1. The script attached is used to train a model using multiple GPUs.\r\n  * The code is modified from the stock example for quick experiment.\r\n    * https://www.tensorflow.org/beta/tutorials/distribute/keras\r\n\r\n**Other info / logs**\r\n```\r\nWARNING: Logging before flag parsing goes to stderr.\r\nW0622 23:56:34.418763 140543953778432 cross_device_ops.py:1164] Some requested devices in `tf.distribute.Strategy` are not visible to TensorFlow: /job:localhost/replica:0/task:0/device:GPU:1,/job:localhost/replica:0/task:0/device:GPU:0\r\nNumber of devices: 2\r\nTraceback (most recent call last):\r\n  File \"center_loss_mnist.py\", line 326, in <module>\r\n    run(0.0001)\r\n  File \"center_loss_mnist.py\", line 259, in run\r\n    final_output, side_output = my_model(main_input, aux_input)\r\n  File \"center_loss_mnist.py\", line 119, in my_model\r\n    side = CenterLossLayer(alpha=0.5, name='centerlosslayer')([x, labels])\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/engine/base_layer.py\", line 662, in __call__\r\n    outputs = call_fn(inputs, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/tensorflow/python/autograph/impl/api.py\", line 169, in wrapper\r\n    raise e.ag_error_metadata.to_exception(type(e))\r\nAttributeError: in converted code:\r\n\r\n    center_loss_mnist.py:179 call  *\r\n        new_centers = tf.compat.v1.scatter_sub(self.centers, x[1], delta_centers)\r\n    /usr/local/lib/python3.5/dist-packages/tensorflow/python/ops/state_ops.py:535 scatter_sub\r\n        return ref._lazy_read(gen_resource_variable_ops.resource_scatter_sub(  # pylint: disable=protected-access\r\n    /usr/local/lib/python3.5/dist-packages/tensorflow/python/distribute/values.py:381 __getattr__\r\n        return getattr(self.get(), name)\r\n\r\n    AttributeError: 'Tensor' object has no attribute '_lazy_read'\r\n```\r\n\r\n** Run the script using the following command\r\n```\r\nexport CUDA_VISIBLE_DEVICES=\"0\"\r\npython3 center_loss_mnist.py\r\n```\r\n\r\n** Save the following script as \"center_loss_mnist.py\"\r\n\r\n```python\r\n\r\nfrom datetime import datetime\r\nfrom tensorflow.keras import backend as K\r\nfrom tensorflow.keras import initializers\r\nfrom tensorflow.keras import losses\r\nfrom tensorflow.keras import optimizers\r\nfrom tensorflow.keras.callbacks import TensorBoard\r\nfrom tensorflow.keras.datasets import mnist\r\nfrom tensorflow.keras.layers import Activation\r\nfrom tensorflow.keras.layers import BatchNormalization\r\nfrom tensorflow.keras.layers import Conv2D\r\nfrom tensorflow.keras.layers import Dense\r\nfrom tensorflow.keras.layers import Dropout\r\nfrom tensorflow.keras.layers import Flatten\r\nfrom tensorflow.keras.layers import Input\r\nfrom tensorflow.keras.layers import Layer\r\nfrom tensorflow.keras.layers import MaxPool2D\r\nfrom tensorflow.keras.layers import PReLU\r\nfrom tensorflow.keras.models import Model\r\nfrom tensorflow.keras.regularizers import l2\r\nimport math\r\nimport numpy as np\r\nimport os\r\nimport shutil\r\nimport tensorflow as tf\r\n\r\n### parameters\r\nbatch_size = 64\r\nepochs = 10\r\nweight_decay = 0.0005\r\n\r\ndef init_gpus(soft_device_placement=True, log_device_placement=False, create_virtual_devices=False, memory_limit=4096):\r\n\r\n    tf.config.set_soft_device_placement(soft_device_placement)    \r\n    tf.debugging.set_log_device_placement(log_device_placement)\r\n\r\n    gpus = tf.config.experimental.list_physical_devices('GPU')\r\n    if gpus:\r\n        # If there is only one GPU, create two logical virtual devices for developing\r\n        # on a machine with only one GPU installed\r\n        try:\r\n            # Create 2 virtual GPUs on each physical GPU with the given memory_limit GPU memory\r\n            if create_virtual_devices and len(gpus) == 1:\r\n                tf.config.experimental.set_virtual_device_configuration(\r\n                    gpus[0],\r\n                    [tf.config.experimental.VirtualDeviceConfiguration(memory_limit=4096),\r\n                     tf.config.experimental.VirtualDeviceConfiguration(memory_limit=4096)]\r\n                )\r\n\r\n            else:\r\n                # Currently, memory growth needs to be the same across GPUs\r\n                for gpu in gpus:\r\n                    tf.config.experimental.set_memory_growth(gpu, True)\r\n\r\n        except RuntimeError as e:\r\n            # Memory growth must be set before GPUs have been initialized\r\n            print(e)\r\n\r\n        # print out physical and logical GPUs\r\n        logical_gpus = tf.config.experimental.list_logical_devices('GPU')\r\n        print(len(gpus), \"Physical GPUs,\", len(logical_gpus), \"Logical GPUs\")\r\n\r\n    else:\r\n        print(\"No visible GPU is detected...\")\r\n\r\ndef prelu(x, name='default'):\r\n    if name == 'default':\r\n        return PReLU(alpha_initializer=initializers.Constant(value=0.25))(x)\r\n    else:\r\n        return PReLU(alpha_initializer=initializers.Constant(value=0.25), name=name)(x)\r\n\r\ndef center_loss(y_true, y_pred):\r\n    \"\"\"Center loss based on the paper \"A Discriminative Feature Learning Approach for Deep Face Recognition\"\r\n       (http://ydwen.github.io/papers/WenECCV16.pdf)\r\n       Lc = 1/2 sum(|| xi - ci||)\r\n    \"\"\"\r\n    return 0.5 * K.sum(y_pred, axis=0)\r\n\r\n### model\r\ndef my_model(x, labels):\r\n    # x = BatchNormalization()(x)\r\n    #\r\n    x = Conv2D(filters=32, kernel_size=(5, 5), strides=(1, 1), padding='same', kernel_regularizer=l2(weight_decay))(x)\r\n    x = BatchNormalization()(x)\r\n    x = prelu(x)\r\n\r\n    x = Conv2D(filters=32, kernel_size=(5, 5), strides=(1, 1), padding='same', kernel_regularizer=l2(weight_decay))(x)\r\n    x = BatchNormalization()(x)\r\n    x = prelu(x)\r\n\r\n    x = MaxPool2D(pool_size=(2, 2), strides=(2, 2), padding='valid')(x)\r\n    #\r\n    x = Conv2D(filters=64, kernel_size=(5, 5), strides=(1, 1), padding='same', kernel_regularizer=l2(weight_decay))(x)\r\n    x = BatchNormalization()(x)\r\n    x = prelu(x)\r\n\r\n    x = Conv2D(filters=64, kernel_size=(5, 5), strides=(1, 1), padding='same', kernel_regularizer=l2(weight_decay))(x)\r\n    x = BatchNormalization()(x)\r\n    x = prelu(x)\r\n\r\n    x = MaxPool2D(pool_size=(2, 2), strides=(2, 2), padding='valid')(x)\r\n    #\r\n    x = Conv2D(filters=128, kernel_size=(5, 5), strides=(1, 1), padding='same', kernel_regularizer=l2(weight_decay))(x)\r\n    x = BatchNormalization()(x)\r\n    x = prelu(x)\r\n\r\n    x = Conv2D(filters=128, kernel_size=(5, 5), strides=(1, 1), padding='same', kernel_regularizer=l2(weight_decay))(x)\r\n    x = BatchNormalization()(x)\r\n    x = prelu(x)\r\n\r\n    x = MaxPool2D(pool_size=(2, 2), strides=(2, 2), padding='valid')(x)\r\n    x = Dropout(0.25)(x)\r\n    #\r\n    x = Flatten()(x)\r\n    x = Dense(2, kernel_regularizer=l2(weight_decay))(x)\r\n    x = prelu(x, name='side_out')\r\n    #\r\n    main = Dense(10, activation='softmax', name='main_out', kernel_regularizer=l2(weight_decay))(x)\r\n    side = CenterLossLayer(alpha=0.5, name='centerlosslayer')([x, labels])\r\n    return main, side\r\n\r\n# Function for decaying the learning rate.\r\n# You can define any decay function you need.\r\ndef lr_schedule(epoch):\r\n    if epoch <= 5:\r\n        learning_rate = 1e-3\r\n\r\n    elif epoch <= 10:\r\n        learning_rate = 1e-4\r\n\r\n    else:\r\n        learning_rate = 1e-5\r\n\r\n    tf.summary.scalar('learning_rate', data=learning_rate, step=epoch)\r\n    return learning_rate\r\n\r\nclass CenterLossLayer(Layer):\r\n\r\n    def __init__(self, alpha=0.5, **kwargs):\r\n        super().__init__(**kwargs)\r\n        self.alpha = alpha\r\n\r\n    def build(self, input_shape):\r\n        self.centers = self.add_weight(\r\n            name='centers',\r\n            shape=(10, 2),\r\n            initializer='uniform',\r\n            trainable=False\r\n        )\r\n\r\n        super().build(input_shape)\r\n\r\n    def call(self, x):\r\n        \"\"\"This is where the layer's logic lives.\r\n        Arguments:\r\n            inputs: Input tensor, or list/tuple of input tensors.\r\n            **kwargs: Additional keyword arguments.\r\n        Returns:\r\n            A tensor or list/tuple of tensors.\r\n        \"\"\"\r\n        features = x[0]\r\n        labels = K.reshape(x[1], [-1])\r\n\r\n        # get the tensor as specified in the label\r\n        # the centers might repeate depending on the label index\r\n        centers_batch = K.gather(self.centers, labels)\r\n\r\n        unique_label, unique_idx, unique_count = tf.unique_with_counts(labels)\r\n        appear_times = K.gather(unique_count, unique_idx)\r\n        appear_times = K.reshape(appear_times, [-1, 1])\r\n        #\r\n        # center_loss_alfa default 0.5\r\n        delta_centers = centers_batch - features\r\n        delta_centers = delta_centers / tf.cast((1 + appear_times), tf.float32)\r\n        delta_centers = self.alpha * delta_centers\r\n\r\n        # scatter_sub does not support multi-gpu training, there is no equivalent operation \r\n        new_centers = tf.compat.v1.scatter_sub(self.centers, x[1], delta_centers)\r\n\r\n        self.add_update((self.centers, new_centers), x)\r\n        self.result = K.sum(K.square(features - centers_batch), axis=1, keepdims=True)\r\n        return self.result\r\n\r\n    def compute_output_shape(self, input_shape):\r\n        return K.int_shape(self.result)\r\n\r\ndef empty_dir(folder):\r\n    \"\"\"\r\n    Empty a folder recursively.\r\n    \"\"\"\r\n    for file in os.listdir(folder):\r\n        file_path = os.path.join(folder, file)\r\n        if os.path.isfile(file_path):\r\n            print(\"Remove file: {}\".format(file_path))\r\n            os.remove(file_path)\r\n        else:\r\n            empty_dir(file_path)\r\n            print(\"Remove folder: {}\".format(file_path))\r\n            os.rmdir(file_path)\r\n\r\ndef build_empty_dir(folder, root_dir=os.getcwd()):\r\n    base_dir = os.path.join(root_dir, folder)\r\n    os.makedirs(base_dir, exist_ok=True)\r\n    empty_dir(os.path.join(root_dir, folder))\r\n\r\n    return base_dir\r\n\r\n\"\"\"\r\nunset CUDA_VISIBLE_DEVICES\r\n\r\nexport CUDA_VISIBLE_DEVICES=\"0\"\r\npython3 center_loss_mnist.py\r\n\"\"\"\r\n\r\n### run model\r\ndef run(lambda_centerloss):\r\n\r\n    init_gpus(\r\n        log_device_placement=False,\r\n        create_virtual_devices=True\r\n    )\r\n    \r\n    # strategy = tf.distribute.MirroredStrategy(cross_device_ops=tf.distribute.ReductionToOneDevice())\r\n    # strategy = tf.distribute.MirroredStrategy(cross_device_ops=tf.distribute.HierarchicalCopyAllReduce())\r\n    # strategy = tf.distribute.MirroredStrategy(cross_device_ops=tf.distribute.NcclAllReduce())\r\n    strategy = tf.distribute.MirroredStrategy()\r\n    print('Number of devices: {}'.format(strategy.num_replicas_in_sync))\r\n\r\n    ### get data\r\n    (x_train, y_train), (x_test, y_test) = mnist.load_data()\r\n    # normalize to 0..1\r\n    x_train, x_test = x_train/255, x_test/255\r\n    x_train = np.float32(x_train);\r\n    x_test  = np.float32(x_test)\r\n\r\n    y_train = np.int32(y_train)\r\n    y_test = np.int32(y_test)\r\n\r\n    # reshape to matrix\r\n    x_train = x_train.reshape((-1, 28, 28, 1))\r\n    x_test = x_test.reshape((-1, 28, 28, 1))\r\n\r\n    ### compile\r\n    main_input = Input((28, 28, 1))\r\n    aux_input = Input((), dtype='int32')\r\n\r\n    # Training using Multi-GPUs\r\n    # \r\n    # tf.compat.v1.scatter_sub does not support multi-gpus training\r\n    # with strategy.scope():\r\n    #\r\n    # The following exception with be thrown.\r\n    #\r\n    # AttributeError: 'Tensor' object has no attribute '_lazy_read'\r\n\r\n    # comment out the following line for the training to run successfully\r\n    with strategy.scope():\r\n        final_output, side_output = my_model(main_input, aux_input)\r\n        model = Model(inputs=[main_input, aux_input], outputs=[final_output, side_output])\r\n        model.compile(\r\n            optimizer='adam',\r\n            loss=[losses.sparse_categorical_crossentropy, center_loss],\r\n            metrics=['accuracy'],\r\n            loss_weights=[1, lambda_centerloss]\r\n        )\r\n        model.summary()\r\n\r\n    ### create the log directory\r\n    log_dir = '/tmp/logs/' + datetime.strftime(datetime.now(), '%Y%m%d-%H%M%S')\r\n    build_empty_dir(log_dir)\r\n\r\n    # Initialize the file_writer for logging summary\r\n    # create the file_writer to save events for Tensorboard\r\n    summary_log_dir = log_dir + '/train'\r\n    file_writer = tf.summary.create_file_writer(summary_log_dir)\r\n    file_writer.set_as_default()    \r\n\r\n    tb_callback = TensorBoard(log_dir=log_dir)\r\n\r\n    # https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/callbacks/LearningRateScheduler\r\n    lr_callback = tf.keras.callbacks.LearningRateScheduler(lr_schedule)\r\n\r\n    ### fit\r\n    dummy1 = np.zeros((x_train.shape[0], 1), dtype=int)\r\n    dummy2 = np.zeros((x_test.shape [0], 1), dtype=int)\r\n\r\n    #\r\n    print('model.input[0].shape = ', model.input[0].shape)\r\n    print('model.get_layer(\\'side_out\\').output.shape = ', model.get_layer('side_out').output.shape)\r\n    #\r\n    model.fit(\r\n        [x_train, y_train],     # inputs =[main_input, aux_input]\r\n        [y_train, dummy1 ],     # outputs=[final_output, side_output]\r\n        batch_size=batch_size,\r\n        epochs=epochs,\r\n        verbose=1,\r\n        validation_data=([x_test, y_test], [y_test, dummy2]),\r\n        callbacks=[tb_callback, lr_callback]\r\n    )\r\n    # validation\r\n    reduced_model = Model(inputs=model.input[0], outputs=model.get_layer('main_out').output)\r\n    reduced_model.compile(\r\n        loss='sparse_categorical_crossentropy',\r\n        optimizer=tf.keras.optimizers.Adam(),\r\n        metrics=['accuracy']\r\n    )\r\n    # evaluate\r\n    eval_loss, eval_acc = reduced_model.evaluate(\r\n        x=x_test,\r\n        y=y_test,\r\n        batch_size=batch_size\r\n    )\r\n    print('\\nEval loss: {}, Eval Accuracy: {}'.format(eval_loss, eval_acc))\r\n    ### run training and val sets\r\n    reduced_model = Model(inputs=model.input[0], outputs=model.get_layer('side_out').output)\r\n\r\n    feats = reduced_model.predict(x_train)\r\n\r\n    ### done\r\n    K.clear_session()\r\n    return\r\n\r\n###\r\nif __name__ == '__main__':\r\n    run(0.0001)\r\n\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30046", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30046/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30046/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30046/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30046", "id": 459495822, "node_id": "MDU6SXNzdWU0NTk0OTU4MjI=", "number": 30046, "title": "input_fn recall hook for estimator api", "user": {"login": "SumNeuron", "id": 22868585, "node_id": "MDQ6VXNlcjIyODY4NTg1", "avatar_url": "https://avatars3.githubusercontent.com/u/22868585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SumNeuron", "html_url": "https://github.com/SumNeuron", "followers_url": "https://api.github.com/users/SumNeuron/followers", "following_url": "https://api.github.com/users/SumNeuron/following{/other_user}", "gists_url": "https://api.github.com/users/SumNeuron/gists{/gist_id}", "starred_url": "https://api.github.com/users/SumNeuron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SumNeuron/subscriptions", "organizations_url": "https://api.github.com/users/SumNeuron/orgs", "repos_url": "https://api.github.com/users/SumNeuron/repos", "events_url": "https://api.github.com/users/SumNeuron/events{/privacy}", "received_events_url": "https://api.github.com/users/SumNeuron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "karmel", "id": 667809, "node_id": "MDQ6VXNlcjY2NzgwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/667809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karmel", "html_url": "https://github.com/karmel", "followers_url": "https://api.github.com/users/karmel/followers", "following_url": "https://api.github.com/users/karmel/following{/other_user}", "gists_url": "https://api.github.com/users/karmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/karmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karmel/subscriptions", "organizations_url": "https://api.github.com/users/karmel/orgs", "repos_url": "https://api.github.com/users/karmel/repos", "events_url": "https://api.github.com/users/karmel/events{/privacy}", "received_events_url": "https://api.github.com/users/karmel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "karmel", "id": 667809, "node_id": "MDQ6VXNlcjY2NzgwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/667809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karmel", "html_url": "https://github.com/karmel", "followers_url": "https://api.github.com/users/karmel/followers", "following_url": "https://api.github.com/users/karmel/following{/other_user}", "gists_url": "https://api.github.com/users/karmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/karmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karmel/subscriptions", "organizations_url": "https://api.github.com/users/karmel/orgs", "repos_url": "https://api.github.com/users/karmel/repos", "events_url": "https://api.github.com/users/karmel/events{/privacy}", "received_events_url": "https://api.github.com/users/karmel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-22T17:42:21Z", "updated_at": "2019-06-27T20:54:51Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version (you are using): 1.10 < 2.0\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\n\r\nCurrently estimators are trained using either:\r\n\r\n```python\r\nestimator.train(...)\r\nestimator.train_and_evaluate(...)    # internally calls self.train\r\n```\r\n\r\nFollowing the `tf.estimator.Estiamtor` [source code](https://github.com/tensorflow/estimator/blob/33e13754b0deebe7cc5006c49c53d246b6ff1dec/tensorflow_estimator/python/estimator/estimator.py) we see that `.train` calls `_train_model` that calls `_train_model_default`\r\n\r\n[Line 1183](https://github.com/tensorflow/estimator/blob/33e13754b0deebe7cc5006c49c53d246b6ff1dec/tensorflow_estimator/python/estimator/estimator.py#L1183) has:\r\n\r\n```python\r\n# ...\r\nfeatures, labels, input_hooks = (self._get_features_and_labels_from_input_fn(input_fn, ModeKeys.TRAIN))\r\n# ...\r\n```\r\n\r\nprior to calling `_train_with_estimator_spec`\r\n\r\nwith the features and labels from the `tf.data.Dataset` returned by the `input_fn` wrapped into an `EstimatorSpec`. \r\n\r\nSo it seems that per epoch / per batch updates to the `tf.data.Dataset` is not possible without very careful construction of the dataset.\r\n\r\nIt would be nice to be able to have the `input_fn` have the ability to be recalled and possibly updated depending on estimator stated (e.g. depending on `step`)\r\n\r\n\r\n**Will this change the current api? How?**\r\n\r\nIt _shouldn't_ change the current estimator api.\r\nIt may add some extra interfaces to the api (e.g. a decorator for the `input_fn` that passes `_step`, `_recall_on_batch`)\r\n\r\n**Who will benefit with this feature?**\r\n\r\nUsers with data that requires run-time generation / variation \r\n\r\n\r\n**Any Other info.**\r\n\r\ne.g. this kind of logic should be possible\r\n```python\r\ndef input_fn(..., _step, _epoch):\r\n\r\n    if _step > n:\r\n        return tf.data.Dataset(...)\r\n    return tf.data.Dataset(...)\r\n```\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30045", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30045/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30045/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30045/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30045", "id": 459486790, "node_id": "MDU6SXNzdWU0NTk0ODY3OTA=", "number": 30045, "title": "ParseSequenceExample should return Ragged Tensor or have an option for this", "user": {"login": "bionicles", "id": 24532336, "node_id": "MDQ6VXNlcjI0NTMyMzM2", "avatar_url": "https://avatars2.githubusercontent.com/u/24532336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bionicles", "html_url": "https://github.com/bionicles", "followers_url": "https://api.github.com/users/bionicles/followers", "following_url": "https://api.github.com/users/bionicles/following{/other_user}", "gists_url": "https://api.github.com/users/bionicles/gists{/gist_id}", "starred_url": "https://api.github.com/users/bionicles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bionicles/subscriptions", "organizations_url": "https://api.github.com/users/bionicles/orgs", "repos_url": "https://api.github.com/users/bionicles/repos", "events_url": "https://api.github.com/users/bionicles/events{/privacy}", "received_events_url": "https://api.github.com/users/bionicles/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ebrevdo", "id": 1794715, "node_id": "MDQ6VXNlcjE3OTQ3MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1794715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebrevdo", "html_url": "https://github.com/ebrevdo", "followers_url": "https://api.github.com/users/ebrevdo/followers", "following_url": "https://api.github.com/users/ebrevdo/following{/other_user}", "gists_url": "https://api.github.com/users/ebrevdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebrevdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebrevdo/subscriptions", "organizations_url": "https://api.github.com/users/ebrevdo/orgs", "repos_url": "https://api.github.com/users/ebrevdo/repos", "events_url": "https://api.github.com/users/ebrevdo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebrevdo/received_events", "type": "User", "site_admin": false}, {"login": "edloper", "id": 5790348, "node_id": "MDQ6VXNlcjU3OTAzNDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5790348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edloper", "html_url": "https://github.com/edloper", "followers_url": "https://api.github.com/users/edloper/followers", "following_url": "https://api.github.com/users/edloper/following{/other_user}", "gists_url": "https://api.github.com/users/edloper/gists{/gist_id}", "starred_url": "https://api.github.com/users/edloper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edloper/subscriptions", "organizations_url": "https://api.github.com/users/edloper/orgs", "repos_url": "https://api.github.com/users/edloper/repos", "events_url": "https://api.github.com/users/edloper/events{/privacy}", "received_events_url": "https://api.github.com/users/edloper/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-06-22T15:54:48Z", "updated_at": "2019-06-30T02:23:41Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version (you are using): 1.14r\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n**Describe the feature and the current behavior/state.**\r\nRight now, ParseSequenceExample returns sparse tensors. Instead, it should return Ragged tensors. This causes issues with our molecular dynamics project because padded tensors contain zeros which are misinterpreted as extra atoms in simulation. As a workaround we have to make lists of tensors, which interrupts training. Will try another approach by mapping twice\r\n\r\nSequence Examples are suited to make Ragged tensors because they both address the same variable-length issue\r\n\r\n**Will this change the current api? How?**\r\ndataset = tf.data.TFRecordDataset(files)\r\ndataset = dataset.batch(batch_size=BATCH_SIZE)\r\ndataset = dataset.map(parse_function) \r\n```\r\ndef parse_function(batch):\r\n    ... define batch features ...\r\n    return parse_sequence_example(batch, ragged=True, context_features=context_features, sequence_features=sequence_features)\r\n```\r\n**Who will benefit with this feature?**\r\npeople who don't want to pause training to postprocess data coming out of TFRecordDataset \r\n\r\n**Any Other info.**\r\nit would be nice to return a tuple of ragged tensors for each sequence feature. context features can remain as tensors\r\n\r\nHappy to try workarounds but it's hard to share our code as it requires making a special proteins dataset of TFRecords"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30041", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30041/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30041/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30041/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30041", "id": 459462740, "node_id": "MDU6SXNzdWU0NTk0NjI3NDA=", "number": 30041, "title": "The api 'tf.data.experimental.CsvDataset' performs very slow in test.", "user": {"login": "MrDavidG", "id": 15071149, "node_id": "MDQ6VXNlcjE1MDcxMTQ5", "avatar_url": "https://avatars1.githubusercontent.com/u/15071149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrDavidG", "html_url": "https://github.com/MrDavidG", "followers_url": "https://api.github.com/users/MrDavidG/followers", "following_url": "https://api.github.com/users/MrDavidG/following{/other_user}", "gists_url": "https://api.github.com/users/MrDavidG/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrDavidG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrDavidG/subscriptions", "organizations_url": "https://api.github.com/users/MrDavidG/orgs", "repos_url": "https://api.github.com/users/MrDavidG/repos", "events_url": "https://api.github.com/users/MrDavidG/events{/privacy}", "received_events_url": "https://api.github.com/users/MrDavidG/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1114343535, "node_id": "MDU6TGFiZWwxMTE0MzQzNTM1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:data", "name": "comp:data", "color": "0052cc", "default": false, "description": "tf.data related issues"}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rachellim", "id": 9589037, "node_id": "MDQ6VXNlcjk1ODkwMzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/9589037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rachellim", "html_url": "https://github.com/rachellim", "followers_url": "https://api.github.com/users/rachellim/followers", "following_url": "https://api.github.com/users/rachellim/following{/other_user}", "gists_url": "https://api.github.com/users/rachellim/gists{/gist_id}", "starred_url": "https://api.github.com/users/rachellim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rachellim/subscriptions", "organizations_url": "https://api.github.com/users/rachellim/orgs", "repos_url": "https://api.github.com/users/rachellim/repos", "events_url": "https://api.github.com/users/rachellim/events{/privacy}", "received_events_url": "https://api.github.com/users/rachellim/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rachellim", "id": 9589037, "node_id": "MDQ6VXNlcjk1ODkwMzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/9589037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rachellim", "html_url": "https://github.com/rachellim", "followers_url": "https://api.github.com/users/rachellim/followers", "following_url": "https://api.github.com/users/rachellim/following{/other_user}", "gists_url": "https://api.github.com/users/rachellim/gists{/gist_id}", "starred_url": "https://api.github.com/users/rachellim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rachellim/subscriptions", "organizations_url": "https://api.github.com/users/rachellim/orgs", "repos_url": "https://api.github.com/users/rachellim/repos", "events_url": "https://api.github.com/users/rachellim/events{/privacy}", "received_events_url": "https://api.github.com/users/rachellim/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-06-22T10:55:02Z", "updated_at": "2019-07-10T20:27:36Z", "closed_at": null, "author_association": "NONE", "body": "**System info.**\r\n - cuda: 10.1\r\n - python: 3.6.6\r\n - tensorflow: 1.13.1\r\n - gpu: Quadro P5000\r\n\r\n**Test Data.**\r\nCsv dataset with 430 columns (all in floats), the first 429 columns as features and the last column as labels. There are totally 1928 classes and 57909 instances. \r\n\r\n**Problem.**\r\nI test the speed of the csv readers, api ```tf.data.experimental.CsvDataset``` and the common method ```tf.placeholder()```. Here is the code:\r\n\r\nwith ```tf.data.experimental.CsvDataset```:\r\n```\r\ndef parse_data(x, n_classes):\r\n    x = tf.convert_to_tensor(x)\r\n    return x[:-1], tf.one_hot(indices=tf.cast(x[-1], tf.int32), depth=n_classes)\r\n\r\nif __name__=='__main__':\r\n    dataset_train = tf.data.experimental.CsvDataset('/home/david/Dataset/timit/test.csv', [tf.float32] * 430,\r\n                                                    header=False,\r\n                                                    field_delim=' ')\r\n    dataset_train = dataset_train.map(lambda *x_: parse_data(x_, 1928))\r\n    dataset_train = dataset_train.batch(128)\r\n    dataset_train = dataset_train.prefetch(1)\r\n    iterator = dataset_train.make_initializable_iterator()\r\n\r\n    x_in, y = iterator.get_next()\r\n\r\n    x = tf.layers.Dense(units=1024, activation=tf.nn.relu)(x_in)\r\n    x = tf.layers.Dense(units=1024, activation=tf.nn.relu)(x)\r\n    x = tf.layers.Dense(units=1024, activation=tf.nn.relu)(x)\r\n    x = tf.layers.Dense(units=1024, activation=tf.nn.relu)(x)\r\n    logits = tf.layers.Dense(units=1928, activation=None)(x)\r\n\r\n    loss = tf.losses.softmax_cross_entropy(y, logits)\r\n    optimizer = tf.train.AdamOptimizer()\r\n    optimizer.minimize(loss)\r\n\r\n    sess = tf.Session()\r\n    sess.run(tf.global_variables_initializer())\r\n    sess.run(iterator.initializer)\r\n    running_loss = 0.0\r\n    time_last = time.time()\r\n    epoch = 0\r\n    i = 0\r\n    while True:\r\n        try:\r\n            running_loss += sess.run(loss)  # , feed_dict={x: data, y: labels})\r\n            if (i + 1) % 5 == 0:\r\n                print('\\r[epoch: %2d, batch: %5d, time: %5f] loss: %.3f' % (\r\n                    epoch + 1, i + 1, time.time() - time_last, running_loss / i), end=' ')\r\n                time_last = time.time()\r\n            i += 1\r\n        except tf.errors.OutOfRangeError:\r\n            pass\r\n```\r\n\r\nwith ```tf.placeholder```:\r\n```\r\nif __name__ == '__main__':\r\n    x_in = tf.placeholder(shape=[128, 429], dtype=tf.float32)\r\n    y_in = tf.placeholder(shape=[128], dtype=tf.int32)\r\n    y = tf.one_hot(y_in, depth=1928)\r\n\r\n    x = tf.layers.Dense(units=1024, activation=tf.nn.relu)(x_in)\r\n    x = tf.layers.Dense(units=1024, activation=tf.nn.relu)(x)\r\n    x = tf.layers.Dense(units=1024, activation=tf.nn.relu)(x)\r\n    x = tf.layers.Dense(units=1024, activation=tf.nn.relu)(x)\r\n    logits = tf.layers.Dense(units=1928, activation=None)(x)\r\n\r\n    loss = tf.losses.softmax_cross_entropy(y, logits)\r\n    optimizer = tf.train.AdamOptimizer()\r\n    optimizer.minimize(loss)\r\n\r\n    sess = tf.Session()\r\n    sess.run(tf.global_variables_initializer())\r\n\r\n    w = pd.read_csv('/home/david/Dataset/timit/test.csv', header=None, delim_whitespace=True).values\r\n\r\n    for epoch in range(23):\r\n        running_loss = 0.0\r\n        time_last = time.time()\r\n        i = 0\r\n        indexes = np.random.permutation(w.shape[0])\r\n        w_ = w[indexes, :]\r\n        while True:\r\n            if i * 128 + 128 > w.shape[0]:\r\n                break\r\n            running_loss += sess.run(loss,\r\n                                     feed_dict={x_in: w_[i * 128:i * 128 + 128, :-1],\r\n                                                y_in: w_[i * 128:i * 128 + 128, -1]})\r\n            if (i + 1) % 5 == 0:\r\n                print('\\r[epoch: %2d, batch: %5d, time: %5f] loss: %.3f' % (\r\n                    epoch + 1, i + 1, time.time() - time_last, running_loss / i), end=' ')\r\n                time_last = time.time()\r\n            i += 1\r\n```\r\n\r\n**Result (Time for training five batches).**\r\n - ```tf.placeholder``` method: 0.013263s\r\n - ```tf.data.experimental.CsvDataset``` method: 1.382647s\r\n\r\n**Problem.**\r\n - Api ```tf.data.experimental.CsvDataset``` is so slow in the above test. I guess it is partly because that ```tf.data.experimental.CsvDataset``` do io operations before each batch to extract data from csv file. Is this ture, or there are other reasons?\r\n\r\n - However, it is too slow comparing to ```tf.placeholder```. Is there any chance for improvement? How can I set the ```tf.data.experimental.CsvDataset ```api to load all csv data at the very beginning?\r\n\r\n - Or can I say that ```tf.data.experimental.CsvDataset``` is implemented only for the csv dataset that is too big to store in the memory? Because the time cost seems like intolerable.\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30038", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30038/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30038/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30038/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30038", "id": 459433684, "node_id": "MDU6SXNzdWU0NTk0MzM2ODQ=", "number": 30038, "title": "Generated a .tflite file with 0kb", "user": {"login": "devimonica", "id": 48072621, "node_id": "MDQ6VXNlcjQ4MDcyNjIx", "avatar_url": "https://avatars3.githubusercontent.com/u/48072621?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devimonica", "html_url": "https://github.com/devimonica", "followers_url": "https://api.github.com/users/devimonica/followers", "following_url": "https://api.github.com/users/devimonica/following{/other_user}", "gists_url": "https://api.github.com/users/devimonica/gists{/gist_id}", "starred_url": "https://api.github.com/users/devimonica/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devimonica/subscriptions", "organizations_url": "https://api.github.com/users/devimonica/orgs", "repos_url": "https://api.github.com/users/devimonica/repos", "events_url": "https://api.github.com/users/devimonica/events{/privacy}", "received_events_url": "https://api.github.com/users/devimonica/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1445545631, "node_id": "MDU6TGFiZWwxNDQ1NTQ1NjMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.14", "name": "TF 1.14", "color": "5319e7", "default": false, "description": "for issues seen with TF 1.14"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-06-22T04:15:49Z", "updated_at": "2019-07-15T06:44:58Z", "closed_at": null, "author_association": "NONE", "body": "\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): \r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- TensorFlow installed from (source or binary):\r\n- TensorFlow version (use command below): 1.14.0. also tried with 1.12 and 1.13\r\n- Python version: 3.6.8\r\n- Bazel version (if compiling from source): 0.26.1\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: Using CPU\r\n- GPU model and memory:\r\n\r\n**Describe the current behavior**\r\nGenerated a sample.tflite file with 0kb\r\n\r\n**Describe the expected behavior**\r\nShould generate a good .tflite file\r\n\r\n**Code to reproduce the issue**\r\nbazel run -c opt tensorflow/lite/toco:toco -- --input_file=C:/tensorflow1/models/research/object_detection/sample_tflite_graph.pb --output_file=C:/tensorflow1/models/research/object_detection/sample_detect.tflite --input_shapes=1,300,300,3 --input_arrays=normalized_input_image_tensor --output_arrays='TFLite_Detection_PostProcess','TFLite_Detection_PostProcess:1','TFLite_Detection_PostProcess:2','TFLite_Detection_PostProcess:3' --inference_type=QUANTIZED_UINT8 --mean_values=128 --std_values=128 --change_concat_input_ranges=false --default_ranges_min=0 --default_ranges_max=6 --allow_custom_ops \r\n\r\n\r\n**Other info / logs**\r\nINFO: Options provided by the client:\r\n  Inherited 'common' options: --isatty=1 --terminal_columns=120\r\nINFO: Options provided by the client:\r\n  Inherited 'build' options: --python_path=C:/ProgramData/Anaconda3/envs/tensorflow1/python.exe\r\nINFO: Reading rc options for 'run' from c:\\tensorflow1\\models\\research\\object_detection\\tensorflow\\.bazelrc:\r\n  Inherited 'build' options: --apple_platform_type=macos --define framework_shared_object=true --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone --strategy=Genrule=standalone -c opt --announce_rc --define=grpc_no_ares=true --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include\r\nINFO: Reading rc options for 'run' from c:\\tensorflow1\\models\\research\\object_detection\\tensorflow\\.tf_configure.bazelrc:\r\n  Inherited 'build' options: --action_env PYTHON_BIN_PATH=C:/ProgramData/Anaconda3/envs/tensorflow1/python.exe --action_env PYTHON_LIB_PATH=C:/tensorflow1/models/research/slim --python_path=C:/ProgramData/Anaconda3/envs/tensorflow1/python.exe --config monolithic --copt=-w --host_copt=-w --copt=-DWIN32_LEAN_AND_MEAN --host_copt=-DWIN32_LEAN_AND_MEAN --copt=-DNOGDI --host_copt=-DNOGDI --verbose_failures --distinct_host_configuration=false --action_env TF_CONFIGURE_IOS=0\r\nINFO: Found applicable config definition build:monolithic in file c:\\tensorflow1\\models\\research\\object_detection\\tensorflow\\.bazelrc: --define framework_shared_object=false\r\nINFO: Analyzed target //tensorflow/lite/toco:toco (0 packages loaded, 0 targets configured).\r\nINFO: Found 1 target...\r\nTarget //tensorflow/lite/toco:toco up-to-date:\r\n  bazel-bin/tensorflow/lite/toco/toco.exe\r\nINFO: Elapsed time: 3.214s, Critical Path: 0.01s\r\nINFO: 0 processes.\r\nINFO: Build completed successfully, 1 total action\r\nINFO: Running command line: bazel-bin/tensorflow/lite/toco/toco.exe '--input_file=C:/tensorflow1/models/research/object_detection/sample_tflite_graph.pb' '--output_file=C:/tensorflow1/models/research/object_detection/sample_detect.tflite' '--input_shapes=1,300,300,3' '--input_arrays=normalized_input_image_tensor' '--output_arrays='\\''TFLite_Detection_PostProcess'\\'','\\''TFLite_Detection_PostProcess:1'\\'','\\''TFLite_Detection_PostProcess:2'\\'','\\''TFLite_Detection_PostProcess:3'\\''' '--inference_type=QUANTIZED_UINT8' '--mean_values=128' '--std_values=128' '--change_concat_input_ranges=false' '-INFO: Build completed successfully, 1 total action\r\n2019-06-22 00:08:48.443379: I tensorflow/lite/toco/import_tensorflow.cc:1336] Converting unsupported operation: TFLite_Detection_PostProcess\r\n2019-06-22 00:08:48.469603: I tensorflow/lite/toco/import_tensorflow.cc:1385] Unable to determine output type for op: TFLite_Detection_PostProcess\r\n2019-06-22 00:08:48.563540: F tensorflow/lite/toco/tooling_util.cc:918] Check failed: GetOpWithOutput(model, output_array) Specified output array \"'TFLite_Detection_PostProcess'\" is not produced by any op in this graph. Is it a typo? This should not happen. If you trigger this error please send a bug report (with code to reporduce this error), to the TensorFlow Lite team.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30024", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30024/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30024/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30024/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30024", "id": 459129394, "node_id": "MDU6SXNzdWU0NTkxMjkzOTQ=", "number": 30024, "title": "Many Keras.applications (e.g. ResNet-101, ResNeXt) missing from default TensorFlow-gpu installation of 1.10 (through 1.14)", "user": {"login": "EmielBoss", "id": 12033908, "node_id": "MDQ6VXNlcjEyMDMzOTA4", "avatar_url": "https://avatars2.githubusercontent.com/u/12033908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EmielBoss", "html_url": "https://github.com/EmielBoss", "followers_url": "https://api.github.com/users/EmielBoss/followers", "following_url": "https://api.github.com/users/EmielBoss/following{/other_user}", "gists_url": "https://api.github.com/users/EmielBoss/gists{/gist_id}", "starred_url": "https://api.github.com/users/EmielBoss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EmielBoss/subscriptions", "organizations_url": "https://api.github.com/users/EmielBoss/orgs", "repos_url": "https://api.github.com/users/EmielBoss/repos", "events_url": "https://api.github.com/users/EmielBoss/events{/privacy}", "received_events_url": "https://api.github.com/users/EmielBoss/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-06-21T10:28:24Z", "updated_at": "2020-02-21T18:43:06Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\r\n- OS Platform and Distribution: Linux Ubuntu 16.04\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): 1.10\r\n- Python version: 3.5\r\n- CUDA/cuDNN version: V8.0.61\r\n- GPU model and memory: Tesla P100-PCIE, 12193MiB\r\n\r\nA lot of the listed [Keras applications](https://keras.io/applications/) are missing from TensorFlow-gpu installations of 1.10 through 1.14. This might as well be a feature request to include those.\r\n\r\nI installed TensorFlow 1.10 through 1.14, and all installations are missing some [Keras applications](https://keras.io/applications/), like ResNet-101, ResNext, etc. I copied the files from the [Keras applications GitHub repository](https://github.com/keras-team/keras-applications/tree/master/keras_applications), and simply pasted them in `site-packages/tensorflow/python/keras/applications/`. However, this results in the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"myscript.py\", line 2, in <module>\r\n    import tensorflow as tf\r\n  File \"tensorflow/__init__.py\", line 53, in <module>\r\n    from tensorflow import keras\r\n  File \"tensorflow/keras/__init__.py\", line 13, in <module>\r\n    from tensorflow.keras import applications\r\n  File \"tensorflow/keras/applications/__init__.py\", line 8, in <module>\r\n    from tensorflow.keras.applications import densenet\r\n  File \"tensorflow/keras/applications/densenet/__init__.py\", line 14, in <module>\r\n    from tensorflow.python.keras.applications import DenseNet121\r\nImportError: cannot import name 'DenseNet121'\r\n```\r\n\r\nThis led me to discover another Keras applications folder: `site-packages/tensorflow/keras/applications/`. What is the difference between the two applications folders? Why does not TensorFlow install all applications out-of-the-box? How can I use those applications anyways (preferably without installing Keras separately)?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30003", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30003/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30003/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/30003/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/30003", "id": 458581345, "node_id": "MDU6SXNzdWU0NTg1ODEzNDU=", "number": 30003, "title": "FlexAudioSpectrogram ops is not supported by the tflite interpreter", "user": {"login": "zhizunbao-y", "id": 34501610, "node_id": "MDQ6VXNlcjM0NTAxNjEw", "avatar_url": "https://avatars3.githubusercontent.com/u/34501610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhizunbao-y", "html_url": "https://github.com/zhizunbao-y", "followers_url": "https://api.github.com/users/zhizunbao-y/followers", "following_url": "https://api.github.com/users/zhizunbao-y/following{/other_user}", "gists_url": "https://api.github.com/users/zhizunbao-y/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhizunbao-y/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhizunbao-y/subscriptions", "organizations_url": "https://api.github.com/users/zhizunbao-y/orgs", "repos_url": "https://api.github.com/users/zhizunbao-y/repos", "events_url": "https://api.github.com/users/zhizunbao-y/events{/privacy}", "received_events_url": "https://api.github.com/users/zhizunbao-y/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jaeyoo", "id": 40815393, "node_id": "MDQ6VXNlcjQwODE1Mzkz", "avatar_url": "https://avatars1.githubusercontent.com/u/40815393?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaeyoo", "html_url": "https://github.com/jaeyoo", "followers_url": "https://api.github.com/users/jaeyoo/followers", "following_url": "https://api.github.com/users/jaeyoo/following{/other_user}", "gists_url": "https://api.github.com/users/jaeyoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaeyoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaeyoo/subscriptions", "organizations_url": "https://api.github.com/users/jaeyoo/orgs", "repos_url": "https://api.github.com/users/jaeyoo/repos", "events_url": "https://api.github.com/users/jaeyoo/events{/privacy}", "received_events_url": "https://api.github.com/users/jaeyoo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaeyoo", "id": 40815393, "node_id": "MDQ6VXNlcjQwODE1Mzkz", "avatar_url": "https://avatars1.githubusercontent.com/u/40815393?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaeyoo", "html_url": "https://github.com/jaeyoo", "followers_url": "https://api.github.com/users/jaeyoo/followers", "following_url": "https://api.github.com/users/jaeyoo/following{/other_user}", "gists_url": "https://api.github.com/users/jaeyoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaeyoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaeyoo/subscriptions", "organizations_url": "https://api.github.com/users/jaeyoo/orgs", "repos_url": "https://api.github.com/users/jaeyoo/repos", "events_url": "https://api.github.com/users/jaeyoo/events{/privacy}", "received_events_url": "https://api.github.com/users/jaeyoo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-06-20T10:43:58Z", "updated_at": "2020-02-27T08:58:30Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "When I run a model converted from speech command demo using lite Interpreter, the error is:\r\nTraceback (most recent call last):\r\n  File \"/home/yuan/anaconda3/envs/TFLite/lib/python3.7/threading.py\", line 917, in _bootstrap_inner\r\n    self.run()\r\n  File \"/home/yuan/tensorflow-master/tensorflow/examples/speech_commands/audio/audio_processor_lite.py\", line 41, in run\r\n    self._interpreter.allocate_tensors()\r\n  File \"/home/yuan/anaconda3/envs/TFLite/lib/python3.7/site-packages/tensorflow_core/lite/python/interpreter.py\", line 198, in allocate_tensors\r\n    return self._interpreter.AllocateTensors()\r\n  File \"/home/yuan/anaconda3/envs/TFLite/lib/python3.7/site-packages/tensorflow_core/lite/python/interpreter_wrapper/tensorflow_wrap_interpreter_wrapper.py\", line 106, in AllocateTensors\r\n    return _tensorflow_wrap_interpreter_wrapper.InterpreterWrapper_AllocateTensors(self)\r\nRuntimeError: Regular TensorFlow ops are not supported by this interpreter. Make sure you invoke the Flex delegate before inference.Node number 0 (FlexAudioSpectrogram) failed to prepare.\r\nBut the model provided by speech command android demo works  well. (https://github.com/tensorflow/examples/blob/master/lite/examples/speech_commands/android/README.md)"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29977", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29977/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29977/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29977/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29977", "id": 458213736, "node_id": "MDU6SXNzdWU0NTgyMTM3MzY=", "number": 29977, "title": "Distributed Tensorflow error: Check failed: DeviceNameUtils::ParseFullName(new_base, &parsed_name)", "user": {"login": "alihydri", "id": 50345047, "node_id": "MDQ6VXNlcjUwMzQ1MDQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/50345047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alihydri", "html_url": "https://github.com/alihydri", "followers_url": "https://api.github.com/users/alihydri/followers", "following_url": "https://api.github.com/users/alihydri/following{/other_user}", "gists_url": "https://api.github.com/users/alihydri/gists{/gist_id}", "starred_url": "https://api.github.com/users/alihydri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alihydri/subscriptions", "organizations_url": "https://api.github.com/users/alihydri/orgs", "repos_url": "https://api.github.com/users/alihydri/repos", "events_url": "https://api.github.com/users/alihydri/events{/privacy}", "received_events_url": "https://api.github.com/users/alihydri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "karmel", "id": 667809, "node_id": "MDQ6VXNlcjY2NzgwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/667809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karmel", "html_url": "https://github.com/karmel", "followers_url": "https://api.github.com/users/karmel/followers", "following_url": "https://api.github.com/users/karmel/following{/other_user}", "gists_url": "https://api.github.com/users/karmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/karmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karmel/subscriptions", "organizations_url": "https://api.github.com/users/karmel/orgs", "repos_url": "https://api.github.com/users/karmel/repos", "events_url": "https://api.github.com/users/karmel/events{/privacy}", "received_events_url": "https://api.github.com/users/karmel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "karmel", "id": 667809, "node_id": "MDQ6VXNlcjY2NzgwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/667809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karmel", "html_url": "https://github.com/karmel", "followers_url": "https://api.github.com/users/karmel/followers", "following_url": "https://api.github.com/users/karmel/following{/other_user}", "gists_url": "https://api.github.com/users/karmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/karmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karmel/subscriptions", "organizations_url": "https://api.github.com/users/karmel/orgs", "repos_url": "https://api.github.com/users/karmel/repos", "events_url": "https://api.github.com/users/karmel/events{/privacy}", "received_events_url": "https://api.github.com/users/karmel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-19T20:33:49Z", "updated_at": "2019-06-28T22:39:22Z", "closed_at": null, "author_association": "NONE", "body": "\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Linux Ubuntu 16.04\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**:\r\n- **TensorFlow installed from (source or binary)**: \r\n- **TensorFlow version (use command below)**: 1.13.1 (PC) 1.6.0-rc0(RP)\r\n- **Python version**: 2.7\r\n- **Bazel version (if compiling from source)**:\r\n- **GCC/Compiler version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:\r\n- **GPU model and memory**:\r\n- **Exact command to reproduce**:\r\n\r\n### Describe the problem\r\nTrying to run a distributed tensorflow example on CPU from:\r\n\r\nhttps://github.com/tmulc18/Distributed-TensorFlow-Guide/blob/master/Distributed-Setup/dist_setup.py\r\n\r\nCommands to run the example can be found at:\r\n\r\nhttps://github.com/tmulc18/Distributed-TensorFlow-Guide/blob/master/Distributed-Setup/run.sh\r\n\r\nIt works fine when I run it on single platform (PC-PC or laptop-laptop or RP-RP) or multiple platforms with same architecture (PC-laptop, both x86 or RP-RP, both arm64). But a combination of arm64 and x86 fails from arm64 side with the following error:\r\n```bash\r\n2019-06-15 01:20:35.179745: F tensorflow/core/common_runtime/renamed_device.cc:27] Check failed: DeviceNameUtils::ParseFullName(new_base, &parsed_name) \r\n```\r\n\r\n### Source code / logs\r\nNote that in your code, the IPs need to be set accordingly.\r\nThe command for PC is:\r\n```bash\r\npython dist_setup.py --job_name \"worker\" --task_index 0\r\n```\r\nThe output:\r\n```bash\r\n2019-06-14 18:20:35.040413: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2019-06-14 18:20:35.070714: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 3593265000 Hz\r\n2019-06-14 18:20:35.071281: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x4c9ce60 executing computations on platform Host. Devices:\r\n2019-06-14 18:20:35.071303: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>\r\n2019-06-14 18:20:35.072829: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:252] Initialize GrpcChannelCache for job ps -> {0 -> 10.1.1.2:2222}\r\n2019-06-14 18:20:35.072861: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:252] Initialize GrpcChannelCache for job worker -> {0 -> localhost:2223}\r\n2019-06-14 18:20:35.074703: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:391] Started server with target: grpc://localhost:2223\r\nWARNING:tensorflow:From /usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nColocations handled automatically by placer.\r\n2019-06-14 18:20:35.178858: I tensorflow/core/distributed_runtime/master_session.cc:1192] Start master session 3634afcffbd6cc2d with config: \r\n2019-06-14 18:20:45.214939: W tensorflow/core/distributed_runtime/master_session.cc:1363] Timeout for closing worker session\r\n2019-06-14 18:20:55.218267: I tensorflow/core/distributed_runtime/master.cc:267] CreateSession still waiting for response from worker: /job:ps/replica:0/task:0\r\n2019-06-14 18:21:05.218392: I tensorflow/core/distributed_runtime/master.cc:267] CreateSession still waiting for response from worker: /job:ps/replica:0/task:0\r\n2019-06-14 18:21:15.218519: I tensorflow/core/distributed_runtime/master.cc:267] CreateSession still waiting for response from worker: /job:ps/replica:0/task:0\r\n```\r\nThe command for RP is:\r\n```bash\r\npython dist_setup.py --job_name \"ps\" --task_index 0\r\n```\r\nThe output:\r\n```bash\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/tensor_util.py:33: RuntimeWarning: numpy.dtype size changed, may indicate binary incompatibility. Expected 96, got 88\r\n  from tensorflow.python.framework import fast_tensor_util\r\n2019-06-15 01:19:54.226102: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:215] Initialize GrpcChannelCache for job ps -> {0 -> localhost:2222}\r\n2019-06-15 01:19:54.226278: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:215] Initialize GrpcChannelCache for job worker -> {0 -> 10.1.1.1:2223}\r\n2019-06-15 01:19:54.227740: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:324] Started server with target: grpc://localhost:2222\r\n2019-06-15 01:20:35.179745: F tensorflow/core/common_runtime/renamed_device.cc:27] Check failed: DeviceNameUtils::ParseFullName(new_base, &parsed_name) \r\nAborted\r\n```\r\nThe source code(from github):\r\n```bash\r\n\"\"\"Simple example with one parameter server and one worker.\r\nAuthor: Tommy Mulc\r\n\"\"\"\r\n\r\n\r\nfrom __future__ import print_function\r\nimport tensorflow as tf\r\nimport argparse\r\nimport time\r\nimport os\r\n\r\n\r\nFLAGS = None\r\nlog_dir = '/logdir'\r\n\r\ndef main():\r\n\t# Distributed Baggage\r\n\tcluster = tf.train.ClusterSpec({\r\n        'ps':['localhost:2222'],\r\n        'worker':['localhost:2223']\r\n        }) #lets this node know about all other nodes\r\n\tif FLAGS.job_name == 'ps': #checks if parameter server\r\n\t\tserver = tf.train.Server(cluster,\r\n          job_name=\"ps\",\r\n          task_index=FLAGS.task_index)\r\n\t\tserver.join()\r\n\telse:\r\n\t\tis_chief = (FLAGS.task_index == 0) #checks if this is the chief node\r\n\t\tserver = tf.train.Server(cluster,\r\n          job_name=\"worker\",\r\n          task_index=FLAGS.task_index)\r\n\r\n\t\t# Graph\r\n\t\twith tf.device('/cpu:0'):\r\n\t\t\ta = tf.Variable(tf.truncated_normal(shape=[2]),dtype=tf.float32)\r\n\t\t\tb = tf.Variable(tf.truncated_normal(shape=[2]),dtype=tf.float32)\r\n\t\t\tc=a+b\r\n\r\n\t\t\ttarget = tf.constant(100.,shape=[2],dtype=tf.float32)\r\n\t\t\tloss = tf.reduce_mean(tf.square(c-target))\r\n\t\t\r\n\t\t\topt = tf.train.GradientDescentOptimizer(.0001).minimize(loss)\r\n\r\n    # Session\r\n    # Monitored Training Session\r\n\t\tsess = tf.train.MonitoredTrainingSession(\r\n          master=server.target,\r\n          is_chief=is_chief)\r\n\t\tfor i in range(1000):\r\n\t\t\tif sess.should_stop(): break\r\n\t\t\tsess.run(opt)\r\n\t\t\tif i % 10 == 0:\r\n\t\t\t\tr = sess.run(c)\r\n\t\t\t\tprint(r)\r\n\t\t\ttime.sleep(.1)\r\n\t\tsess.close()\r\n\r\nif __name__ == '__main__':\r\n\tparser = argparse.ArgumentParser()\r\n\t# Flags for defining the tf.train.ClusterSpec\r\n\tparser.add_argument(\r\n    \t\"--job_name\",\r\n    \ttype=str,\r\n    \tdefault=\"\",\r\n    \thelp=\"One of 'ps', 'worker'\"\r\n    )\r\n  # Flags for defining the tf.train.Server\r\n\tparser.add_argument(\r\n    \t\"--task_index\",\r\n    \ttype=int,\r\n    \tdefault=0,\r\n    \thelp=\"Index of task within the job\"\r\n    )\r\n\tFLAGS, unparsed = parser.parse_known_args()\r\n\tmain()\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29968", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29968/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29968/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29968/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29968", "id": 458107682, "node_id": "MDU6SXNzdWU0NTgxMDc2ODI=", "number": 29968, "title": "Many context switches / Many threads even if threading is limited", "user": {"login": "fhausmann", "id": 52006590, "node_id": "MDQ6VXNlcjUyMDA2NTkw", "avatar_url": "https://avatars1.githubusercontent.com/u/52006590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fhausmann", "html_url": "https://github.com/fhausmann", "followers_url": "https://api.github.com/users/fhausmann/followers", "following_url": "https://api.github.com/users/fhausmann/following{/other_user}", "gists_url": "https://api.github.com/users/fhausmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/fhausmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fhausmann/subscriptions", "organizations_url": "https://api.github.com/users/fhausmann/orgs", "repos_url": "https://api.github.com/users/fhausmann/repos", "events_url": "https://api.github.com/users/fhausmann/events{/privacy}", "received_events_url": "https://api.github.com/users/fhausmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097543484, "node_id": "MDU6TGFiZWwxMDk3NTQzNDg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:runtime", "name": "comp:runtime", "color": "0052cc", "default": false, "description": "c++ runtime, performance issues (cpu)"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "penpornk", "id": 38085909, "node_id": "MDQ6VXNlcjM4MDg1OTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/38085909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/penpornk", "html_url": "https://github.com/penpornk", "followers_url": "https://api.github.com/users/penpornk/followers", "following_url": "https://api.github.com/users/penpornk/following{/other_user}", "gists_url": "https://api.github.com/users/penpornk/gists{/gist_id}", "starred_url": "https://api.github.com/users/penpornk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/penpornk/subscriptions", "organizations_url": "https://api.github.com/users/penpornk/orgs", "repos_url": "https://api.github.com/users/penpornk/repos", "events_url": "https://api.github.com/users/penpornk/events{/privacy}", "received_events_url": "https://api.github.com/users/penpornk/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "penpornk", "id": 38085909, "node_id": "MDQ6VXNlcjM4MDg1OTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/38085909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/penpornk", "html_url": "https://github.com/penpornk", "followers_url": "https://api.github.com/users/penpornk/followers", "following_url": "https://api.github.com/users/penpornk/following{/other_user}", "gists_url": "https://api.github.com/users/penpornk/gists{/gist_id}", "starred_url": "https://api.github.com/users/penpornk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/penpornk/subscriptions", "organizations_url": "https://api.github.com/users/penpornk/orgs", "repos_url": "https://api.github.com/users/penpornk/repos", "events_url": "https://api.github.com/users/penpornk/events{/privacy}", "received_events_url": "https://api.github.com/users/penpornk/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2019-06-19T16:22:16Z", "updated_at": "2020-03-08T01:59:22Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code: No (https://github.com/tensorflow/docs/blob/master/site/en/r2/tutorials/quickstart/beginner.ipynb)\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux OpenSuse Leap 15.0\r\n- TensorFlow installed from (source or binary): pip package tensorflow==2.0.0-beta1\r\n- TensorFlow version (use command below): v2.0.0-beta0-16-g1d91213\r\n- Python version: 3.7.3 \r\n- GPU model and memory: CPU only\r\n\r\n**Describe the current behavior**\r\nIf you limit the number of threads with tf.set_inter_op_parallelism_threads(NUM_THREADS) and tf.set_intra_op_parallelism_threads(NUM_THREADS) tensorflow creates a threadpool with more threads than NUM_THREADS and runs maximal NUM_THREADS causing high amount of context switches, which is delaying execution.\r\n\r\n**Describe the expected behavior**\r\nCreate maximal NUM_THREADS and limit context switches.\r\n\r\n**Code to reproduce the issue**\r\n```python\r\nfrom __future__ import absolute_import, division, print_function, unicode_literals\r\n!pip install -q tensorflow==2.0.0-beta1\r\nimport tensorflow as tf\r\nNUM_THREADS=2\r\ntf.config.threading.set_inter_op_parallelism_threads(NUM_THREADS)\r\ntf.config.threading.set_intra_op_parallelism_threads(NUM_THREADS)\r\nmnist = tf.keras.datasets.mnist\r\n(x_train, y_train), (x_test, y_test) = mnist.load_data()\r\nx_train, x_test = x_train / 255.0, x_test / 255.0\r\nmodel = tf.keras.models.Sequential([\r\n  tf.keras.layers.Flatten(input_shape=(28, 28)),\r\n  tf.keras.layers.Dense(128, activation='relu'),\r\n  tf.keras.layers.Dropout(0.2),\r\n  tf.keras.layers.Dense(10, activation='softmax')\r\n])\r\nmodel.compile(optimizer='adam',\r\n              loss='sparse_categorical_crossentropy',\r\n              metrics=['accuracy'])\r\nmodel.fit(x_train, y_train, epochs=100)\r\n```\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29945", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29945/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29945/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29945/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29945", "id": 457835070, "node_id": "MDU6SXNzdWU0NTc4MzUwNzA=", "number": 29945, "title": "build for Windows always fail", "user": {"login": "kekxv", "id": 15551108, "node_id": "MDQ6VXNlcjE1NTUxMTA4", "avatar_url": "https://avatars1.githubusercontent.com/u/15551108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kekxv", "html_url": "https://github.com/kekxv", "followers_url": "https://api.github.com/users/kekxv/followers", "following_url": "https://api.github.com/users/kekxv/following{/other_user}", "gists_url": "https://api.github.com/users/kekxv/gists{/gist_id}", "starred_url": "https://api.github.com/users/kekxv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kekxv/subscriptions", "organizations_url": "https://api.github.com/users/kekxv/orgs", "repos_url": "https://api.github.com/users/kekxv/repos", "events_url": "https://api.github.com/users/kekxv/events{/privacy}", "received_events_url": "https://api.github.com/users/kekxv/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "meteorcloudy", "id": 4171702, "node_id": "MDQ6VXNlcjQxNzE3MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4171702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/meteorcloudy", "html_url": "https://github.com/meteorcloudy", "followers_url": "https://api.github.com/users/meteorcloudy/followers", "following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}", "gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}", "starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions", "organizations_url": "https://api.github.com/users/meteorcloudy/orgs", "repos_url": "https://api.github.com/users/meteorcloudy/repos", "events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}", "received_events_url": "https://api.github.com/users/meteorcloudy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-06-19T06:45:20Z", "updated_at": "2019-06-29T13:01:54Z", "closed_at": null, "author_association": "NONE", "body": "\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):Windows 10 (try cmake and bazel,not work)\r\n- TensorFlow installed from (source or binary):\r\n- TensorFlow version:2.0.0 or 1.14\r\n- Python version:3.7.3\r\n- Installed using virtualenv? pip? conda?:pip\r\n- Bazel version (if compiling from source):0.25\r\n- GCC/Compiler version (if compiling from source):vs 2019\r\n- CUDA/cuDNN version:no\r\n- GPU model and memory:no use\r\n\r\n\r\n\r\nbuild all fail,I followed the official documentation.However, it cannot be executed successfully.Some files cannot be downloaded or otherwise.\r\nPlease help me:\r\n* Tell me how to build c api\r\n* Give me the file for tensorflow.lib and tensorflow.dll.\r\n\r\nthank you very much!"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29921", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29921/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29921/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29921/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29921", "id": 457613720, "node_id": "MDU6SXNzdWU0NTc2MTM3MjA=", "number": 29921, "title": "Tf.app.flags implicit parsing potentially causes crash with exception", "user": {"login": "tlranda", "id": 36749093, "node_id": "MDQ6VXNlcjM2NzQ5MDkz", "avatar_url": "https://avatars1.githubusercontent.com/u/36749093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tlranda", "html_url": "https://github.com/tlranda", "followers_url": "https://api.github.com/users/tlranda/followers", "following_url": "https://api.github.com/users/tlranda/following{/other_user}", "gists_url": "https://api.github.com/users/tlranda/gists{/gist_id}", "starred_url": "https://api.github.com/users/tlranda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tlranda/subscriptions", "organizations_url": "https://api.github.com/users/tlranda/orgs", "repos_url": "https://api.github.com/users/tlranda/repos", "events_url": "https://api.github.com/users/tlranda/events{/privacy}", "received_events_url": "https://api.github.com/users/tlranda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-06-18T17:46:29Z", "updated_at": "2020-02-24T02:42:58Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\nYes\r\n- OS Platform and Distribution:\r\nLinux Fedora 30\r\n- TensorFlow installed from:\r\nbinary\r\n- TensorFlow version:\r\n1.13.1\r\n- Python version:\r\n3.7.3\r\n- CUDA version\r\n10.0\r\n- GPU Model\r\nNVIDIA TITAN V Black\r\n\r\n**Describe the current behavior**\r\n\r\nThe -h, -help, -helpshort, and -helpfull arguments may cause exceptions to be triggered as opposed to displaying flags, default values, and programmer-provided information. This seems to occur when the `tf.app.flags` abseil wrapper attempts to use implicit parsing.\r\n\r\n**Describe the expected behavior**\r\n\r\nWhen any value of -h, -help, -helpshort, -helpfull are provided as arguments to scripts using `tf.app.flags`, the help list should appear.\r\n\r\n**Code to reproduce the issue**\r\n```python\r\n''' mwe.py: displays tensorflow --help argument issue '''\r\nfrom tensorflow import app\r\napp.flags.DEFINE_string('myflag', 'Default', 'Help output')\r\nFLAGS = app.flags.FLAGS\r\nglobal_string = \"This string causes the abseil wrapper to begin processing the {0} flag\".format(FLAGS.myflag)\r\ndef main(_):\r\n  print(\"This string causes TF to race the abseil parsing process, which kills the help menu using string %s\" % FLAGS.myflag)\r\nif __name__ == '__main__':\r\n  app.run(main)\r\n```\r\n\r\n**Other info / logs**\r\nThe below bash script uses the above code to display the issue. Notably, using abseil's app.flags will NOT cause the exception to occur with the same source code.\r\n```bash\r\npython mwe.py --help\r\nsed -i 's/global_string/#global_string/g' mwe.py\r\npython mwe.py --help\r\n```\r\n\r\nThis is related to issue #28581. After elaborating on the issue and not receiving a response, I have opened this new issue. If further information is required, please let me know how I may assist you."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29910", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29910/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29910/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29910/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29910", "id": 457400435, "node_id": "MDU6SXNzdWU0NTc0MDA0MzU=", "number": 29910, "title": "Android performance: CPU affinity", "user": {"login": "alexcohn", "id": 736435, "node_id": "MDQ6VXNlcjczNjQzNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/736435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcohn", "html_url": "https://github.com/alexcohn", "followers_url": "https://api.github.com/users/alexcohn/followers", "following_url": "https://api.github.com/users/alexcohn/following{/other_user}", "gists_url": "https://api.github.com/users/alexcohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcohn/subscriptions", "organizations_url": "https://api.github.com/users/alexcohn/orgs", "repos_url": "https://api.github.com/users/alexcohn/repos", "events_url": "https://api.github.com/users/alexcohn/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcohn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "karimnosseir", "id": 44206880, "node_id": "MDQ6VXNlcjQ0MjA2ODgw", "avatar_url": "https://avatars1.githubusercontent.com/u/44206880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karimnosseir", "html_url": "https://github.com/karimnosseir", "followers_url": "https://api.github.com/users/karimnosseir/followers", "following_url": "https://api.github.com/users/karimnosseir/following{/other_user}", "gists_url": "https://api.github.com/users/karimnosseir/gists{/gist_id}", "starred_url": "https://api.github.com/users/karimnosseir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karimnosseir/subscriptions", "organizations_url": "https://api.github.com/users/karimnosseir/orgs", "repos_url": "https://api.github.com/users/karimnosseir/repos", "events_url": "https://api.github.com/users/karimnosseir/events{/privacy}", "received_events_url": "https://api.github.com/users/karimnosseir/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "karimnosseir", "id": 44206880, "node_id": "MDQ6VXNlcjQ0MjA2ODgw", "avatar_url": "https://avatars1.githubusercontent.com/u/44206880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karimnosseir", "html_url": "https://github.com/karimnosseir", "followers_url": "https://api.github.com/users/karimnosseir/followers", "following_url": "https://api.github.com/users/karimnosseir/following{/other_user}", "gists_url": "https://api.github.com/users/karimnosseir/gists{/gist_id}", "starred_url": "https://api.github.com/users/karimnosseir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karimnosseir/subscriptions", "organizations_url": "https://api.github.com/users/karimnosseir/orgs", "repos_url": "https://api.github.com/users/karimnosseir/repos", "events_url": "https://api.github.com/users/karimnosseir/events{/privacy}", "received_events_url": "https://api.github.com/users/karimnosseir/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-06-18T10:53:28Z", "updated_at": "2020-01-24T22:51:52Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Mobile device: **Xiaomi A2 (8 core)**\r\n- TensorFlow installed from (source or binary): **source**\r\n- TensorFlow version (use command below): **master** at [6cf83ea] (2019/06/17)\r\n\r\n**Describe the current behavior**\r\n\r\nThe `benchmark_model` that we run on the device performs very differently when we choose CPU affinity. E.g. average inference time (32 bit, CPU only) for our custom .tflite model is 172ms for taskset=ff, 143ms for taskset=f0, and 281ms taskset=0f. We used num_threads=8, i.e. much more threads that we have cores available. When we increase num_threads=12, inference time further decreases. The change of min times is even more impressive: 125ms for ff, 114ms for f0, and 211ms for 0f. And 105ms for f0 with 12 threads, i.e. 3 threads per CPU. Further increasing num_threads does not deliver visible improvements.\r\n\r\nNote that we have no control on the actual number of threads used by interpreter->Invoke(), and their CPU affinity. \r\n\r\n**Describe the expected behavior**\r\n\r\nI would expect the _interpreter_ to choose the optimal threading model. The [document](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/tools/benchmark#reducing-variance-between-runs-on-android) reads:\r\n\r\n> Reducing variance between runs on Android.\r\n> When running benchmarks on these phones there can be significant variance between different runs of the benchmark.\r\n\r\nWhile benchmarks are nice, our real necessity is to run TFLite optimally in our app. But we cannot control thread CPU affinity or the _interpreter_?\r\n\r\nBut even if we could setup the _interpreter_ threading configuration beyond the generic _\"Set the number of threads available to the interpreter\"_,  across multiple devices, choosing the optimal taskset is beyond the capabilities of most development teams. This cannot be done by analyzing the cpuinfo: on our A2 development phone, all 8 cores are declared [almost](https://github.com/tensorflow/tensorflow/issues/29910#issuecomment-503589179) equal:\r\n\r\n```\r\nProcessor       : AArch64 Processor rev 4 (aarch64)\r\nprocessor       : 0\r\nBogoMIPS        : 38.40\r\nFeatures        : fp asimd evtstrm aes pmull sha1 sha2 crc32\r\nCPU implementer : 0x51\r\nCPU architecture: 8\r\nCPU variant     : 0xa\r\nCPU part        : 0x801\r\nCPU revision    : 4\r\n\r\nprocessor       : 1\r\nBogoMIPS        : 38.40\r\nFeatures        : fp asimd evtstrm aes pmull sha1 sha2 crc32\r\nCPU implementer : 0x51\r\nCPU architecture: 8\r\nCPU variant     : 0xa\r\nCPU part        : 0x801\r\nCPU revision    : 4\r\n\r\nprocessor       : 2\r\nBogoMIPS        : 38.40\r\nFeatures        : fp asimd evtstrm aes pmull sha1 sha2 crc32\r\nCPU implementer : 0x51\r\nCPU architecture: 8\r\nCPU variant     : 0xa\r\nCPU part        : 0x801\r\nCPU revision    : 4\r\n\r\nprocessor       : 3\r\nBogoMIPS        : 38.40\r\nFeatures        : fp asimd evtstrm aes pmull sha1 sha2 crc32\r\nCPU implementer : 0x51\r\nCPU architecture: 8\r\nCPU variant     : 0xa\r\nCPU part        : 0x801\r\nCPU revision    : 4\r\n\r\nprocessor       : 4\r\nBogoMIPS        : 38.40\r\nFeatures        : fp asimd evtstrm aes pmull sha1 sha2 crc32\r\nCPU implementer : 0x51\r\nCPU architecture: 8\r\nCPU variant     : 0xa\r\nCPU part        : 0x800\r\nCPU revision    : 2\r\n\r\nprocessor       : 5\r\nBogoMIPS        : 38.40\r\nFeatures        : fp asimd evtstrm aes pmull sha1 sha2 crc32\r\nCPU implementer : 0x51\r\nCPU architecture: 8\r\nCPU variant     : 0xa\r\nCPU part        : 0x800\r\nCPU revision    : 2\r\n\r\nprocessor       : 6\r\nBogoMIPS        : 38.40\r\nFeatures        : fp asimd evtstrm aes pmull sha1 sha2 crc32\r\nCPU implementer : 0x51\r\nCPU architecture: 8\r\nCPU variant     : 0xa\r\nCPU part        : 0x800\r\nCPU revision    : 2\r\n\r\nprocessor       : 7\r\nBogoMIPS        : 38.40\r\nFeatures        : fp asimd evtstrm aes pmull sha1 sha2 crc32\r\nCPU implementer : 0x51\r\nCPU architecture: 8\r\nCPU variant     : 0xa\r\nCPU part        : 0x800\r\nCPU revision    : 2\r\n\r\nHardware        : Qualcomm Technologies, Inc SDM660\r\n\r\n```\r\nMaybe I am missing something, but I see here no clue that the performance of **f0** will be so much different from **0f**.\r\n\r\nThe dynamic optimization should be performed once in a while, because the load on the device may change, either in the same process, or because of other processes/apps running along our app.\r\n\r\nIt could be useful to persist these findings, so that next time interpreter starts, it could have a reasonable starting point. I am not sure if this info is relevant for specific .tflite model, or for any model. In our experiments, the we only used similar FCNN networks, and their performance was effected by taskset just the same."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29907", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29907/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29907/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29907/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29907", "id": 457324288, "node_id": "MDU6SXNzdWU0NTczMjQyODg=", "number": 29907, "title": "\"Node 'Const' is not unique\" Using C++ api on windows to freeze graph", "user": {"login": "linyuhui", "id": 30251361, "node_id": "MDQ6VXNlcjMwMjUxMzYx", "avatar_url": "https://avatars0.githubusercontent.com/u/30251361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linyuhui", "html_url": "https://github.com/linyuhui", "followers_url": "https://api.github.com/users/linyuhui/followers", "following_url": "https://api.github.com/users/linyuhui/following{/other_user}", "gists_url": "https://api.github.com/users/linyuhui/gists{/gist_id}", "starred_url": "https://api.github.com/users/linyuhui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linyuhui/subscriptions", "organizations_url": "https://api.github.com/users/linyuhui/orgs", "repos_url": "https://api.github.com/users/linyuhui/repos", "events_url": "https://api.github.com/users/linyuhui/events{/privacy}", "received_events_url": "https://api.github.com/users/linyuhui/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1105108936, "node_id": "MDU6TGFiZWwxMTA1MTA4OTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:model", "name": "comp:model", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-06-18T08:12:54Z", "updated_at": "2020-03-07T09:00:19Z", "closed_at": null, "author_association": "NONE", "body": "I use *FreezeSavedModel* fucntion in source code https://github.com/tensorflow/tensorflow/blob/v1.12.0/tensorflow/cc/tools/freeze_saved_model.cc to freeze graph, and use tensorflow::WriteBinaryProto to export pb file. it report an error: \"Node 'Const' is not unique\". Then I check code in *FreezeSavedModel* fucntion, I find out in function *ConvertVariableToConstant*(https://github.com/tensorflow/tensorflow/blob/v1.12.0/tensorflow/cc/tools/freeze_saved_model.cc#L149),   after running \r\n```\r\n const_node->set_op(\"Const\");\r\n```\r\nthe op and name and device of const_node all are set to \"Const\". And I check the address of member op_, name_, device_ of const_node, they are all the same.\r\n\r\nSimilarly, if you run`const_node->set_name(variable_node.name());` , the op and name and device of const_node all are set to name of this variable_node.\r\n\r\n**System information**\r\n- Windows 10\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version (use command below): v1.12.0\r\n- Bazel version (if compiling from source): bazel 0.15\r\n- CUDA/cuDNN version: 10/7\r\n- GPU: 1050ti\r\n\r\nI use vs2015 update3 to compile tensorflow and add some msvc symbols manually.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29902", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29902/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29902/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29902/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29902", "id": 457183735, "node_id": "MDU6SXNzdWU0NTcxODM3MzU=", "number": 29902, "title": "InvalidArgumentError (see above for traceback): max_x must be larger than min_x", "user": {"login": "cincibratus", "id": 51839424, "node_id": "MDQ6VXNlcjUxODM5NDI0", "avatar_url": "https://avatars2.githubusercontent.com/u/51839424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cincibratus", "html_url": "https://github.com/cincibratus", "followers_url": "https://api.github.com/users/cincibratus/followers", "following_url": "https://api.github.com/users/cincibratus/following{/other_user}", "gists_url": "https://api.github.com/users/cincibratus/gists{/gist_id}", "starred_url": "https://api.github.com/users/cincibratus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cincibratus/subscriptions", "organizations_url": "https://api.github.com/users/cincibratus/orgs", "repos_url": "https://api.github.com/users/cincibratus/repos", "events_url": "https://api.github.com/users/cincibratus/events{/privacy}", "received_events_url": "https://api.github.com/users/cincibratus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1162044565, "node_id": "MDU6TGFiZWwxMTYyMDQ0NTY1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.12", "name": "TF 1.12", "color": "c2e0c6", "default": false, "description": "Issues related to TF 1.12"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1105108936, "node_id": "MDU6TGFiZWwxMTA1MTA4OTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:model", "name": "comp:model", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-17T22:54:31Z", "updated_at": "2019-06-25T18:34:45Z", "closed_at": null, "author_association": "NONE", "body": "Please go to Stack Overflow for help and support:\r\n\r\nhttps://stackoverflow.com/questions/tagged/tensorflow\r\n\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: **NO**\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: **Ubuntu 14.04**\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**: NO\r\n- **TensorFlow installed from (source or binary)**: Source \r\n- **TensorFlow version (use command below)**: **r.12**\r\n- **Python version**: **2.7.12**\r\n- **Bazel version (if compiling from source)**: **0.15.0**\r\n- **GCC/Compiler version (if compiling from source)**: None\r\n- **CUDA/cuDNN version**: None\r\n- **GPU model and memory**: None\r\n- **Exact command to reproduce**:\r\n\r\nYou can collect some of this information using our environment capture script:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\r\n\r\nYou can obtain the TensorFlow version with:\r\n\r\n```bash\r\npython -c \"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"\r\n```\r\n\r\n### Describe the problem\r\nI have reinforcement learning model which I am trying to Quantize using transform_graph. Transform graph generates quantized graph but this quantized graph returns an error while running.\r\nError: Max_x for QuantizedAdd must be larger than min_x.\r\n\r\nReinforcement Learning model runs OK without quantization. I tried converting to tflite, but tflite doesn't support some of the ops used in the RL model.\r\n\r\nIs there a workaround for max_x and min_x checks. \r\n\r\n### Source code / logs\r\nInvalidArgumentError (see above for traceback): max_x must be larger than min_x.\r\n         [[Node: add_1/eightbit = QuantizedAdd[T1=DT_QUINT8, T2=DT_QUINT8, Toutput=DT_QINT32, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"](add_1_eightbit/truediv/quantize, add_eightbit/add_1/y/quantize, add_1_eightbit/truediv/quantize:1, add_1_eightbit/truediv/quantize:2, add_eightbit/add_1/y/quantize:1, add_eightbit/add_1/y/quantize:2)]]\r\n         [[Node: add_1/_97 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device_incarnation=1, tensor_name=\"edge_312_add_1\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"]()]] "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29896", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29896/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29896/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29896/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29896", "id": 457168881, "node_id": "MDU6SXNzdWU0NTcxNjg4ODE=", "number": 29896, "title": "Keras Colab TPU Error when compiling and fitting a pre-trained model in 1.14", "user": {"login": "llandry16", "id": 50455219, "node_id": "MDQ6VXNlcjUwNDU1MjE5", "avatar_url": "https://avatars0.githubusercontent.com/u/50455219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llandry16", "html_url": "https://github.com/llandry16", "followers_url": "https://api.github.com/users/llandry16/followers", "following_url": "https://api.github.com/users/llandry16/following{/other_user}", "gists_url": "https://api.github.com/users/llandry16/gists{/gist_id}", "starred_url": "https://api.github.com/users/llandry16/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llandry16/subscriptions", "organizations_url": "https://api.github.com/users/llandry16/orgs", "repos_url": "https://api.github.com/users/llandry16/repos", "events_url": "https://api.github.com/users/llandry16/events{/privacy}", "received_events_url": "https://api.github.com/users/llandry16/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1097541661, "node_id": "MDU6TGFiZWwxMDk3NTQxNjYx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tpus", "name": "comp:tpus", "color": "0052cc", "default": false, "description": "tpu, tpuestimator"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rxsang", "id": 6399870, "node_id": "MDQ6VXNlcjYzOTk4NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/6399870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rxsang", "html_url": "https://github.com/rxsang", "followers_url": "https://api.github.com/users/rxsang/followers", "following_url": "https://api.github.com/users/rxsang/following{/other_user}", "gists_url": "https://api.github.com/users/rxsang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rxsang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rxsang/subscriptions", "organizations_url": "https://api.github.com/users/rxsang/orgs", "repos_url": "https://api.github.com/users/rxsang/repos", "events_url": "https://api.github.com/users/rxsang/events{/privacy}", "received_events_url": "https://api.github.com/users/rxsang/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rxsang", "id": 6399870, "node_id": "MDQ6VXNlcjYzOTk4NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/6399870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rxsang", "html_url": "https://github.com/rxsang", "followers_url": "https://api.github.com/users/rxsang/followers", "following_url": "https://api.github.com/users/rxsang/following{/other_user}", "gists_url": "https://api.github.com/users/rxsang/gists{/gist_id}", "starred_url": "https://api.github.com/users/rxsang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rxsang/subscriptions", "organizations_url": "https://api.github.com/users/rxsang/orgs", "repos_url": "https://api.github.com/users/rxsang/repos", "events_url": "https://api.github.com/users/rxsang/events{/privacy}", "received_events_url": "https://api.github.com/users/rxsang/received_events", "type": "User", "site_admin": false}, {"login": "pavithrasv", "id": 13326758, "node_id": "MDQ6VXNlcjEzMzI2NzU4", "avatar_url": "https://avatars0.githubusercontent.com/u/13326758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pavithrasv", "html_url": "https://github.com/pavithrasv", "followers_url": "https://api.github.com/users/pavithrasv/followers", "following_url": "https://api.github.com/users/pavithrasv/following{/other_user}", "gists_url": "https://api.github.com/users/pavithrasv/gists{/gist_id}", "starred_url": "https://api.github.com/users/pavithrasv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pavithrasv/subscriptions", "organizations_url": "https://api.github.com/users/pavithrasv/orgs", "repos_url": "https://api.github.com/users/pavithrasv/repos", "events_url": "https://api.github.com/users/pavithrasv/events{/privacy}", "received_events_url": "https://api.github.com/users/pavithrasv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2019-06-17T22:02:51Z", "updated_at": "2019-09-04T16:54:06Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Google Colab\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):\r\n- TensorFlow version (use command below): 1.14\r\n- Python version: 3.6\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\nWhen doing transfer learning using pre-trained keras model (Xception per say) with the imagenet weights and adding a classification layer there is an error when fitting. If you use no weights there is no error during fitting, but if you fine tune the model, re-compile it and fit again the same error pops.\r\n\r\n**Describe the expected behavior**\r\nNo error, it was working in 1.13. \r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\nThe easiest way to reproduce the problem is using the official notebook : \r\nhttps://colab.research.google.com/github/tensorflow/tpu/blob/master/tools/colab/fashion_mnist.ipynb\r\nand re-compiling and fitting a second time \r\n\r\n```\r\nimport os\r\n\r\nresolver = tf.contrib.cluster_resolver.TPUClusterResolver('grpc://' + os.environ['COLAB_TPU_ADDR'])\r\ntf.contrib.distribute.initialize_tpu_system(resolver)\r\nstrategy = tf.contrib.distribute.TPUStrategy(resolver)\r\n\r\nwith strategy.scope():\r\n  model = create_model()\r\n  model.compile(\r\n      optimizer=tf.keras.optimizers.Adam(learning_rate=1e-3),\r\n      loss='sparse_categorical_crossentropy',\r\n      metrics=['sparse_categorical_accuracy'])\r\n\r\nmodel.fit(\r\n    x_train.astype(np.float32), y_train.astype(np.float32),\r\n    epochs=17,\r\n    steps_per_epoch=60,\r\n    validation_data=(x_test.astype(np.float32), y_test.astype(np.float32)),\r\n    validation_freq=17\r\n)\r\n\r\n##This part was added##\r\nprint('Fine tuning')\r\n\r\nwith strategy.scope():\r\n  model.compile(\r\n      optimizer=tf.keras.optimizers.Adam(learning_rate=1e-4),\r\n      loss='sparse_categorical_crossentropy',\r\n      metrics=['sparse_categorical_accuracy'])\r\n\r\nmodel.fit(\r\n    x_train.astype(np.float32), y_train.astype(np.float32),\r\n    epochs=17,\r\n    steps_per_epoch=60,\r\n    validation_data=(x_test.astype(np.float32), y_test.astype(np.float32)),\r\n    validation_freq=17\r\n)\r\n\r\n\r\nmodel.save_weights('./fashion_mnist.h5', overwrite=True)\r\n```\r\n\r\n**Other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\nAnd it leads to this error\r\nW0617 21:41:40.701483 140301503657856 tpu_strategy_util.py:56] TPU system %s has already been initialized. Reinitializing the TPU can cause previously created variables on TPU to be lost.\r\nEpoch 1/17\r\n60/60 [==============================] - 5s 81ms/step - loss: 1.0900 - sparse_categorical_accuracy: 0.6855\r\nEpoch 2/17\r\n60/60 [==============================] - 1s 24ms/step - loss: 0.5287 - sparse_categorical_accuracy: 0.8202\r\nEpoch 3/17\r\n60/60 [==============================] - 2s 25ms/step - loss: 0.4317 - sparse_categorical_accuracy: 0.8518\r\nEpoch 4/17\r\n60/60 [==============================] - 1s 25ms/step - loss: 0.3728 - sparse_categorical_accuracy: 0.8692\r\nEpoch 5/17\r\n60/60 [==============================] - 1s 25ms/step - loss: 0.3453 - sparse_categorical_accuracy: 0.8776\r\nEpoch 6/17\r\n60/60 [==============================] - 1s 24ms/step - loss: 0.3080 - sparse_categorical_accuracy: 0.8898\r\nEpoch 7/17\r\n60/60 [==============================] - 1s 24ms/step - loss: 0.2892 - sparse_categorical_accuracy: 0.8954\r\nEpoch 8/17\r\n60/60 [==============================] - 1s 24ms/step - loss: 0.2641 - sparse_categorical_accuracy: 0.9044\r\nEpoch 9/17\r\n60/60 [==============================] - 1s 25ms/step - loss: 0.2485 - sparse_categorical_accuracy: 0.9093\r\nEpoch 10/17\r\n60/60 [==============================] - 1s 24ms/step - loss: 0.2337 - sparse_categorical_accuracy: 0.9135\r\nEpoch 11/17\r\n60/60 [==============================] - 1s 25ms/step - loss: 0.2236 - sparse_categorical_accuracy: 0.9170\r\nEpoch 12/17\r\n60/60 [==============================] - 1s 25ms/step - loss: 0.2081 - sparse_categorical_accuracy: 0.9232\r\nEpoch 13/17\r\n60/60 [==============================] - 1s 25ms/step - loss: 0.1962 - sparse_categorical_accuracy: 0.9281\r\nEpoch 14/17\r\n60/60 [==============================] - 2s 25ms/step - loss: 0.1816 - sparse_categorical_accuracy: 0.9318\r\nEpoch 15/17\r\n60/60 [==============================] - 1s 24ms/step - loss: 0.1717 - sparse_categorical_accuracy: 0.9355\r\nEpoch 16/17\r\n60/60 [==============================] - 1s 24ms/step - loss: 0.1666 - sparse_categorical_accuracy: 0.9375\r\nEpoch 17/17\r\n10/10 [==============================] - 7s 720ms/step\r\n10/10 [==============================] - 7s 720ms/step\r\n60/60 [==============================] - 13s 216ms/step - loss: 0.1535 - sparse_categorical_accuracy: 0.9424 - val_loss: 0.2364 - val_sparse_categorical_accuracy: 0.9235\r\nFine tuning\r\nEpoch 1/17\r\n\r\nNotFoundErrorTraceback (most recent call last)\r\n<ipython-input-5-ca82800c4c4f> in <module>()\r\n     33     steps_per_epoch=60,\r\n     34     validation_data=(x_test.astype(np.float32), y_test.astype(np.float32)),\r\n---> 35     validation_freq=17\r\n     36 )\r\n     37 \r\n\r\n7 frames\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/keras/engine/training.pyc in fit(self, x, y, batch_size, epochs, verbose, callbacks, validation_split, validation_data, shuffle, class_weight, sample_weight, initial_epoch, steps_per_epoch, validation_steps, validation_freq, max_queue_size, workers, use_multiprocessing, **kwargs)\r\n    647             steps_per_epoch=steps_per_epoch,\r\n    648             validation_steps=validation_steps,\r\n--> 649             validation_freq=validation_freq)\r\n    650 \r\n    651     batch_size = self._validate_or_infer_batch_size(\r\n\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/keras/engine/training_distributed.pyc in fit_distributed(model, x, y, batch_size, epochs, verbose, callbacks, validation_split, validation_data, shuffle, class_weight, sample_weight, initial_epoch, steps_per_epoch, validation_steps, validation_freq)\r\n    126         steps_per_epoch=steps_per_epoch,\r\n    127         validation_steps=validation_steps,\r\n--> 128         validation_freq=validation_freq)\r\n    129   else:\r\n    130     return training_arrays.fit_loop(\r\n\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/keras/engine/training_distributed.pyc in experimental_tpu_fit_loop(model, dataset, epochs, verbose, callbacks, initial_epoch, steps_per_epoch, val_dataset, validation_steps, validation_freq)\r\n    412         prev_step_count = step_count\r\n    413       try:\r\n--> 414         _, outputs = K.batch_get_value([train_op, output_tensors])\r\n    415       except errors.OutOfRangeError:\r\n    416         logging.warning('Your dataset iterator ran out of data; '\r\n\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/keras/backend.pyc in batch_get_value(tensors)\r\n   3008     raise RuntimeError('Cannot get value inside Tensorflow graph function.')\r\n   3009   if tensors:\r\n-> 3010     return get_session(tensors).run(tensors)\r\n   3011   else:\r\n   3012     return []\r\n\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in run(self, fetches, feed_dict, options, run_metadata)\r\n    948     try:\r\n    949       result = self._run(None, fetches, feed_dict, options_ptr,\r\n--> 950                          run_metadata_ptr)\r\n    951       if run_metadata:\r\n    952         proto_data = tf_session.TF_GetBuffer(run_metadata_ptr)\r\n\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in _run(self, handle, fetches, feed_dict, options, run_metadata)\r\n   1171     if final_fetches or final_targets or (handle and feed_dict_tensor):\r\n   1172       results = self._do_run(handle, final_targets, final_fetches,\r\n-> 1173                              feed_dict_tensor, options, run_metadata)\r\n   1174     else:\r\n   1175       results = []\r\n\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in _do_run(self, handle, target_list, fetch_list, feed_dict, options, run_metadata)\r\n   1348     if handle is None:\r\n   1349       return self._do_call(_run_fn, feeds, fetches, targets, options,\r\n-> 1350                            run_metadata)\r\n   1351     else:\r\n   1352       return self._do_call(_prun_fn, handle, feeds, fetches)\r\n\r\n/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.pyc in _do_call(self, fn, *args)\r\n   1368           pass\r\n   1369       message = error_interpolation.interpolate(message, self._graph)\r\n-> 1370       raise type(e)(node_def, op, message)\r\n   1371 \r\n   1372   def _extend_graph(self):\r\n\r\nNotFoundError: From /job:worker/replica:0/task:0:\r\nResource worker/batch_normalization_3_1/moving_mean/replica_7/N10tensorflow3VarE does not exist.\r\n\t [[node TPUReplicateMetadata_5 (defined at <ipython-input-5-ca82800c4c4f>:35) ]]\r\n\r\nOriginal stack trace for u'TPUReplicateMetadata_5':\r\n  File \"/usr/lib/python2.7/runpy.py\", line 174, in _run_module_as_main\r\n    \"__main__\", fname, loader, pkg_name)\r\n  File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\r\n    exec code in run_globals\r\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel_launcher.py\", line 16, in <module>\r\n    app.launch_new_instance()\r\n  File \"/usr/local/lib/python2.7/dist-packages/traitlets/config/application.py\", line 658, in launch_instance\r\n    app.start()\r\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelapp.py\", line 477, in start\r\n    ioloop.IOLoop.instance().start()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/ioloop.py\", line 888, in start\r\n    handler_func(fd_obj, events)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py\", line 277, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/zmq/eventloop/zmqstream.py\", line 450, in _handle_events\r\n    self._handle_recv()\r\n  File \"/usr/local/lib/python2.7/dist-packages/zmq/eventloop/zmqstream.py\", line 480, in _handle_recv\r\n    self._run_callback(callback, msg)\r\n  File \"/usr/local/lib/python2.7/dist-packages/zmq/eventloop/zmqstream.py\", line 432, in _run_callback\r\n    callback(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py\", line 277, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelbase.py\", line 283, in dispatcher\r\n    return self.dispatch_shell(stream, msg)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelbase.py\", line 235, in dispatch_shell\r\n    handler(stream, idents, msg)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/kernelbase.py\", line 399, in execute_request\r\n    user_expressions, allow_stdin)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/ipkernel.py\", line 196, in do_execute\r\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ipykernel/zmqshell.py\", line 533, in run_cell\r\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\", line 2718, in run_cell\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\", line 2822, in run_ast_nodes\r\n    if self.run_code(code, result):\r\n  File \"/usr/local/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\", line 2882, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-5-ca82800c4c4f>\", line 35, in <module>\r\n    validation_freq=17\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/keras/engine/training.py\", line 649, in fit\r\n    validation_freq=validation_freq)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/keras/engine/training_distributed.py\", line 128, in fit_distributed\r\n    validation_freq=validation_freq)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/keras/engine/training_distributed.py\", line 367, in experimental_tpu_fit_loop\r\n    initial_loop_values=initial_loop_values)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/distribute/distribute_lib.py\", line 1501, in experimental_run_steps_on_iterator\r\n    initial_loop_values)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/distribute/tpu_strategy.py\", line 416, in _experimental_run_steps_on_iterator\r\n    replicate_outputs = rewrite_fn()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/distribute/tpu_strategy.py\", line 397, in rewrite_fn\r\n    replicate_outputs = tpu.replicate(run_fn, replicate_inputs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/tpu/tpu.py\", line 592, in replicate\r\n    maximum_shapes=maximum_shapes)[1]\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/tpu/tpu.py\", line 854, in split_compile_and_replicate\r\n    num_replicas=num_replicas, use_tpu=use_tpu, **metadata_kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_tpu_ops.py\", line 6039, in tpu_replicate_metadata\r\n    name=name)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py\", line 788, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/util/deprecation.py\", line 507, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 3616, in create_op\r\n    op_def=op_def)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py\", line 2005, in __init__\r\n    self._traceback = tf_stack.extract_stack()"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29895", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29895/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29895/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29895/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/29895", "id": 457165729, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjg5MDM0NDEw", "number": 29895, "title": "bug in tf.histogram_fixed_width_bins", "user": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 1178505529, "node_id": "MDU6TGFiZWwxMTc4NTA1NTI5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/prtype:bugfix", "name": "prtype:bugfix", "color": "159b2e", "default": false, "description": "PR to fix a bug"}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}, {"id": 474725938, "node_id": "MDU6TGFiZWw0NzQ3MjU5Mzg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stalled", "name": "stalled", "color": "d4c5f9", "default": false, "description": null}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2019-06-17T21:53:20Z", "updated_at": "2020-03-15T00:42:55Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/29895", "html_url": "https://github.com/tensorflow/tensorflow/pull/29895", "diff_url": "https://github.com/tensorflow/tensorflow/pull/29895.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/29895.patch"}, "body": "This PR is to correct a bug that is present in tf.histogram_fixed_width_bins. The issue was described in https://github.com/tensorflow/tensorflow/issues/29661.\r\n\r\nWhen the elements of `value_range` are same and matches with one or more of the elements in input array `values`, then the index of the element will be outside `nbins`."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29890", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29890/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29890/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29890/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29890", "id": 457132816, "node_id": "MDU6SXNzdWU0NTcxMzI4MTY=", "number": 29890, "title": "[TF 2.0 API Docs] tf.keras.backend.count_params", "user": {"login": "lkmandy", "id": 17765231, "node_id": "MDQ6VXNlcjE3NzY1MjMx", "avatar_url": "https://avatars0.githubusercontent.com/u/17765231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lkmandy", "html_url": "https://github.com/lkmandy", "followers_url": "https://api.github.com/users/lkmandy/followers", "following_url": "https://api.github.com/users/lkmandy/following{/other_user}", "gists_url": "https://api.github.com/users/lkmandy/gists{/gist_id}", "starred_url": "https://api.github.com/users/lkmandy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lkmandy/subscriptions", "organizations_url": "https://api.github.com/users/lkmandy/orgs", "repos_url": "https://api.github.com/users/lkmandy/repos", "events_url": "https://api.github.com/users/lkmandy/events{/privacy}", "received_events_url": "https://api.github.com/users/lkmandy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-17T20:26:58Z", "updated_at": "2019-06-19T20:34:07Z", "closed_at": null, "author_association": "NONE", "body": "## System Information\r\nTensorflow version 2.9\r\n\r\n## URL(s) with the issue:\r\nhttps://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/backend/count_params\r\n\r\n## Description of issue (what needs changing):\r\n\r\n### Clear description\r\nThe description is not clear, no details on how to use this symbol\r\n\r\n### Raises listed and defined\r\nNo errors have been defined \r\n\r\n### Request visuals, if applicable\r\nNo visuals? an example using arrays could be represented in visual form for clarification\r\n\r\n### Submit a pull request?\r\nNo\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29887", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29887/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29887/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29887/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29887", "id": 457118852, "node_id": "MDU6SXNzdWU0NTcxMTg4NTI=", "number": 29887, "title": "TensorFlow Lite Op Request", "user": {"login": "xuxiyang1993", "id": 29387830, "node_id": "MDQ6VXNlcjI5Mzg3ODMw", "avatar_url": "https://avatars1.githubusercontent.com/u/29387830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xuxiyang1993", "html_url": "https://github.com/xuxiyang1993", "followers_url": "https://api.github.com/users/xuxiyang1993/followers", "following_url": "https://api.github.com/users/xuxiyang1993/following{/other_user}", "gists_url": "https://api.github.com/users/xuxiyang1993/gists{/gist_id}", "starred_url": "https://api.github.com/users/xuxiyang1993/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xuxiyang1993/subscriptions", "organizations_url": "https://api.github.com/users/xuxiyang1993/orgs", "repos_url": "https://api.github.com/users/xuxiyang1993/repos", "events_url": "https://api.github.com/users/xuxiyang1993/events{/privacy}", "received_events_url": "https://api.github.com/users/xuxiyang1993/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jdduke", "id": 479117, "node_id": "MDQ6VXNlcjQ3OTExNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/479117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdduke", "html_url": "https://github.com/jdduke", "followers_url": "https://api.github.com/users/jdduke/followers", "following_url": "https://api.github.com/users/jdduke/following{/other_user}", "gists_url": "https://api.github.com/users/jdduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdduke/subscriptions", "organizations_url": "https://api.github.com/users/jdduke/orgs", "repos_url": "https://api.github.com/users/jdduke/repos", "events_url": "https://api.github.com/users/jdduke/events{/privacy}", "received_events_url": "https://api.github.com/users/jdduke/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-06-17T19:51:22Z", "updated_at": "2019-10-21T16:22:59Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution: (macOS Mojave 10.14.4)\r\n- TensorFlow installed from: (pip3)\r\n- TensorFlow version (or github SHA if from source): '1.13.1'\r\n\r\n\r\n**Provide the text output from tflite_convert**\r\n\r\n```\r\nSome of the operators in the model are not supported by the standard TensorFlow Lite runtime. If those are native TensorFlow operators, you might be able to use the extended runtime by passing --enable_select_tf_ops, or by setting target_ops=TFLITE_BUILTINS,SELECT_TF_OPS when calling tf.lite.TFLiteConverter(). Otherwise, if you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.lite.TFLiteConverter(). Here is a list of builtin operators you are using: ADD, CAST, CONCATENATION, CONV_2D, EXP, EXPAND_DIMS, FILL, GATHER, GREATER, LOGISTIC, MAX_POOL_2D, MUL, PACK, PAD, RELU, RESHAPE, RESIZE_BILINEAR, SHAPE, STRIDED_SLICE, SUB, TILE, TRANSPOSE. Here is a list of operators for which you will need custom implementations: GatherNd, NonMaxSuppressionV3, ScatterNd, Size, Where.\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/bin/toco_from_protos\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/lite/toco/python/toco_from_protos.py\", line 59, in main\r\n    app.run(main=execute, argv=[sys.argv[0]] + unparsed)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/python/platform/app.py\", line 125, in run\r\n    _sys.exit(main(argv))\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/tensorflow/lite/toco/python/toco_from_protos.py\", line 33, in execute\r\n    output_str = tensorflow_wrap_toco.TocoConvert(model_str, toco_str, input_str)\r\nException: We are continually in the process of adding support to TensorFlow Lite for more ops. It would be helpful if you could inform us of how this conversion went by opening a github issue at https://github.com/tensorflow/tensorflow/issues/new?template=40-tflite-op-request.md\r\n and pasting the following:\r\n\r\nSome of the operators in the model are not supported by the standard TensorFlow Lite runtime. If those are native TensorFlow operators, you might be able to use the extended runtime by passing --enable_select_tf_ops, or by setting target_ops=TFLITE_BUILTINS,SELECT_TF_OPS when calling tf.lite.TFLiteConverter(). Otherwise, if you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.lite.TFLiteConverter(). Here is a list of builtin operators you are using: ADD, CAST, CONCATENATION, CONV_2D, EXP, EXPAND_DIMS, FILL, GATHER, GREATER, LOGISTIC, MAX_POOL_2D, MUL, PACK, PAD, RELU, RESHAPE, RESIZE_BILINEAR, SHAPE, STRIDED_SLICE, SUB, TILE, TRANSPOSE. Here is a list of operators for which you will need custom implementations: GatherNd, NonMaxSuppressionV3, ScatterNd, Size, Where.\r\n\r\n\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nAlso, please include a link to a GraphDef or the model if possible.\r\n\r\n**Any other info / logs**\r\n\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29879", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29879/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29879/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29879/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29879", "id": 457032292, "node_id": "MDU6SXNzdWU0NTcwMzIyOTI=", "number": 29879, "title": "SequenceFeatures layer requires a SparseTensor... only to convert it to a regular Tensor", "user": {"login": "durandg12", "id": 45902885, "node_id": "MDQ6VXNlcjQ1OTAyODg1", "avatar_url": "https://avatars0.githubusercontent.com/u/45902885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/durandg12", "html_url": "https://github.com/durandg12", "followers_url": "https://api.github.com/users/durandg12/followers", "following_url": "https://api.github.com/users/durandg12/following{/other_user}", "gists_url": "https://api.github.com/users/durandg12/gists{/gist_id}", "starred_url": "https://api.github.com/users/durandg12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/durandg12/subscriptions", "organizations_url": "https://api.github.com/users/durandg12/orgs", "repos_url": "https://api.github.com/users/durandg12/repos", "events_url": "https://api.github.com/users/durandg12/events{/privacy}", "received_events_url": "https://api.github.com/users/durandg12/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-06-17T16:36:21Z", "updated_at": "2020-03-06T20:16:16Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): no\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): macOS 10.13.6\r\n- TensorFlow installed from (source or binary): from pip install\r\n- TensorFlow version (use command below): v1.12.1-3259-gf59745a381 2.0.0-beta0\r\n- Python version: v3.6.7:6ec5cf24b7, Oct 20 2018, 03:02:14\r\n\r\n**Describe the current behavior**\r\n\r\nWhen I call a `SequenceFeatures` layer on a dense tensor, like a tensor produced with numpy, a `TypeError` is raised because `SequenceFeatures` `call` method expects a `SparseTensor` as input. When looking at the log it appears that the function producing the `TypeError` is `sparse_tensor_to_dense`. So, `SequenceFeatures` does expect a `SparseTensor`, only to convert it to a dense `Tensor`, and fails if given a `Tensor` that is already dense.\r\n\r\n**Describe the expected behavior**\r\n\r\nI think `SequenceFeatures` `call` should accepts dense `Tensor` objects and just don't try to convert them from sparse to dense.\r\n\r\n**Code to reproduce the issue**\r\n\r\n```\r\nimport numpy as np\r\nimport tensorflow as tf\r\nfrom tensorflow.feature_column import sequence_numeric_column\r\nfrom tensorflow.keras.experimental import SequenceFeatures\r\n\r\n#print(tf.version.GIT_VERSION, tf.version.VERSION)\r\n\r\nseq_fc = sequence_numeric_column('feature1')\r\nseq_layer = SequenceFeatures(seq_fc)\r\n\r\nbatch_size, sequence_length = 3, 5\r\nraw_data = np.array(range(batch_size * sequence_length), dtype=np.float32)\r\ndata = np.reshape(raw_data, (batch_size, sequence_length))\r\n\r\ndict_data = {'feature1': data}\r\nseq_layer(dict_data)\r\n```\r\nThis produces the following error log:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-5-aa46f578fa6e> in <module>\r\n      1 dict_data = {'feature1': data}\r\n----> 2 seq_layer(dict_data)\r\n\r\n~/Documents/tf2beta/lib/python3.6/site-packages/tensorflow/python/keras/engine/base_layer.py in __call__(self, inputs, *args, **kwargs)\r\n    710           with base_layer_utils.autocast_context_manager(\r\n    711               input_list, self._mixed_precision_policy.should_cast_variables):\r\n--> 712             outputs = self.call(inputs, *args, **kwargs)\r\n    713           self._handle_activity_regularization(inputs, outputs)\r\n    714           self._set_mask_metadata(inputs, outputs, input_masks)\r\n\r\n~/Documents/tf2beta/lib/python3.6/site-packages/tensorflow/python/feature_column/sequence_feature_column.py in call(self, features)\r\n    138       with ops.name_scope(column.name):\r\n    139         dense_tensor, sequence_length = column.get_sequence_dense_tensor(\r\n--> 140             transformation_cache, self._state_manager)\r\n    141         # Flattens the final dimension to produce a 3D Tensor.\r\n    142         output_tensors.append(self._process_dense_tensor(column, dense_tensor))\r\n\r\n~/Documents/tf2beta/lib/python3.6/site-packages/tensorflow/python/feature_column/sequence_feature_column.py in get_sequence_dense_tensor(self, transformation_cache, state_manager)\r\n    553     sp_tensor = transformation_cache.get(self, state_manager)\r\n    554     dense_tensor = sparse_ops.sparse_tensor_to_dense(\r\n--> 555         sp_tensor, default_value=self.default_value)\r\n    556     # Reshape into [batch_size, T, variable_shape].\r\n    557     dense_shape = array_ops.concat(\r\n\r\n~/Documents/tf2beta/lib/python3.6/site-packages/tensorflow/python/ops/sparse_ops.py in sparse_tensor_to_dense(sp_input, default_value, validate_indices, name)\r\n   1447     TypeError: If `sp_input` is not a `SparseTensor`.\r\n   1448   \"\"\"\r\n-> 1449   sp_input = _convert_to_sparse_tensor(sp_input)\r\n   1450 \r\n   1451   return gen_sparse_ops.sparse_to_dense(\r\n\r\n~/Documents/tf2beta/lib/python3.6/site-packages/tensorflow/python/ops/sparse_ops.py in _convert_to_sparse_tensor(sp_input)\r\n     66     return sparse_tensor.SparseTensor.from_value(sp_input)\r\n     67   if not isinstance(sp_input, sparse_tensor.SparseTensor):\r\n---> 68     raise TypeError(\"Input must be a SparseTensor.\")\r\n     69   return sp_input\r\n     70 \r\n\r\nTypeError: Input must be a SparseTensor.\r\n```\r\n\r\n**Workaround**\r\n\r\nConverting the input to sparse before calling `SequenceFeatures` does make the code work:\r\n\r\n```\r\nimport numpy as np\r\nimport tensorflow as tf\r\nfrom tensorflow.feature_column import sequence_numeric_column\r\nfrom tensorflow.keras.experimental import SequenceFeatures\r\n\r\n#print(tf.version.GIT_VERSION, tf.version.VERSION)\r\n\r\nseq_fc = sequence_numeric_column('feature1')\r\nseq_layer = SequenceFeatures(seq_fc)\r\n\r\nbatch_size, sequence_length = 3, 5\r\nraw_data = np.array(range(batch_size * sequence_length), dtype=np.float32)\r\ndata = np.reshape(raw_data, (batch_size, sequence_length))\r\n\r\n#####\r\n# convert the input tensor in a sparse tensor\r\nzero = tf.constant(0, dtype=tf.float32)\r\nwhere = tf.not_equal(data, zero)\r\nindices = tf.where(where)\r\nvalues = tf.gather_nd(data, indices)\r\nsparse = tf.SparseTensor(indices, values, data.shape)\r\ndict_data_but_sparse = {'feature1': sparse}\r\n#####\r\n\r\nseq_layer(dict_data_but_sparse)\r\n```\r\n\r\ncorrectly outputs the following:\r\n\r\n```\r\n(<tf.Tensor: id=367, shape=(3, 5, 1), dtype=float32, numpy=\r\n array([[[ 0.],\r\n         [ 1.],\r\n         [ 2.],\r\n         [ 3.],\r\n         [ 4.]],\r\n \r\n        [[ 5.],\r\n         [ 6.],\r\n         [ 7.],\r\n         [ 8.],\r\n         [ 9.]],\r\n \r\n        [[10.],\r\n         [11.],\r\n         [12.],\r\n         [13.],\r\n         [14.]]], dtype=float32)>,\r\n <tf.Tensor: id=355, shape=(3,), dtype=int64, numpy=array([5, 5, 5])>)\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29877", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29877/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29877/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29877/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29877", "id": 456962060, "node_id": "MDU6SXNzdWU0NTY5NjIwNjA=", "number": 29877, "title": "TFRecord guide doesn't show how to serialize and parse tensors", "user": {"login": "bionicles", "id": 24532336, "node_id": "MDQ6VXNlcjI0NTMyMzM2", "avatar_url": "https://avatars2.githubusercontent.com/u/24532336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bionicles", "html_url": "https://github.com/bionicles", "followers_url": "https://api.github.com/users/bionicles/followers", "following_url": "https://api.github.com/users/bionicles/following{/other_user}", "gists_url": "https://api.github.com/users/bionicles/gists{/gist_id}", "starred_url": "https://api.github.com/users/bionicles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bionicles/subscriptions", "organizations_url": "https://api.github.com/users/bionicles/orgs", "repos_url": "https://api.github.com/users/bionicles/repos", "events_url": "https://api.github.com/users/bionicles/events{/privacy}", "received_events_url": "https://api.github.com/users/bionicles/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1114343535, "node_id": "MDU6TGFiZWwxMTE0MzQzNTM1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:data", "name": "comp:data", "color": "0052cc", "default": false, "description": "tf.data related issues"}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jsimsa", "id": 1072079, "node_id": "MDQ6VXNlcjEwNzIwNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1072079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsimsa", "html_url": "https://github.com/jsimsa", "followers_url": "https://api.github.com/users/jsimsa/followers", "following_url": "https://api.github.com/users/jsimsa/following{/other_user}", "gists_url": "https://api.github.com/users/jsimsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsimsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsimsa/subscriptions", "organizations_url": "https://api.github.com/users/jsimsa/orgs", "repos_url": "https://api.github.com/users/jsimsa/repos", "events_url": "https://api.github.com/users/jsimsa/events{/privacy}", "received_events_url": "https://api.github.com/users/jsimsa/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsimsa", "id": 1072079, "node_id": "MDQ6VXNlcjEwNzIwNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1072079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsimsa", "html_url": "https://github.com/jsimsa", "followers_url": "https://api.github.com/users/jsimsa/followers", "following_url": "https://api.github.com/users/jsimsa/following{/other_user}", "gists_url": "https://api.github.com/users/jsimsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsimsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsimsa/subscriptions", "organizations_url": "https://api.github.com/users/jsimsa/orgs", "repos_url": "https://api.github.com/users/jsimsa/repos", "events_url": "https://api.github.com/users/jsimsa/events{/privacy}", "received_events_url": "https://api.github.com/users/jsimsa/received_events", "type": "User", "site_admin": false}, {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2019-06-17T14:17:59Z", "updated_at": "2020-02-21T18:43:04Z", "closed_at": null, "author_association": "NONE", "body": "## URL(s) with the issue:\r\n\r\nPlease provide a link to the documentation entry, for example:\r\nhttps://www.tensorflow.org/beta/tutorials/load_data/tf_records#creating_a_tfexample_message\r\nhttps://www.tensorflow.org/tutorials/load_data/tf_records\r\n\r\n## Description of issue (what needs changing):\r\nthe TFRecord docs don't show how to serialize and parse tensors to a TFRecord. It's a minimal example with a bunch of strings, integers, and floats. How do you include tensor features in a tf.train.Example ?\r\n\r\nThe whole tf.train / tf.io / tf.data thing feels scattered and full of unnecessary boilerplate. Why are Examples Features, Feature in train, but then then we have to write a bunch of boilerplate tf.io functions like **_float_value _byte_value** to make the actual features? All I want to do is make a TFRecord with a bunch of tensors of different shapes in each entry. \r\n\r\n### Clear description\r\n\r\nAll of this stuff should be simplified and put into tf.data... Tf.io feels pointless since tf.data is meant to do the same thing. \r\n\r\nWhy can't the tensorflow guide to TFRecord tell us how to write tensor data to a TFRecord and read it with TFData? \r\n\r\nWhy do we need to write so much boilerplate to add features to tf.train.Example?\r\n\r\nWhy is Data IO spread out over four separate modules (train, io, dtypes, and data) ?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29874", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29874/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29874/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29874/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29874", "id": 456895309, "node_id": "MDU6SXNzdWU0NTY4OTUzMDk=", "number": 29874, "title": "I think Windows performance might be poor due to WDDM? tensorflow-gpu", "user": {"login": "rlewkowicz", "id": 17415445, "node_id": "MDQ6VXNlcjE3NDE1NDQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/17415445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rlewkowicz", "html_url": "https://github.com/rlewkowicz", "followers_url": "https://api.github.com/users/rlewkowicz/followers", "following_url": "https://api.github.com/users/rlewkowicz/following{/other_user}", "gists_url": "https://api.github.com/users/rlewkowicz/gists{/gist_id}", "starred_url": "https://api.github.com/users/rlewkowicz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rlewkowicz/subscriptions", "organizations_url": "https://api.github.com/users/rlewkowicz/orgs", "repos_url": "https://api.github.com/users/rlewkowicz/repos", "events_url": "https://api.github.com/users/rlewkowicz/events{/privacy}", "received_events_url": "https://api.github.com/users/rlewkowicz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1105108936, "node_id": "MDU6TGFiZWwxMTA1MTA4OTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:model", "name": "comp:model", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jch1", "id": 1811449, "node_id": "MDQ6VXNlcjE4MTE0NDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1811449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jch1", "html_url": "https://github.com/jch1", "followers_url": "https://api.github.com/users/jch1/followers", "following_url": "https://api.github.com/users/jch1/following{/other_user}", "gists_url": "https://api.github.com/users/jch1/gists{/gist_id}", "starred_url": "https://api.github.com/users/jch1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jch1/subscriptions", "organizations_url": "https://api.github.com/users/jch1/orgs", "repos_url": "https://api.github.com/users/jch1/repos", "events_url": "https://api.github.com/users/jch1/events{/privacy}", "received_events_url": "https://api.github.com/users/jch1/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jch1", "id": 1811449, "node_id": "MDQ6VXNlcjE4MTE0NDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1811449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jch1", "html_url": "https://github.com/jch1", "followers_url": "https://api.github.com/users/jch1/followers", "following_url": "https://api.github.com/users/jch1/following{/other_user}", "gists_url": "https://api.github.com/users/jch1/gists{/gist_id}", "starred_url": "https://api.github.com/users/jch1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jch1/subscriptions", "organizations_url": "https://api.github.com/users/jch1/orgs", "repos_url": "https://api.github.com/users/jch1/repos", "events_url": "https://api.github.com/users/jch1/events{/privacy}", "received_events_url": "https://api.github.com/users/jch1/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-06-17T11:58:55Z", "updated_at": "2020-02-22T20:07:43Z", "closed_at": null, "author_association": "NONE", "body": "So personally I have very poor performance on windows when it comes to object detection. Doesn't matter if I build from source, pip, conda etc, it's about 5-10x slower on windows vs linux. \r\n\r\nI see sporadic reports across tensorflow and pytorch stating similar things. Some bugs confirmed, but with no follow up. \r\n\r\nI'm hoping someone on this project has access to a non consumer nvidia card. I think that's the titan series. None of the geforce cards will work (thanks nvidia). I ask you to do any of the object detection api tutorials, or even any custom implementation.  Test it on linux, then the same on windows. \r\n\r\nI'm hyper confident you will find a significant discrepancy between the two. Then enable TCC on your non consumer card, and see if the performance then becomes similar. \r\n\r\nI'm basing my assumption on this:\r\nhttps://stackoverflow.com/questions/19944429/cuda-performance-penalty-when-running-in-windows\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29869", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29869/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29869/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29869/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29869", "id": 456868032, "node_id": "MDU6SXNzdWU0NTY4NjgwMzI=", "number": 29869, "title": "Bug in tf.einsum - Returns different values from np.einsum for identical parameters", "user": {"login": "honzukka", "id": 24512922, "node_id": "MDQ6VXNlcjI0NTEyOTIy", "avatar_url": "https://avatars3.githubusercontent.com/u/24512922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/honzukka", "html_url": "https://github.com/honzukka", "followers_url": "https://api.github.com/users/honzukka/followers", "following_url": "https://api.github.com/users/honzukka/following{/other_user}", "gists_url": "https://api.github.com/users/honzukka/gists{/gist_id}", "starred_url": "https://api.github.com/users/honzukka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/honzukka/subscriptions", "organizations_url": "https://api.github.com/users/honzukka/orgs", "repos_url": "https://api.github.com/users/honzukka/repos", "events_url": "https://api.github.com/users/honzukka/events{/privacy}", "received_events_url": "https://api.github.com/users/honzukka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rmlarsen", "id": 16907534, "node_id": "MDQ6VXNlcjE2OTA3NTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/16907534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmlarsen", "html_url": "https://github.com/rmlarsen", "followers_url": "https://api.github.com/users/rmlarsen/followers", "following_url": "https://api.github.com/users/rmlarsen/following{/other_user}", "gists_url": "https://api.github.com/users/rmlarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmlarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmlarsen/subscriptions", "organizations_url": "https://api.github.com/users/rmlarsen/orgs", "repos_url": "https://api.github.com/users/rmlarsen/repos", "events_url": "https://api.github.com/users/rmlarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/rmlarsen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2019-06-17T10:49:03Z", "updated_at": "2019-09-30T20:51:42Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10\r\n- TensorFlow installed from (source or binary): Binary (Anaconda)\r\n- TensorFlow version (use command below): 1.13.1\r\n- Python version: 3.7.3\r\n- CUDA/cuDNN version: 10.0/7.6.0\r\n- GPU model and memory: NVIDIA Titan X (Pascal), 12 GB\r\n\r\n**Describe the current behavior**\r\n\r\n`tf.einsum` returns buggy values compared to `np.einsum` for identical parameters. Here is the current output (please find code below):\r\n\r\n```\r\nnp: 8.610251426696777\r\ntf: 0.0\r\n```\r\n\r\nPlease also note that the same code works as expected when running on the CPU. It also works correctly on the GPU in TF 1.12.0, CUDA/cuDNN 9.0/7.3.1 and Python 3.6.8.\r\n\r\n**Describe the expected behavior**\r\n\r\nHere is the expected output:\r\n\r\n```\r\nnp: 8.610251426696777\r\ntf: 8.610251426696777\r\n```\r\n\r\n**Code to reproduce the issue**\r\n\r\n```\r\nfrom __future__ import (\r\n    absolute_import,\r\n    division,\r\n    print_function\r\n)\r\n\r\nimport tensorflow as tf\r\nimport numpy as np\r\n\r\ntf.enable_eager_execution()\r\n\r\neinsum_string = \"bijk,bijk->bij\"\r\n\r\n# load values\r\nS_h_numpy = np.load(\"./S_h.npy\")\r\nS_h = tf.convert_to_tensor(S_h_numpy, dtype=tf.float32)\r\n\r\nh_numpy = np.load(\"./h.npy\")\r\nh = tf.convert_to_tensor(\r\n    h_numpy,\r\n    dtype=tf.float32\r\n)\r\n\r\n# perform einsum\r\nht_S_h_numpy = np.einsum(einsum_string, h_numpy, S_h_numpy)\r\nht_S_h = tf.einsum(einsum_string, h, S_h)\r\n\r\nprint(\"np: {np_val}\\ntf: {tf_val}\".format(\r\n    np_val=ht_S_h_numpy[2, 191, 191],\r\n    tf_val=ht_S_h[2, 191, 191],\r\n))\r\n```\r\n\r\n**Other info / logs**\r\n\r\nHere are the input tensors used in the example: [input_tensors.zip](https://github.com/tensorflow/tensorflow/files/3296468/input_tensors.zip).\r\n\r\nThe tensors are of shape (4, 192, 192, 2). I could not choose a smaller example because the buggy values appear only in part of the second and all of the following batch items. The bug therefore seems to be connected to the size of the input.\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29859", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29859/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29859/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29859/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29859", "id": 456721948, "node_id": "MDU6SXNzdWU0NTY3MjE5NDg=", "number": 29859, "title": "[TF 2.0 API Docs] tf.errors.DeadlineExceededError", "user": {"login": "lkmandy", "id": 17765231, "node_id": "MDQ6VXNlcjE3NzY1MjMx", "avatar_url": "https://avatars0.githubusercontent.com/u/17765231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lkmandy", "html_url": "https://github.com/lkmandy", "followers_url": "https://api.github.com/users/lkmandy/followers", "following_url": "https://api.github.com/users/lkmandy/following{/other_user}", "gists_url": "https://api.github.com/users/lkmandy/gists{/gist_id}", "starred_url": "https://api.github.com/users/lkmandy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lkmandy/subscriptions", "organizations_url": "https://api.github.com/users/lkmandy/orgs", "repos_url": "https://api.github.com/users/lkmandy/repos", "events_url": "https://api.github.com/users/lkmandy/events{/privacy}", "received_events_url": "https://api.github.com/users/lkmandy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-17T03:08:03Z", "updated_at": "2019-06-20T03:02:37Z", "closed_at": null, "author_association": "NONE", "body": "## System Information\r\nTensorflow version: 2.0\r\n\r\n## URL(s) with the issue:\r\nhttps://www.tensorflow.org/versions/r2.0/api_docs/python/tf/errors/DeadlineExceededError\r\n\r\n## Description of issue (what needs changing):\r\n\r\n### Clear description\r\nThe description could be better; needs more content for clarification\r\n\r\n### Usage example\r\nNo usage example defined  \r\n\r\n### Submit a pull request?\r\nNo\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29858", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29858/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29858/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29858/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29858", "id": 456714591, "node_id": "MDU6SXNzdWU0NTY3MTQ1OTE=", "number": 29858, "title": "[TF 2.0 API Docs] tf.dynamic_stitch", "user": {"login": "lkmandy", "id": 17765231, "node_id": "MDQ6VXNlcjE3NzY1MjMx", "avatar_url": "https://avatars0.githubusercontent.com/u/17765231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lkmandy", "html_url": "https://github.com/lkmandy", "followers_url": "https://api.github.com/users/lkmandy/followers", "following_url": "https://api.github.com/users/lkmandy/following{/other_user}", "gists_url": "https://api.github.com/users/lkmandy/gists{/gist_id}", "starred_url": "https://api.github.com/users/lkmandy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lkmandy/subscriptions", "organizations_url": "https://api.github.com/users/lkmandy/orgs", "repos_url": "https://api.github.com/users/lkmandy/repos", "events_url": "https://api.github.com/users/lkmandy/events{/privacy}", "received_events_url": "https://api.github.com/users/lkmandy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-17T02:26:02Z", "updated_at": "2019-06-20T11:37:23Z", "closed_at": null, "author_association": "NONE", "body": "## System Information\r\nTensorflow version: 2.0\r\n\r\n## URL(s) with the issue:\r\nhttps://www.tensorflow.org/versions/r2.0/api_docs/python/tf/dynamic_stitch\r\n\r\n## Description of issue (what needs changing):\r\n\r\n### Raises listed and defined\r\nNo errors have been defined\r\n\r\n### Submit a pull request?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29855", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29855/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29855/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29855/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29855", "id": 456707794, "node_id": "MDU6SXNzdWU0NTY3MDc3OTQ=", "number": 29855, "title": "[TF 2.0 API Docs] https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/layers/MaxPool1D", "user": {"login": "allenbangai", "id": 46921711, "node_id": "MDQ6VXNlcjQ2OTIxNzEx", "avatar_url": "https://avatars1.githubusercontent.com/u/46921711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenbangai", "html_url": "https://github.com/allenbangai", "followers_url": "https://api.github.com/users/allenbangai/followers", "following_url": "https://api.github.com/users/allenbangai/following{/other_user}", "gists_url": "https://api.github.com/users/allenbangai/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenbangai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenbangai/subscriptions", "organizations_url": "https://api.github.com/users/allenbangai/orgs", "repos_url": "https://api.github.com/users/allenbangai/repos", "events_url": "https://api.github.com/users/allenbangai/events{/privacy}", "received_events_url": "https://api.github.com/users/allenbangai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-06-17T01:43:25Z", "updated_at": "2019-06-20T22:20:37Z", "closed_at": null, "author_association": "NONE", "body": "1.\tThe parameters pool_function and input_spec in https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/keras/layers/pooling.py#L59 where not defined the documentation https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/layers/MaxPool1D and no return where defined."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29854", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29854/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29854/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29854/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29854", "id": 456704726, "node_id": "MDU6SXNzdWU0NTY3MDQ3MjY=", "number": 29854, "title": "[TF 2.0 API Docs] tf.dynamic_partition", "user": {"login": "lkmandy", "id": 17765231, "node_id": "MDQ6VXNlcjE3NzY1MjMx", "avatar_url": "https://avatars0.githubusercontent.com/u/17765231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lkmandy", "html_url": "https://github.com/lkmandy", "followers_url": "https://api.github.com/users/lkmandy/followers", "following_url": "https://api.github.com/users/lkmandy/following{/other_user}", "gists_url": "https://api.github.com/users/lkmandy/gists{/gist_id}", "starred_url": "https://api.github.com/users/lkmandy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lkmandy/subscriptions", "organizations_url": "https://api.github.com/users/lkmandy/orgs", "repos_url": "https://api.github.com/users/lkmandy/repos", "events_url": "https://api.github.com/users/lkmandy/events{/privacy}", "received_events_url": "https://api.github.com/users/lkmandy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-17T01:21:08Z", "updated_at": "2019-06-20T11:43:04Z", "closed_at": null, "author_association": "NONE", "body": "## System information\r\nTensorflow version: 2.0\r\n\r\n## URL(s) with the issue:\r\nhttps://www.tensorflow.org/versions/r2.0/api_docs/python/tf/dynamic_partition\r\n\r\n## Description of issue (what needs changing):\r\n\r\n### Raises listed and defined\r\nNo errors have been defined\r\n\r\n### Submit a pull request?\r\nYes\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29851", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29851/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29851/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29851/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29851", "id": 456702559, "node_id": "MDU6SXNzdWU0NTY3MDI1NTk=", "number": 29851, "title": "[TF 2.0 API Docs] tf.data.experimental.unbatch", "user": {"login": "lkmandy", "id": 17765231, "node_id": "MDQ6VXNlcjE3NzY1MjMx", "avatar_url": "https://avatars0.githubusercontent.com/u/17765231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lkmandy", "html_url": "https://github.com/lkmandy", "followers_url": "https://api.github.com/users/lkmandy/followers", "following_url": "https://api.github.com/users/lkmandy/following{/other_user}", "gists_url": "https://api.github.com/users/lkmandy/gists{/gist_id}", "starred_url": "https://api.github.com/users/lkmandy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lkmandy/subscriptions", "organizations_url": "https://api.github.com/users/lkmandy/orgs", "repos_url": "https://api.github.com/users/lkmandy/repos", "events_url": "https://api.github.com/users/lkmandy/events{/privacy}", "received_events_url": "https://api.github.com/users/lkmandy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1114343535, "node_id": "MDU6TGFiZWwxMTE0MzQzNTM1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:data", "name": "comp:data", "color": "0052cc", "default": false, "description": "tf.data related issues"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-17T01:03:42Z", "updated_at": "2019-06-19T22:38:23Z", "closed_at": null, "author_association": "NONE", "body": "## System information\r\nTensorflow version: 2.0\r\n\r\n## URL(s) with the issue:\r\nhttps://www.tensorflow.org/versions/r2.0/api_docs/python/tf/data/experimental/unbatch\r\n\r\n## Description of issue (what needs changing):\r\nThe description needs more content, as no description has been provided for the available functions.\r\nNo recommendations have been given on when and when not to use this symbol\r\n\r\n### Parameters defined\r\nNo parameters have been defined\r\n\r\n### Raises listed and defined\r\nNo errors defined\r\n\r\n### Request visuals, if applicable\r\nNo visuals, the content will be clarified if visuals are provided\r\n\r\n### Others\r\nThis symbol is deprecated, am not sure if this review will  still be useful\r\n\r\n### Submit a pull request?\r\nNo\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29850", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29850/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29850/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29850/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29850", "id": 456699287, "node_id": "MDU6SXNzdWU0NTY2OTkyODc=", "number": 29850, "title": "[TF 2.0 API Docs] tf.data.experimental.rejection_resample", "user": {"login": "lkmandy", "id": 17765231, "node_id": "MDQ6VXNlcjE3NzY1MjMx", "avatar_url": "https://avatars0.githubusercontent.com/u/17765231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lkmandy", "html_url": "https://github.com/lkmandy", "followers_url": "https://api.github.com/users/lkmandy/followers", "following_url": "https://api.github.com/users/lkmandy/following{/other_user}", "gists_url": "https://api.github.com/users/lkmandy/gists{/gist_id}", "starred_url": "https://api.github.com/users/lkmandy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lkmandy/subscriptions", "organizations_url": "https://api.github.com/users/lkmandy/orgs", "repos_url": "https://api.github.com/users/lkmandy/repos", "events_url": "https://api.github.com/users/lkmandy/events{/privacy}", "received_events_url": "https://api.github.com/users/lkmandy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1114343535, "node_id": "MDU6TGFiZWwxMTE0MzQzNTM1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:data", "name": "comp:data", "color": "0052cc", "default": false, "description": "tf.data related issues"}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-17T00:32:08Z", "updated_at": "2019-06-22T03:03:51Z", "closed_at": null, "author_association": "NONE", "body": "## System  Information\r\nTensorflow version: 2.0\r\n\r\n## URL(s) with the issue:\r\nhttps://www.tensorflow.org/versions/r2.0/api_docs/python/tf/data/experimental/rejection_resample\r\n\r\n## Description of issue (what needs changing):\r\nNo recommendations of when and when not to use this symbol have been provided.\r\nThe description is not clear, it needs more content\r\n\r\n### Raises listed and defined\r\nNo raises listed\r\n\r\n### Usage example\r\nNo usage example has been provided\r\n\r\n### Request visuals, if applicable\r\nNo visuals, but they will be very useful if present\r\n\r\n### Submit a pull request? \r\nNo"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29849", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29849/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29849/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29849/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29849", "id": 456698350, "node_id": "MDU6SXNzdWU0NTY2OTgzNTA=", "number": 29849, "title": "[TF 2.0 API Docs] tf.debugging.assert_type", "user": {"login": "Wil2129", "id": 23650880, "node_id": "MDQ6VXNlcjIzNjUwODgw", "avatar_url": "https://avatars0.githubusercontent.com/u/23650880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wil2129", "html_url": "https://github.com/Wil2129", "followers_url": "https://api.github.com/users/Wil2129/followers", "following_url": "https://api.github.com/users/Wil2129/following{/other_user}", "gists_url": "https://api.github.com/users/Wil2129/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wil2129/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wil2129/subscriptions", "organizations_url": "https://api.github.com/users/Wil2129/orgs", "repos_url": "https://api.github.com/users/Wil2129/repos", "events_url": "https://api.github.com/users/Wil2129/events{/privacy}", "received_events_url": "https://api.github.com/users/Wil2129/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097548274, "node_id": "MDU6TGFiZWwxMDk3NTQ4Mjc0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tfdbg", "name": "comp:tfdbg", "color": "0052cc", "default": false, "description": "tf debugger"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-17T00:23:20Z", "updated_at": "2019-06-20T20:16:28Z", "closed_at": null, "author_association": "NONE", "body": "## URL with the issue:\r\n\r\nhttps://www.tensorflow.org/versions/r2.0/api_docs/python/tf/debugging/assert_type\r\n\r\n## Description of issue (what needs changing):\r\n\r\nThe API symbol doesn't contain a complete, self-contained, coherent, appropriately formatted, and well-documented usage example code sample and the return values aren't defined\r\n\r\n### Usage example\r\n\r\nNo usage example\r\n\r\n### Returns defined\r\n\r\nThe return values aren't defined\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29848", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29848/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29848/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29848/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29848", "id": 456697205, "node_id": "MDU6SXNzdWU0NTY2OTcyMDU=", "number": 29848, "title": "[TF 2.0 API Docs] tf.data.experimental.prefetch_to_device", "user": {"login": "Wil2129", "id": 23650880, "node_id": "MDQ6VXNlcjIzNjUwODgw", "avatar_url": "https://avatars0.githubusercontent.com/u/23650880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wil2129", "html_url": "https://github.com/Wil2129", "followers_url": "https://api.github.com/users/Wil2129/followers", "following_url": "https://api.github.com/users/Wil2129/following{/other_user}", "gists_url": "https://api.github.com/users/Wil2129/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wil2129/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wil2129/subscriptions", "organizations_url": "https://api.github.com/users/Wil2129/orgs", "repos_url": "https://api.github.com/users/Wil2129/repos", "events_url": "https://api.github.com/users/Wil2129/events{/privacy}", "received_events_url": "https://api.github.com/users/Wil2129/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1114343535, "node_id": "MDU6TGFiZWwxMTE0MzQzNTM1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:data", "name": "comp:data", "color": "0052cc", "default": false, "description": "tf.data related issues"}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-17T00:14:24Z", "updated_at": "2019-06-22T03:04:06Z", "closed_at": null, "author_association": "NONE", "body": "## URL with the issue:\r\n\r\nhttps://www.tensorflow.org/versions/r2.0/api_docs/python/tf/data/experimental/prefetch_to_device\r\n\r\n## Description of issue (what needs changing):\r\n\r\nThe API symbol doesn't contain a complete, self-contained, coherent, appropriately formatted, and well-documented code sample.\r\n\r\n### Usage example\r\n\r\nNo usage example"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29847", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29847/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29847/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29847/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29847", "id": 456695654, "node_id": "MDU6SXNzdWU0NTY2OTU2NTQ=", "number": 29847, "title": "[TF 2.0 API Docs] tf.errors.ResourceExhaustedError", "user": {"login": "Wil2129", "id": 23650880, "node_id": "MDQ6VXNlcjIzNjUwODgw", "avatar_url": "https://avatars0.githubusercontent.com/u/23650880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wil2129", "html_url": "https://github.com/Wil2129", "followers_url": "https://api.github.com/users/Wil2129/followers", "following_url": "https://api.github.com/users/Wil2129/following{/other_user}", "gists_url": "https://api.github.com/users/Wil2129/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wil2129/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wil2129/subscriptions", "organizations_url": "https://api.github.com/users/Wil2129/orgs", "repos_url": "https://api.github.com/users/Wil2129/repos", "events_url": "https://api.github.com/users/Wil2129/events{/privacy}", "received_events_url": "https://api.github.com/users/Wil2129/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-16T23:58:11Z", "updated_at": "2019-06-22T03:04:19Z", "closed_at": null, "author_association": "NONE", "body": "## URL with the issue:\r\n\r\nhttps://www.tensorflow.org/versions/r2.0/api_docs/python/tf/errors/ResourceExhaustedError\r\n\r\n## Description of issue (what needs changing):\r\n\r\nThe API symbol doesn't contain a complete, self-contained, coherent, appropriately formatted, and well-documented code sample.\r\n\r\n### Usage example\r\n\r\nNo usage example"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29844", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29844/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29844/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29844/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29844", "id": 456670761, "node_id": "MDU6SXNzdWU0NTY2NzA3NjE=", "number": 29844, "title": "tf.image.decode_and_crop_jpeg parameter crop_window changed", "user": {"login": "alon1samuel", "id": 45364499, "node_id": "MDQ6VXNlcjQ1MzY0NDk5", "avatar_url": "https://avatars0.githubusercontent.com/u/45364499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alon1samuel", "html_url": "https://github.com/alon1samuel", "followers_url": "https://api.github.com/users/alon1samuel/followers", "following_url": "https://api.github.com/users/alon1samuel/following{/other_user}", "gists_url": "https://api.github.com/users/alon1samuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/alon1samuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alon1samuel/subscriptions", "organizations_url": "https://api.github.com/users/alon1samuel/orgs", "repos_url": "https://api.github.com/users/alon1samuel/repos", "events_url": "https://api.github.com/users/alon1samuel/events{/privacy}", "received_events_url": "https://api.github.com/users/alon1samuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "lamberta", "id": 43051, "node_id": "MDQ6VXNlcjQzMDUx", "avatar_url": "https://avatars2.githubusercontent.com/u/43051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamberta", "html_url": "https://github.com/lamberta", "followers_url": "https://api.github.com/users/lamberta/followers", "following_url": "https://api.github.com/users/lamberta/following{/other_user}", "gists_url": "https://api.github.com/users/lamberta/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamberta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamberta/subscriptions", "organizations_url": "https://api.github.com/users/lamberta/orgs", "repos_url": "https://api.github.com/users/lamberta/repos", "events_url": "https://api.github.com/users/lamberta/events{/privacy}", "received_events_url": "https://api.github.com/users/lamberta/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lamberta", "id": 43051, "node_id": "MDQ6VXNlcjQzMDUx", "avatar_url": "https://avatars2.githubusercontent.com/u/43051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamberta", "html_url": "https://github.com/lamberta", "followers_url": "https://api.github.com/users/lamberta/followers", "following_url": "https://api.github.com/users/lamberta/following{/other_user}", "gists_url": "https://api.github.com/users/lamberta/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamberta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamberta/subscriptions", "organizations_url": "https://api.github.com/users/lamberta/orgs", "repos_url": "https://api.github.com/users/lamberta/repos", "events_url": "https://api.github.com/users/lamberta/events{/privacy}", "received_events_url": "https://api.github.com/users/lamberta/received_events", "type": "User", "site_admin": false}, {"login": "martinwicke", "id": 577277, "node_id": "MDQ6VXNlcjU3NzI3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/577277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinwicke", "html_url": "https://github.com/martinwicke", "followers_url": "https://api.github.com/users/martinwicke/followers", "following_url": "https://api.github.com/users/martinwicke/following{/other_user}", "gists_url": "https://api.github.com/users/martinwicke/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinwicke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinwicke/subscriptions", "organizations_url": "https://api.github.com/users/martinwicke/orgs", "repos_url": "https://api.github.com/users/martinwicke/repos", "events_url": "https://api.github.com/users/martinwicke/events{/privacy}", "received_events_url": "https://api.github.com/users/martinwicke/received_events", "type": "User", "site_admin": false}, {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-06-16T18:52:12Z", "updated_at": "2019-08-16T19:04:11Z", "closed_at": null, "author_association": "NONE", "body": "Thank you for submitting a TensorFlow documentation issue. Per our GitHub\r\npolicy, we only address code/doc bugs, performance issues, feature requests, and\r\nbuild/installation issues on GitHub.\r\n\r\nThe TensorFlow docs are open source! To get involved, read the documentation\r\ncontributor guide: https://www.tensorflow.org/community/contribute/docs\r\n\r\n## URL(s) with the issue:\r\nhttps://www.tensorflow.org/api_docs/python/tf/io/decode_and_crop_jpeg\r\n\r\n## Description of issue :\r\nDocumentation of parameter type - crop_window\r\n\r\n### Clear description\r\nThe type of parameter is list of int and in the documentation it says:\r\n\r\n>     crop_window: A `Tensor` of type `int32`.\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29841", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29841/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29841/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29841/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29841", "id": 456654449, "node_id": "MDU6SXNzdWU0NTY2NTQ0NDk=", "number": 29841, "title": "tf.keras.layers.Conv3DTranspose ignores dilation_rate parameter", "user": {"login": "jankukacka", "id": 9718730, "node_id": "MDQ6VXNlcjk3MTg3MzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/9718730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jankukacka", "html_url": "https://github.com/jankukacka", "followers_url": "https://api.github.com/users/jankukacka/followers", "following_url": "https://api.github.com/users/jankukacka/following{/other_user}", "gists_url": "https://api.github.com/users/jankukacka/gists{/gist_id}", "starred_url": "https://api.github.com/users/jankukacka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jankukacka/subscriptions", "organizations_url": "https://api.github.com/users/jankukacka/orgs", "repos_url": "https://api.github.com/users/jankukacka/repos", "events_url": "https://api.github.com/users/jankukacka/events{/privacy}", "received_events_url": "https://api.github.com/users/jankukacka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-06-16T15:41:53Z", "updated_at": "2020-02-26T05:58:40Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): N/A\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or binary): N/A\r\n- TensorFlow version (use command below): 1.13\r\n- Python version: Any\r\n- Bazel version (if compiling from source): N/A\r\n- GCC/Compiler version (if compiling from source): N/A\r\n- CUDA/cuDNN version: N/A\r\n- GPU model and memory: N/A\r\n\r\n**Describe the current behavior**\r\n\r\n `Conv3DTranspose` layer ignores `dilation_rate` parameter. The shape of the output tensor stays the same regardless of the `dilation_rate` parameter.\r\n\r\n**Describe the expected behavior**\r\n\r\n `Conv3DTranspose` should behave like `Conv2DTranspose` and handle dilated transposed convolution. Note that `Conv3D` handles dilated convolutions all right.\r\n\r\n**Code to reproduce the issue**\r\n\r\n    import tensorflow as tf\r\n    import numpy as np\r\n    from tensorflow.keras.layers import Conv3DTranspose\r\n\r\n    sess = tf.Session()\r\n    x = tf.placeholder(tf.float32, shape=(None,3,3,3,1))\r\n    layer = Conv3DTranspose(filters=1, kernel_size=3, dilation_rate=2)\r\n    result = layer(x)\r\n    sess.run(tf.global_variables_initializer())\r\n    output = sess.run(result, {x:np.ones((2,3,3,3,1))})\r\n\r\n    ## Expected output shape = (2,7,7,7,1)\r\n    ## Actual output shape = (2,5,5,5,1)\r\n\r\n**Other info / logs**\r\nThe problematic code seems to be here:\r\nhttps://github.com/tensorflow/tensorflow/blob/r1.13/tensorflow/python/keras/layers/convolutional.py#L890\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29840", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29840/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29840/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29840/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29840", "id": 456641355, "node_id": "MDU6SXNzdWU0NTY2NDEzNTU=", "number": 29840, "title": "Bigger Than Memory ops should automatically fallback to RAM and/or Disc in tf-gpu", "user": {"login": "bionicles", "id": 24532336, "node_id": "MDQ6VXNlcjI0NTMyMzM2", "avatar_url": "https://avatars2.githubusercontent.com/u/24532336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bionicles", "html_url": "https://github.com/bionicles", "followers_url": "https://api.github.com/users/bionicles/followers", "following_url": "https://api.github.com/users/bionicles/following{/other_user}", "gists_url": "https://api.github.com/users/bionicles/gists{/gist_id}", "starred_url": "https://api.github.com/users/bionicles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bionicles/subscriptions", "organizations_url": "https://api.github.com/users/bionicles/orgs", "repos_url": "https://api.github.com/users/bionicles/repos", "events_url": "https://api.github.com/users/bionicles/events{/privacy}", "received_events_url": "https://api.github.com/users/bionicles/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547538, "node_id": "MDU6TGFiZWwxMDk3NTQ3NTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu", "name": "comp:gpu", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "aaroey", "id": 31743510, "node_id": "MDQ6VXNlcjMxNzQzNTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/31743510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaroey", "html_url": "https://github.com/aaroey", "followers_url": "https://api.github.com/users/aaroey/followers", "following_url": "https://api.github.com/users/aaroey/following{/other_user}", "gists_url": "https://api.github.com/users/aaroey/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaroey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaroey/subscriptions", "organizations_url": "https://api.github.com/users/aaroey/orgs", "repos_url": "https://api.github.com/users/aaroey/repos", "events_url": "https://api.github.com/users/aaroey/events{/privacy}", "received_events_url": "https://api.github.com/users/aaroey/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aaroey", "id": 31743510, "node_id": "MDQ6VXNlcjMxNzQzNTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/31743510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaroey", "html_url": "https://github.com/aaroey", "followers_url": "https://api.github.com/users/aaroey/followers", "following_url": "https://api.github.com/users/aaroey/following{/other_user}", "gists_url": "https://api.github.com/users/aaroey/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaroey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaroey/subscriptions", "organizations_url": "https://api.github.com/users/aaroey/orgs", "repos_url": "https://api.github.com/users/aaroey/repos", "events_url": "https://api.github.com/users/aaroey/events{/privacy}", "received_events_url": "https://api.github.com/users/aaroey/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-06-16T13:25:20Z", "updated_at": "2019-07-05T22:34:31Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version (you are using): 1.14rc \r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n**Describe the feature and the current behavior/state.**\r\nWe built an Atomic Transformer with Keras, and if we try to simulate too many atoms, like a big antibody or enzyme with 50,000 atoms, or a big metabolic network in system biology, it crashes because the GPU memory of the 1070ti fills up and there is no backup plan for when that happens. \r\n\r\nI believe this is an issue for many many advanced uses of TF because we sometimes need to process \"BIG DATA\" larger than the VRAM and Dask is the ONLY available option, and Dask is often extremely slow and still crashes, plus we have to convert tensors into dask arrays, it's a huge hassle. Just imagine TF-GPU intelligently predicted memory usage and used cpu/ram/drive resources as needed.\r\n\r\nObviously, this should print performance warnings in the console, and would be slower, but at least there should be some option for tf-gpu to try to keep working in cases where the workload doesn't fit in VRAM\r\n\r\n**Will this change the current api? How?**\r\nTF-GPU would either automatically scale beyond GPU / TPU memory, or there would be some way to tell it to do this in a python script. Like tf.enable_larger_than_memory() \r\n\r\n**Who will benefit with this feature?**\r\nEveryone who pushes TF-GPU to the breaking point\r\n\r\n**Any Other info.**\r\nUBUNTU 16.04 NVIDIA GTX 1070Ti "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29835", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29835/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29835/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29835/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29835", "id": 456609344, "node_id": "MDU6SXNzdWU0NTY2MDkzNDQ=", "number": 29835, "title": "GPU Support - Shared Object Exclusion ", "user": {"login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097547538, "node_id": "MDU6TGFiZWwxMDk3NTQ3NTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu", "name": "comp:gpu", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-06-16T06:50:31Z", "updated_at": "2019-06-27T23:11:23Z", "closed_at": null, "author_association": "NONE", "body": "[UPDATE]:  This issue is about Maven artifact organization / dependency management and documentation.  \r\n\r\n**System information**\r\n- OS Platform and Distribution: Linux Ubuntu 18.04.2 LTS\r\n- TensorFlow installed from Maven, version 1.13.1\r\n- TensorFlow version: 1.13.1\r\n- Python version: 3.6.7\r\n- Installed using virtualenv\r\n- CUDA/cuDNN version:  NVIDIA-SMI 418.43       Driver Version: 418.43       CUDA Version: 10.1\r\n- GPU model and memory: 4xNvidia 1080Ti, \r\n\r\n**Describe the problem**\r\n\r\nI have created a TensorFlow model in Python and saved it to the disk using the standard method:\r\n\r\n    builder = tf.saved_model.builder.SavedModelBuilder(model_directory) \r\n    builder.add_meta_graph_and_variables(sess, [tf.saved_model.tag_constants.SERVING]) \r\n    builder.save(False)\r\n\r\nNext I am loading the model in Java:\r\n\r\n    SavedModelBundle savedModelBundle = SavedModelBundle.loader(modelDir)\r\n        .withTags(\"serve\")\r\n        .withConfigProto(\r\n            ConfigProto.newBuilder()\r\n                .setGpuOptions(\r\n                    GPUOptions.newBuilder()\r\n                        .setPerProcessGpuMemoryFraction(1.0).build())\r\n                .setLogDevicePlacement(true)\r\n                .build().toByteArray())\r\n        .load();\r\n    Session session = savedModelBundle.session();\r\n\r\nIn my pom.xml I have\r\n\r\n    <dependency>\r\n        <groupId>org.tensorflow</groupId>\r\n        <artifactId>tensorflow</artifactId>\r\n        <version>${tensorflow.version}</version>\r\n    </dependency>\r\n    <dependency>\r\n        <groupId>org.tensorflow</groupId>\r\n        <artifactId>proto</artifactId>\r\n        <version>${tensorflow.version}</version>\r\n    </dependency>\r\n    <dependency>\r\n        <groupId>org.tensorflow</groupId>\r\n        <artifactId>libtensorflow_jni_gpu</artifactId>\r\n        <version>${tensorflow.version}</version>\r\n    </dependency>\r\n\r\nHowever, this fails to use my GPU's on startup\r\n\r\n    2019-06-15 23:48:38.130731: I tensorflow/compiler/xla/service/service.cc:150] \r\n        XLA service 0x7fbfc4656e10 executing computations on platform Host. Devices:\r\n    2019-06-15 23:48:38.130768: I tensorflow/compiler/xla/service/service.cc:158]   \r\n        StreamExecutor device (0): <undefined>, <undefined>\r\n        Device mapping:\r\n            /job:localhost/replica:0/task:0/device:XLA_CPU:0 -> device: XLA_CPU device\r\n    2019-06-15 23:48:38.131168: I tensorflow/core/common_runtime/direct_session.cc:317]    \r\n       Device mapping:\r\n        /job:localhost/replica:0/task:0/device:XLA_CPU:0 -> device: XLA_CPU device\r\n\r\nPlease advise on how to use GPU with SaveModelBundle.  "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29831", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29831/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29831/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29831/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29831", "id": 456588565, "node_id": "MDU6SXNzdWU0NTY1ODg1NjU=", "number": 29831, "title": "ImportError: Could not find 'cudart64_.dll'.", "user": {"login": "CovertKoala", "id": 33430083, "node_id": "MDQ6VXNlcjMzNDMwMDgz", "avatar_url": "https://avatars3.githubusercontent.com/u/33430083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CovertKoala", "html_url": "https://github.com/CovertKoala", "followers_url": "https://api.github.com/users/CovertKoala/followers", "following_url": "https://api.github.com/users/CovertKoala/following{/other_user}", "gists_url": "https://api.github.com/users/CovertKoala/gists{/gist_id}", "starred_url": "https://api.github.com/users/CovertKoala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CovertKoala/subscriptions", "organizations_url": "https://api.github.com/users/CovertKoala/orgs", "repos_url": "https://api.github.com/users/CovertKoala/repos", "events_url": "https://api.github.com/users/CovertKoala/events{/privacy}", "received_events_url": "https://api.github.com/users/CovertKoala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1188421838, "node_id": "MDU6TGFiZWwxMTg4NDIxODM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:windows", "name": "subtype:windows", "color": "b619ea", "default": false, "description": "Windows Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 20, "created_at": "2019-06-16T00:34:36Z", "updated_at": "2019-10-08T00:09:51Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows 10 Pro (Build 17763)\r\n- TensorFlow installed from (source or binary): Source\r\n- TensorFlow version: v2.0.0-beta1\r\n- Python version: Python 3.6.8 (Anaconda)\r\n- Installed using virtualenv? pip? conda?: Conda\r\n- Bazel version (if compiling from source): 0.26.0\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: 10.0, 7.3\r\n- GPU model and memory: GTX 1080, 8gb\r\n\r\n**Describe the problem**\r\nI get the following error during build:\r\n\r\nERROR: C:/tools/tensorflow/tensorflow/python/keras/api/BUILD:46:1: Executing genrule //tensorflow/python/keras/api:keras_python_api_gen_compat_v2 failed (Exit 1): bash.exe failed: error executing command\r\n  cd C:/users/cover/_bazel_cover/cchquwgb/execroot/org_tensorflow\r\n  SET CUDA_TOOLKIT_PATH=C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v10.0\r\n\r\n\u2026 bunch of stuff \u2026 then\u2026\r\n\r\nExecution platform: @bazel_tools//platforms:host_platform\r\nTraceback (most recent call last):\r\n  File \"\\\\?\\C:\\Users\\Cover\\AppData\\Local\\Temp\\Bazel.runfiles_edzmzyvw\\runfiles\\org_tensorflow\\tensorflow\\python\\platform\\self_check.py\", line 75, in preload_check\r\n    ctypes.WinDLL(build_info.cudart_dll_name)\r\n  File \"C:\\Users\\Cover\\anaconda3\\envs\\tf2fast\\lib\\ctypes\\__init__.py\", line 348, in __init__\r\n    self._handle = _dlopen(self._name, mode)\r\nOSError: [WinError 126] The specified module could not be found\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"\\\\?\\C:\\Users\\Cover\\AppData\\Local\\Temp\\Bazel.runfiles_sfe42hqk\\runfiles\\org_tensorflow\\tensorflow\\python\\tools\\api\\generator\\create_python_api.py\", line 27, in <module>\r\n    from tensorflow.python.tools.api.generator import doc_srcs\r\n  File \"\\\\?\\C:\\Users\\Cover\\AppData\\Local\\Temp\\Bazel.runfiles_sfe42hqk\\runfiles\\org_tensorflow\\tensorflow\\python\\__init__.py\", line 49, in <module>\r\n    from tensorflow.python import pywrap_tensorflow\r\n  File \"\\\\?\\C:\\Users\\Cover\\AppData\\Local\\Temp\\Bazel.runfiles_sfe42hqk\\runfiles\\org_tensorflow\\tensorflow\\python\\pywrap_tensorflow.py\", line 30, in <module>\r\n    self_check.preload_check()\r\n  File \"\\\\?\\C:\\Users\\Cover\\AppData\\Local\\Temp\\Bazel.runfiles_sfe42hqk\\runfiles\\org_tensorflow\\tensorflow\\python\\platform\\self_check.py\", line 82, in preload_check\r\n    % (build_info.cudart_dll_name, build_info.cuda_version_number))\r\nImportError: Could not find 'cudart64_.dll'. TensorFlow requires that this DLL be installed in a directory that is named in your %PATH% environment variable. Download and install CUDA  from this URL: https://developer.nvidia.com/cuda-90-download-archive\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 379.181s, Critical Path: 375.70s\r\nINFO: 572 processes: 572 local.\r\nFAILED: Build did NOT complete successfully\r\n\r\nAll of my paths to CUDA are included in %PATH% and I've ensured cudart64_100.dll is located in a directory in my path.  Its interesting that the error doesn't include the correct name of the file.\r\n\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n![image](https://user-images.githubusercontent.com/33430083/59557596-815f1480-8f92-11e9-84a6-a794cbbfc7e5.png)\r\n*Using python 3.6.8 instead of 3.7 as above\r\n\r\nI'm using all defaults for configure.py, aside from setting cuda to yes, and my compute capability to 6.1.\r\n\r\nbazel build --config=v2 --config=mkl --config==cuda -c opt //tensorflow/tools/pip_package:build_pip_package\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29829", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29829/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29829/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29829/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29829", "id": 456585880, "node_id": "MDU6SXNzdWU0NTY1ODU4ODA=", "number": 29829, "title": "Segmentation fault using tf.lite.TFLiteConverter with representative_dataset", "user": {"login": "hvico", "id": 7103453, "node_id": "MDQ6VXNlcjcxMDM0NTM=", "avatar_url": "https://avatars1.githubusercontent.com/u/7103453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvico", "html_url": "https://github.com/hvico", "followers_url": "https://api.github.com/users/hvico/followers", "following_url": "https://api.github.com/users/hvico/following{/other_user}", "gists_url": "https://api.github.com/users/hvico/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvico/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvico/subscriptions", "organizations_url": "https://api.github.com/users/hvico/orgs", "repos_url": "https://api.github.com/users/hvico/repos", "events_url": "https://api.github.com/users/hvico/events{/privacy}", "received_events_url": "https://api.github.com/users/hvico/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": {"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "suharshs", "id": 1450614, "node_id": "MDQ6VXNlcjE0NTA2MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suharshs", "html_url": "https://github.com/suharshs", "followers_url": "https://api.github.com/users/suharshs/followers", "following_url": "https://api.github.com/users/suharshs/following{/other_user}", "gists_url": "https://api.github.com/users/suharshs/gists{/gist_id}", "starred_url": "https://api.github.com/users/suharshs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suharshs/subscriptions", "organizations_url": "https://api.github.com/users/suharshs/orgs", "repos_url": "https://api.github.com/users/suharshs/repos", "events_url": "https://api.github.com/users/suharshs/events{/privacy}", "received_events_url": "https://api.github.com/users/suharshs/received_events", "type": "User", "site_admin": false}, {"login": "jianlijianli", "id": 43797323, "node_id": "MDQ6VXNlcjQzNzk3MzIz", "avatar_url": "https://avatars3.githubusercontent.com/u/43797323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jianlijianli", "html_url": "https://github.com/jianlijianli", "followers_url": "https://api.github.com/users/jianlijianli/followers", "following_url": "https://api.github.com/users/jianlijianli/following{/other_user}", "gists_url": "https://api.github.com/users/jianlijianli/gists{/gist_id}", "starred_url": "https://api.github.com/users/jianlijianli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jianlijianli/subscriptions", "organizations_url": "https://api.github.com/users/jianlijianli/orgs", "repos_url": "https://api.github.com/users/jianlijianli/repos", "events_url": "https://api.github.com/users/jianlijianli/events{/privacy}", "received_events_url": "https://api.github.com/users/jianlijianli/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 24, "created_at": "2019-06-15T23:44:54Z", "updated_at": "2019-10-14T13:31:47Z", "closed_at": null, "author_association": "NONE", "body": "### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**: No\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**: Ubuntu 18.04\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**: No\r\n- **TensorFlow installed from (source or binary)**: Source\r\n- **TensorFlow version (use command below)**: 2.0beta1\r\n- **Python version**: 3.6.8\r\n- **Bazel version (if compiling from source)**:  0.24.1\r\n- **GCC/Compiler version (if compiling from source)**: 7.4.0\r\n- **CUDA/cuDNN version**: 10.0\r\n- **GPU model and memory**: GTX2080TI 11 GB\r\n- **Exact command to reproduce**:\r\n\r\n### Describe the problem\r\nI am trying to quantize (post-training) my model, using a representative dataset as explained in the latest documentation. I tried to build the representative dataset by loading some relevant PNGs from a folder. But I get a segmentation fault error when I set the representative dataset (no error if I do not set it or use mnist as dataset).\r\n\r\n### Source code / logs\r\nThis works:\r\n\r\n```\r\nmnist_train, _ = tf.keras.datasets.mnist.load_data()\r\nimages = tf.cast(mnist_train[0], tf.float32)/255.0\r\nmnist_ds = tf.data.Dataset.from_tensor_slices((images)).batch(1)\r\ndef representative_data_gen():\r\n  for input_value in mnist_ds.take(100):\r\n    yield [input_value]\r\n\r\ntf.logging.set_verbosity(tf.logging.INFO)\r\nconverter.optimizations = [tf.lite.Optimize.DEFAULT]\r\ntflite_quant_model = converter.convert()\r\n```\r\n\r\nThis doesn't (SEGFAULT):\r\n\r\n```\r\ntrain = []\r\nfiles = glob.glob ('/myPath/data/images/test/*.png')\r\n\r\nfor myFile in files:\r\n    image = cv2.imread (myFile)\r\n    train.append (image)\r\ntrain = np.array(train,dtype='float32') #as mnist\r\nimages = tf.cast(train[0], tf.float32)/255.0\r\nmy_ds = tf.data.Dataset.from_tensor_slices((images)).batch(1)\r\n    \r\ndef representative_data_gen():\r\n  for input_value in my_ds.take(100):\r\n    yield [input_value]    \r\n\r\ntf.logging.set_verbosity(tf.logging.INFO)\r\nconverter.optimizations = [tf.lite.Optimize.DEFAULT]\r\ntflite_quant_model = converter.convert()\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n....\r\n2019-06-15 20:40:32.261287: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:1006] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2019-06-15 20:40:32.261634: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1326] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 10246 MB memory) -> physical GPU (device: 0, name: GeForce RTX 2080 Ti, pci bus id: 0000:01:00.0, compute capability: 7.5)\r\nW0615 20:40:32.319736 140096456644416 deprecation_wrapper.py:118] From quantize.py:47: The name tf.logging.INFO is deprecated. Please use tf.compat.v1.logging.INFO instead.\r\n\r\nFatal Python error: Segmentation fault\r\n\r\nCurrent thread 0x00007f6abf885740 (most recent call first):\r\n  File \"/usr/tf2/lib/python3.6/site-packages/tensorflow/lite/python/optimize/calibrator.py\", line 51 in __init__\r\n  File \"/usr/tf2/lib/python3.6/site-packages/tensorflow/lite/python/lite.py\", line 197 in _calibrate_quantize_model\r\n  File \"/usr/tf2/lib/python3.6/site-packages/tensorflow/lite/python/lite.py\", line 922 in convert\r\n  File \"quantize.py\", line 50 in <module>\r\n\r\nSegmentation fault (core dumped)\r\n```\r\n\r\n\r\nIf I use ciphar instead of mnist as representative dataset I also get the same SEGFAULT.\r\n\r\n```cifar_train, _ = tf.keras.datasets.cifar10.load_data()\r\nimages = tf.cast(cifar_train[0], tf.float32) / 255.0\r\ncifar_ds = tf.data.Dataset.from_tensor_slices((images)).batch(1)\r\ndef representative_data_gen():\r\n  for input_value in cifar_ds.take(100):\r\n    yield [input_value]`\r\n\r\nAny ideas? Thank you.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29822", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29822/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29822/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29822/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29822", "id": 456531732, "node_id": "MDU6SXNzdWU0NTY1MzE3MzI=", "number": 29822, "title": "[TF 2.0 API Docs] tf.estimator.SessionRunHook", "user": {"login": "percyashu", "id": 40401381, "node_id": "MDQ6VXNlcjQwNDAxMzgx", "avatar_url": "https://avatars3.githubusercontent.com/u/40401381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/percyashu", "html_url": "https://github.com/percyashu", "followers_url": "https://api.github.com/users/percyashu/followers", "following_url": "https://api.github.com/users/percyashu/following{/other_user}", "gists_url": "https://api.github.com/users/percyashu/gists{/gist_id}", "starred_url": "https://api.github.com/users/percyashu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/percyashu/subscriptions", "organizations_url": "https://api.github.com/users/percyashu/orgs", "repos_url": "https://api.github.com/users/percyashu/repos", "events_url": "https://api.github.com/users/percyashu/events{/privacy}", "received_events_url": "https://api.github.com/users/percyashu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-15T12:10:12Z", "updated_at": "2019-06-20T22:17:58Z", "closed_at": null, "author_association": "NONE", "body": "URL(s) with the issue:\r\n\r\nhttps://www.tensorflow.org/versions/r2.0/api_docs/python/tf/estimator/SessionRunHook\r\nDescription of issue (what needs changing):\r\nClear description\r\n\r\nYes clear description\r\nCorrect links\r\n\r\nThe link to the source code correct.\r\nParameters defined\r\n\r\nAll parameters defined and formatted correctly.\r\nReturns defined\r\n\r\nReturn values are defined.\r\nRaises listed and defined\r\n\r\nNo raises listed and defined.\r\nUsage example\r\n\r\nNo usage examples provided\r\nRequest visuals, if applicable\r\n\r\nNo visuals included"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29808", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29808/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29808/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29808/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29808", "id": 456418363, "node_id": "MDU6SXNzdWU0NTY0MTgzNjM=", "number": 29808, "title": "FeatureColumn - implement many-to-one categorical column", "user": {"login": "novog", "id": 16354547, "node_id": "MDQ6VXNlcjE2MzU0NTQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/16354547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/novog", "html_url": "https://github.com/novog", "followers_url": "https://api.github.com/users/novog/followers", "following_url": "https://api.github.com/users/novog/following{/other_user}", "gists_url": "https://api.github.com/users/novog/gists{/gist_id}", "starred_url": "https://api.github.com/users/novog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/novog/subscriptions", "organizations_url": "https://api.github.com/users/novog/orgs", "repos_url": "https://api.github.com/users/novog/repos", "events_url": "https://api.github.com/users/novog/events{/privacy}", "received_events_url": "https://api.github.com/users/novog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-14T20:19:46Z", "updated_at": "2019-09-09T21:51:49Z", "closed_at": null, "author_association": "NONE", "body": "- TensorFlow version (you are using): 2.0.0b0\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n**Describe the feature and the current behavior/state.**\r\nCurrently, categorical column class numbers can be assigned sequentially based on a list or one-input-per-line file. It would be useful to support situations where groups of possible input values are known to be equivalent, and so should have the same class number. This feature could be implemented via a `categorical_column_with_vocabulary_dict` function that accepts a dictionary mapping input values to class numbers, rather than a list or file.\r\n\r\n**Will this change the current api? How?**\r\nYes; it would add a `categorical_column_with_vocabulary_dict` function.\r\n\r\n**Who will benefit with this feature?**\r\nPeople using non-normalized input data where multiple possible inputs can be equivalent will benefit.\r\n\r\n**Any Other info.**"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29804", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29804/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29804/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29804/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29804", "id": 456383212, "node_id": "MDU6SXNzdWU0NTYzODMyMTI=", "number": 29804, "title": "Inconsistency between names in the conv 1d operations and no support for 'causal' padding", "user": {"login": "Uiuran", "id": 1892703, "node_id": "MDQ6VXNlcjE4OTI3MDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1892703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Uiuran", "html_url": "https://github.com/Uiuran", "followers_url": "https://api.github.com/users/Uiuran/followers", "following_url": "https://api.github.com/users/Uiuran/following{/other_user}", "gists_url": "https://api.github.com/users/Uiuran/gists{/gist_id}", "starred_url": "https://api.github.com/users/Uiuran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Uiuran/subscriptions", "organizations_url": "https://api.github.com/users/Uiuran/orgs", "repos_url": "https://api.github.com/users/Uiuran/repos", "events_url": "https://api.github.com/users/Uiuran/events{/privacy}", "received_events_url": "https://api.github.com/users/Uiuran/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-06-14T18:40:01Z", "updated_at": "2019-07-11T18:30:04Z", "closed_at": null, "author_association": "NONE", "body": "only tf.keras.layers.Conv1D supports padding 'causal', and it is very important for time series research, however in\r\n\r\ntf.python.ops.conv1d\r\ninput: (batch_size, dim1size, dim2size, ... , channels_in)\r\nfilters: (filter_size, channels_in, channels_out)\r\n\r\nAlso this function behaves as expected, setting a op node according to the math and predicting an output Tensor of predictable shape.\r\n\r\ntf.keras.layers.Conv1D\r\ninput: (batch_size, steps, input_dim)\r\nfilter: size of 1D filter\r\noutput: (batch_size, new_steps, filters) \r\n\r\nThese are non usual names for the mathematical definition of convolution. Is \"steps\" the size of the time series ? new_steps the relation of the filter size with the input_dim ? are filters the channel output size ? \r\n\r\nSeems incompatible with the former that follows closely the mathematical definition and also expands for multi-channel like the 2D case. Also, is desirable to use causal padding with tf.python.ops.conv1d, without having to add extraneous functions by hand to the code.\r\n\r\nthank you, pls have your appreciation.\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29801", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29801/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29801/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29801/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29801", "id": 456328860, "node_id": "MDU6SXNzdWU0NTYzMjg4NjA=", "number": 29801, "title": "Keras Callbacks documentation for on_train_batch_end vs the actual code of ModelCheckpoint", "user": {"login": "durandg12", "id": 45902885, "node_id": "MDQ6VXNlcjQ1OTAyODg1", "avatar_url": "https://avatars0.githubusercontent.com/u/45902885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/durandg12", "html_url": "https://github.com/durandg12", "followers_url": "https://api.github.com/users/durandg12/followers", "following_url": "https://api.github.com/users/durandg12/following{/other_user}", "gists_url": "https://api.github.com/users/durandg12/gists{/gist_id}", "starred_url": "https://api.github.com/users/durandg12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/durandg12/subscriptions", "organizations_url": "https://api.github.com/users/durandg12/orgs", "repos_url": "https://api.github.com/users/durandg12/repos", "events_url": "https://api.github.com/users/durandg12/events{/privacy}", "received_events_url": "https://api.github.com/users/durandg12/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-14T16:18:25Z", "updated_at": "2019-06-20T22:27:26Z", "closed_at": null, "author_association": "NONE", "body": "## URL(s) with the issue:\r\n\r\n[https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/callbacks/Callback#on_train_batch_end](https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/callbacks/Callback#on_train_batch_end)\r\n\r\n\r\n## Description of issue (what needs changing):\r\n\r\n### Parameters defined\r\n\r\nThe parameter section of `on_train_batch_end` reads, in part,\r\n\r\n> `logs`: dict. Metric results for this batch\r\n\r\nSo the `logs` argument is expected to only contain metrics when this method is called. This is what I assumed when I coded my own custom training function.\r\n\r\nThis is different than the `logs` argument which is expected by `on_train_batch_begin` for example, which is:\r\n\r\n> `logs`: dict. Has keys `batch` and `size` representing the current batch number and the size of the batch.\r\n\r\nNow if we look at [the code](https://github.com/tensorflow/tensorflow/blob/r2.0/tensorflow/python/keras/callbacks.py) of `ModelCheckpoint`, we see that is has an `on_batch_end` method (which is called by `on_train_batch_end`) which calls the `size` key of `logs`. This is line 950:\r\n`self._samples_seen_since_last_saving += logs.get('size', 1)`\r\n\r\nSo the documentation of `on_train_batch_end` is not correct as to what is the dict expected by the method. And this has an impact when we want to create custom training functions that work well with Keras Callbacks."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29789", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29789/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29789/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29789/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29789", "id": 456137491, "node_id": "MDU6SXNzdWU0NTYxMzc0OTE=", "number": 29789, "title": "Runtime parameters passed to input_fn for tf.estimator ", "user": {"login": "SumNeuron", "id": 22868585, "node_id": "MDQ6VXNlcjIyODY4NTg1", "avatar_url": "https://avatars3.githubusercontent.com/u/22868585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SumNeuron", "html_url": "https://github.com/SumNeuron", "followers_url": "https://api.github.com/users/SumNeuron/followers", "following_url": "https://api.github.com/users/SumNeuron/following{/other_user}", "gists_url": "https://api.github.com/users/SumNeuron/gists{/gist_id}", "starred_url": "https://api.github.com/users/SumNeuron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SumNeuron/subscriptions", "organizations_url": "https://api.github.com/users/SumNeuron/orgs", "repos_url": "https://api.github.com/users/SumNeuron/repos", "events_url": "https://api.github.com/users/SumNeuron/events{/privacy}", "received_events_url": "https://api.github.com/users/SumNeuron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "karmel", "id": 667809, "node_id": "MDQ6VXNlcjY2NzgwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/667809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karmel", "html_url": "https://github.com/karmel", "followers_url": "https://api.github.com/users/karmel/followers", "following_url": "https://api.github.com/users/karmel/following{/other_user}", "gists_url": "https://api.github.com/users/karmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/karmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karmel/subscriptions", "organizations_url": "https://api.github.com/users/karmel/orgs", "repos_url": "https://api.github.com/users/karmel/repos", "events_url": "https://api.github.com/users/karmel/events{/privacy}", "received_events_url": "https://api.github.com/users/karmel/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "karmel", "id": 667809, "node_id": "MDQ6VXNlcjY2NzgwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/667809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karmel", "html_url": "https://github.com/karmel", "followers_url": "https://api.github.com/users/karmel/followers", "following_url": "https://api.github.com/users/karmel/following{/other_user}", "gists_url": "https://api.github.com/users/karmel/gists{/gist_id}", "starred_url": "https://api.github.com/users/karmel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karmel/subscriptions", "organizations_url": "https://api.github.com/users/karmel/orgs", "repos_url": "https://api.github.com/users/karmel/repos", "events_url": "https://api.github.com/users/karmel/events{/privacy}", "received_events_url": "https://api.github.com/users/karmel/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-06-14T08:59:44Z", "updated_at": "2019-07-04T06:30:41Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): 1.10+ < 2\r\n- Are you willing to contribute it (Yes/No): yes\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\nCurrently, to my knowledge, if one uses `tf.estimator.TrainSpec` / `tf.estimator.EvalSpec` the argument \"`input_fn`\" takes a function for producing either an iterator or something that returns a tuple of `(features, labels)`. However there does not seem to be a way to add epoch based variation to the dataset. \r\n\r\nIt would be nice if TF would  automatically pass runtime parameters to this function e.g. via\r\n\r\n```python\r\ndef input_fn(files:list, params:dict, _runtime_params:dict=None):\r\n    # access to epoch via _runtime_params[\"epoch\"]\r\n``` \r\n\r\nWhile the use of epoch specific inputs during training will introduce a bottle neck it can be sometimes necessary.\r\n\r\n\r\n**Will this change the current api? How?**\r\n\r\nIt will not break existing code. It will simply allow the user to have epoch / step specific control over the input function (e.g. if they want to upsample an underrepresented class from the last 200 epochs)\r\n\r\n**Who will benefit with this feature?**\r\neveryone who uses estimators\r\n\r\n**Any Other info.**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29785", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29785/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29785/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29785/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29785", "id": 456114667, "node_id": "MDU6SXNzdWU0NTYxMTQ2Njc=", "number": 29785, "title": "Cannot build the code including stream_executor/rng.h on Windows", "user": {"login": "stakemura", "id": 1152138, "node_id": "MDQ6VXNlcjExNTIxMzg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1152138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stakemura", "html_url": "https://github.com/stakemura", "followers_url": "https://api.github.com/users/stakemura/followers", "following_url": "https://api.github.com/users/stakemura/following{/other_user}", "gists_url": "https://api.github.com/users/stakemura/gists{/gist_id}", "starred_url": "https://api.github.com/users/stakemura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stakemura/subscriptions", "organizations_url": "https://api.github.com/users/stakemura/orgs", "repos_url": "https://api.github.com/users/stakemura/repos", "events_url": "https://api.github.com/users/stakemura/events{/privacy}", "received_events_url": "https://api.github.com/users/stakemura/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097543484, "node_id": "MDU6TGFiZWwxMDk3NTQzNDg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:runtime", "name": "comp:runtime", "color": "0052cc", "default": false, "description": "c++ runtime, performance issues (cpu)"}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gunan", "id": 7946809, "node_id": "MDQ6VXNlcjc5NDY4MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7946809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gunan", "html_url": "https://github.com/gunan", "followers_url": "https://api.github.com/users/gunan/followers", "following_url": "https://api.github.com/users/gunan/following{/other_user}", "gists_url": "https://api.github.com/users/gunan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gunan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gunan/subscriptions", "organizations_url": "https://api.github.com/users/gunan/orgs", "repos_url": "https://api.github.com/users/gunan/repos", "events_url": "https://api.github.com/users/gunan/events{/privacy}", "received_events_url": "https://api.github.com/users/gunan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-06-14T08:04:04Z", "updated_at": "2019-09-16T11:35:08Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):No\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):Windows 10 x64\r\n- TensorFlow installed from (source or binary):source\r\n- TensorFlow version (use command below):1.14-rc0\r\n- Python version:3.6\r\n- Bazel version (if compiling from source):0.26.0\r\n\r\n**Describe the current behavior**\r\nI cannot build the code including stream_executor/rng.h on Visual Studio 2015 as following.\r\n```\r\ntensorflow/compiler/jit/graphcycles/graphcycles.cc(62): note: see reference to class template instantiation 'tensorflow::OrderedSet<tensorflow::int32>' being compiled\r\nERROR: D:/a/1/s/tensorflow/tensorflow/stream_executor/BUILD:102:1: C++ compilation of rule '//tensorflow/stream_executor:kernel' failed (Exit 2): cl.exe failed: error executing command \r\n  cd D:/a/1/b/execroot/org_tensorflow\r\n  SET INCLUDE=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\ATLMFC\\INCLUDE;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17763.0\\ucrt;C:\\Program Files (x86)\\Windows Kits\\NETFXSDK\\4.6.1\\include\\um;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17763.0\\shared;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17763.0\\um;C:\\Program Files (x86)\\Windows Kits\\10\\include\\10.0.17763.0\\winrt;\r\n    SET PATH=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64;C:\\windows\\Microsoft.NET\\Framework64\\v4.0.30319;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE;C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\Tools;C:\\Program Files (x86)\\Windows Kits\\10\\bin\\x64;C:\\Program Files (x86)\\Windows Kits\\10\\bin\\x86;C:\\Program Files (x86)\\Microsoft SDKs\\Windows\\v10.0A\\bin\\NETFX 4.6.1 Tools\\x64\\;;C:\\windows\\system32\r\n    SET PWD=/proc/self/cwd\r\n    SET RUNFILES_MANIFEST_ONLY=1\r\n    SET TEMP=C:\\Users\\VSSADM~1\\AppData\\Local\\Temp\r\n    SET TF_DOWNLOAD_CLANG=0\r\n    SET TF_NEED_CUDA=0\r\n    SET TF_NEED_OPENCL_SYCL=0\r\n    SET TF_NEED_ROCM=0\r\n    SET TMP=C:\\Users\\VSSADM~1\\AppData\\Local\\Temp\r\n  C:/Program Files (x86)/Microsoft Visual Studio 14.0/VC/bin/amd64/cl.exe /nologo /DCOMPILER_MSVC /DNOMINMAX /D_WIN32_WINNT=0x0601 /D_CRT_SECURE_NO_DEPRECATE /D_CRT_SECURE_NO_WARNINGS /bigobj /Zm500 /EHsc /wd4351 /wd4291 /wd4250 /wd4996 /I. /Ibazel-out/x64_windows-opt/bin /Iexternal/com_google_absl /Ibazel-out/x64_windows-opt/bin/external/com_google_absl /Iexternal/nsync /Ibazel-out/x64_windows-opt/bin/external/nsync /Iexternal/eigen_archive /Ibazel-out/x64_windows-opt/bin/external/eigen_archive /Iexternal/local_config_sycl /Ibazel-out/x64_windows-opt/bin/external/local_config_sycl /Iexternal/gif_archive /Ibazel-out/x64_windows-opt/bin/external/gif_archive /Iexternal/jpeg /Ibazel-out/x64_windows-opt/bin/external/jpeg /Iexternal/protobuf_archive /Ibazel-out/x64_windows-opt/bin/external/protobuf_archive /Iexternal/com_googlesource_code_re2 /Ibazel-out/x64_windows-opt/bin/external/com_googlesource_code_re2 /Iexternal/farmhash_archive /Ibazel-out/x64_windows-opt/bin/external/farmhash_archive /Iexternal/fft2d /Ibazel-out/x64_windows-opt/bin/external/fft2d /Iexternal/highwayhash /Ibazel-out/x64_windows-opt/bin/external/highwayhash /Iexternal/zlib_archive /Ibazel-out/x64_windows-opt/bin/external/zlib_archive /Iexternal/double_conversion /Ibazel-out/x64_windows-opt/bin/external/double_conversion /Iexternal/snappy /Ibazel-out/x64_windows-opt/bin/external/snappy /Iexternal/nsync/public /Ibazel-out/x64_windows-opt/bin/external/nsync/public /Iexternal/eigen_archive /Ibazel-out/x64_windows-opt/bin/external/eigen_archive /Iexternal/gif_archive/lib /Ibazel-out/x64_windows-opt/bin/external/gif_archive/lib /Iexternal/gif_archive/windows /Ibazel-out/x64_windows-opt/bin/external/gif_archive/windows /Iexternal/protobuf_archive/src /Ibazel-out/x64_windows-opt/bin/external/protobuf_archive/src /Iexternal/farmhash_archive/src /Ibazel-out/x64_windows-opt/bin/external/farmhash_archive/src /Iexternal/zlib_archive /Ibazel-out/x64_windows-opt/bin/external/zlib_archive /Iexternal/double_conversion /Ibazel-out/x64_windows-opt/bin/external/double_conversion /D__CLANG_SUPPORT_DYN_ANNOTATION__ /DEIGEN_MPL2_ONLY /DEIGEN_MAX_ALIGN_BYTES=64 /DEIGEN_HAS_TYPE_TRAITS=0 /DTF_USE_SNAPPY /showIncludes /MD /O2 /Oy- /DNDEBUG /wd4117 -D__DATE__=\"redacted\" -D__TIMESTAMP__=\"redacted\" -D__TIME__=\"redacted\" /Gy /Gw /arch:AVX /Fobazel-out/x64_windows-opt/bin/tensorflow/stream_executor/_objs/kernel/kernel.obj /c tensorflow/stream_executor/kernel.cc\r\nExecution platform: @bazel_tools//platforms:host_platform\r\n.\\tensorflow/stream_executor/rng.h(66): error C2589: 'constant': illegal token on right side of '::'\r\n.\\tensorflow/stream_executor/rng.h(66): error C2059: syntax error: '::'\r\n.\\tensorflow/stream_executor/rng.h(72): error C2589: 'constant': illegal token on right side of '::'\r\n.\\tensorflow/stream_executor/rng.h(72): error C2059: syntax error: '::'\r\nTarget //tensorflow/compiler/aot:tfcompile failed to build\r\n```\r\n\r\n**Describe the expected behavior**\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n```\r\nbazel build -c opt --color=yes --config=monolithic --verbose_failures //tensorflow/compiler/aot:tfcompile\r\n```\r\n\r\nIt seems that two odd newline character was mixed into [rng.h](https://github.com/tensorflow/tensorflow/blob/r1.14/tensorflow/stream_executor/rng.h#L64) as follows.\r\n```\r\n  virtual bool DoPopulateRandGaussian(Stream *stream, float mean, float stddev,\r\n                                      DeviceMemory<float> *v) {\r\n    LOG(ERROR)\r\n        << \"platform's random number generator does not support gaussian\";\r\n    return false;\r\n  }\r\n  virtual bool DoPopulateRandGaussian(Stream *stream, double mean,\r\n                                      double stddev, DeviceMemory<double> *v) {\r\n    LOG(ERROR)\r\n        << \"platform's random number generator does not support gaussian\";\r\n    return false;\r\n  }\r\n```\r\n\r\nThis issue is critical for us.\r\nWould you like to modify the code?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29781", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29781/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29781/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29781/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29781", "id": 456070890, "node_id": "MDU6SXNzdWU0NTYwNzA4OTA=", "number": 29781, "title": "[TF 2.0] tf.hessians", "user": {"login": "mukeshmithrakumar", "id": 29568159, "node_id": "MDQ6VXNlcjI5NTY4MTU5", "avatar_url": "https://avatars3.githubusercontent.com/u/29568159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mukeshmithrakumar", "html_url": "https://github.com/mukeshmithrakumar", "followers_url": "https://api.github.com/users/mukeshmithrakumar/followers", "following_url": "https://api.github.com/users/mukeshmithrakumar/following{/other_user}", "gists_url": "https://api.github.com/users/mukeshmithrakumar/gists{/gist_id}", "starred_url": "https://api.github.com/users/mukeshmithrakumar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mukeshmithrakumar/subscriptions", "organizations_url": "https://api.github.com/users/mukeshmithrakumar/orgs", "repos_url": "https://api.github.com/users/mukeshmithrakumar/repos", "events_url": "https://api.github.com/users/mukeshmithrakumar/events{/privacy}", "received_events_url": "https://api.github.com/users/mukeshmithrakumar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "allenlavoie", "id": 3731025, "node_id": "MDQ6VXNlcjM3MzEwMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3731025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenlavoie", "html_url": "https://github.com/allenlavoie", "followers_url": "https://api.github.com/users/allenlavoie/followers", "following_url": "https://api.github.com/users/allenlavoie/following{/other_user}", "gists_url": "https://api.github.com/users/allenlavoie/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenlavoie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenlavoie/subscriptions", "organizations_url": "https://api.github.com/users/allenlavoie/orgs", "repos_url": "https://api.github.com/users/allenlavoie/repos", "events_url": "https://api.github.com/users/allenlavoie/events{/privacy}", "received_events_url": "https://api.github.com/users/allenlavoie/received_events", "type": "User", "site_admin": false}, {"login": "agarwal-ashish", "id": 19335798, "node_id": "MDQ6VXNlcjE5MzM1Nzk4", "avatar_url": "https://avatars3.githubusercontent.com/u/19335798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agarwal-ashish", "html_url": "https://github.com/agarwal-ashish", "followers_url": "https://api.github.com/users/agarwal-ashish/followers", "following_url": "https://api.github.com/users/agarwal-ashish/following{/other_user}", "gists_url": "https://api.github.com/users/agarwal-ashish/gists{/gist_id}", "starred_url": "https://api.github.com/users/agarwal-ashish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agarwal-ashish/subscriptions", "organizations_url": "https://api.github.com/users/agarwal-ashish/orgs", "repos_url": "https://api.github.com/users/agarwal-ashish/repos", "events_url": "https://api.github.com/users/agarwal-ashish/events{/privacy}", "received_events_url": "https://api.github.com/users/agarwal-ashish/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2019-06-14T05:46:35Z", "updated_at": "2020-02-25T19:23:16Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version: '2.0.0-dev20190612'\r\n- Python version: 3.6.7\r\n\r\n**Describe the current behavior**\r\nWhen you run tf.hessians you get a not supported when eager execution is enabled. Use tf.GradientTape instead Error but Hessians is not implemented in GradientTape.\r\n\r\n**Describe the expected behavior**\r\nI am linking the TF 2.0 API doc issue which was opened to fix the API doc to specify you can't use the tf.hessians with eager mode. (https://github.com/tensorflow/tensorflow/issues/29271). So just wanted to make sure someone is working on a Hessians attribute for GradientTape.\r\n\r\n**Code to reproduce the issue**\r\nIn Eager Mode:\r\n```\r\nf = 100*(y - x**2)**2 + (1 - x)**2\r\nx = tf.Variable([1., 1.])\r\nhessian_matrix = tf.hessians(f, x)\r\n\r\nRuntimeError: tf.gradients is not supported when eager execution is enabled. Use tf.GradientTape instead.\r\n```\r\n\r\nTrying with GradientTape:\r\n\r\n```\r\nwith tf.GradientTape() as t:\r\n    out = f\r\ndy_dx = t.hessians(out, x)\r\n\r\nAttributeError: 'GradientTape' object has no attribute 'hessians'\r\n```\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29779", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29779/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29779/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29779/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29779", "id": 456050265, "node_id": "MDU6SXNzdWU0NTYwNTAyNjU=", "number": 29779, "title": "Compiler dependent error for TFLite micro's FastInt32ToBufferLeft", "user": {"login": "stakemura", "id": 1152138, "node_id": "MDQ6VXNlcjExNTIxMzg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1152138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stakemura", "html_url": "https://github.com/stakemura", "followers_url": "https://api.github.com/users/stakemura/followers", "following_url": "https://api.github.com/users/stakemura/following{/other_user}", "gists_url": "https://api.github.com/users/stakemura/gists{/gist_id}", "starred_url": "https://api.github.com/users/stakemura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stakemura/subscriptions", "organizations_url": "https://api.github.com/users/stakemura/orgs", "repos_url": "https://api.github.com/users/stakemura/repos", "events_url": "https://api.github.com/users/stakemura/events{/privacy}", "received_events_url": "https://api.github.com/users/stakemura/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1445545631, "node_id": "MDU6TGFiZWwxNDQ1NTQ1NjMx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.14", "name": "TF 1.14", "color": "5319e7", "default": false, "description": "for issues seen with TF 1.14"}], "state": "open", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-06-14T04:02:55Z", "updated_at": "2019-07-10T21:42:45Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):No\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):Windows 10 x64\r\n- TensorFlow installed from (source or binary):source\r\n- TensorFlow version (use command below):1.14.0-rc1\r\n- Python version:not used\r\n- Bazel version (if compiling from source):not used\r\n- GCC/Compiler version (if compiling from source):Visual C++ 14 or higher.\r\n\r\n**Describe the current behavior**\r\nCan't build all TFLite micro's samples on Windows or some embedded systems (requires Visual C++).\r\n\r\n**Describe the expected behavior**\r\n\r\n[TFLite micro's FastInt32ToBufferLeft](https://github.com/tensorflow/tensorflow/blob/4053e17dbb7a1be85553e5173c2e08fb9653d33f/tensorflow/lite/experimental/micro/debug_log_numbers.cc#L80) causes Error C4146 `unary minus operator applied to unsigned type, result still unsigned` on Visual C++. Meanwhile, tensoflow's implementaion has no problem.\r\nThis issue can be solved by rewriting `u = -u;` to `u = 0 - u;` as follows.\r\n\r\n* [TFLite micro's FastInt32ToBufferLeft](https://github.com/tensorflow/tensorflow/blob/4053e17dbb7a1be85553e5173c2e08fb9653d33f/tensorflow/lite/experimental/micro/debug_log_numbers.cc#L80)\r\n```cpp\r\n// Populates the provided buffer with an ASCII representation of the number.\r\nchar* FastInt32ToBufferLeft(int32_t i, char* buffer) {\r\n  uint32_t u = i;\r\n  if (i < 0) {\r\n    *buffer++ = '-';\r\n    u = -u;\r\n  }\r\n  return FastUInt32ToBufferLeft(u, buffer, 10);\r\n}\r\n```\r\n\r\n* [Tensorflow's FastInt32ToBufferLeft](https://github.com/tensorflow/tensorflow/blob/4213d5c1bd921f8d5b7b2dc4bbf1eea78d0b5258/tensorflow/core/lib/strings/numbers.cc#L131)\r\n```cpp\r\nsize_t FastInt32ToBufferLeft(int32 i, char* buffer) {\r\n  uint32 u = i;\r\n  size_t length = 0;\r\n  if (i < 0) {\r\n    *buffer++ = '-';\r\n    ++length;\r\n    // We need to do the negation in modular (i.e., \"unsigned\")\r\n    // arithmetic; MSVC++ apparently warns for plain \"-u\", so\r\n    // we write the equivalent expression \"0 - u\" instead.\r\n    u = 0 - u;\r\n  }\r\n  length += FastUInt32ToBufferLeft(u, buffer);\r\n  return length;\r\n}\r\n```\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n```cpp\r\n#include \"tensorflow/lite/experimental/micro/debug_log_numbers.h\"\r\nint main()\r\n{\r\n    char s[80];\r\n    FastInt32ToBufferLeft(-1, s);\r\n    return 0;\r\n}\r\n```\r\nThis issue is critical for us.\r\nWould you like to modify the code?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29775", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29775/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29775/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29775/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/29775", "id": 456038198, "node_id": "MDExOlB1bGxSZXF1ZXN0Mjg4MTY0MTYw", "number": 29775, "title": "Speed up fold batch norm", "user": {"login": "SmokerX", "id": 25046253, "node_id": "MDQ6VXNlcjI1MDQ2MjUz", "avatar_url": "https://avatars0.githubusercontent.com/u/25046253?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SmokerX", "html_url": "https://github.com/SmokerX", "followers_url": "https://api.github.com/users/SmokerX/followers", "following_url": "https://api.github.com/users/SmokerX/following{/other_user}", "gists_url": "https://api.github.com/users/SmokerX/gists{/gist_id}", "starred_url": "https://api.github.com/users/SmokerX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SmokerX/subscriptions", "organizations_url": "https://api.github.com/users/SmokerX/orgs", "repos_url": "https://api.github.com/users/SmokerX/repos", "events_url": "https://api.github.com/users/SmokerX/events{/privacy}", "received_events_url": "https://api.github.com/users/SmokerX/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-06-14T02:59:38Z", "updated_at": "2019-12-24T06:11:34Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/29775", "html_url": "https://github.com/tensorflow/tensorflow/pull/29775", "diff_url": "https://github.com/tensorflow/tensorflow/pull/29775.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/29775.patch"}, "body": ""}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29771", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29771/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29771/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29771/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29771", "id": 456016650, "node_id": "MDU6SXNzdWU0NTYwMTY2NTA=", "number": 29771, "title": "Multi GPU training - inconstant results between virtual GPUs and non Virtual GPUs", "user": {"login": "scotthong", "id": 647033, "node_id": "MDQ6VXNlcjY0NzAzMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/647033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scotthong", "html_url": "https://github.com/scotthong", "followers_url": "https://api.github.com/users/scotthong/followers", "following_url": "https://api.github.com/users/scotthong/following{/other_user}", "gists_url": "https://api.github.com/users/scotthong/gists{/gist_id}", "starred_url": "https://api.github.com/users/scotthong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scotthong/subscriptions", "organizations_url": "https://api.github.com/users/scotthong/orgs", "repos_url": "https://api.github.com/users/scotthong/repos", "events_url": "https://api.github.com/users/scotthong/events{/privacy}", "received_events_url": "https://api.github.com/users/scotthong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547538, "node_id": "MDU6TGFiZWwxMDk3NTQ3NTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu", "name": "comp:gpu", "color": "0052cc", "default": false, "description": ""}, {"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "aaroey", "id": 31743510, "node_id": "MDQ6VXNlcjMxNzQzNTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/31743510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaroey", "html_url": "https://github.com/aaroey", "followers_url": "https://api.github.com/users/aaroey/followers", "following_url": "https://api.github.com/users/aaroey/following{/other_user}", "gists_url": "https://api.github.com/users/aaroey/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaroey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaroey/subscriptions", "organizations_url": "https://api.github.com/users/aaroey/orgs", "repos_url": "https://api.github.com/users/aaroey/repos", "events_url": "https://api.github.com/users/aaroey/events{/privacy}", "received_events_url": "https://api.github.com/users/aaroey/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aaroey", "id": 31743510, "node_id": "MDQ6VXNlcjMxNzQzNTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/31743510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaroey", "html_url": "https://github.com/aaroey", "followers_url": "https://api.github.com/users/aaroey/followers", "following_url": "https://api.github.com/users/aaroey/following{/other_user}", "gists_url": "https://api.github.com/users/aaroey/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaroey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaroey/subscriptions", "organizations_url": "https://api.github.com/users/aaroey/orgs", "repos_url": "https://api.github.com/users/aaroey/repos", "events_url": "https://api.github.com/users/aaroey/events{/privacy}", "received_events_url": "https://api.github.com/users/aaroey/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-06-14T01:08:11Z", "updated_at": "2019-10-08T00:02:23Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow):\r\n    - Modified from the stock example\r\n    - https://www.tensorflow.org/beta/tutorials/distribute/keras\r\n    - Working example is attached to this bug report\r\n- OS Platform and Distribution\r\n    - Linux Ubuntu 16.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n    - No\r\n- TensorFlow installed from (source or binary):\r\n    - Binary\r\n- TensorFlow version (use command below):\r\n    - 2.0.0-beta0\r\n- Python version:\r\n    - Python 3.5.2\r\n- Bazel version (if compiling from source):\r\n    - N/A (0.23.2)\r\n- GCC/Compiler version (if compiling from source):\r\n    - N/A (5.4.0 20160609)\r\n- CUDA/cuDNN version:\r\n    - 10.0.130/7.4.1\r\n- GPU model and memory:\r\n    - 4x Titan Xp (12Gb) (Standalong, no SLI connections)\r\n\r\n**Describe the current behavior**\r\nThe model accuracy is far off between virtual GPUs and physical GPUs. The default tf.distribute.MirroredStrategy() is used for multi GPU training.\r\n\r\n\r\n**Describe the expected behavior**\r\nThe trained model should achieve similar level of accuracy regardless of virtual devices (0.9938) or physical devices (0.9698).\r\n\r\n**Code to reproduce the issue**\r\n1. The script attached is used to train a model using multiple GPUs.\r\n  * The code is modified from the stock example for quick experiment.\r\n    * https://www.tensorflow.org/beta/tutorials/distribute/keras\r\n  * Traing using two VirtualDevices after 10 epoches\r\n    * when only one GPU is detected, two virtual devices will be created. (init_gpu())\r\n    * Use the following command to run the script\r\n```\r\nexport CUDA_VISIBLE_DEVICES=\"0\"\r\npython3 mnist_muti_gpus.py\r\n```\r\n  * results after 10 epoches\r\n```\r\nEpoch 10/10\r\n465/469 [============================>.] - ETA: 0s - loss: 0.0250 - accuracy: 0.9937\r\nLearning rate for epoch 10 is 0.00001\r\n469/469 [==============================] - 4s 9ms/step - loss: 0.0249 - accuracy: 0.9938\r\n\r\n...\r\n\r\nEpoch 20/20\r\n463/469 [============================>.] - ETA: 0s - loss: 0.0240 - accuracy: 0.9939\r\nLearning rate for epoch 20 is 0.00001\r\n469/469 [==============================] - 4s 8ms/step - loss: 0.0239 - accuracy: 0.9940\r\n\r\n```\r\n\r\n  * Traing using two GPUs (non virtual) after 10 epoches\r\n    * If more than one GPU is visiable, no virtual device will be created. (init_gpu())\r\n    * Use the following command to run the script\r\n```\r\nexport CUDA_VISIBLE_DEVICES=\"0,1\"\r\npython3 mnist_muti_gpus.py\r\n```\r\n  * results after 10 epoches\r\n```\r\nEpoch 10/10\r\n464/469 [============================>.] - ETA: 0s - loss: 0.1421 - accuracy: 0.9697\r\nLearning rate for epoch 10 is 0.00001\r\n469/469 [==============================] - 4s 8ms/step - loss: 0.1421 - accuracy: 0.9698\r\n\r\n...\r\n\r\nEpoch 20/20\r\n465/469 [============================>.] - ETA: 0s - loss: 0.1157 - accuracy: 0.9728\r\nLearning rate for epoch 20 is 0.00001\r\n469/469 [==============================] - 4s 9ms/step - loss: 0.1157 - accuracy: 0.9728\r\n\r\n```\r\n\r\n**Other info / logs**\r\n\r\n\r\n```python\r\n\"\"\"\r\nThis script is extended from the following stock example:\r\nhttps://www.tensorflow.org/beta/tutorials/distribute/keras\r\n\"\"\"\r\nfrom __future__ import absolute_import\r\nfrom __future__ import division\r\nfrom __future__ import print_function\r\nfrom __future__ import unicode_literals\r\n\r\nfrom tensorflow.keras.callbacks import TensorBoard\r\nfrom tensorflow.keras.datasets import mnist\r\nfrom tensorflow.keras.models import Model\r\nfrom tensorflow.keras.layers import Input, Dense, Flatten, BatchNormalization\r\nfrom tensorflow.keras.layers import Conv2D, MaxPool2D\r\nfrom tensorflow.keras import optimizers\r\nfrom tensorflow.keras import losses\r\nfrom tensorflow.keras import initializers\r\nfrom tensorflow.keras import backend as K\r\nfrom tensorflow.keras.layers import Activation\r\n\r\nimport tensorflow as tf\r\nimport tensorflow_datasets as tfds\r\nimport math\r\nimport os\r\n\r\n# Initialize GPUs\r\n# This function must be called first\r\n# Setting up GPU memory ussage\r\n# https://www.tensorflow.org/beta/guide/distribute_strategy\r\n# https://www.tensorflow.org/beta/guide/using_gpu\r\ndef init_gpus(soft_device_placement=True, log_device_placement=False, create_virtual_devices=False, memory_limit=4096):\r\n\r\n    tf.config.set_soft_device_placement(soft_device_placement)    \r\n    tf.debugging.set_log_device_placement(log_device_placement)\r\n\r\n    gpus = tf.config.experimental.list_physical_devices('GPU')\r\n    if gpus:\r\n        # If there is only one GPU, create two logical virtual devices for developing\r\n        # on a machine with only one GPU installed\r\n        try:\r\n            # Create 2 virtual GPUs on each physical GPU with the given memory_limit GPU memory\r\n            if create_virtual_devices and len(gpus) == 1:\r\n                for gpu in gpus:\r\n                    tf.config.experimental.set_virtual_device_configuration(\r\n                        gpu,\r\n                        [tf.config.experimental.VirtualDeviceConfiguration(memory_limit=4096),\r\n                         tf.config.experimental.VirtualDeviceConfiguration(memory_limit=4096)]\r\n                    )\r\n\r\n            else:\r\n                # Currently, memory growth needs to be the same across GPUs\r\n                for gpu in gpus:\r\n                    tf.config.experimental.set_memory_growth(gpu, True)\r\n\r\n        except RuntimeError as e:\r\n            # Memory growth must be set before GPUs have been initialized\r\n            print(e)\r\n\r\n        # print out physical and logical GPUs\r\n        logical_gpus = tf.config.experimental.list_logical_devices('GPU')\r\n        print(len(gpus), \"Physical GPUs,\", len(logical_gpus), \"Logical GPUs\")\r\n\r\n    else:\r\n        print(\"No visible GPU is detected...\")\r\n\r\ndef scale(image, label):\r\n    image = tf.cast(image, tf.float32)\r\n    image /= 255\r\n    return image, label\r\n\r\n# Callback for printing the LR at the end of each epoch.\r\nclass PrintLR(tf.keras.callbacks.Callback):\r\n    def on_epoch_end(self, epoch, logs=None):\r\n        print('\\nLearning rate for epoch %d is %.5f' %(epoch + 1, self.model.optimizer.lr.numpy()))\r\n\r\n# Function for decaying the learning rate.\r\n# You can define any decay function you need.\r\ndef decay(epoch):\r\n    if epoch < 3:\r\n        return 1e-3\r\n    elif epoch >= 3 and epoch < 7:\r\n        return 1e-4\r\n    else:\r\n        return 1e-5\r\n\r\ndef run():\r\n    ### get data\r\n    init_gpus(\r\n        log_device_placement=False,\r\n        create_virtual_devices=True\r\n    )\r\n\r\n    # \r\n    # strategy = tf.distribute.MirroredStrategy(cross_device_ops=tf.distribute.ReductionToOneDevice())\r\n    # strategy = tf.distribute.MirroredStrategy(cross_device_ops=tf.distribute.HierarchicalCopyAllReduce())\r\n    # strategy = tf.distribute.MirroredStrategy(cross_device_ops=tf.distribute.NcclAllReduce())\r\n    strategy = tf.distribute.MirroredStrategy()\r\n    print('Number of devices: {}'.format(strategy.num_replicas_in_sync))\r\n\r\n    # Setting with_info to True includes the metadata for the entire dataset, \r\n    # which is being saved here to info. Among other things, this metadata object\r\n    # includes the number of train and test examples.\r\n    datasets, info = tfds.load(\r\n        name='mnist',\r\n        with_info=True,\r\n        as_supervised=True\r\n    )\r\n    mnist_train, mnist_test = datasets['train'], datasets['test']\r\n\r\n    # You can also do info.splits.total_num_examples to get the total\r\n    # number of examples in the dataset.\r\n    num_train_examples = info.splits['train'].num_examples\r\n    num_test_examples = info.splits['test'].num_examples\r\n\r\n    #\r\n    print(\"num_train_examples = %d, num_test_examples = %d\" %(num_train_examples, num_test_examples))\r\n\r\n    BUFFER_SIZE = num_train_examples\r\n    BATCH_SIZE_PER_REPLICA = 64\r\n    BATCH_SIZE = BATCH_SIZE_PER_REPLICA * strategy.num_replicas_in_sync\r\n    EPOCHS = 20\r\n\r\n    # train_dataset = mnist_train.map(scale).shuffle(num_train_examples).repeat().batch(BATCH_SIZE)\r\n    train_dataset = mnist_train.shuffle(num_train_examples).repeat().map(scale).batch(BATCH_SIZE)\r\n    eval_dataset = mnist_test.map(scale).batch(BATCH_SIZE)\r\n\r\n    with strategy.scope():\r\n        ### compile\r\n        ## Seperate the activation layer so that BatchNormalization can be added later on.\r\n        model = tf.keras.Sequential([\r\n            tf.keras.layers.Conv2D(32, 3, input_shape=(28, 28, 1)),\r\n            tf.keras.layers.Activation(activation='relu'),\r\n            tf.keras.layers.MaxPooling2D(),\r\n            tf.keras.layers.Flatten(),\r\n            tf.keras.layers.Dense(64),\r\n            tf.keras.layers.Activation(activation='relu'),\r\n            tf.keras.layers.Dense(10, activation='softmax')\r\n        ])\r\n\r\n        model.compile(\r\n            loss='sparse_categorical_crossentropy',\r\n            optimizer=tf.keras.optimizers.Adam(),\r\n            metrics=['accuracy']\r\n        )\r\n        model.summary()\r\n\r\n    # print out physical and logical GPUs\r\n    gpus = tf.config.experimental.list_physical_devices('GPU')\r\n    logical_gpus = tf.config.experimental.list_logical_devices('GPU')\r\n    print(len(gpus), \"Physical GPUs,\", len(logical_gpus), \"Logical GPUs\")\r\n\r\n    # Define the checkpoint directory to store the checkpoints\r\n    checkpoint_dir = './training_checkpoints'\r\n    # Name of the checkpoint files\r\n    checkpoint_prefix = os.path.join(checkpoint_dir, \"ckpt_{epoch}\")\r\n\r\n    callbacks = [\r\n        tf.keras.callbacks.TensorBoard(log_dir='./logs'),\r\n        tf.keras.callbacks.ModelCheckpoint(filepath=checkpoint_prefix, save_weights_only=True),\r\n        tf.keras.callbacks.LearningRateScheduler(decay),\r\n        PrintLR()\r\n    ]\r\n\r\n    steps_per_epoch = math.ceil(num_train_examples / BATCH_SIZE)\r\n    model.fit(\r\n        train_dataset,\r\n        steps_per_epoch=steps_per_epoch,\r\n        epochs=EPOCHS,\r\n        callbacks=callbacks\r\n    )\r\n\r\n    # validation\r\n    eval_loss, eval_acc = model.evaluate(eval_dataset)\r\n\r\n    K.clear_session()\r\n    return\r\n\r\nif __name__ == '__main__':\r\n    run()\r\n\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29767", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29767/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29767/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29767/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29767", "id": 455986018, "node_id": "MDU6SXNzdWU0NTU5ODYwMTg=", "number": 29767, "title": "Support for distributed custom input pipeline", "user": {"login": "niclasdn-axis", "id": 50694705, "node_id": "MDQ6VXNlcjUwNjk0NzA1", "avatar_url": "https://avatars0.githubusercontent.com/u/50694705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/niclasdn-axis", "html_url": "https://github.com/niclasdn-axis", "followers_url": "https://api.github.com/users/niclasdn-axis/followers", "following_url": "https://api.github.com/users/niclasdn-axis/following{/other_user}", "gists_url": "https://api.github.com/users/niclasdn-axis/gists{/gist_id}", "starred_url": "https://api.github.com/users/niclasdn-axis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/niclasdn-axis/subscriptions", "organizations_url": "https://api.github.com/users/niclasdn-axis/orgs", "repos_url": "https://api.github.com/users/niclasdn-axis/repos", "events_url": "https://api.github.com/users/niclasdn-axis/events{/privacy}", "received_events_url": "https://api.github.com/users/niclasdn-axis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 996845227, "node_id": "MDU6TGFiZWw5OTY4NDUyMjc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:dist-strat", "name": "comp:dist-strat", "color": "0052cc", "default": false, "description": "Distribution Strategy related issues"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "guptapriya", "id": 14104855, "node_id": "MDQ6VXNlcjE0MTA0ODU1", "avatar_url": "https://avatars1.githubusercontent.com/u/14104855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guptapriya", "html_url": "https://github.com/guptapriya", "followers_url": "https://api.github.com/users/guptapriya/followers", "following_url": "https://api.github.com/users/guptapriya/following{/other_user}", "gists_url": "https://api.github.com/users/guptapriya/gists{/gist_id}", "starred_url": "https://api.github.com/users/guptapriya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guptapriya/subscriptions", "organizations_url": "https://api.github.com/users/guptapriya/orgs", "repos_url": "https://api.github.com/users/guptapriya/repos", "events_url": "https://api.github.com/users/guptapriya/events{/privacy}", "received_events_url": "https://api.github.com/users/guptapriya/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "guptapriya", "id": 14104855, "node_id": "MDQ6VXNlcjE0MTA0ODU1", "avatar_url": "https://avatars1.githubusercontent.com/u/14104855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guptapriya", "html_url": "https://github.com/guptapriya", "followers_url": "https://api.github.com/users/guptapriya/followers", "following_url": "https://api.github.com/users/guptapriya/following{/other_user}", "gists_url": "https://api.github.com/users/guptapriya/gists{/gist_id}", "starred_url": "https://api.github.com/users/guptapriya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guptapriya/subscriptions", "organizations_url": "https://api.github.com/users/guptapriya/orgs", "repos_url": "https://api.github.com/users/guptapriya/repos", "events_url": "https://api.github.com/users/guptapriya/events{/privacy}", "received_events_url": "https://api.github.com/users/guptapriya/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-13T22:50:50Z", "updated_at": "2019-10-08T00:14:09Z", "closed_at": null, "author_association": "NONE", "body": "Feature Request\r\n------------------------\r\n\r\n### System information\r\n- **Have I written custom code (as opposed to using a stock example script provided in TensorFlow)**:\r\nYes\r\n- **OS Platform and Distribution (e.g., Linux Ubuntu 16.04)**:\r\nLinux Ubuntu 16.04 and 18.04\r\n- **Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device**:\r\nNo\r\n- **TensorFlow installed from (source or binary)**:\r\nDocker hub image using: FROM tensorflow/tensorflow:2.0.0b0-gpu-py3\r\n- **TensorFlow version (use command below)**:\r\nv1.12.1-3259-gf59745a381 2.0.0-beta0\r\n- **Python version**:\r\nPython 3.6.8\r\n- **Bazel version (if compiling from source)**:\r\n- **GCC/Compiler version (if compiling from source)**:\r\n- **CUDA/cuDNN version**:\r\nSee prebuilt docker image\r\n- **GPU model and memory**:\r\nNividia GeForce GTX TITAN-X (Maxwell)\r\n- **Exact command to reproduce**:\r\nNone, since this is a feature request\r\n\r\nYou can collect some of this information using our environment capture script:\r\n\r\nhttps://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh\r\n\r\nYou can obtain the TensorFlow version with:\r\n\r\n```bash\r\npython -c \"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"\r\n```\r\n\r\n### Describe the problem\r\nDescribe the problem clearly here. Be sure to convey here why it's a bug in TensorFlow or a feature request.\r\nThis is a feature request:\r\n---------------------------------\r\nIn the guide for TensorFlow 2.0 at https://www.tensorflow.org/beta/guide/distribute_strategy\r\nthere is an example for using tf.distribute.Strategy with custom training loops. However this guide assumes that one uses tf.data.Dataset for the input pipeline.\r\n\r\nI have the need for a very dynamic input pipeline since I do inference-based batch mining for triplet training very much like what is described in an article from Google found here:\r\nFaceNet: A Unified Embedding for Face Recognition and Clustering\r\nhttps://arxiv.org/pdf/1503.03832.pdf\r\n\r\nI believe such capability is fundamental for having flexible customization capability while being able to distribute training. Fixed input pipeline can be very limiting.\r\n\r\n### Source code / logs\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. Try to provide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\nThe above mentioned tutorial assumes you can do something like this with the input pipeline:\r\n```python\r\nwith mirrored_strategy.scope():\r\n  dataset = tf.data.Dataset.from_tensors(([1.], [1.])).repeat(1000).batch(\r\n      global_batch_size)\r\n  dist_dataset = mirrored_strategy.experimental_distribute_dataset(dataset)\r\n\r\nwith mirrored_strategy.scope():\r\n  for inputs in dist_dataset:\r\n    print(train_step(inputs))\r\n```\r\nWhereas my example of custom inference-based dataset reader looks more like this:\r\n```python\r\n[anchor_inputs, positive_inputs, negative_inputs] = get_dynamic_triplet_batches_pytorch(args, model, dataset_handler)\r\n```\r\nThe dataset_handler is entirely custom and is used to provide candidate triplets. Then inference is run on them and if the loss is moderate (as described in the FaceNet paper from Google) the triplet is added to a final training batch. In the end that batch is returned to the training loop for the full backprop pass. However, the need to distribute a custom input pipeline is generic and not limited to this use-case.\r\n\r\nThe example is taken from code I wrote for PyTorch where the distribution strategy available is very flexible, so this input pipeline works just out-of-the-box (for distributing on GPUs on a single machine). I would like to see this be possible in Tensorflow as well (but here for all distribution strategies of course). This would make Tensorflow more attractive for more advanced use-cases for training. Right now I don't see how it is possible to set up a custom training input pipeline like this with the existing distribution strategies.\r\n\r\nBR,\r\n/Niclas\r\n\r\n\r\n                                                                                                    "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29748", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29748/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29748/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29748/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29748", "id": 455834741, "node_id": "MDU6SXNzdWU0NTU4MzQ3NDE=", "number": 29748, "title": "Improve interface for warmstarting non-TRAINABLE variables in warm_starting_util", "user": {"login": "gabegrand", "id": 10052880, "node_id": "MDQ6VXNlcjEwMDUyODgw", "avatar_url": "https://avatars3.githubusercontent.com/u/10052880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gabegrand", "html_url": "https://github.com/gabegrand", "followers_url": "https://api.github.com/users/gabegrand/followers", "following_url": "https://api.github.com/users/gabegrand/following{/other_user}", "gists_url": "https://api.github.com/users/gabegrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/gabegrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gabegrand/subscriptions", "organizations_url": "https://api.github.com/users/gabegrand/orgs", "repos_url": "https://api.github.com/users/gabegrand/repos", "events_url": "https://api.github.com/users/gabegrand/events{/privacy}", "received_events_url": "https://api.github.com/users/gabegrand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fchollet", "id": 710255, "node_id": "MDQ6VXNlcjcxMDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/710255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchollet", "html_url": "https://github.com/fchollet", "followers_url": "https://api.github.com/users/fchollet/followers", "following_url": "https://api.github.com/users/fchollet/following{/other_user}", "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions", "organizations_url": "https://api.github.com/users/fchollet/orgs", "repos_url": "https://api.github.com/users/fchollet/repos", "events_url": "https://api.github.com/users/fchollet/events{/privacy}", "received_events_url": "https://api.github.com/users/fchollet/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-06-13T16:20:24Z", "updated_at": "2019-06-24T21:55:18Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version (you are using): 1.13.1\r\n- Are you willing to contribute it (Yes/No): Yes (if need be)\r\n\r\n**Describe the feature and the current behavior/state.**\r\nWhen warmstarting a pre-trained estimator, a common workflow is to warmstart a small number of non-TRAINABLE variables in addition to the TRAINABLE_VARIABLES. In particular, when warmstarting a Keras estimator with BatchNorm layers, it's necessary to manually warmstart the moving_mean and moving_variance variables, since these are non-trainable (see https://github.com/tensorflow/tensorflow/issues/19903, https://github.com/tensorflow/tensorflow/issues/17950, https://github.com/keras-team/keras/pull/9965). Failure to properly restore these variables can break warmstarting for pre-trained Keras models like InceptionV3 (see https://github.com/keras-team/keras/issues/9214).\r\n\r\nThe current solution is to create `tf.estimator.WarmStartSettings()` object with `vars_to_warm_start=['.*']`. As per the [TF WarmStartSettings docs ](https://www.tensorflow.org/api_docs/python/tf/estimator/WarmStartSettings), passing in a list will warmstart all variables (including non-TRAINABLE), which allows users to warmstart vars from GLOBAL_VARIABLES. However, as [noted](https://github.com/tensorflow/tensorflow/issues/19903#issuecomment-470009739) by some users, this solution is undesirable because it will warmstart all GLOBAL_VARIABLES (including global_step, accumulators, and other state that we generally don't want to restore). \r\n\r\nIdeally, the warmstart API should allow users to cherry-pick additional non-TRAINABLE variables to warmstart alongside TRAINABLE variables. Unfortunately, it's generally not possible to use the regex mechanism in `vars_to_warm_start` for this purpose, since there's no distinction between trainable and non-trainable variables in the default TF variable naming scheme. Furthermore, in most cases, the `WarmStartSettings` object is defined before graph creation, so it's not possible for the user to access `TRAINABLE_VARIABLES` or `GLOBAL_VARIABLES` at Estimator creation time. \r\n\r\n**Proposed solution**\r\nExtend the `tf.train.warm_start()` / `tf.estimator.WarmStartSettings()` API to allow the user to separately define TRAINABLE and non-TRAINABLE variables to warmstart. I can see a couple ways to accomplish this:\r\n\r\n1. Create separate arguments `trainable_vars_to_warmstart` and `nontrainable_vars_to_warmstart`, where non-TRAINABLE variables are defined as `set(GLOBAL_VARIABLES) - set(TRAINABLE_VARIABLES)`.\r\n2. Extend the `vars_to_warmstart` arg to accept a dict of `{\"trainable\": \".*\", \"nontrainable\": \"\\moving_\\\"}`, which in this case would warmstart all TRAINABLE_VARIABLES plus the BatchNorm moving mean and variance.\r\n\r\n**Will this change the current api? How?**\r\nDepending on the solution, the args for `tf.train.warm_start()` / `tf.estimator.WarmStartSettings()` may change. Something like Option 2 above would probably be able to preserve backwards compatibility reasonably well.\r\n\r\n**Who will benefit with this feature?**\r\nUsers who want to warmstart a pre-trained Keras model that contains BatchNormalization layers or other stateful model components not found in TRAINABLE_VARIABLES.\r\n\r\n**Any Other info.**\r\nThis [blog post](http://blog.datumbox.com/the-batch-normalization-layer-of-keras-is-broken/) gives useful background on partially-overlapping issues related to BatchNorm in Keras."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29739", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29739/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29739/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29739/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29739", "id": 455651845, "node_id": "MDU6SXNzdWU0NTU2NTE4NDU=", "number": 29739, "title": "Undefined symbol: DeleteGpuDelegate(_TfLiteDelegate*)", "user": {"login": "weinixuehao", "id": 17869361, "node_id": "MDQ6VXNlcjE3ODY5MzYx", "avatar_url": "https://avatars1.githubusercontent.com/u/17869361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weinixuehao", "html_url": "https://github.com/weinixuehao", "followers_url": "https://api.github.com/users/weinixuehao/followers", "following_url": "https://api.github.com/users/weinixuehao/following{/other_user}", "gists_url": "https://api.github.com/users/weinixuehao/gists{/gist_id}", "starred_url": "https://api.github.com/users/weinixuehao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weinixuehao/subscriptions", "organizations_url": "https://api.github.com/users/weinixuehao/orgs", "repos_url": "https://api.github.com/users/weinixuehao/repos", "events_url": "https://api.github.com/users/weinixuehao/events{/privacy}", "received_events_url": "https://api.github.com/users/weinixuehao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "impjdi", "id": 9742927, "node_id": "MDQ6VXNlcjk3NDI5Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9742927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/impjdi", "html_url": "https://github.com/impjdi", "followers_url": "https://api.github.com/users/impjdi/followers", "following_url": "https://api.github.com/users/impjdi/following{/other_user}", "gists_url": "https://api.github.com/users/impjdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/impjdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/impjdi/subscriptions", "organizations_url": "https://api.github.com/users/impjdi/orgs", "repos_url": "https://api.github.com/users/impjdi/repos", "events_url": "https://api.github.com/users/impjdi/events{/privacy}", "received_events_url": "https://api.github.com/users/impjdi/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "impjdi", "id": 9742927, "node_id": "MDQ6VXNlcjk3NDI5Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9742927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/impjdi", "html_url": "https://github.com/impjdi", "followers_url": "https://api.github.com/users/impjdi/followers", "following_url": "https://api.github.com/users/impjdi/following{/other_user}", "gists_url": "https://api.github.com/users/impjdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/impjdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/impjdi/subscriptions", "organizations_url": "https://api.github.com/users/impjdi/orgs", "repos_url": "https://api.github.com/users/impjdi/repos", "events_url": "https://api.github.com/users/impjdi/events{/privacy}", "received_events_url": "https://api.github.com/users/impjdi/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-06-13T10:07:49Z", "updated_at": "2019-09-02T06:10:00Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary):\r\n- TensorFlow version:\r\n- Python version:\r\n- Installed using virtualenv? pip? conda?:\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n\r\n\r\nI had built tensorflowlite.a for ios follow offcial website, build successful!\r\nbut not working for gpu, below is error msg with xcode:\r\n\r\nUndefined symbol: DeleteGpuDelegate(_TfLiteDelegate*)\r\n![image](https://user-images.githubusercontent.com/17869361/59423729-4e3b4a80-8e05-11e9-9844-dfa2fe2f785b.png)\r\n\r\nOffcial website building instruction do not enable gpu feature, how to do this?\r\n\r\nBelow is website about how to build tensorflowlite for ios\r\nhttps://www.tensorflow.org/lite/guide/build_ios \r\n\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29736", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29736/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29736/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29736/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29736", "id": 455621397, "node_id": "MDU6SXNzdWU0NTU2MjEzOTc=", "number": 29736, "title": "Object Detection API: Unable to train a quantization aware Faster RCNN + Resnet50 object detector", "user": {"login": "klemen-forstneric", "id": 11489393, "node_id": "MDQ6VXNlcjExNDg5Mzkz", "avatar_url": "https://avatars3.githubusercontent.com/u/11489393?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klemen-forstneric", "html_url": "https://github.com/klemen-forstneric", "followers_url": "https://api.github.com/users/klemen-forstneric/followers", "following_url": "https://api.github.com/users/klemen-forstneric/following{/other_user}", "gists_url": "https://api.github.com/users/klemen-forstneric/gists{/gist_id}", "starred_url": "https://api.github.com/users/klemen-forstneric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klemen-forstneric/subscriptions", "organizations_url": "https://api.github.com/users/klemen-forstneric/orgs", "repos_url": "https://api.github.com/users/klemen-forstneric/repos", "events_url": "https://api.github.com/users/klemen-forstneric/events{/privacy}", "received_events_url": "https://api.github.com/users/klemen-forstneric/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1105108936, "node_id": "MDU6TGFiZWwxMTA1MTA4OTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:model", "name": "comp:model", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "derekjchow", "id": 1195088, "node_id": "MDQ6VXNlcjExOTUwODg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1195088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/derekjchow", "html_url": "https://github.com/derekjchow", "followers_url": "https://api.github.com/users/derekjchow/followers", "following_url": "https://api.github.com/users/derekjchow/following{/other_user}", "gists_url": "https://api.github.com/users/derekjchow/gists{/gist_id}", "starred_url": "https://api.github.com/users/derekjchow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/derekjchow/subscriptions", "organizations_url": "https://api.github.com/users/derekjchow/orgs", "repos_url": "https://api.github.com/users/derekjchow/repos", "events_url": "https://api.github.com/users/derekjchow/events{/privacy}", "received_events_url": "https://api.github.com/users/derekjchow/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "derekjchow", "id": 1195088, "node_id": "MDQ6VXNlcjExOTUwODg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1195088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/derekjchow", "html_url": "https://github.com/derekjchow", "followers_url": "https://api.github.com/users/derekjchow/followers", "following_url": "https://api.github.com/users/derekjchow/following{/other_user}", "gists_url": "https://api.github.com/users/derekjchow/gists{/gist_id}", "starred_url": "https://api.github.com/users/derekjchow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/derekjchow/subscriptions", "organizations_url": "https://api.github.com/users/derekjchow/orgs", "repos_url": "https://api.github.com/users/derekjchow/repos", "events_url": "https://api.github.com/users/derekjchow/events{/privacy}", "received_events_url": "https://api.github.com/users/derekjchow/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-06-13T09:05:12Z", "updated_at": "2019-07-05T10:12:15Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Debian Linux 9 (m26 Deep Learning Image) running on Google Cloud\r\n- TensorFlow installed from (source or binary): binary (using the one provided with the Deep Learning image 'tensorflow_gpu-1.13.1+nv-cp35-cp35m-linux_x86_64.whl')\r\n- TensorFlow version (use command below): 1.13.1\r\n- Python version: 3.5.3\r\n- CUDA/cuDNN version: CUDA 10.0 / cuDNN 7.4.1\r\n- GPU model and memory: NVIDIA Tesla V100\r\n\r\n**Describe the current behavior**\r\n\r\nWhen I try to fine tune a Faster RCNN + Resnet50 object detector I get a runtime error.\r\n\r\nStack trace:\r\n`Traceback (most recent call last):\r\n  File \"models/research/object_detection/model_main.py\", line 109, in <module>\r\n    tf.app.run()\r\n  File \"/home/klemen/ml/models/venv/lib/python3.5/site-packages/tensorflow/python/platform/app.py\", line 125, in run\r\n    _sys.exit(main(argv))\r\n  File \"models/research/object_detection/model_main.py\", line 105, in main\r\n    tf.estimator.train_and_evaluate(estimator, train_spec, eval_specs[0])\r\n  File \"/home/klemen/ml/models/venv/lib/python3.5/site-packages/tensorflow_estimator/python/estimator/training.py\", line 471, in train_and_evaluate\r\n    return executor.run()\r\n  File \"/home/klemen/ml/models/venv/lib/python3.5/site-packages/tensorflow_estimator/python/estimator/training.py\", line 611, in run\r\n    return self.run_local()\r\n  File \"/home/klemen/ml/models/venv/lib/python3.5/site-packages/tensorflow_estimator/python/estimator/training.py\", line 712, in run_local\r\n    saving_listeners=saving_listeners)\r\n  File \"/home/klemen/ml/models/venv/lib/python3.5/site-packages/tensorflow_estimator/python/estimator/estimator.py\", line 358, in train\r\n    loss = self._train_model(input_fn, hooks, saving_listeners)\r\n  File \"/home/klemen/ml/models/venv/lib/python3.5/site-packages/tensorflow_estimator/python/estimator/estimator.py\", line 1124, in _train_model\r\n    return self._train_model_default(input_fn, hooks, saving_listeners)\r\n  File \"/home/klemen/ml/models/venv/lib/python3.5/site-packages/tensorflow_estimator/python/estimator/estimator.py\", line 1154, in _train_model_default\r\n    features, labels, model_fn_lib.ModeKeys.TRAIN, self.config)\r\n  File \"/home/klemen/ml/models/venv/lib/python3.5/site-packages/tensorflow_estimator/python/estimator/estimator.py\", line 1112, in _call_model_fn\r\n    model_fn_results = self._model_fn(features=features, **kwargs)\r\n  File \"/home/klemen/ml/models/research/object_detection/model_lib.py\", line 369, in model_fn\r\n    graph_rewriter_fn()\r\n  File \"/home/klemen/ml//models/research/object_detection/builders/graph_rewriter_builder.py\", line 37, in graph_rewrite_fn\r\n    quant_delay=graph_rewriter_config.quantization.delay\r\n  File \"/home/klemen/ml//models/venv/lib/python3.5/site-packages/tensorflow/contrib/quantize/python/quantize_graph.py\", line 205, in experimental_create_training_graph\r\n    scope=scope)\r\n  File \"/home/klemen/ml/models/venv/lib/python3.5/site-packages/tensorflow/contrib/quantize/python/quantize_graph.py\", line 73, in _create_graph\r\n    is_training=is_training)\r\n  File \"/home/klemen/ml/models/venv/lib/python3.5/site-packages/tensorflow/contrib/quantize/python/fold_batch_norms.py\", line 53, in FoldBatchNorms\r\n    graph, is_training, freeze_batch_norm_delay=freeze_batch_norm_delay)\r\n  File \"/home/klemen/ml/models/venv/lib/python3.5/site-packages/tensorflow/contrib/quantize/python/fold_batch_norms.py\", line 98, in _FoldFusedBatchNorms\r\n    freeze_batch_norm_delay=freeze_batch_norm_delay))\r\n  File \"/home/klemen/ml/models/venv/lib/python3.5/site-packages/tensorflow/contrib/quantize/python/fold_batch_norms.py\", line 384, in _ComputeBatchNormCorrections\r\n    match.moving_variance_tensor + match.batch_epsilon)\r\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'float'`\r\n\r\nConfig used:\r\n`model {\r\n  faster_rcnn {\r\n    num_classes: 1\r\n    image_resizer {\r\n      fixed_shape_resizer {\r\n        height: 600\r\n        width: 600\r\n      }\r\n    }\r\n    feature_extractor {\r\n      type: \"faster_rcnn_resnet50\"\r\n      first_stage_features_stride: 16\r\n    }\r\n    first_stage_anchor_generator {\r\n      grid_anchor_generator {\r\n        height_stride: 16\r\n        width_stride: 16\r\n        scales: 0.25\r\n        scales: 0.5\r\n        scales: 1.0\r\n        scales: 2.0                                                                                                                                                                                                                 \r\n        aspect_ratios: 0.5\r\n        aspect_ratios: 1.0\r\n        aspect_ratios: 2.0\r\n      }\r\n    }\r\n    first_stage_box_predictor_conv_hyperparams {\r\n      op: CONV\r\n      regularizer {\r\n        l2_regularizer {\r\n          weight: 0.0\r\n        }\r\n      }\r\n      initializer {\r\n        truncated_normal_initializer {\r\n          stddev: 0.00999999977648\r\n        }\r\n      }\r\n    }\r\n    first_stage_nms_score_threshold: 0.0\r\n    first_stage_nms_iou_threshold: 0.699999988079                                                                                                                                                                                    \r\n    first_stage_max_proposals: 20\r\n    first_stage_localization_loss_weight: 2.0\r\n    first_stage_objectness_loss_weight: 1.0\r\n    second_stage_batch_size: 20\r\n    initial_crop_size: 14\r\n    maxpool_kernel_size: 2\r\n    maxpool_stride: 2\r\n    second_stage_box_predictor {\r\n      mask_rcnn_box_predictor {\r\n        fc_hyperparams {\r\n          op: FC\r\n          regularizer {\r\n            l2_regularizer {\r\n              weight: 0.0\r\n            }\r\n          }\r\n          initializer {\r\n            variance_scaling_initializer {\r\n              factor: 1.0\r\n              uniform: true                                                                                                                                                                                                          \r\n              mode: FAN_AVG\r\n            }\r\n          }\r\n        }\r\n        use_dropout: false\r\n        dropout_keep_probability: 1.0\r\n      }\r\n    }\r\n    second_stage_post_processing {\r\n      batch_non_max_suppression {\r\n        score_threshold: 0.300000011921\r\n        iou_threshold: 0.600000023842\r\n        max_detections_per_class: 20\r\n        max_total_detections: 20\r\n      }\r\n      score_converter: SOFTMAX\r\n    }\r\n    second_stage_localization_loss_weight: 2.0\r\n    second_stage_classification_loss_weight: 1.0\r\n  }                                                                                                                                                                                                                                 \r\n}\r\ntrain_config {\r\n  batch_size: 16\r\n  data_augmentation_options {\r\n    random_horizontal_flip {\r\n    }\r\n  }\r\n  optimizer {\r\n    momentum_optimizer {\r\n      learning_rate {\r\n        manual_step_learning_rate {\r\n          initial_learning_rate: 0.000300000014249\r\n          schedule {\r\n            step: 0\r\n            learning_rate: 0.000300000014249\r\n          }\r\n          schedule {\r\n            step: 900000\r\n            learning_rate: 2.99999992421e-05\r\n          }                                                                                                                                                                                                                          \r\n          schedule {\r\n            step: 1200000\r\n            learning_rate: 3.00000010611e-06\r\n          }\r\n        }\r\n      }\r\n      momentum_optimizer_value: 0.899999976158\r\n    }\r\n    use_moving_average: false\r\n  }\r\n  gradient_clipping_by_norm: 10.0\r\n  fine_tune_checkpoint: \"/home/klemen/ml/resnet50/model.ckpt\"\r\n  fine_tune_checkpoint_type: \"detection\"\r\n  num_steps: 200000\r\n}\r\n\r\ntrain_input_reader: {\r\n  tf_record_input_reader {\r\n    input_path: \"/home/klemen/ml/widerface-to-tfrecord/output/train.tfrecord-?????-of-00010\"\r\n  }                                                                                                                                                                                                                                  \r\n  label_map_path: \"/home/klemen/ml/widerface-to-tfrecord/output/face_label_map.pbtxt\"\r\n}\r\n\r\neval_config: {\r\n  metrics_set: \"coco_detection_metrics\"\r\n  num_examples: 1000\r\n}\r\n\r\neval_input_reader: {\r\n  tf_record_input_reader {\r\n    input_path: \"/home/klemen/ml/widerface-to-tfrecord/output/val.tfrecord-?????-of-00010\"\r\n  }\r\n  label_map_path: \"/home/klemen/ml/widerface-to-tfrecord/output/face_label_map.pbtxt\"\r\n  shuffle: false\r\n  num_readers: 1\r\n}\r\n\r\ngraph_rewriter {\r\n  quantization {\r\n    delay: 100\r\n    activation_bits: 8\r\n    weight_bits: 8\r\n  }\r\n}\r\n`\r\n\r\n**Describe the expected behavior**\r\nIt's supposed to train the model and not throw the error.\r\n\r\n**Code to reproduce the issue**\r\nGet the Faster RCNN + ResNet50 pretrained model from `http://download.tensorflow.org/models/object_detection/faster_rcnn_resnet50_lowproposals_coco_2018_01_28.tar.gz` and run `models/research/object_detection/model_main.py` with the above config.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29709", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29709/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29709/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29709/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29709", "id": 455412953, "node_id": "MDU6SXNzdWU0NTU0MTI5NTM=", "number": 29709, "title": "Export FeatureColumn and subclasses", "user": {"login": "novog", "id": 16354547, "node_id": "MDQ6VXNlcjE2MzU0NTQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/16354547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/novog", "html_url": "https://github.com/novog", "followers_url": "https://api.github.com/users/novog/followers", "following_url": "https://api.github.com/users/novog/following{/other_user}", "gists_url": "https://api.github.com/users/novog/gists{/gist_id}", "starred_url": "https://api.github.com/users/novog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/novog/subscriptions", "organizations_url": "https://api.github.com/users/novog/orgs", "repos_url": "https://api.github.com/users/novog/repos", "events_url": "https://api.github.com/users/novog/events{/privacy}", "received_events_url": "https://api.github.com/users/novog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-12T20:37:01Z", "updated_at": "2019-09-09T21:50:08Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n\r\n- TensorFlow version (you are using): 2.0.0b0\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n**Describe the feature and the current behavior/state.**\r\n\r\nTensorFlow should export the `FeatureColumn` class and all classes that are subclasses of it. Currently, only the functions used to construct objects of these types, such as `numeric_column`, are exported.\r\n\r\n**Will this change the current api? How?**\r\n\r\nYes, it will change the current api by extending it.\r\n\r\n**Who will benefit with this feature?**\r\n\r\n- Developers who want to extend the provided `FeatureColumn` functionality, such as by subclassing `FeatureColumn` or by creating new functions to instantiate members of its existing subclasses\r\n- Developers who document and/or verify their code using type annotations\r\n\r\n**Any Other info.**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29704", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29704/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29704/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29704/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29704", "id": 455393759, "node_id": "MDU6SXNzdWU0NTUzOTM3NTk=", "number": 29704, "title": "Tensorflow 2.0 for raspberry pi installation", "user": {"login": "Risslock", "id": 24501282, "node_id": "MDQ6VXNlcjI0NTAxMjgy", "avatar_url": "https://avatars3.githubusercontent.com/u/24501282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Risslock", "html_url": "https://github.com/Risslock", "followers_url": "https://api.github.com/users/Risslock/followers", "following_url": "https://api.github.com/users/Risslock/following{/other_user}", "gists_url": "https://api.github.com/users/Risslock/gists{/gist_id}", "starred_url": "https://api.github.com/users/Risslock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Risslock/subscriptions", "organizations_url": "https://api.github.com/users/Risslock/orgs", "repos_url": "https://api.github.com/users/Risslock/repos", "events_url": "https://api.github.com/users/Risslock/events{/privacy}", "received_events_url": "https://api.github.com/users/Risslock/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 1194756584, "node_id": "MDU6TGFiZWwxMTk0NzU2NTg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:%20raspberry%20pi", "name": "subtype: raspberry pi", "color": "b619ea", "default": false, "description": "Raspberry Pi Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 23, "created_at": "2019-06-12T19:50:53Z", "updated_at": "2020-02-21T01:18:02Z", "closed_at": null, "author_association": "NONE", "body": "\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Raspbian GNU/Linux 9 (stretch)\r\n- TensorFlow version: Tried tensorflow 2.0 alpha and tensorflow 2.0 beta\r\n- Python version: 3.5.3\r\n- Installed using virtualenv? pip? conda?: virtual environmet and pip\r\n\r\n**Describe the problem**\r\n\r\nCan not install tensorflow 2.0 with pip install. The pip install command doesn't find the distribution package\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nOn a raspberry py with raspbian 9:\r\n\r\n- Create virtualenv\r\n- Activate virtualenv\r\n- Use command: pip install tensorflow==2.0.0-beta0 or pip install tensorflow==2.0.0-a0\r\n\r\n**Any other info / logs**\r\n\r\n ERROR: Could not find a version that satisfies the requirement  tensorflow==2.0.0-beta0 (from versions: 0.11.0, 1.8.0, 1.9.0, 1.10.1, 1.11.0)\r\nERROR: No matching distribution found for  tensorflow==2.0.0-beta0\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29701", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29701/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29701/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29701/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29701", "id": 455365063, "node_id": "MDU6SXNzdWU0NTUzNjUwNjM=", "number": 29701, "title": "ERROR: Using multiple TPUs in a single session is not yet implemented", "user": {"login": "maxima120", "id": 10121753, "node_id": "MDQ6VXNlcjEwMTIxNzUz", "avatar_url": "https://avatars0.githubusercontent.com/u/10121753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxima120", "html_url": "https://github.com/maxima120", "followers_url": "https://api.github.com/users/maxima120/followers", "following_url": "https://api.github.com/users/maxima120/following{/other_user}", "gists_url": "https://api.github.com/users/maxima120/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxima120/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxima120/subscriptions", "organizations_url": "https://api.github.com/users/maxima120/orgs", "repos_url": "https://api.github.com/users/maxima120/repos", "events_url": "https://api.github.com/users/maxima120/events{/privacy}", "received_events_url": "https://api.github.com/users/maxima120/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1161789751, "node_id": "MDU6TGFiZWwxMTYxNzg5NzUx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.13", "name": "TF 1.13", "color": "7dedc4", "default": false, "description": "Issues related to TF 1.13"}, {"id": 1097541661, "node_id": "MDU6TGFiZWwxMDk3NTQxNjYx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tpus", "name": "comp:tpus", "color": "0052cc", "default": false, "description": "tpu, tpuestimator"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-12T18:38:36Z", "updated_at": "2019-06-19T23:01:35Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Debian 9\r\n- TensorFlow installed from (source or binary): preinstalled\r\n- TensorFlow version (use command below): 1.13.1\r\n- Python version: 3.5\r\n\r\n**Describe the current behavior**\r\n\r\nError when trying to use 2 x TPUs v3 in TPUClusterResolver\r\n\r\n**Describe the expected behavior**\r\n\r\nNo error\r\n\r\nModel\r\n```\r\nTPU_ADDRESS1 = 'grpc://10.240.1.2:8470'\r\nTPU_ADDRESS2 = 'grpc://10.240.2.2:8470'\r\n   \r\nopt = tf.train.AdamOptimizer(0.01)\r\n\r\nmodel.compile(optimizer=opt, loss='categorical_crossentropy', metrics=['categorical_accuracy'])\r\n\r\ntpu_model = tf.contrib.tpu.keras_to_tpu_model(model, \r\n        strategy=tf.contrib.tpu.TPUDistributionStrategy(\r\n            tf.contrib.cluster_resolver.TPUClusterResolver(tpu = [TPU_ADDRESS1,TPU_ADDRESS2])))\r\n```\r\nError\r\n```\r\n/usr/local/lib/python3.5/dist-packages/tensorflow/python/distribute/cluster_resolver/tpu_cluster_resolver.py in __init__(self, tpu, zone, project, job_name, coordinator_name, coordinator_address, credentials, service, discovery_url)\r\n    215       if len(tpu) != 1:\r\n    216         raise NotImplementedError(\r\n--> 217             'Using multiple TPUs in a single session is not yet implemented')\r\n    218       tpu = tpu[0]\r\n    219 \r\n\r\nNotImplementedError: Using multiple TPUs in a single session is not yet implemented\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29693", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29693/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29693/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29693/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29693", "id": 455188436, "node_id": "MDU6SXNzdWU0NTUxODg0MzY=", "number": 29693, "title": "Tflite results dont match corresponding Tensorflow for Mobilenet.", "user": {"login": "ignvinay", "id": 47418607, "node_id": "MDQ6VXNlcjQ3NDE4NjA3", "avatar_url": "https://avatars2.githubusercontent.com/u/47418607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignvinay", "html_url": "https://github.com/ignvinay", "followers_url": "https://api.github.com/users/ignvinay/followers", "following_url": "https://api.github.com/users/ignvinay/following{/other_user}", "gists_url": "https://api.github.com/users/ignvinay/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignvinay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignvinay/subscriptions", "organizations_url": "https://api.github.com/users/ignvinay/orgs", "repos_url": "https://api.github.com/users/ignvinay/repos", "events_url": "https://api.github.com/users/ignvinay/events{/privacy}", "received_events_url": "https://api.github.com/users/ignvinay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "nutsiepully", "id": 1307460, "node_id": "MDQ6VXNlcjEzMDc0NjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1307460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nutsiepully", "html_url": "https://github.com/nutsiepully", "followers_url": "https://api.github.com/users/nutsiepully/followers", "following_url": "https://api.github.com/users/nutsiepully/following{/other_user}", "gists_url": "https://api.github.com/users/nutsiepully/gists{/gist_id}", "starred_url": "https://api.github.com/users/nutsiepully/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nutsiepully/subscriptions", "organizations_url": "https://api.github.com/users/nutsiepully/orgs", "repos_url": "https://api.github.com/users/nutsiepully/repos", "events_url": "https://api.github.com/users/nutsiepully/events{/privacy}", "received_events_url": "https://api.github.com/users/nutsiepully/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nutsiepully", "id": 1307460, "node_id": "MDQ6VXNlcjEzMDc0NjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1307460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nutsiepully", "html_url": "https://github.com/nutsiepully", "followers_url": "https://api.github.com/users/nutsiepully/followers", "following_url": "https://api.github.com/users/nutsiepully/following{/other_user}", "gists_url": "https://api.github.com/users/nutsiepully/gists{/gist_id}", "starred_url": "https://api.github.com/users/nutsiepully/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nutsiepully/subscriptions", "organizations_url": "https://api.github.com/users/nutsiepully/orgs", "repos_url": "https://api.github.com/users/nutsiepully/repos", "events_url": "https://api.github.com/users/nutsiepully/events{/privacy}", "received_events_url": "https://api.github.com/users/nutsiepully/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-12T12:36:34Z", "updated_at": "2019-06-14T23:16:03Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Windows10 and Ubuntu16.04\r\n- TensorFlow installed from (source or binary): pip install tensorflow-gpu\r\n- TensorFlow version (or github SHA if from source):1.13\r\n\r\n\r\n[mobilenet_tflite_test.zip](https://github.com/tensorflow/tensorflow/files/3281327/mobilenet_tflite_test.zip)\r\n\r\n\r\n**Provide the text output from tflite_convert**\r\n\r\n```\r\n# Copy and paste here\r\n```\r\n\r\nAlso, please include a link to a GraphDef or the model if possible.\r\nhttps://storage.googleapis.com/download.tensorflow.org/models/mobilenet_v1_1.0_224_frozen.tgz\r\n\r\n**Any other info / logs**\r\nDescription : I am trying to quantize the Mobilenet using tflite. After converting , i used tensorflow to validate my results. I find that quantized results are not matching to float tensorflow based results.\r\nI have an output for about 10 elements and maximum value index , both of them are mismatching as shown.\r\nPlease let me know whether i am missing any thing or is this real problem ?\r\n\r\n_--------------------Float values are --------------------------\r\n[-1.8004932  -0.23941718  0.61870384 -0.4235621  -1.1386781   0.99633265\r\n  0.16455668  0.743189   -1.9882091  -1.270742  ]\r\nMax Index  (array([420], dtype=int64),)\r\n---------Fixed pt values are -----------------------------------\r\n[-2. -8.  0. -6. -2. -6.  2. -2. -2. -2.]\r\nMax Index  (array([812], dtype=int64),)_\r\n\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29688", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29688/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29688/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29688/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29688", "id": 455125187, "node_id": "MDU6SXNzdWU0NTUxMjUxODc=", "number": 29688, "title": "[TF API Docs] UX - `tf.io.FixedLenFeature` and `tf.FixedLenFeature `", "user": {"login": "8bitmp3", "id": 19637339, "node_id": "MDQ6VXNlcjE5NjM3MzM5", "avatar_url": "https://avatars3.githubusercontent.com/u/19637339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/8bitmp3", "html_url": "https://github.com/8bitmp3", "followers_url": "https://api.github.com/users/8bitmp3/followers", "following_url": "https://api.github.com/users/8bitmp3/following{/other_user}", "gists_url": "https://api.github.com/users/8bitmp3/gists{/gist_id}", "starred_url": "https://api.github.com/users/8bitmp3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/8bitmp3/subscriptions", "organizations_url": "https://api.github.com/users/8bitmp3/orgs", "repos_url": "https://api.github.com/users/8bitmp3/repos", "events_url": "https://api.github.com/users/8bitmp3/events{/privacy}", "received_events_url": "https://api.github.com/users/8bitmp3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-12T10:07:55Z", "updated_at": "2019-07-08T21:02:00Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "#### Issue description:\r\nIn the `tf.data` pipelines guide on TensorFlow.org called 'Importing Data', under 'Processing data with `Dataset.map()`' there is an [example](https://www.tensorflow.org/guide/datasets#parsing_tfexample_protocol_buffer_messages) showcasing how to parse `tf.example` protocol buffer messages':\r\n\r\n```python\r\ndef _parse_function(example_proto):\r\n  features = {\"image\": tf.FixedLenFeature((), tf.string, default_value=\"\"),\r\n              \"label\": tf.FixedLenFeature((), tf.int64, default_value=0)}\r\n  parsed_features = tf.parse_single_example(example_proto, features)\r\n  return parsed_features[\"image\"], parsed_features[\"label\"]\r\n...\r\n```\r\nThe config class for parsing fixed length input features used in the example - `tf.FixedLenFeature` - may not be easily identifiable in the API docs since its description is under the `tf.io` module under the alias `tf.io.FixedLenFeature`. \r\n\r\nUX: Figuring out what  `tf.FixedLenFeature` does required using the search bar on TensorFlow.org vs the TF Python [API site](https://www.tensorflow.org/api_docs/python/tf).\r\n\r\n(For your reference: [1.13 (core) doc](https://www.tensorflow.org/api_docs/python/tf/io/FixedLenFeature),  [r1.14 doc](https://www.tensorflow.org/versions/r1.14/api_docs/python/tf/io/FixedLenFeature), [r2.0 beta doc](https://www.tensorflow.org/versions/r2.0/api_docs/python/tf/io/FixedLenFeature))\r\n\r\n#### Feature request:\r\nChange the class in the guide to `tf.io.FixedLenFeature` or reference with a link to `tf.io...` for better UX."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29686", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29686/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29686/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29686/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29686", "id": 455122484, "node_id": "MDU6SXNzdWU0NTUxMjI0ODQ=", "number": 29686, "title": "[Find header file after build manually tensor flow lite]", "user": {"login": "TrungLM13", "id": 15278846, "node_id": "MDQ6VXNlcjE1Mjc4ODQ2", "avatar_url": "https://avatars1.githubusercontent.com/u/15278846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TrungLM13", "html_url": "https://github.com/TrungLM13", "followers_url": "https://api.github.com/users/TrungLM13/followers", "following_url": "https://api.github.com/users/TrungLM13/following{/other_user}", "gists_url": "https://api.github.com/users/TrungLM13/gists{/gist_id}", "starred_url": "https://api.github.com/users/TrungLM13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TrungLM13/subscriptions", "organizations_url": "https://api.github.com/users/TrungLM13/orgs", "repos_url": "https://api.github.com/users/TrungLM13/repos", "events_url": "https://api.github.com/users/TrungLM13/events{/privacy}", "received_events_url": "https://api.github.com/users/TrungLM13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "aselle", "id": 326106, "node_id": "MDQ6VXNlcjMyNjEwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/326106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aselle", "html_url": "https://github.com/aselle", "followers_url": "https://api.github.com/users/aselle/followers", "following_url": "https://api.github.com/users/aselle/following{/other_user}", "gists_url": "https://api.github.com/users/aselle/gists{/gist_id}", "starred_url": "https://api.github.com/users/aselle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aselle/subscriptions", "organizations_url": "https://api.github.com/users/aselle/orgs", "repos_url": "https://api.github.com/users/aselle/repos", "events_url": "https://api.github.com/users/aselle/events{/privacy}", "received_events_url": "https://api.github.com/users/aselle/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-12T10:02:08Z", "updated_at": "2019-06-17T23:17:50Z", "closed_at": null, "author_association": "NONE", "body": "Hello, I built tensorflow lite for ARM 64 on Linux.\r\nAnd After building successful I have a library called \"libtensorflow-lite.a\"\r\nAs you know, if we want to use this lib, we have both lib and header file (.h file in my case).\r\nBut where can I get all header file for libtensorflow lib.\r\nIn result folder (gen folder in my case), I see bin, lib, object but include folder does't exist."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29685", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29685/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29685/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29685/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29685", "id": 455118098, "node_id": "MDU6SXNzdWU0NTUxMTgwOTg=", "number": 29685, "title": " [TF 2.0 API Docs] tf.keras.constraints.MinMaxNorm", "user": {"login": "kabahima", "id": 43174238, "node_id": "MDQ6VXNlcjQzMTc0MjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/43174238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kabahima", "html_url": "https://github.com/kabahima", "followers_url": "https://api.github.com/users/kabahima/followers", "following_url": "https://api.github.com/users/kabahima/following{/other_user}", "gists_url": "https://api.github.com/users/kabahima/gists{/gist_id}", "starred_url": "https://api.github.com/users/kabahima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kabahima/subscriptions", "organizations_url": "https://api.github.com/users/kabahima/orgs", "repos_url": "https://api.github.com/users/kabahima/repos", "events_url": "https://api.github.com/users/kabahima/events{/privacy}", "received_events_url": "https://api.github.com/users/kabahima/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-12T09:53:06Z", "updated_at": "2019-06-15T17:35:44Z", "closed_at": null, "author_association": "NONE", "body": "# Existing URLs containing the issue:\r\nhttps://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/constraints/MinMaxNorm\r\n## Description of the issue (what needs changing):\r\n- ### Correct links:\r\n     Yes\r\n\r\n- ###  Clear Description:\r\n  No, The description does not give recommendations of when and when not to use this symbol\r\n\r\n- ### Usage Example:\r\n   No usage example \r\n\r\n- ### Parameters Defined:\r\n   Parameters are Well defined\r\n\r\n  - ### Returns are not defined\r\n\r\n- ### Raises listed and Defined:\r\n  Errors are not defined.\r\n\r\n- ### Visuals if applicable:\r\n  No visuals are included."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29683", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29683/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29683/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29683/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29683", "id": 455100820, "node_id": "MDU6SXNzdWU0NTUxMDA4MjA=", "number": 29683, "title": "[TF 2.0 API Docs]  tf.keras.metrics.BinaryAccuracy", "user": {"login": "kabahima", "id": 43174238, "node_id": "MDQ6VXNlcjQzMTc0MjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/43174238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kabahima", "html_url": "https://github.com/kabahima", "followers_url": "https://api.github.com/users/kabahima/followers", "following_url": "https://api.github.com/users/kabahima/following{/other_user}", "gists_url": "https://api.github.com/users/kabahima/gists{/gist_id}", "starred_url": "https://api.github.com/users/kabahima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kabahima/subscriptions", "organizations_url": "https://api.github.com/users/kabahima/orgs", "repos_url": "https://api.github.com/users/kabahima/repos", "events_url": "https://api.github.com/users/kabahima/events{/privacy}", "received_events_url": "https://api.github.com/users/kabahima/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dynamicwebpaige", "id": 3712347, "node_id": "MDQ6VXNlcjM3MTIzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3712347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dynamicwebpaige", "html_url": "https://github.com/dynamicwebpaige", "followers_url": "https://api.github.com/users/dynamicwebpaige/followers", "following_url": "https://api.github.com/users/dynamicwebpaige/following{/other_user}", "gists_url": "https://api.github.com/users/dynamicwebpaige/gists{/gist_id}", "starred_url": "https://api.github.com/users/dynamicwebpaige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dynamicwebpaige/subscriptions", "organizations_url": "https://api.github.com/users/dynamicwebpaige/orgs", "repos_url": "https://api.github.com/users/dynamicwebpaige/repos", "events_url": "https://api.github.com/users/dynamicwebpaige/events{/privacy}", "received_events_url": "https://api.github.com/users/dynamicwebpaige/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-12T09:17:45Z", "updated_at": "2019-06-17T12:53:04Z", "closed_at": null, "author_association": "NONE", "body": "TensorFlow version: 2.0\r\n## Existing URLs containing the issue:\r\nhttps://www.tensorflow.org/versions/r2.0/api_docs/python/tf/keras/metrics/BinaryAccuracy\r\n\r\n## Description of the issue (what needs changing):\r\n\r\n- #### Correct links: \r\n       Yes\r\n\r\n- #### Clear Description: \r\n   No, The description does not  give recommendations of when and when not to use this symbol\r\n\r\n- #### Usage Example: \r\n       Yes\r\n- #### Parameters Defined:\r\n\r\n  Parameters are poorly defined, and not formatted appropriately.\r\n- ####  Returns Defined: \r\n\r\n    Returns are not defined\r\n. \r\n- ####  Raises listed and Defined:\r\n\r\n   Errors are not defined.\r\n\r\n- #### Visuals if applicable: \r\n   No visuals are included.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29679", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29679/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29679/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/29679/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/29679", "id": 455077090, "node_id": "MDU6SXNzdWU0NTUwNzcwOTA=", "number": 29679, "title": "the tfdbg CLI does not apepar  in tensorflow alpha2.0", "user": {"login": "aaronlyt", "id": 6880661, "node_id": "MDQ6VXNlcjY4ODA2NjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6880661?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronlyt", "html_url": "https://github.com/aaronlyt", "followers_url": "https://api.github.com/users/aaronlyt/followers", "following_url": "https://api.github.com/users/aaronlyt/following{/other_user}", "gists_url": "https://api.github.com/users/aaronlyt/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronlyt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronlyt/subscriptions", "organizations_url": "https://api.github.com/users/aaronlyt/orgs", "repos_url": "https://api.github.com/users/aaronlyt/repos", "events_url": "https://api.github.com/users/aaronlyt/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronlyt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097548274, "node_id": "MDU6TGFiZWwxMDk3NTQ4Mjc0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tfdbg", "name": "comp:tfdbg", "color": "0052cc", "default": false, "description": "tf debugger"}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "caisq", "id": 16824702, "node_id": "MDQ6VXNlcjE2ODI0NzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16824702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caisq", "html_url": "https://github.com/caisq", "followers_url": "https://api.github.com/users/caisq/followers", "following_url": "https://api.github.com/users/caisq/following{/other_user}", "gists_url": "https://api.github.com/users/caisq/gists{/gist_id}", "starred_url": "https://api.github.com/users/caisq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caisq/subscriptions", "organizations_url": "https://api.github.com/users/caisq/orgs", "repos_url": "https://api.github.com/users/caisq/repos", "events_url": "https://api.github.com/users/caisq/events{/privacy}", "received_events_url": "https://api.github.com/users/caisq/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2019-06-12T08:26:23Z", "updated_at": "2019-10-01T21:05:30Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):   Linux Ubuntu 18.04\r\n- TensorFlow installed from (source or binary):   pip install\r\n- TensorFlow version (use command below):   tensorflow apha 2.0\r\n- Python version:   3.6.3\r\n- CUDA/cuDNN version:   CUDA Version 10.1.105, cudnn 7.5\r\n- GPU model and memory:   GTX 2080TI\r\n\r\n*Describe the current behavior**\r\n```\r\nfrom tensorflow.python import debug as tf_debug\r\nkeras.backend.set_session(\\\r\n        tf_debug.LocalCLIDebugWrapperSession(tf.compat.v1.Session()))\r\n```\r\n**the tfdbg CLI does not apepar**, I want to know what is the problem, and how to solve it\r\n\r\n\r\n**Code to reproduce the issue**\r\nProvide a reproducible test case that is the bare minimum necessary to generate the problem.\r\n\r\n```\r\nimport sys\r\nimport os\r\nimport json\r\nimport numpy as np\r\nimport tensorflow as tf\r\nimport tensorflow.keras as keras\r\n\r\nos.environ['CUDA_VISIBLE_DEVICES'] = ''\r\n\r\ndef basic_generator():\r\n    \"\"\"\r\n    \"\"\"\r\n    data_x = [[0, 1, 2, 3], [1, 2, 3, 4], \\\r\n        [0, 1, 3, 4], [0, 2, 1, 4]]\r\n    data_y = [[0, 1, 2, 3], [1, 2, 3, 4], \\\r\n        [0, 1, 3, 4], [0, 2, 1, 4]]\r\n    for x, y in zip(data_x, data_y):\r\n        yield (x, y)\r\n\r\nif __name__ == \"__main__\":\r\n    params = { \r\n       'seq_len': 8,\r\n        'use_bert': False,\r\n        'batch_size': 2,\r\n        'epochs': 5,\r\n        'vocab_len': 5,\r\n        'num_entities': 3,\r\n        'use_pre_emb': False,\r\n        'emb_dim': 20,\r\n        'use_emb_drop': False,\r\n        'emb_drop_rate': 0.8,\r\n        'num_layer': 1,\r\n        'num_lstm_cell': [15],\r\n        'rec_drops': [0.8],\r\n        'lr': 0.001\r\n    }\r\n\r\n    output_types = (tf.int32, tf.int32)\r\n    dataset = tf.data.Dataset.from_generator(\\\r\n        basic_generator, output_types)\r\n    dataset = dataset.padded_batch(\\\r\n        params['batch_size'], \\\r\n            ([params['seq_len'], ], [params['seq_len'], ]))\r\n\r\n    from tensorflow.python import debug as tf_debug\r\n    keras.backend.set_session(\\\r\n        tf_debug.LocalCLIDebugWrapperSession(tf.compat.v1.Session()))\r\n\r\n    dataset = dataset.map(lambda x, y: (x, tf.one_hot(y, params['num_entities'])))\r\n    dataset = dataset.repeat(params['epochs'])\r\n    \r\n    #model = LstmCrf(params)\r\n    model = keras.Sequential()\r\n    inputs = keras.Input(shape=(None, ))\r\n    emb_ini = keras.initializers.TruncatedNormal()\r\n    model.add(keras.layers.Embedding(\\\r\n                params['vocab_len'], params['emb_dim'], \\\r\n                    embeddings_initializer=emb_ini, mask_zero=True))        \r\n    model.add(keras.layers.TimeDistributed(\\\r\n        keras.layers.Dense(params['num_entities'])))\r\n    model.add(keras.layers.Activation('softmax'))\r\n       \r\n    model.compile(optimizer=keras.optimizers.Adam(params['lr']), \\\r\n        loss='categorical_crossentropy', \\\r\n            metrics=['accuracy'])\r\n\r\n    model.fit(dataset, epochs=params['epochs'], \\\r\n        steps_per_epoch=2)\r\n    \r\n```\r\n"}]