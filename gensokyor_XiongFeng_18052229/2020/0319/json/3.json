[{"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37390", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37390/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37390/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37390/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37390", "id": 576889469, "node_id": "MDU6SXNzdWU1NzY4ODk0Njk=", "number": 37390, "title": "More elaborate logging implementation (implementing TFLogSink s, etc.)", "user": {"login": "csachs", "id": 8251055, "node_id": "MDQ6VXNlcjgyNTEwNTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8251055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/csachs", "html_url": "https://github.com/csachs", "followers_url": "https://api.github.com/users/csachs/followers", "following_url": "https://api.github.com/users/csachs/following{/other_user}", "gists_url": "https://api.github.com/users/csachs/gists{/gist_id}", "starred_url": "https://api.github.com/users/csachs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/csachs/subscriptions", "organizations_url": "https://api.github.com/users/csachs/orgs", "repos_url": "https://api.github.com/users/csachs/repos", "events_url": "https://api.github.com/users/csachs/events{/privacy}", "received_events_url": "https://api.github.com/users/csachs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-06T12:04:53Z", "updated_at": "2020-03-09T07:09:01Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- TensorFlow version: master\r\n- Are you willing to contribute it: Yes\r\n\r\n**Describe the feature and the current behavior/state.**\r\nCurrently, logging seems to directly write to `stderr`, if the log messages level fits the current log level.\r\nhttps://github.com/tensorflow/tensorflow/blob/efff893c709b585da9771cb3a2997321efef36ae/tensorflow/core/platform/default/logging.cc#L259\r\nThis is a pity, since the message is lost for other code (I'm currently going thru some hoops to fetch them from `stderr` but the solution is problematic), and in particular, it does not adhere to unified logging approaches, with Python users probably expecting their log message to end up in Python's logging infrastructure. Furthermore, many people seem to search for ways to suppress them, and setting the log level via env vars seems to be not the least confusing approach for many (cf. https://github.com/tensorflow/tensorflow/issues/1258 https://github.com/tensorflow/tensorflow/issues/566).\r\n\r\nTaking a look at the source, it seems that conceptionally, more logging infrastructure is planned, but  has not yet been implemented:\r\nhttps://github.com/tensorflow/tensorflow/blob/47df0000dc3af299cef581811c2ad58f3eda700b/tensorflow/core/platform/default/logging.cc#L40\r\n\r\nTherefore the steps seem to be: Implement and use the `TFLogSink` infrastructure, by default adding a logger writing to `stderr`. Implementing a `TFLogSink` which can pass log messages to Python, loaded and added by the Python code, replacing the `stderr` logging. Adding API to to enumerate current log sinks.\r\n\r\nIs anyone working on this? In some comments it seems that Google-internal TF might use more elaborate logging infrastructure, is any of this due to be added to open source TF? What are the opinions of the TF team on the issue?\r\n\r\n**Will this change the current api? How?**\r\nNo. It will add additional possibilities, but not break existing code.\r\n**Who will benefit with this feature?**\r\nPeople who want finer grained control of logging.\r\n**Any Other info.**\r\n\u2013"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37382", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37382/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37382/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37382/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37382", "id": 576786748, "node_id": "MDU6SXNzdWU1NzY3ODY3NDg=", "number": 37382, "title": "Inconsistent device placement when using nondifferentiable_batch_function and GPU", "user": {"login": "dtim1985", "id": 24571714, "node_id": "MDQ6VXNlcjI0NTcxNzE0", "avatar_url": "https://avatars1.githubusercontent.com/u/24571714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtim1985", "html_url": "https://github.com/dtim1985", "followers_url": "https://api.github.com/users/dtim1985/followers", "following_url": "https://api.github.com/users/dtim1985/following{/other_user}", "gists_url": "https://api.github.com/users/dtim1985/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtim1985/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtim1985/subscriptions", "organizations_url": "https://api.github.com/users/dtim1985/orgs", "repos_url": "https://api.github.com/users/dtim1985/repos", "events_url": "https://api.github.com/users/dtim1985/events{/privacy}", "received_events_url": "https://api.github.com/users/dtim1985/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rohan100jain", "id": 144114, "node_id": "MDQ6VXNlcjE0NDExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/144114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohan100jain", "html_url": "https://github.com/rohan100jain", "followers_url": "https://api.github.com/users/rohan100jain/followers", "following_url": "https://api.github.com/users/rohan100jain/following{/other_user}", "gists_url": "https://api.github.com/users/rohan100jain/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohan100jain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohan100jain/subscriptions", "organizations_url": "https://api.github.com/users/rohan100jain/orgs", "repos_url": "https://api.github.com/users/rohan100jain/repos", "events_url": "https://api.github.com/users/rohan100jain/events{/privacy}", "received_events_url": "https://api.github.com/users/rohan100jain/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-06T08:55:58Z", "updated_at": "2020-03-13T00:37:39Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): colab.research.google.com\r\n- TensorFlow installed from (source or\r\nbinary): - 2.1.0 (latest)\r\n- Python version: Google colab python 3\r\n- CUDA/cuDNN version: Google colab GPU\r\n\r\nI'm trying to test the possibility of using `nondifferentiable_batch_function` for inference. Specifically, I need to collect batches and execute them on GPU for better throughput. I'm aware that there are some other approaches (e.g. using tensorflow serving batching) but using a batching function within a graph could be beneficial for my current setup. While experimenting with different approaches I found out that device placement for operations wrapped by batch function could be highly inconsistent. I have managed to execute operations on GPU by wrapping concrete function into batch function and then save the model but other approaches didn't work:\r\n```\r\nsignature = (tf.TensorSpec(shape=[None, 3], dtype=tf.float32, name=\"x\"),)\r\n\r\n@tf.function(input_signature=signature)\r\ndef run(x):\r\n  with tf.device(\"/GPU:0\"):\r\n        return tf.nn.relu(tf.matmul(x, tf.random.uniform((3, 1))))\r\n\r\nconcrete_run = run.get_concrete_function()\r\n\r\n@tf.nondifferentiable_batch_function(1, 6, 10)\r\ndef batch_run(x):\r\n    return concrete_run(x)\r\n\r\nclass Model(tf.Module):\r\n    @tf.function(input_signature=signature)\r\n    def run(self, x):\r\n        return batch_run(x)\r\n\r\nmodel = Model()\r\nx = tf.random.uniform((3, 3))\r\n\r\n# MatMul and Relu are executed on CPU\r\nmodel.run(x)\r\n\r\nconcrete_model_run = model.run.get_concrete_function()\r\n\r\n# MatMul and Relu are executed on CPU\r\nconcrete_model_run(x)\r\n\r\ntf.saved_model.save(model, \"model\", signatures={ \"run\": model.run })\r\nmodel = tf.saved_model.load(\"model\")\r\n\r\n# MatMul and Relu are executed on GPU\r\nmodel.signatures[\"run\"](x=x)\r\n```\r\nPlease find full test there https://colab.research.google.com/drive/1ZcIbnixdcQ2OSabEAlcf5SYYdkoRzYtu\r\n\r\nI expected that the use of nondifferentiable_batch_function would be consistent despite the approach. A particular problem that I face right now is that saved model (with GPU placed ops) when loaded by tensorflow serving still executes operations on CPU and I believe that issues are connected.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37381", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37381/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37381/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37381/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37381", "id": 576762254, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg0Njg1MDEw", "number": 37381, "title": "xla_lhlo.neg and xla_lhlo.abs support integer arguments", "user": {"login": "qqsun8819", "id": 1409644, "node_id": "MDQ6VXNlcjE0MDk2NDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1409644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qqsun8819", "html_url": "https://github.com/qqsun8819", "followers_url": "https://api.github.com/users/qqsun8819/followers", "following_url": "https://api.github.com/users/qqsun8819/following{/other_user}", "gists_url": "https://api.github.com/users/qqsun8819/gists{/gist_id}", "starred_url": "https://api.github.com/users/qqsun8819/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qqsun8819/subscriptions", "organizations_url": "https://api.github.com/users/qqsun8819/orgs", "repos_url": "https://api.github.com/users/qqsun8819/repos", "events_url": "https://api.github.com/users/qqsun8819/events{/privacy}", "received_events_url": "https://api.github.com/users/qqsun8819/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-06T07:59:50Z", "updated_at": "2020-03-11T10:41:32Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37381", "html_url": "https://github.com/tensorflow/tensorflow/pull/37381", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37381.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37381.patch"}, "body": "This pr requires a change in llvm-project , to add negi in mlir standard dialect, as discussed in \r\nhttps://reviews.llvm.org/D75662\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37380", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37380/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37380/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37380/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37380", "id": 576748751, "node_id": "MDU6SXNzdWU1NzY3NDg3NTE=", "number": 37380, "title": "Model customization in iOS", "user": {"login": "PawelFaron", "id": 42373772, "node_id": "MDQ6VXNlcjQyMzczNzcy", "avatar_url": "https://avatars1.githubusercontent.com/u/42373772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PawelFaron", "html_url": "https://github.com/PawelFaron", "followers_url": "https://api.github.com/users/PawelFaron/followers", "following_url": "https://api.github.com/users/PawelFaron/following{/other_user}", "gists_url": "https://api.github.com/users/PawelFaron/gists{/gist_id}", "starred_url": "https://api.github.com/users/PawelFaron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PawelFaron/subscriptions", "organizations_url": "https://api.github.com/users/PawelFaron/orgs", "repos_url": "https://api.github.com/users/PawelFaron/repos", "events_url": "https://api.github.com/users/PawelFaron/events{/privacy}", "received_events_url": "https://api.github.com/users/PawelFaron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "yyoon", "id": 1309817, "node_id": "MDQ6VXNlcjEzMDk4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1309817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yyoon", "html_url": "https://github.com/yyoon", "followers_url": "https://api.github.com/users/yyoon/followers", "following_url": "https://api.github.com/users/yyoon/following{/other_user}", "gists_url": "https://api.github.com/users/yyoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/yyoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yyoon/subscriptions", "organizations_url": "https://api.github.com/users/yyoon/orgs", "repos_url": "https://api.github.com/users/yyoon/repos", "events_url": "https://api.github.com/users/yyoon/events{/privacy}", "received_events_url": "https://api.github.com/users/yyoon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yyoon", "id": 1309817, "node_id": "MDQ6VXNlcjEzMDk4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1309817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yyoon", "html_url": "https://github.com/yyoon", "followers_url": "https://api.github.com/users/yyoon/followers", "following_url": "https://api.github.com/users/yyoon/following{/other_user}", "gists_url": "https://api.github.com/users/yyoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/yyoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yyoon/subscriptions", "organizations_url": "https://api.github.com/users/yyoon/orgs", "repos_url": "https://api.github.com/users/yyoon/repos", "events_url": "https://api.github.com/users/yyoon/events{/privacy}", "received_events_url": "https://api.github.com/users/yyoon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-06T07:29:12Z", "updated_at": "2020-03-06T22:35:59Z", "closed_at": null, "author_association": "NONE", "body": "First of all, thank you all for providing great example for model customization in Android https://github.com/tensorflow/examples/tree/master/lite/examples/model_personalization\r\nIt works great and I want to use it right away in my company! \r\nI have a question about example or support for iOS. Should I hold my breath that it will be available in near future or should I look for some workarounds?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37376", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37376/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37376/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37376/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37376", "id": 576583920, "node_id": "MDU6SXNzdWU1NzY1ODM5MjA=", "number": 37376, "title": "Hexagon Delegate not working with quantized EfficientNet Lite0", "user": {"login": "holokai-ai", "id": 61851501, "node_id": "MDQ6VXNlcjYxODUxNTAx", "avatar_url": "https://avatars2.githubusercontent.com/u/61851501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/holokai-ai", "html_url": "https://github.com/holokai-ai", "followers_url": "https://api.github.com/users/holokai-ai/followers", "following_url": "https://api.github.com/users/holokai-ai/following{/other_user}", "gists_url": "https://api.github.com/users/holokai-ai/gists{/gist_id}", "starred_url": "https://api.github.com/users/holokai-ai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/holokai-ai/subscriptions", "organizations_url": "https://api.github.com/users/holokai-ai/orgs", "repos_url": "https://api.github.com/users/holokai-ai/repos", "events_url": "https://api.github.com/users/holokai-ai/events{/privacy}", "received_events_url": "https://api.github.com/users/holokai-ai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "karimnosseir", "id": 44206880, "node_id": "MDQ6VXNlcjQ0MjA2ODgw", "avatar_url": "https://avatars1.githubusercontent.com/u/44206880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karimnosseir", "html_url": "https://github.com/karimnosseir", "followers_url": "https://api.github.com/users/karimnosseir/followers", "following_url": "https://api.github.com/users/karimnosseir/following{/other_user}", "gists_url": "https://api.github.com/users/karimnosseir/gists{/gist_id}", "starred_url": "https://api.github.com/users/karimnosseir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karimnosseir/subscriptions", "organizations_url": "https://api.github.com/users/karimnosseir/orgs", "repos_url": "https://api.github.com/users/karimnosseir/repos", "events_url": "https://api.github.com/users/karimnosseir/events{/privacy}", "received_events_url": "https://api.github.com/users/karimnosseir/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "karimnosseir", "id": 44206880, "node_id": "MDQ6VXNlcjQ0MjA2ODgw", "avatar_url": "https://avatars1.githubusercontent.com/u/44206880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karimnosseir", "html_url": "https://github.com/karimnosseir", "followers_url": "https://api.github.com/users/karimnosseir/followers", "following_url": "https://api.github.com/users/karimnosseir/following{/other_user}", "gists_url": "https://api.github.com/users/karimnosseir/gists{/gist_id}", "starred_url": "https://api.github.com/users/karimnosseir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karimnosseir/subscriptions", "organizations_url": "https://api.github.com/users/karimnosseir/orgs", "repos_url": "https://api.github.com/users/karimnosseir/repos", "events_url": "https://api.github.com/users/karimnosseir/events{/privacy}", "received_events_url": "https://api.github.com/users/karimnosseir/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-05T23:03:18Z", "updated_at": "2020-03-06T00:09:35Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): \r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: Intrinsyc SD820 dev board\r\n- TensorFlow installed from (source or binary): binary\r\n- TensorFlow version (use command below): v2.1.0-rc2-17-ge5bf8de 2.1.0\r\n- Python version: 3.6.9\r\n- Bazel version (if compiling from source): 1.2.1\r\n- GCC/Compiler version (if compiling from source): 7.4.0\r\n- CUDA/cuDNN version: \r\n- GPU model and memory:\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\n\r\nThe Hexagon DSP Delegate is working well on some Google hosted quantized TFLite models (e.g. MobileNets), using the benchmark_model CLI.  However, when using benchmark_model on the newly released EfficientNet Lite models from the URL below, the DSP Delegate fails to engage (0 nodes delegated):\r\n\r\nhttps://github.com/tensorflow/tpu/blob/master/models/official/efficientnet/lite/README.md\r\n\r\nExample benchmark run:\r\n```\r\n$ adb shell benchmark_model \\\r\n   --use_hexagon=true \\\r\n   --input_layer=images \\\r\n   --input_layer_shape=1,224,224,3 \\\r\n   --graph=/sdcard/efficientnet-lite0-int8.tflite\r\n             \r\nSTARTING!\r\nMin num runs: [50]\r\nMin runs duration (seconds): [1]\r\nMax runs duration (seconds): [150]\r\nInter-run delay (seconds): [-1]\r\nNum threads: [1]\r\nBenchmark name: []\r\nOutput prefix: []\r\nMin warmup runs: [1]\r\nMin warmup runs duration (seconds): [0.5]\r\nGraph: [/sdcard/efficientnet-lite0-int8.tflite]\r\nInput layers: [images]\r\nInput shapes: [1,224,224,3]\r\nInput value ranges: []\r\nUse legacy nnapi : [0]\r\nAllow fp16 : [0]\r\nRequire full delegation : [0]\r\nEnable op profiling: [0]\r\nMax profiling buffer entries: [1024]\r\nUse gpu : [0]\r\nAllow lower precision in gpu : [1]\r\nUse Hexagon : [1]\r\nHexagon lib path : [/data/local/tmp]\r\nHexagon Profiling : [0]\r\nUse nnapi : [0]\r\nLoaded model efficientnet-lite0-int8.tflite\r\nINFO: Initialized TensorFlow Lite runtime.\r\nremote_handle_control available and used\r\nINFO: Created TensorFlow Lite delegate for Hexagon.\r\nINFO: Hexagon delegate: 0 nodes delegated out of 64 nodes.\r\n\r\nApplied Hexagon delegate.\r\nThe input model file size (MB): 5.42276\r\nInitialized session in 93.33ms.\r\nRunning benchmark for at least 1 iterations and at least 0.5 seconds but terminate if exceeding 150 seconds.\r\ncount=9 first=69875 curr=58811 min=58605 max=69875 avg=60623.8 std=3476\r\n\r\nRunning benchmark for at least 50 iterations and at least 1 seconds but terminate if exceeding 150 seconds.\r\ncount=50 first=60688 curr=58755 min=58527 max=61817 avg=59263.9 std=711\r\n\r\nAverage inference timings in us: Warmup: 60623.8, Init: 93330, Inference: 59263.9\r\nNote: as the benchmark tool itself affects memory footprint, the following is only APPROXIMATE to the actual memory footprint of the model at runtime. Take the information at your discretion.\r\nPeak memory footprint (MB): init=2.44922 overall=9.28125\r\n```\r\nAt first I thought it was due to the (new?) \"Quantize\" node at the beginning of the EfficientNet Lite0 network, but pointing \"--input_layer\" to the next node doesn't help.\r\n\r\n![image](https://user-images.githubusercontent.com/61851501/76033543-54bca580-5ef1-11ea-96df-8f8e826a6181.png)\r\n\r\n\r\nIs this a DSP Delegate bug, or an issue with post-training quantization vs quantization-aware training?   If so, when can we expect TF2 quantization-aware training and/or DSP Delegate compatible EfficientNet Lite models?\r\n\r\nThanks\r\n\r\n**Describe the expected behavior**\r\n\r\nMajority of the 64 nodes in the EfficientNet Lite0 quantized model above should have been delegated to the DSP, and the inference time should have been much faster.\r\n\r\n**Standalone code to reproduce the issue** \r\nProvide a reproducible test case that is the bare minimum necessary to generate\r\nthe problem. If possible, please share a link to Colab/Jupyter/any notebook.\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37370", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37370/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37370/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37370/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37370", "id": 576530213, "node_id": "MDU6SXNzdWU1NzY1MzAyMTM=", "number": 37370, "title": "Element/Coefficient wise Mul  _MklMul", "user": {"login": "whatdhack", "id": 12969966, "node_id": "MDQ6VXNlcjEyOTY5OTY2", "avatar_url": "https://avatars3.githubusercontent.com/u/12969966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whatdhack", "html_url": "https://github.com/whatdhack", "followers_url": "https://api.github.com/users/whatdhack/followers", "following_url": "https://api.github.com/users/whatdhack/following{/other_user}", "gists_url": "https://api.github.com/users/whatdhack/gists{/gist_id}", "starred_url": "https://api.github.com/users/whatdhack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whatdhack/subscriptions", "organizations_url": "https://api.github.com/users/whatdhack/orgs", "repos_url": "https://api.github.com/users/whatdhack/repos", "events_url": "https://api.github.com/users/whatdhack/events{/privacy}", "received_events_url": "https://api.github.com/users/whatdhack/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1104829434, "node_id": "MDU6TGFiZWwxMTA0ODI5NDM0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:mkl", "name": "comp:mkl", "color": "0052cc", "default": false, "description": ""}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "TensorFlow-MKL", "id": 44416303, "node_id": "MDQ6VXNlcjQ0NDE2MzAz", "avatar_url": "https://avatars2.githubusercontent.com/u/44416303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TensorFlow-MKL", "html_url": "https://github.com/TensorFlow-MKL", "followers_url": "https://api.github.com/users/TensorFlow-MKL/followers", "following_url": "https://api.github.com/users/TensorFlow-MKL/following{/other_user}", "gists_url": "https://api.github.com/users/TensorFlow-MKL/gists{/gist_id}", "starred_url": "https://api.github.com/users/TensorFlow-MKL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TensorFlow-MKL/subscriptions", "organizations_url": "https://api.github.com/users/TensorFlow-MKL/orgs", "repos_url": "https://api.github.com/users/TensorFlow-MKL/repos", "events_url": "https://api.github.com/users/TensorFlow-MKL/events{/privacy}", "received_events_url": "https://api.github.com/users/TensorFlow-MKL/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TensorFlow-MKL", "id": 44416303, "node_id": "MDQ6VXNlcjQ0NDE2MzAz", "avatar_url": "https://avatars2.githubusercontent.com/u/44416303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TensorFlow-MKL", "html_url": "https://github.com/TensorFlow-MKL", "followers_url": "https://api.github.com/users/TensorFlow-MKL/followers", "following_url": "https://api.github.com/users/TensorFlow-MKL/following{/other_user}", "gists_url": "https://api.github.com/users/TensorFlow-MKL/gists{/gist_id}", "starred_url": "https://api.github.com/users/TensorFlow-MKL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TensorFlow-MKL/subscriptions", "organizations_url": "https://api.github.com/users/TensorFlow-MKL/orgs", "repos_url": "https://api.github.com/users/TensorFlow-MKL/repos", "events_url": "https://api.github.com/users/TensorFlow-MKL/events{/privacy}", "received_events_url": "https://api.github.com/users/TensorFlow-MKL/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-05T21:05:21Z", "updated_at": "2020-03-09T23:40:31Z", "closed_at": null, "author_association": "NONE", "body": "Occasionally  see that for element/coefficient wise multiplication ( e.g.  scalar*tensor or tensor*tensor) that multiple types of operators are used  ( e.g. Mul and _MklMul) .  My questions are as follows,\r\n\r\n1.  Is there any difference between Mul and _MklMul ? \r\n2. Why  for some Ops Mul is picked and for others _MklMul is picked ? \r\n\r\nFiles referring to Ops/Kernels  are as follows:\r\nhttps://github.com/tensorflow/tensorflow/blob/r1.15/tensorflow/core/ops/math_ops.cc\r\nhttps://github.com/tensorflow/tensorflow/blob/r1.15/tensorflow/core/kernels/cwise_op_mul_1.cc\r\nhttps://github.com/tensorflow/tensorflow/blob/r1.15/tensorflow/core/kernels/mkl_cwise_ops_common.cc\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37369", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37369/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37369/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37369/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37369", "id": 576524950, "node_id": "MDU6SXNzdWU1NzY1MjQ5NTA=", "number": 37369, "title": "feature request: add tf_random_seed argument for TPUConfig", "user": {"login": "crystina-z", "id": 31640436, "node_id": "MDQ6VXNlcjMxNjQwNDM2", "avatar_url": "https://avatars2.githubusercontent.com/u/31640436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crystina-z", "html_url": "https://github.com/crystina-z", "followers_url": "https://api.github.com/users/crystina-z/followers", "following_url": "https://api.github.com/users/crystina-z/following{/other_user}", "gists_url": "https://api.github.com/users/crystina-z/gists{/gist_id}", "starred_url": "https://api.github.com/users/crystina-z/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crystina-z/subscriptions", "organizations_url": "https://api.github.com/users/crystina-z/orgs", "repos_url": "https://api.github.com/users/crystina-z/repos", "events_url": "https://api.github.com/users/crystina-z/events{/privacy}", "received_events_url": "https://api.github.com/users/crystina-z/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097541661, "node_id": "MDU6TGFiZWwxMDk3NTQxNjYx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tpus", "name": "comp:tpus", "color": "0052cc", "default": false, "description": "tpu, tpuestimator"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jhseu", "id": 170179, "node_id": "MDQ6VXNlcjE3MDE3OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/170179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhseu", "html_url": "https://github.com/jhseu", "followers_url": "https://api.github.com/users/jhseu/followers", "following_url": "https://api.github.com/users/jhseu/following{/other_user}", "gists_url": "https://api.github.com/users/jhseu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhseu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhseu/subscriptions", "organizations_url": "https://api.github.com/users/jhseu/orgs", "repos_url": "https://api.github.com/users/jhseu/repos", "events_url": "https://api.github.com/users/jhseu/events{/privacy}", "received_events_url": "https://api.github.com/users/jhseu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-05T20:54:45Z", "updated_at": "2020-03-06T22:47:16Z", "closed_at": null, "author_association": "NONE", "body": "<em>tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version: 1.15 and 2.0\r\n- Are you willing to contribute it (Yes/No): I would like to yet not quite sure how\r\n\r\n**Describe the feature and the current behavior/state.**\r\nadd `tf_random_seed ` option for `TPUConfig` ([here](https://www.tensorflow.org/api_docs/python/tf/compat/v1/estimator/tpu/TPUConfig)) as for `RunConfig` ([here](https://www.tensorflow.org/api_docs/python/tf/estimator/RunConfig)), so as to control the random seed in tf graph (and also the data sampling process?)\r\n\r\n**Will this change the current api? How?**\r\nonly one more argument will be added for `TPUConfig`\r\n\r\n**Who will benefit with this feature?**\r\npeople who want deterministic results on TPU training. \r\n\r\nThis feature request comes from the trials to following [this paper](https://arxiv.org/abs/2002.06305): wanna see if bert finetuning also get affected a lot on the other datasets while wanna see the result quickly (on GPU it takes days to train one fold)"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37365", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37365/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37365/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37365/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37365", "id": 576488904, "node_id": "MDU6SXNzdWU1NzY0ODg5MDQ=", "number": 37365, "title": "ResNet models in tf.keras.applications contain a bias term which should not be there.", "user": {"login": "ujjwal-ai", "id": 60658842, "node_id": "MDQ6VXNlcjYwNjU4ODQy", "avatar_url": "https://avatars0.githubusercontent.com/u/60658842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ujjwal-ai", "html_url": "https://github.com/ujjwal-ai", "followers_url": "https://api.github.com/users/ujjwal-ai/followers", "following_url": "https://api.github.com/users/ujjwal-ai/following{/other_user}", "gists_url": "https://api.github.com/users/ujjwal-ai/gists{/gist_id}", "starred_url": "https://api.github.com/users/ujjwal-ai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ujjwal-ai/subscriptions", "organizations_url": "https://api.github.com/users/ujjwal-ai/orgs", "repos_url": "https://api.github.com/users/ujjwal-ai/repos", "events_url": "https://api.github.com/users/ujjwal-ai/events{/privacy}", "received_events_url": "https://api.github.com/users/ujjwal-ai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-03-05T19:44:53Z", "updated_at": "2020-03-19T17:30:42Z", "closed_at": null, "author_association": "NONE", "body": "Pretrained ResNet models available as part of `tf.keras.applications` include a `bias` weight with all the convolutional layers which is weird. What is even weirder is that the pretrained weights contain `all zeros` for the bias weights, which is definitely a problem. \r\n\r\nResNet models do not use a bias term because of the use of `batch normalization`. Even the TensorFlow models repository, the [ResNet construction code](https://github.com/tensorflow/models/blob/master/official/vision/image_classification/resnet_model.py) does not contain a bias term in convolutions.\r\n\r\nThe following code shows the weights in the resnet50 model in `tf.keras.applications` as can be seen the bias terms are all zeros.\r\n```\r\n\r\nimport tensorflow as tf\r\n\r\nmodel = tf.keras.applications.resnet50.ResNet50(include_top=False, weights='imagenet')\r\nprint(model.trainable_variables)\r\n```\r\n\r\nA small portion of the output shows the bias terms as all zeros.\r\n\r\n```\r\narray([[[[ 1.76406968e-02,  2.18379945e-02,  6.38491847e-03, ...,\r\n          -1.56918354e-02,  1.33828130e-02, -7.58931879e-03],\r\n         [ 6.57748384e-03, -1.13832625e-02, -1.44122150e-02, ...,\r\n           1.07535999e-02,  1.99317057e-02, -5.90330362e-03],\r\n         [ 1.96981058e-02,  6.84878789e-03, -1.30715151e-03, ...,\r\n          -8.99719913e-03,  1.00973761e-02, -1.09837623e-02],\r\n         ...,\r\n         [ 4.02560830e-03, -2.51277094e-03, -1.91410668e-02, ...,\r\n           1.84022412e-02, -1.05592925e-02,  3.84159223e-03],\r\n         [-1.21582337e-02, -2.44973949e-03, -8.21000524e-03, ...,\r\n          -3.52650182e-03,  9.62345582e-03, -1.55217517e-02],\r\n         [-1.57500952e-02, -5.96316298e-03,  4.53999359e-03, ...,\r\n           4.88574570e-03,  4.60040662e-03,  8.99072620e-05]]]],\r\n      dtype=float32)>, <tf.Variable 'conv5_block3_3_conv/bias:0' shape=(2048,) dtype=float32, numpy=array([0., 0., 0., ..., 0., 0., 0.], dtype=float32)>, <tf.Variable 'conv5_block3_3_bn/gamma:0' shape=(2048,) dtype=float32, numpy=\r\narray([1.3451786, 1.3965728, 1.4453218, ..., 1.2092956, 1.5969722,\r\n       1.4321095], dtype=float32)>, <tf.Variable 'conv5_block3_3_bn/beta:0' shape=(2048,) dtype=float32, numpy=\r\narray([-1.4512578, -1.6519743, -1.6319023, ..., -1.6061822, -1.7218091,\r\n       -1.9375533], dtype=float32)>]\r\n\r\n```\r\n\r\nThis is definitely an issue which needs to be cleared up as a lot of people are depending upon `tf.keras.applications`."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37361", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37361/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37361/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37361/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37361", "id": 576415685, "node_id": "MDU6SXNzdWU1NzY0MTU2ODU=", "number": 37361, "title": "CMSIS-NN kernel is slower than C-reference kernel", "user": {"login": "ml-0", "id": 43989717, "node_id": "MDQ6VXNlcjQzOTg5NzE3", "avatar_url": "https://avatars0.githubusercontent.com/u/43989717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ml-0", "html_url": "https://github.com/ml-0", "followers_url": "https://api.github.com/users/ml-0/followers", "following_url": "https://api.github.com/users/ml-0/following{/other_user}", "gists_url": "https://api.github.com/users/ml-0/gists{/gist_id}", "starred_url": "https://api.github.com/users/ml-0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ml-0/subscriptions", "organizations_url": "https://api.github.com/users/ml-0/orgs", "repos_url": "https://api.github.com/users/ml-0/repos", "events_url": "https://api.github.com/users/ml-0/events{/privacy}", "received_events_url": "https://api.github.com/users/ml-0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1589976566, "node_id": "MDU6TGFiZWwxNTg5OTc2NTY2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:micro", "name": "comp:micro", "color": "3e2eea", "default": false, "description": "Related to TensorFlow Lite Microcontrollers"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 1463677878, "node_id": "MDU6TGFiZWwxNDYzNjc3ODc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:performance", "name": "type:performance", "color": "159b2e", "default": false, "description": "Performance Issue"}], "state": "open", "locked": false, "assignee": {"login": "MeghnaNatraj", "id": 8790823, "node_id": "MDQ6VXNlcjg3OTA4MjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8790823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MeghnaNatraj", "html_url": "https://github.com/MeghnaNatraj", "followers_url": "https://api.github.com/users/MeghnaNatraj/followers", "following_url": "https://api.github.com/users/MeghnaNatraj/following{/other_user}", "gists_url": "https://api.github.com/users/MeghnaNatraj/gists{/gist_id}", "starred_url": "https://api.github.com/users/MeghnaNatraj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MeghnaNatraj/subscriptions", "organizations_url": "https://api.github.com/users/MeghnaNatraj/orgs", "repos_url": "https://api.github.com/users/MeghnaNatraj/repos", "events_url": "https://api.github.com/users/MeghnaNatraj/events{/privacy}", "received_events_url": "https://api.github.com/users/MeghnaNatraj/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MeghnaNatraj", "id": 8790823, "node_id": "MDQ6VXNlcjg3OTA4MjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8790823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MeghnaNatraj", "html_url": "https://github.com/MeghnaNatraj", "followers_url": "https://api.github.com/users/MeghnaNatraj/followers", "following_url": "https://api.github.com/users/MeghnaNatraj/following{/other_user}", "gists_url": "https://api.github.com/users/MeghnaNatraj/gists{/gist_id}", "starred_url": "https://api.github.com/users/MeghnaNatraj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MeghnaNatraj/subscriptions", "organizations_url": "https://api.github.com/users/MeghnaNatraj/orgs", "repos_url": "https://api.github.com/users/MeghnaNatraj/repos", "events_url": "https://api.github.com/users/MeghnaNatraj/events{/privacy}", "received_events_url": "https://api.github.com/users/MeghnaNatraj/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-03-05T17:27:02Z", "updated_at": "2020-03-12T11:21:10Z", "closed_at": null, "author_association": "NONE", "body": "@tensorflow/micro\r\n\r\n**System information**\r\n- Host OS Platform and Distribution: Linux Ubuntu 18.04 in WSH on Win10\r\n- TensorFlow installed from (source or binary): source\r\n- Tensorflow version: 4030aa1fe5bdd846301f379d1f1a0e58efbceae4\r\n- Target platform: SparkFun Edge (Cortex M4F)\r\n\r\n**Describe the problem**\r\nSince commit 4030aa1fe5bdd846301f379d1f1a0e58efbceae4 the convolutional layers (conv, depthwise_conv) from the C-reference kernel are equally fast as the optimized CMSIS-NN kernel or even faster. Due to the 4x SIMD acceleration it is expected that the CMSIS-NN kernel significantly faster. The issue was NOT introduced by this commit, it just made the issue visible.\r\nTo my understanding the root cause is the compiler option '-fno-builtin'. Removing this option from the Makefile (e.g. for the SparkFun edge board in tensorflow/lite/micro/tools/make/targets/apollo3evb_makefile.inc) speeds up the CMSIS-NN kernel by factor of 3-6 while the reference kernel does not change.\r\nNote: in order to let TFL micro use the CMSIS-NN kernel an int8 quantized model must be used. Otherwise, the TFL micro interpreter falls back to the reference kernel, anyway. Unfortunately, I was not able to find an int8 quantized model under tensorflow/lite/micro/examples\r\n\r\n**Please provide the exact sequence of commands/steps when you ran into the problem**\r\n1. Create a project <my_project> using an appropriate int8 quanized model. e.g. by copying the tensorflow/lite/micro/examples/hello_world example.\r\n   Replace the model and input data by a model with convolutional layers and int8 quantization!\r\n   \r\n2. Instrument the call to the interpreter with some pin toggling, e.g.\r\n  am_hal_gpio_output_set(38);\r\n  TfLiteStatus invoke_status = interpreter->Invoke();\r\n  am_hal_gpio_output_clear(38);\r\n\r\n3. Build the project for the reference kernel, measure execution time:\r\nmake -f tensorflow/lite/micro/tools/make/Makefile clean\r\nmake -f tensorflow/lite/micro/tools/make/Makefile TARGET=sparkfun_edge <my_project>_bin\r\n--> measure model execution time\r\n\r\n4. Build the project for the CMSIS-NN kernel, measure execution time:\r\nmake -f tensorflow/lite/micro/tools/make/Makefile clean\r\nmake -f tensorflow/lite/micro/tools/make/Makefile TAGS=cmsis-nn TARGET=sparkfun_edge <my_project>_bin\r\n--> measure model execution time\r\n\r\n5. Remove '-fno-builtin' option from tensorflow/lite/micro/tools/make/targets/apollo3evb_makefile.inc\r\n(delete the line, not just comment out)\r\n\r\n6. Build the project for the reference kernel without '-fno-builtin', measure execution time:\r\nmake -f tensorflow/lite/micro/tools/make/Makefile clean\r\nmake -f tensorflow/lite/micro/tools/make/Makefile TARGET=sparkfun_edge <my_project>_bin\r\n--> measure model execution time\r\n\r\n7. Build the project for the CMSIS-NN kernel without '-fno-builtin', measure execution time:\r\nmake -f tensorflow/lite/micro/tools/make/Makefile clean\r\nmake -f tensorflow/lite/micro/tools/make/Makefile TAGS=cmsis-nn TARGET=sparkfun_edge <my_project>_bin\r\n--> measure model execution time\r\n\r\nThe execution times from 4 is not (much) shorter than from 3, eventually it is even longer.\r\nThe execution times from 7 is 3-6x times shorter than from 6, which is the expected SIMD acceleration.\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37357", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37357/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37357/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37357/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37357", "id": 576319296, "node_id": "MDU6SXNzdWU1NzYzMTkyOTY=", "number": 37357, "title": "pathlib.Path support", "user": {"login": "ngc92", "id": 7938269, "node_id": "MDQ6VXNlcjc5MzgyNjk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7938269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngc92", "html_url": "https://github.com/ngc92", "followers_url": "https://api.github.com/users/ngc92/followers", "following_url": "https://api.github.com/users/ngc92/following{/other_user}", "gists_url": "https://api.github.com/users/ngc92/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngc92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngc92/subscriptions", "organizations_url": "https://api.github.com/users/ngc92/orgs", "repos_url": "https://api.github.com/users/ngc92/repos", "events_url": "https://api.github.com/users/ngc92/events{/privacy}", "received_events_url": "https://api.github.com/users/ngc92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-05T15:05:03Z", "updated_at": "2020-03-18T17:39:05Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information**\r\n- TensorFlow version (you are using):\r\n- Are you willing to contribute it (Yes/No):\r\nYes\r\n\r\n**Describe the feature and the current behavior/state.**\r\nIn 3.4 python added the `pathlib` module for handling of file system paths. Currently, the corresponding `pathlib.Path` objects cannot be passed to tensorflow functions directly as they expect strings. \r\n\r\n**Will this change the current api? How?**\r\nFunctions that expect a file or directory path would accept both string and `Path` parameters.\r\n\r\n**Who will benefit with this feature?**\r\nAnyone using both pathlib and tensorflow.\r\n\r\n**Any Other info.**\r\nThe (probably incomplete) list of functions that should accept `PathLike` parameters:\r\n```\r\ntf.io.read_file\r\ntf.io.TFRecordWriter\r\ntf.io.write_file\r\ntf.io.write_graph\r\n\r\ntf.data.TextLineDataset\r\ntf.data.TFRecordDataset\r\ntf.data.FixedLengthRecordDataset\r\n\r\ntf.saved_model.load\r\ntf.saved_model.save\r\ntf.train.Checkpoint\r\ntf.train.CheckpointManager\r\ntf.train.checkpoints_iterator\r\ntf.train.get_checkpoint_state\r\ntf.train.latest_checkpoint\r\ntf.train.list_variables\r\ntf.train.load_checkpoint\r\ntf.train.load_variable\r\n\r\ntf.estimator.Estimator\r\n\r\ntf.feature_column.categorical_column_with_vocabulary_file\r\ntf.feature_column.embedding_column\r\ntf.feature_column.sequence_categorical_column_with_vocabulary_file\r\ntf.feature_column.shared_embeddings\r\n\r\ntf.lookup.TextFileInitializer\r\n\r\ntf.summary.create_file_writer\r\n\r\nkeras.Model.save\r\nkeras.Model.save_weights\r\nkeras.Model.load_weights\r\nkeras.models.load_model\r\nkeras.models.save_model\r\nkeras.callbacks.CSVLogger\r\nkeras.callbacks.ModelCheckpoint\r\nkeras.callbacks.TensorBoard\r\n\r\nkeras.utils.get_file\r\nkeras.utils.plot_model\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37355", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37355/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37355/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37355/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37355", "id": 576257628, "node_id": "MDU6SXNzdWU1NzYyNTc2Mjg=", "number": 37355, "title": "Raspberry Pi 3: ERROR: tensorflow-2.1.0-cp35-none-linux_armv7l.whl is not a supported wheel on this platform.", "user": {"login": "jepperaskdk", "id": 10128260, "node_id": "MDQ6VXNlcjEwMTI4MjYw", "avatar_url": "https://avatars2.githubusercontent.com/u/10128260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jepperaskdk", "html_url": "https://github.com/jepperaskdk", "followers_url": "https://api.github.com/users/jepperaskdk/followers", "following_url": "https://api.github.com/users/jepperaskdk/following{/other_user}", "gists_url": "https://api.github.com/users/jepperaskdk/gists{/gist_id}", "starred_url": "https://api.github.com/users/jepperaskdk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jepperaskdk/subscriptions", "organizations_url": "https://api.github.com/users/jepperaskdk/orgs", "repos_url": "https://api.github.com/users/jepperaskdk/repos", "events_url": "https://api.github.com/users/jepperaskdk/events{/privacy}", "received_events_url": "https://api.github.com/users/jepperaskdk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 1194756584, "node_id": "MDU6TGFiZWwxMTk0NzU2NTg0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:%20raspberry%20pi", "name": "subtype: raspberry pi", "color": "b619ea", "default": false, "description": "Raspberry Pi Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-05T13:34:20Z", "updated_at": "2020-03-06T08:17:56Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Raspbian 10\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: Raspberry Pi 3 Model B+\r\n- TensorFlow installed from (source or binary): binary (.whl): https://storage.googleapis.com/tensorflow/raspberrypi/tensorflow-2.1.0-cp35-none-linux_armv7l.whl\r\n- TensorFlow version: 2.1.0\r\n- Python version: 3.7.3\r\n- Installed using virtualenv? pip? conda?: Tried pip in both venv and system wide.\r\n- Bazel version (if compiling from source): \r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version:\r\n- GPU model and memory:\r\n\r\n\r\n```\r\npi@raspberrypi:~ $ python3.7 --version\r\nPython 3.7.3\r\npi@raspberrypi:~ $ pip3.7 --version\r\npip 20.0.2 from /home/pi/.local/lib/python3.7/site-packages/pip (python 3.7)\r\npi@raspberrypi:~ $ lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID:\tRaspbian\r\nDescription:\tRaspbian GNU/Linux 10 (buster)\r\nRelease:\t10\r\nCodename:\tbuster\r\n```\r\n\r\n**Describe the problem**\r\nAttempting to install tensorflow for Raspberry Pi 3, using this guide: https://www.tensorflow.org/install/pip\r\nMy Raspberry Pi 3 with Raspbian 10 does not seem able to find or install tensorflow==2.1.0. It only finds 1.14.x.\r\n\r\nI tried the various steps in the tutorial, and when attempting to install the RPI3 version found at this link: https://storage.googleapis.com/tensorflow/raspberrypi/tensorflow-2.1.0-cp35-none-linux_armv7l.whl\r\nI get this error (same in venv):\r\n```\r\npi@raspberrypi:~ $ pip3.7 install tensorflow-2.1.0-cp35-none-linux_armv7l.whl --user\r\nERROR: tensorflow-2.1.0-cp35-none-linux_armv7l.whl is not a supported wheel on this platform.\r\n```\r\nAttempting to install tensorflow defaults to 1.14:\r\n```\r\npi@raspberrypi:~ $ pip3.7 install tensorflow --user\r\nLooking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple\r\nCollecting tensorflow\r\n  Downloading https://www.piwheels.org/simple/tensorflow/tensorflow-1.14.0-cp37-none-linux_armv7l.whl (79.6 MB)\r\n     |\u2589                               | 2.1 MB 1.5 MB/s eta 0:00:51^C\r\nERROR: Operation cancelled by user\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37352", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37352/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37352/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37352/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37352", "id": 576216600, "node_id": "MDU6SXNzdWU1NzYyMTY2MDA=", "number": 37352, "title": "TF-TRT is slower than native-TF with 512*512 image", "user": {"login": "lxl910915", "id": 8842010, "node_id": "MDQ6VXNlcjg4NDIwMTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/8842010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lxl910915", "html_url": "https://github.com/lxl910915", "followers_url": "https://api.github.com/users/lxl910915/followers", "following_url": "https://api.github.com/users/lxl910915/following{/other_user}", "gists_url": "https://api.github.com/users/lxl910915/gists{/gist_id}", "starred_url": "https://api.github.com/users/lxl910915/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lxl910915/subscriptions", "organizations_url": "https://api.github.com/users/lxl910915/orgs", "repos_url": "https://api.github.com/users/lxl910915/repos", "events_url": "https://api.github.com/users/lxl910915/events{/privacy}", "received_events_url": "https://api.github.com/users/lxl910915/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1754777628, "node_id": "MDU6TGFiZWwxNzU0Nzc3NjI4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu:tensorrt", "name": "comp:gpu:tensorrt", "color": "ea98ba", "default": false, "description": "Issues specific to TensorRT"}, {"id": 1463677878, "node_id": "MDU6TGFiZWwxNDYzNjc3ODc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:performance", "name": "type:performance", "color": "159b2e", "default": false, "description": "Performance Issue"}], "state": "open", "locked": false, "assignee": {"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}, {"login": "bixia1", "id": 35820639, "node_id": "MDQ6VXNlcjM1ODIwNjM5", "avatar_url": "https://avatars1.githubusercontent.com/u/35820639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bixia1", "html_url": "https://github.com/bixia1", "followers_url": "https://api.github.com/users/bixia1/followers", "following_url": "https://api.github.com/users/bixia1/following{/other_user}", "gists_url": "https://api.github.com/users/bixia1/gists{/gist_id}", "starred_url": "https://api.github.com/users/bixia1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bixia1/subscriptions", "organizations_url": "https://api.github.com/users/bixia1/orgs", "repos_url": "https://api.github.com/users/bixia1/repos", "events_url": "https://api.github.com/users/bixia1/events{/privacy}", "received_events_url": "https://api.github.com/users/bixia1/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-03-05T12:25:24Z", "updated_at": "2020-03-18T18:26:12Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow):  [EAST ](https://github.com/argman/EAST)model\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04):  Ubuntu 16.04\r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below):  1.15.0\r\n- Python version: - Bazel\r\nversion (if compiling from source): 0.24.1\r\n- GCC/Compiler version (if compiling from\r\nsource): gcc-7.1\r\n- CUDA/cuDNN version: 10.0/7.6.5\r\n- GPU model and memory:Default mode, Tesla V100-sxm2-16gb GPU\r\n\r\n**Describe the current behavior**\r\nWe test [EAST ](https://github.com/argman/EAST)model using TF-TRT and native-TF on GPU V100.\r\nIf image size is 256 * 256\uff0cfor one inference TF-TRT takes 3ms and native-TF takes 4ms.\r\nIf image size is 512 * 512\uff0cfor one inference TF-TRT takes 5ms and native-TF takes 4.5ms.\r\nIf image size is 1024 * 1024\uff0cfor one inference TF-TRT takes 40ms and native-TF takes 25ms.\r\n\r\n\r\n**Standalone code to reproduce the issue** \r\nWe upload our [saved_model.pb](https://github.com/lxl910915/Test/blob/master/SavedModel-1024-1024.tar.gz).\r\nUntar it to /tmp/SavedModel-1024-1024.\r\nFor running saved_model, the shell is CUDA_VISIBLE_DEVICES=0 python [east_sm.py](https://github.com/lxl910915/Test/blob/master/east_sm.py). One inference costs 25ms.\r\nFor running tf-trt, the shell is CUDA_VISIBLE_DEVICES=0 python [east_tftrt.py](https://github.com/lxl910915/Test/blob/master/east_tftrt.py). One inference costs 40ms.\r\n\r\nThen, we use nvprof to prof tf-trt `CUDA_VISIBLE_DEVICES=0 nvprof python east_tftrt.py`, and we find that genericReformat::copyPackedKernel occupy 60% time.\r\n\r\n```\r\n==33264== NVTX result:\r\n==33264== Warning: Found 198911 invalid range marker(s)\r\n==33264==   Thread \"<unnamed>\" (id = 268433152)\r\n==33264==     Domain \"TensorRT\"\r\n==33264==       Range \"<unnamed>\"\r\n            Type  Time(%)      Time     Calls       Avg       Min       Max  Name\r\n          Range:  100.00%  1.57525s     72779  21.644us  7.3260us  850.74us  <unnamed>\r\n GPU activities:   58.34%  4.46830s     33826  132.10us  2.3030us  2.0179ms  void genericReformat::copyPackedKernel<float, float, bool=0, bool=1, genericReformat::IdentityCoordMapper<int=4>, int=4>(unsigned int, unsigned int, void const *, genericReformat::ArrayN<genericReformat::IdentityCoordMapper<int=4>>, genericReformat::ArrayNWithReducedDivisors<genericReformat::IdentityCoordMapper<int=4>>, genericReformat::ArrayN, int, int, int, float const *, void*, genericReformat::ArrayN, genericReformat::ArrayNWithReducedDivisors, genericReformat::ArrayNWithReducedDivisors, genericReformat::ArrayN, int, int, int, float const , int=4)\r\n                   13.70%  1.04961s      5675  184.95us  53.311us  385.95us  trt_volta_scudnn_128x64_relu_interior_nn_v1\r\n                    9.91%  759.32ms      4597  165.18us  55.007us  206.62us  trt_volta_scudnn_winograd_128x128_ldg1_ldg4_relu_tile148t_nt_v1\r\n```\r\nThe detal log is [here](https://github.com/lxl910915/Test/blob/master/log.tftrt.op3).\r\n\r\nWe change minimum_segment_size value:\r\nminimum_segment_size = 200, no TRTEngineop are generated, inference time is 32ms.\r\nminimum_segment_size = 20, inference time is 32ms.\r\nminimum_segment_size = 10, inference time is 40ms.\r\nminimum_segment_size = 3, inference time is 47ms.\r\n\r\nBut copyPackedKernel takes 60% time in above cases. Then we prof the 256 * 256 image, copyPackedKernel only takes 20% times.\r\n```\r\n==30031== NVTX result:\r\n==30031== Warning: Found 110489 invalid range marker(s)\r\n==30031==   Thread \"<unnamed>\" (id = 3548374784)\r\n==30031==     Domain \"TensorRT\"\r\n==30031==       Range \"<unnamed>\"\r\n            Type  Time(%)      Time     Calls       Avg       Min       Max  Name\r\n          Range:  100.00%  1.62226s     54141  29.963us  7.5820us  880.76us  <unnamed>\r\n GPU activities:   25.34%  103.18ms      3008  34.301us  7.0400us  152.83us  void cudnn::detail::implicit_convolve_sgemm<float, float, int=1024, int=5, int=5, int=3, int=3, int=3, int=1, bool=1, bool=0, bool=1>(int, int, int, float const *, int, float*, cudnn::detail::implicit_convolve_sgemm<float, float, int=1024, int=5, int=5, int=3, int=3, int=3, int=1, bool=1, bool=0, bool=1>*, kernel_conv_params, int, float, float, int, float, float, int, int)\r\n                   22.51%  91.647ms      2313  39.622us  10.560us  121.47us  trt_volta_scudnn_winograd_128x128_ldg1_ldg4_relu_tile148t_nt_v1\r\n                   21.18%  86.217ms     22902  3.7640us  1.5360us  16.640us  void genericReformat::copyPackedKernel<float, float, bool=0, bool=1, genericReformat::IdentityCoordMapper<int=4>, int=4>(unsigned int, unsigned int, void const *, genericReformat::ArrayN<genericReformat::IdentityCoordMapper<int=4>>, genericReformat::ArrayNWithReducedDivisors<genericReformat::IdentityCoordMapper<int=4>>, genericReformat::ArrayN, int, int, int, float const *, void*, genericReformat::ArrayN, genericReformat::ArrayNWithReducedDivisors, genericReformat::ArrayNWithReducedDivisors, genericReformat::ArrayN, int, int, int, float const , int=4)\r\n                    8.89%  36.172ms      2626  13.774us  8.4160us  19.840us  void fused::fusedConvolutionReluKernel<fused::SrcChwcPtr_FltTex_Reader<float, int=1, int=1, int=4, int=1>, fused::KpqkPtrWriter<float, int=1, int=1, int=1>, float, float, int=4, int=8, int=8, int=1, int=1, int=1, int=1>(fused::ConvolutionParams<floatSrcType, int=4, int=1Type>)\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37351", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37351/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37351/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37351/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37351", "id": 576200075, "node_id": "MDU6SXNzdWU1NzYyMDAwNzU=", "number": 37351, "title": "tf.where raises ValueError for RaggedTensor arguments", "user": {"login": "Andreas5739738", "id": 35989246, "node_id": "MDQ6VXNlcjM1OTg5MjQ2", "avatar_url": "https://avatars0.githubusercontent.com/u/35989246?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Andreas5739738", "html_url": "https://github.com/Andreas5739738", "followers_url": "https://api.github.com/users/Andreas5739738/followers", "following_url": "https://api.github.com/users/Andreas5739738/following{/other_user}", "gists_url": "https://api.github.com/users/Andreas5739738/gists{/gist_id}", "starred_url": "https://api.github.com/users/Andreas5739738/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Andreas5739738/subscriptions", "organizations_url": "https://api.github.com/users/Andreas5739738/orgs", "repos_url": "https://api.github.com/users/Andreas5739738/repos", "events_url": "https://api.github.com/users/Andreas5739738/events{/privacy}", "received_events_url": "https://api.github.com/users/Andreas5739738/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-05T11:55:23Z", "updated_at": "2020-03-12T09:45:21Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): no\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): OS X\r\n- TensorFlow installed from (source or\r\nbinary): `pip install tensorflow`\r\n- TensorFlow version (use command below): v2.1.0-rc2-17-ge5bf8de410 2.1.0\r\n- Python version: 3.7.4\r\n\r\n**Describe the current behavior**\r\nCalling tf.where with a RaggedTensor argument raises `ValueError: TypeError: object of type 'RaggedTensor' has no len()`.\r\n\r\n**Describe the expected behavior**\r\nNo exception raised. According to https://www.tensorflow.org/api_docs/python/tf/ragged, tf.where is supposed to support RaggedTensor.\r\n\r\n**Standalone code to reproduce the issue** \r\n```\r\nimport tensorflow as tf\r\ndigits = tf.ragged.constant([[3, 1, 4, 1], [], [5, 9, 2], [6], []])\r\ntf.where(tf.equal(digits, 1), 1, 0)\r\n```\r\n\r\n**Other info / logs** \r\n```\r\nIn [4]: tf.where(tf.equal(digits, 1), 1, 0)\r\n---------------------------------------------------------------------------\r\n_FallbackException                        Traceback (most recent call last)\r\n/usr/local/lib/python3.7/site-packages/tensorflow_core/python/ops/gen_math_ops.py in select_v2(condition, t, e, name)\r\n   8679         _ctx._context_handle, tld.device_name, \"SelectV2\", name,\r\n-> 8680         tld.op_callbacks, condition, t, e)\r\n   8681       return _result\r\n\r\n_FallbackException: This function does not handle the case of the path where all inputs are not already EagerTensors.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-4-a793e17a60b8> in <module>\r\n----> 1 tf.where(tf.equal(digits, 1), 1, 0)\r\n\r\n/usr/local/lib/python3.7/site-packages/tensorflow_core/python/ops/array_ops.py in where_v2(condition, x, y, name)\r\n   3928       return gen_array_ops.where(condition=condition, name=name)\r\n   3929   elif x is not None and y is not None:\r\n-> 3930     return gen_math_ops.select_v2(condition=condition, t=x, e=y, name=name)\r\n   3931   else:\r\n   3932     raise ValueError(\"x and y must both be non-None or both be None.\")\r\n\r\n/usr/local/lib/python3.7/site-packages/tensorflow_core/python/ops/gen_math_ops.py in select_v2(condition, t, e, name)\r\n   8683       try:\r\n   8684         return select_v2_eager_fallback(\r\n-> 8685             condition, t, e, name=name, ctx=_ctx)\r\n   8686       except _core._SymbolicException:\r\n   8687         pass  # Add nodes to the TensorFlow graph.\r\n\r\n/usr/local/lib/python3.7/site-packages/tensorflow_core/python/ops/gen_math_ops.py in select_v2_eager_fallback(condition, t, e, name, ctx)\r\n   8706   _attr_T, _inputs_T = _execute.args_to_matching_eager([t, e], ctx)\r\n   8707   (t, e) = _inputs_T\r\n-> 8708   condition = _ops.convert_to_tensor(condition, _dtypes.bool)\r\n   8709   _inputs_flat = [condition, t, e]\r\n   8710   _attrs = (\"T\", _attr_T)\r\n\r\n/usr/local/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py in convert_to_tensor(value, dtype, name, as_ref, preferred_dtype, dtype_hint, ctx, accepted_result_types)\r\n   1312\r\n   1313     if ret is None:\r\n-> 1314       ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\n   1315\r\n   1316     if ret is NotImplemented:\r\n\r\n/usr/local/lib/python3.7/site-packages/tensorflow_core/python/framework/constant_op.py in _constant_tensor_conversion_function(v, dtype, name, as_ref)\r\n    315                                          as_ref=False):\r\n    316   _ = as_ref\r\n--> 317   return constant(v, dtype=dtype, name=name)\r\n    318\r\n    319\r\n\r\n/usr/local/lib/python3.7/site-packages/tensorflow_core/python/framework/constant_op.py in constant(value, dtype, shape, name)\r\n    256   \"\"\"\r\n    257   return _constant_impl(value, dtype, shape, name, verify_shape=False,\r\n--> 258                         allow_broadcast=True)\r\n    259\r\n    260\r\n\r\n/usr/local/lib/python3.7/site-packages/tensorflow_core/python/framework/constant_op.py in _constant_impl(value, dtype, shape, name, verify_shape, allow_broadcast)\r\n    264   ctx = context.context()\r\n    265   if ctx.executing_eagerly():\r\n--> 266     t = convert_to_eager_tensor(value, ctx, dtype)\r\n    267     if shape is None:\r\n    268       return t\r\n\r\n/usr/local/lib/python3.7/site-packages/tensorflow_core/python/framework/constant_op.py in convert_to_eager_tensor(value, ctx, dtype)\r\n     94       dtype = dtypes.as_dtype(dtype).as_datatype_enum\r\n     95   ctx.ensure_initialized()\r\n---> 96   return ops.EagerTensor(value, ctx.device_name, dtype)\r\n     97\r\n     98\r\n\r\nValueError: TypeError: object of type 'RaggedTensor' has no len()\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37350", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37350/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37350/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37350/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37350", "id": 576163882, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg0MjAzNDUy", "number": 37350, "title": "fixed: issue #36332", "user": {"login": "OmerLiberman", "id": 38648402, "node_id": "MDQ6VXNlcjM4NjQ4NDAy", "avatar_url": "https://avatars0.githubusercontent.com/u/38648402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OmerLiberman", "html_url": "https://github.com/OmerLiberman", "followers_url": "https://api.github.com/users/OmerLiberman/followers", "following_url": "https://api.github.com/users/OmerLiberman/following{/other_user}", "gists_url": "https://api.github.com/users/OmerLiberman/gists{/gist_id}", "starred_url": "https://api.github.com/users/OmerLiberman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OmerLiberman/subscriptions", "organizations_url": "https://api.github.com/users/OmerLiberman/orgs", "repos_url": "https://api.github.com/users/OmerLiberman/repos", "events_url": "https://api.github.com/users/OmerLiberman/events{/privacy}", "received_events_url": "https://api.github.com/users/OmerLiberman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-03-05T10:51:20Z", "updated_at": "2020-03-16T12:20:01Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37350", "html_url": "https://github.com/tensorflow/tensorflow/pull/37350", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37350.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37350.patch"}, "body": ""}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37349", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37349/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37349/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37349/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37349", "id": 576155533, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg0MTk2NTM3", "number": 37349, "title": "Arcport buildsys patch", "user": {"login": "alexeysmirnovspb", "id": 19223132, "node_id": "MDQ6VXNlcjE5MjIzMTMy", "avatar_url": "https://avatars0.githubusercontent.com/u/19223132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexeysmirnovspb", "html_url": "https://github.com/alexeysmirnovspb", "followers_url": "https://api.github.com/users/alexeysmirnovspb/followers", "following_url": "https://api.github.com/users/alexeysmirnovspb/following{/other_user}", "gists_url": "https://api.github.com/users/alexeysmirnovspb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexeysmirnovspb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexeysmirnovspb/subscriptions", "organizations_url": "https://api.github.com/users/alexeysmirnovspb/orgs", "repos_url": "https://api.github.com/users/alexeysmirnovspb/repos", "events_url": "https://api.github.com/users/alexeysmirnovspb/events{/privacy}", "received_events_url": "https://api.github.com/users/alexeysmirnovspb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136613, "node_id": "MDU6TGFiZWwzMDAxMzY2MTM=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20no", "name": "cla: no", "color": "eb6420", "default": false, "description": null}, {"id": 1173072136, "node_id": "MDU6TGFiZWwxMTczMDcyMTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XL", "name": "size:XL", "color": "adafea", "default": false, "description": "CL Change Size:Extra Large"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-05T10:38:20Z", "updated_at": "2020-03-12T21:31:26Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37349", "html_url": "https://github.com/tensorflow/tensorflow/pull/37349", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37349.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37349.patch"}, "body": ""}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37348", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37348/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37348/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37348/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37348", "id": 576155387, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzg0MTk2NDE0", "number": 37348, "title": "Improve ETA estimate for model.fit", "user": {"login": "ngc92", "id": 7938269, "node_id": "MDQ6VXNlcjc5MzgyNjk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7938269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngc92", "html_url": "https://github.com/ngc92", "followers_url": "https://api.github.com/users/ngc92/followers", "following_url": "https://api.github.com/users/ngc92/following{/other_user}", "gists_url": "https://api.github.com/users/ngc92/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngc92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngc92/subscriptions", "organizations_url": "https://api.github.com/users/ngc92/orgs", "repos_url": "https://api.github.com/users/ngc92/repos", "events_url": "https://api.github.com/users/ngc92/events{/privacy}", "received_events_url": "https://api.github.com/users/ngc92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-05T10:38:07Z", "updated_at": "2020-03-11T10:39:05Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37348", "html_url": "https://github.com/tensorflow/tensorflow/pull/37348", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37348.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37348.patch"}, "body": "This PR improves the keras.Progbar by allwoing it to skip the first step when determining the average duration of a step for ETA estimation. Since the first step can be significantly slower due to setup procedures, this helps to generate a better estimate for the remaining time."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37347", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37347/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37347/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37347/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37347", "id": 576149574, "node_id": "MDU6SXNzdWU1NzYxNDk1NzQ=", "number": 37347, "title": "Quantization problem while reproducing person detection example", "user": {"login": "Gorospe", "id": 16466906, "node_id": "MDQ6VXNlcjE2NDY2OTA2", "avatar_url": "https://avatars0.githubusercontent.com/u/16466906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gorospe", "html_url": "https://github.com/Gorospe", "followers_url": "https://api.github.com/users/Gorospe/followers", "following_url": "https://api.github.com/users/Gorospe/following{/other_user}", "gists_url": "https://api.github.com/users/Gorospe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gorospe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gorospe/subscriptions", "organizations_url": "https://api.github.com/users/Gorospe/orgs", "repos_url": "https://api.github.com/users/Gorospe/repos", "events_url": "https://api.github.com/users/Gorospe/events{/privacy}", "received_events_url": "https://api.github.com/users/Gorospe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1589976566, "node_id": "MDU6TGFiZWwxNTg5OTc2NTY2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:micro", "name": "comp:micro", "color": "3e2eea", "default": false, "description": "Related to TensorFlow Lite Microcontrollers"}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "MeghnaNatraj", "id": 8790823, "node_id": "MDQ6VXNlcjg3OTA4MjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8790823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MeghnaNatraj", "html_url": "https://github.com/MeghnaNatraj", "followers_url": "https://api.github.com/users/MeghnaNatraj/followers", "following_url": "https://api.github.com/users/MeghnaNatraj/following{/other_user}", "gists_url": "https://api.github.com/users/MeghnaNatraj/gists{/gist_id}", "starred_url": "https://api.github.com/users/MeghnaNatraj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MeghnaNatraj/subscriptions", "organizations_url": "https://api.github.com/users/MeghnaNatraj/orgs", "repos_url": "https://api.github.com/users/MeghnaNatraj/repos", "events_url": "https://api.github.com/users/MeghnaNatraj/events{/privacy}", "received_events_url": "https://api.github.com/users/MeghnaNatraj/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MeghnaNatraj", "id": 8790823, "node_id": "MDQ6VXNlcjg3OTA4MjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8790823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MeghnaNatraj", "html_url": "https://github.com/MeghnaNatraj", "followers_url": "https://api.github.com/users/MeghnaNatraj/followers", "following_url": "https://api.github.com/users/MeghnaNatraj/following{/other_user}", "gists_url": "https://api.github.com/users/MeghnaNatraj/gists{/gist_id}", "starred_url": "https://api.github.com/users/MeghnaNatraj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MeghnaNatraj/subscriptions", "organizations_url": "https://api.github.com/users/MeghnaNatraj/orgs", "repos_url": "https://api.github.com/users/MeghnaNatraj/repos", "events_url": "https://api.github.com/users/MeghnaNatraj/events{/privacy}", "received_events_url": "https://api.github.com/users/MeghnaNatraj/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-05T10:29:37Z", "updated_at": "2020-03-05T17:52:18Z", "closed_at": null, "author_association": "NONE", "body": "@tensorflow/micro\r\n\r\n**System information**\r\n- Host OS Platform and Distribution: Ubuntu 18.04.4 LTS\r\n- Tensorflow version: 1.15\r\n- Target platform: OpenMV Cam H7 (https://openmv.io/products/openmv-cam-h7)\r\n\r\n**Problem description**\r\nI am trying to reproduce the person detection example (https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/micro/examples/person_detection/training_a_model.md).\r\nThe document is not completely updated but with slight modifications I am able to train, freeze and convert the model into TFLite.\r\n\r\nBecause of the target, I need full integer quantization so, I set the input and output as uint8.\r\n\r\nWhen I try to load the model in the OpenMV, the quantization layer fails with the following error:\r\n\r\n> _tensorflow/lite/micro/kernels/quantize.cc:51 input->type == kTfLiteFloat32 || input->type == kTfLiteInt16 was not true._\r\n\r\n\r\nI guess that the problem is in the post-training quantization, as the output model has an input of uint8 type and afterwards, it has a quantize layer which tries to convert uint8 to int8.\r\n\r\n\r\n**Post-training quantization**\r\n\r\n```\r\ndef representative_dataset_gen():\r\n  record_iterator = tf.python_io.tf_record_iterator(path='coco_dataset/val.record-00000-of-00010')\r\n  count = 0\r\n  for string_record in record_iterator:\r\n    example = tf.train.Example()\r\n    example.ParseFromString(string_record)\r\n    a=io.BytesIO(example.features.feature['image/encoded'].bytes_list.value[0])\r\n    image = PIL.Image.open(a)\r\n    image = image.resize((96, 96))\r\n    image = image.convert('L')\r\n    array = np.array(image)\r\n    array = np.expand_dims(array, axis=2)\r\n    array = np.expand_dims(array, axis=0)\r\n    array = ((array / 127.5) - 1.0).astype(np.float32)\r\n    yield([array])\r\n    count += 1\r\n    if count > 300:\r\n        break\r\n\r\nconverter = tf.lite.TFLiteConverter.from_frozen_graph('frozen.pb',['input'], ['MobilenetV1/Predictions/Reshape_1'])\r\nconverter.optimizations = [tf.lite.Optimize.DEFAULT]\r\nconverter.target_spec.supported_ops = [tf.lite.OpsSet.TFLITE_BUILTINS_INT8]\r\nconverter.inference_input_type = tf.uint8\r\nconverter.inference_output_type = tf.uint8\r\nconverter.representative_dataset = representative_dataset_gen\r\n \r\ntflite_quant_model = converter.convert()\r\nopen(\"quantized.tflite\", \"wb\").write(tflite_quant_model)\r\n```\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37341", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37341/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37341/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37341/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37341", "id": 576082692, "node_id": "MDU6SXNzdWU1NzYwODI2OTI=", "number": 37341, "title": "cp: cannot stat '/usr/include/x86_64-linux-gnu/NvInferPlugin.h': No such file or directory", "user": {"login": "HadiSDev", "id": 10367624, "node_id": "MDQ6VXNlcjEwMzY3NjI0", "avatar_url": "https://avatars2.githubusercontent.com/u/10367624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HadiSDev", "html_url": "https://github.com/HadiSDev", "followers_url": "https://api.github.com/users/HadiSDev/followers", "following_url": "https://api.github.com/users/HadiSDev/following{/other_user}", "gists_url": "https://api.github.com/users/HadiSDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/HadiSDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HadiSDev/subscriptions", "organizations_url": "https://api.github.com/users/HadiSDev/orgs", "repos_url": "https://api.github.com/users/HadiSDev/repos", "events_url": "https://api.github.com/users/HadiSDev/events{/privacy}", "received_events_url": "https://api.github.com/users/HadiSDev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 1205615612, "node_id": "MDU6TGFiZWwxMjA1NjE1NjEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:%20ubuntu/linux", "name": "subtype: ubuntu/linux", "color": "b619ea", "default": false, "description": "Ubuntu/Linux Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "angerson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angerson", "html_url": "https://github.com/angerson", "followers_url": "https://api.github.com/users/angerson/followers", "following_url": "https://api.github.com/users/angerson/following{/other_user}", "gists_url": "https://api.github.com/users/angerson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angerson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angerson/subscriptions", "organizations_url": "https://api.github.com/users/angerson/orgs", "repos_url": "https://api.github.com/users/angerson/repos", "events_url": "https://api.github.com/users/angerson/events{/privacy}", "received_events_url": "https://api.github.com/users/angerson/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "angerson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angerson", "html_url": "https://github.com/angerson", "followers_url": "https://api.github.com/users/angerson/followers", "following_url": "https://api.github.com/users/angerson/following{/other_user}", "gists_url": "https://api.github.com/users/angerson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angerson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angerson/subscriptions", "organizations_url": "https://api.github.com/users/angerson/orgs", "repos_url": "https://api.github.com/users/angerson/repos", "events_url": "https://api.github.com/users/angerson/events{/privacy}", "received_events_url": "https://api.github.com/users/angerson/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-05T08:41:10Z", "updated_at": "2020-03-06T10:27:16Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Ubuntu 19\r\n\r\n- TensorFlow version: branch r2.1\r\n- Python version: 3.7\r\n- Bazel version (if compiling from source): 0.29\r\n- GCC/Compiler version (if compiling from source): \r\nhadi@hadi-GL502VSK:~/tensorflow$ gcc --version\r\ngcc (Ubuntu 9.2.1-9ubuntu2) 9.2.1 20191008\r\nCopyright (C) 2019 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\n- CUDA/cuDNN version: 10.1\r\n- GPU model and memory: 1070 GTX 8 GB GDDR5\r\n\r\n```\r\nhadi@hadi-GL502VSK:~/tensorflow$ bazel build --verbose_failures --config=v2 //tensorflow/tools/pip_package:build_pip_package\r\nWARNING: The following configs were expanded more than once: [v2]. For repeatable flags, repeats are counted twice and may lead to unexpected behavior.\r\nINFO: Options provided by the client:\r\n  Inherited 'common' options: --isatty=1 --terminal_columns=80\r\nINFO: Reading rc options for 'build' from /home/hadi/tensorflow/.bazelrc:\r\n  'build' options: --apple_platform_type=macos --define framework_shared_object=true --define open_source_build=true --java_toolchain=//third_party/toolchains/java:tf_java_toolchain --host_java_toolchain=//third_party/toolchains/java:tf_java_toolchain --define=use_fast_cpp_protos=true --define=allow_oversize_protos=true --spawn_strategy=standalone --strategy=Genrule=standalone -c opt --cxxopt=-std=c++14 --host_cxxopt=-std=c++14 --announce_rc --define=grpc_no_ares=true --noincompatible_remove_legacy_whole_archive --define=PREFIX=/usr --define=LIBDIR=$(PREFIX)/lib --define=INCLUDEDIR=$(PREFIX)/include --config=v2\r\nINFO: Reading rc options for 'build' from /home/hadi/tensorflow/.tf_configure.bazelrc:\r\n  'build' options: --action_env PYTHON_BIN_PATH=/usr/bin/python3 --action_env PYTHON_LIB_PATH=/usr/local/lib/python3.7/dist-packages --python_path=/usr/bin/python3 --config=xla --config=tensorrt --action_env CUDA_TOOLKIT_PATH=/usr/local/cuda --action_env TF_CUDA_COMPUTE_CAPABILITIES=6.1 --action_env LD_LIBRARY_PATH=/usr/local/cuda-10.1/lib64 --action_env GCC_HOST_COMPILER_PATH=/usr/bin/x86_64-linux-gnu-gcc-9 --config=cuda --action_env TF_CONFIGURE_IOS=0\r\nINFO: Found applicable config definition build:v2 in file /home/hadi/tensorflow/.bazelrc: --define=tf_api_version=2 --action_env=TF2_BEHAVIOR=1\r\nINFO: Found applicable config definition build:xla in file /home/hadi/tensorflow/.tf_configure.bazelrc: --define with_xla_support=true\r\nINFO: Found applicable config definition build:tensorrt in file /home/hadi/tensorflow/.bazelrc: --action_env TF_NEED_TENSORRT=1\r\nINFO: Found applicable config definition build:cuda in file /home/hadi/tensorflow/.bazelrc: --config=using_cuda --define=using_cuda_nvcc=true\r\nINFO: Found applicable config definition build:using_cuda in file /home/hadi/tensorflow/.bazelrc: --define=using_cuda=true --action_env TF_NEED_CUDA=1 --crosstool_top=@local_config_cuda//crosstool:toolchain\r\nINFO: Found applicable config definition build:v2 in file /home/hadi/tensorflow/.bazelrc: --define=tf_api_version=2 --action_env=TF2_BEHAVIOR=1\r\nDEBUG: /home/hadi/.cache/bazel/_bazel_hadi/9c22e2cd2b722a33d5eae32d8a25ecc1/external/bazel_tools/tools/cpp/lib_cc_configure.bzl:118:5: \r\nAuto-Configuration Warning: 'TMP' environment variable is not set, using 'C:\\Windows\\Temp' as default\r\nINFO: Build options --action_env and --define have changed, discarding analysis cache.\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:abi.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:byte_order.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:context.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:cord.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:cpu_feature_guard.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:cpu_info.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:cuda_libdevice_path.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:demangle.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:env.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:env_time.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:error.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:file_statistics.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:file_system.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:file_system_helper.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:fingerprint.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:grpc_services.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:host_info.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:human_readable_json.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:init_main.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:load_library.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:logger.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:logging.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:macros.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:mem.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:monitoring.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:mutex.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:net.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:notification.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:null_file_system.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:numa.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:numbers.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:platform.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:platform_strings.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:platform_strings_computed.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:prefetch.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:profile_utils/android_armv7a_cpu_utils_helper.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:profile_utils/clock_cycle_profiler.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:profile_utils/cpu_utils.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:profile_utils/i_cpu_utils_helper.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:protobuf.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:protobuf_compiler.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:protobuf_internal.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:regexp.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:rocm_rocdl_path.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:scanner.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:snappy.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:stacktrace.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:stacktrace_handler.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:strcat.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:stream_executor_no_cuda.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:stringpiece.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:subprocess.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:tensor_coding.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:test.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:test_benchmark.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:threadpool.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:threadpool_interface.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:threadpool_options.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:tracing.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:tstring.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:types.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:unbounded_work_queue.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/platform:str_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/bfloat16:bfloat16.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:arena.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:bitmap.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:bits.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:blocking_counter.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:coding.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:errors.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:notification.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:raw_coding.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:refcount.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:status.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:status_test_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:stringpiece.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:threadpool.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:threadpool_interface.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/core:threadpool_options.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:array_slice.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:cleanup.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:compactptrset.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:edit_distance.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:flatmap.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:flatrep.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:flatset.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:inlined_vector.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:int_type.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:iterator_range.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:manual_constructor.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:map_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:optional.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:priority_queue_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:subtle/map_traits.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/gtl:top_n.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/hash:crc32c.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/hash:hash.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:block.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:block_builder.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:buffered_inputstream.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:compression.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:format.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:inputbuffer.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:inputstream_interface.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:iterator.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:path.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:proto_encode_helper.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:random_inputstream.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:record_reader.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:record_writer.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:snappy/snappy_inputbuffer.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:snappy/snappy_outputbuffer.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:table.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:table_builder.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:table_options.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:two_level_iterator.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:zlib_compression_options.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:zlib_inputstream.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/io:zlib_outputbuffer.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/random:distribution_sampler.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/random:exact_uniform_int.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/random:philox_random.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/random:philox_random_test_utils.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/random:random.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/random:random_distributions.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/random:simple_philox.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/random:weighted_picker.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/strings:base64.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/strings:numbers.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/strings:ordered_code.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/strings:proto_serialization.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/strings:proto_text_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/strings:scanner.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/strings:str_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/strings:strcat.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/strings:stringprintf.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2174:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal: please do not import '//tensorflow/core/lib/math:math_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2172:1: in linkstatic attribute of cc_library rule //tensorflow/core:lib_internal: setting 'linkstatic=1' is recommended if there are no object files\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:abi.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:byte_order.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:context.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:cord.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:cpu_feature_guard.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:cpu_info.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:cuda_libdevice_path.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:demangle.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:env.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:env_time.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:error.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:file_statistics.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:file_system.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:file_system_helper.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:fingerprint.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:grpc_services.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:host_info.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:human_readable_json.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:init_main.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:load_library.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:logger.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:logging.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:macros.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:mem.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:monitoring.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:mutex.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:net.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:notification.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:null_file_system.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:numa.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:numbers.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:platform.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:platform_strings.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:platform_strings_computed.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:prefetch.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:profile_utils/android_armv7a_cpu_utils_helper.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:profile_utils/clock_cycle_profiler.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:profile_utils/cpu_utils.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:profile_utils/i_cpu_utils_helper.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:protobuf.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:protobuf_compiler.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:protobuf_internal.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:regexp.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:rocm_rocdl_path.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:scanner.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:snappy.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:stacktrace.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:stacktrace_handler.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:strcat.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:stream_executor_no_cuda.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:stringpiece.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:subprocess.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:tensor_coding.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:test.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:test_benchmark.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:threadpool.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:threadpool_interface.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:threadpool_options.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:tracing.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:tstring.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:types.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:unbounded_work_queue.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:str_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/bfloat16:bfloat16.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:arena.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:bitmap.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:bits.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:blocking_counter.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:coding.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:errors.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:notification.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:raw_coding.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:refcount.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:status.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:status_test_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:stringpiece.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:threadpool.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:threadpool_interface.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/core:threadpool_options.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:array_slice.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:cleanup.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:compactptrset.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:edit_distance.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:flatmap.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:flatrep.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:flatset.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:inlined_vector.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:int_type.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:iterator_range.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:manual_constructor.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:map_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:optional.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:priority_queue_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:subtle/map_traits.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/gtl:top_n.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/hash:crc32c.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/hash:hash.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:block.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:block_builder.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:buffered_inputstream.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:compression.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:format.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:inputbuffer.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:inputstream_interface.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:iterator.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:path.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:proto_encode_helper.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:random_inputstream.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:record_reader.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:record_writer.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:snappy/snappy_inputbuffer.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:snappy/snappy_outputbuffer.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:table.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:table_builder.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:table_options.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:two_level_iterator.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:zlib_compression_options.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:zlib_inputstream.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/io:zlib_outputbuffer.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/random:distribution_sampler.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/random:exact_uniform_int.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/random:philox_random.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/random:philox_random_test_utils.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/random:random.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/random:random_distributions.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/random:simple_philox.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/random:weighted_picker.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/strings:base64.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/strings:numbers.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/strings:ordered_code.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/strings:proto_serialization.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/strings:proto_text_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/strings:scanner.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/strings:str_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/strings:strcat.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/strings:stringprintf.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/lib/math:math_util.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:default/monitoring.cc' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:default/stacktrace_handler.cc' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:profile_utils/android_armv7a_cpu_utils_helper.cc' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:profile_utils/clock_cycle_profiler.cc' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2199:12: in srcs attribute of cc_library rule //tensorflow/core:lib_internal_impl: please do not import '//tensorflow/core/platform:profile_utils/cpu_utils.cc' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2347:12: in srcs attribute of cc_library rule //tensorflow/core:gif_internal: please do not import '//tensorflow/core/platform:gif.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2760:1: in srcs attribute of cc_library rule //tensorflow/core:stream_executor: please do not import '//tensorflow/core/platform:stream_executor.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_cuda_library', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/core/BUILD:2760:1\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2367:12: in srcs attribute of cc_library rule //tensorflow/core:jpeg_internal: please do not import '//tensorflow/core/platform:jpeg.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2650:1: in srcs attribute of cc_library rule //tensorflow/core:framework_internal_impl: please do not import '//tensorflow/core/util/sparse:dim_comparator.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_cuda_library', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/core/BUILD:2650:1\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2650:1: in srcs attribute of cc_library rule //tensorflow/core:framework_internal_impl: please do not import '//tensorflow/core/util/sparse:group_iterator.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_cuda_library', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/core/BUILD:2650:1\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2650:1: in srcs attribute of cc_library rule //tensorflow/core:framework_internal_impl: please do not import '//tensorflow/core/util/sparse:sparse_tensor.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_cuda_library', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/core/BUILD:2650:1\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2650:1: in srcs attribute of cc_library rule //tensorflow/core:framework_internal_impl: please do not import '//tensorflow/core/util/sparse:group_iterator.cc' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_cuda_library', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/core/BUILD:2650:1\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2605:1: in srcs attribute of cc_library rule //tensorflow/core:framework_internal: please do not import '//tensorflow/core/util/sparse:dim_comparator.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_cuda_library', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/core/BUILD:2605:1\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2605:1: in srcs attribute of cc_library rule //tensorflow/core:framework_internal: please do not import '//tensorflow/core/util/sparse:group_iterator.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_cuda_library', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/core/BUILD:2605:1\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2605:1: in srcs attribute of cc_library rule //tensorflow/core:framework_internal: please do not import '//tensorflow/core/util/sparse:sparse_tensor.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_cuda_library', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/core/BUILD:2605:1\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2605:1: in linkstatic attribute of cc_library rule //tensorflow/core:framework_internal: setting 'linkstatic=1' is recommended if there are no object files. Since this rule was created by the macro 'tf_cuda_library', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/core/BUILD:2605:1\r\nWARNING: /home/hadi/tensorflow/tensorflow/core/BUILD:2777:12: in srcs attribute of cc_library rule //tensorflow/core:stream_executor_no_cuda: please do not import '//tensorflow/core/platform:stream_executor.h' directly. You should either move the file to this package or depend on an appropriate rule there\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:633:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_checkpoint_reader.so: please do not import '//tensorflow/c:checkpoint_reader.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:633:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_checkpoint_reader.so: please do not import '//tensorflow/c:tf_status_helper.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:633:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_checkpoint_reader.so: please do not import '//tensorflow/c:c_api.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:633:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_checkpoint_reader.so: please do not import '//tensorflow/c:c_api_experimental.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:633:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_checkpoint_reader.so: please do not import '//tensorflow/c:tf_attrtype.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:633:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_checkpoint_reader.so: please do not import '//tensorflow/c:tf_datatype.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:633:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_checkpoint_reader.so: please do not import '//tensorflow/c:tf_file_statistics.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:633:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_checkpoint_reader.so: please do not import '//tensorflow/c:tf_status.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:633:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_checkpoint_reader.so: please do not import '//tensorflow/c:tf_tensor.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:633:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_checkpoint_reader.so: please do not import '//tensorflow/c/eager:c_api.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:684:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_toco_api.so: please do not import '//tensorflow/lite/toco/python:toco_python_api.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:492:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_quantize_training.so: please do not import '//tensorflow/core:graph/quantize_training.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:583:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_scoped_annotation.so: please do not import '//tensorflow/core/platform:annotation.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:583:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_scoped_annotation.so: please do not import '//tensorflow/core/profiler/internal:python_scoped_annotation.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:667:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_py_exception_registry.so: please do not import '//tensorflow/c:c_api.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:667:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_py_exception_registry.so: please do not import '//tensorflow/c:c_api_experimental.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:667:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_py_exception_registry.so: please do not import '//tensorflow/c:tf_attrtype.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:667:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_py_exception_registry.so: please do not import '//tensorflow/c:tf_datatype.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:667:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_py_exception_registry.so: please do not import '//tensorflow/c:tf_file_statistics.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:667:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_py_exception_registry.so: please do not import '//tensorflow/c:tf_status.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:667:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_py_exception_registry.so: please do not import '//tensorflow/c:tf_tensor.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:667:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_py_exception_registry.so: please do not import '//tensorflow/c/eager:c_api.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:572:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_stacktrace_handler.so: please do not import '//tensorflow/core/platform:stacktrace_handler.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:526:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_util_port.so: please do not import '//tensorflow/core:util/port.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:615:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_traceme.so: please do not import '//tensorflow/core/profiler/internal:python_traceme.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:615:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_traceme.so: please do not import '//tensorflow/core/profiler/internal:traceme_recorder.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:615:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_traceme.so: please do not import '//tensorflow/core/profiler/lib:traceme.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:600:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_transform_graph.so: please do not import '//tensorflow/tools/graph_transforms:transform_graph.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:600:1: in srcs attribute of cc_binary rule //tensorflow/python:_pywrap_transform_graph.so: please do not import '//tensorflow/tools/graph_transforms:transform_utils.h' directly. You should either move the file to this package or depend on an appropriate rule there. Since this rule was created by the macro 'tf_python_pybind_extension', the error might have been caused by the macro implementation in /home/hadi/tensorflow/tensorflow/tensorflow.bzl:2454:16\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:4127:1: in py_library rule //tensorflow/python:standard_ops: target '//tensorflow/python:standard_ops' depends on deprecated target '//tensorflow/python/ops/distributions:distributions': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.distributions will not receive new features, and will be removed by early 2019. You should update all usage of `tf.distributions` to `tfp.distributions`.\r\nWARNING: /home/hadi/tensorflow/tensorflow/python/BUILD:86:1: in py_library rule //tensorflow/python:no_contrib: target '//tensorflow/python:no_contrib' depends on deprecated target '//tensorflow/python/ops/distributions:distributions': TensorFlow Distributions has migrated to TensorFlow Probability (https://github.com/tensorflow/probability). Deprecated copies remaining in tf.distributions will not receive new features, and will be removed by early 2019. You should update all usage of `tf.distributions` to `tfp.distributions`.\r\nINFO: Analyzed target //tensorflow/tools/pip_package:build_pip_package (0 packages loaded, 30564 targets configured).\r\nINFO: Found 1 target...\r\nERROR: /home/hadi/.cache/bazel/_bazel_hadi/9c22e2cd2b722a33d5eae32d8a25ecc1/external/local_config_tensorrt/BUILD:52:1: Executing genrule @local_config_tensorrt//:tensorrt_include failed (Exit 1)\r\ncp: cannot stat '/usr/include/x86_64-linux-gnu/NvInferPlugin.h': No such file or directory\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\n\r\n```\r\n\r\n**Describe the problem**\r\nI keep getting the error **cp: cannot stat '/usr/include/x86_64-linux-gnu/NvInferPlugin.h': No such file or directory** when I try to build. I dont know how to get the file\r\n\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\n\r\n**Any other info / logs**\r\nConfig:\r\nhadi@hadi-GL502VSK:~/tensorflow$ ./configure \r\nWARNING: Running Bazel server needs to be killed, because the startup options are different.\r\nWARNING: Waiting for server process to terminate (waited 5 seconds, waiting at most 60)\r\nWARNING: --batch mode is deprecated. Please instead explicitly shut down your Bazel server using the command \"bazel shutdown\".\r\nYou have bazel 0.29.1 installed.\r\nPlease specify the location of python. [Default is /usr/bin/python]: /usr/bin/python3\r\n\r\n\r\nFound possible Python library paths:\r\n  /usr/local/lib/python3.7/dist-packages\r\n  /usr/lib/python3/dist-packages\r\nPlease input the desired Python library path to use.  Default is [/usr/local/lib/python3.7/dist-packages]\r\n\r\nDo you wish to build TensorFlow with XLA JIT support? [Y/n]: \r\nXLA JIT support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with OpenCL SYCL support? [y/N]: \r\nNo OpenCL SYCL support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with ROCm support? [y/N]: \r\nNo ROCm support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with CUDA support? [y/N]: y\r\nCUDA support will be enabled for TensorFlow.\r\n\r\nDo you wish to build TensorFlow with TensorRT support? [y/N]: y\r\nTensorRT support will be enabled for TensorFlow.\r\n\r\nFound CUDA 10.1 in:\r\n    /usr/local/cuda/lib64\r\n    /usr/local/cuda/include\r\nFound cuDNN 7 in:\r\n    /usr/lib/x86_64-linux-gnu\r\n    /usr/include\r\nFound TensorRT 6 in:\r\n    /usr/lib/x86_64-linux-gnu\r\n    /usr/include/x86_64-linux-gnu\r\n\r\n\r\nPlease specify a list of comma-separated CUDA compute capabilities you want to build with.\r\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\r\nPlease note that each additional compute capability significantly increases your build time and binary size, and that TensorFlow only supports compute capabilities >= 3.5 [Default is: 6.1]: \r\n\r\n\r\nDo you want to use clang as CUDA compiler? [y/N]: \r\nnvcc will be used as CUDA compiler.\r\n\r\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /usr/bin/gcc]: \r\n\r\n\r\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native -Wno-sign-compare]: \r\n\r\n\r\nWould you like to interactively configure ./WORKSPACE for Android builds? [y/N]: \r\nNot configuring the WORKSPACE for Android builds.\r\n\r\nPreconfigured Bazel build configs. You can use any of the below by adding \"--config=<>\" to your build command. See .bazelrc for more details.\r\n\t--config=mkl         \t# Build with MKL support.\r\n\t--config=monolithic  \t# Config for mostly static monolithic build.\r\n\t--config=ngraph      \t# Build with Intel nGraph support.\r\n\t--config=numa        \t# Build with NUMA support.\r\n\t--config=dynamic_kernels\t# (Experimental) Build kernels into separate shared objects.\r\n\t--config=v2          \t# Build TensorFlow 2.x instead of 1.x.\r\nPreconfigured Bazel build configs to DISABLE default on features:\r\n\t--config=noaws       \t# Disable AWS S3 filesystem support.\r\n\t--config=nogcp       \t# Disable GCP support.\r\n\t--config=nohdfs      \t# Disable HDFS support.\r\n\t--config=nonccl      \t# Disable NVIDIA NCCL support.\r\nConfiguration finished\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37340", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37340/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37340/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37340/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37340", "id": 576073063, "node_id": "MDU6SXNzdWU1NzYwNzMwNjM=", "number": 37340, "title": "dataset file-based cache uses excessively amount of memory", "user": {"login": "burgerkingeater", "id": 1428327, "node_id": "MDQ6VXNlcjE0MjgzMjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/burgerkingeater", "html_url": "https://github.com/burgerkingeater", "followers_url": "https://api.github.com/users/burgerkingeater/followers", "following_url": "https://api.github.com/users/burgerkingeater/following{/other_user}", "gists_url": "https://api.github.com/users/burgerkingeater/gists{/gist_id}", "starred_url": "https://api.github.com/users/burgerkingeater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/burgerkingeater/subscriptions", "organizations_url": "https://api.github.com/users/burgerkingeater/orgs", "repos_url": "https://api.github.com/users/burgerkingeater/repos", "events_url": "https://api.github.com/users/burgerkingeater/events{/privacy}", "received_events_url": "https://api.github.com/users/burgerkingeater/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Saduf2019", "id": 59822926, "node_id": "MDQ6VXNlcjU5ODIyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/59822926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saduf2019", "html_url": "https://github.com/Saduf2019", "followers_url": "https://api.github.com/users/Saduf2019/followers", "following_url": "https://api.github.com/users/Saduf2019/following{/other_user}", "gists_url": "https://api.github.com/users/Saduf2019/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saduf2019/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saduf2019/subscriptions", "organizations_url": "https://api.github.com/users/Saduf2019/orgs", "repos_url": "https://api.github.com/users/Saduf2019/repos", "events_url": "https://api.github.com/users/Saduf2019/events{/privacy}", "received_events_url": "https://api.github.com/users/Saduf2019/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-05T08:22:02Z", "updated_at": "2020-03-16T09:04:12Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): \r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): \r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: \r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below): \r\n- Python version: - Bazel\r\nversion (if compiling from source):\r\n- GCC/Compiler version (if compiling from\r\nsource): \r\n- CUDA/cuDNN version: - GPU model and memory:\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\nfile-based dataset cache increase excessively amount of memory.\r\n\r\n**Describe the expected behavior**\r\n\r\n**Standalone code to reproduce the issue** \r\nProvide a reproducible test case that is the bare minimum necessary to generate\r\nthe problem. If possible, please share a link to Colab/Jupyter/any notebook.\r\n```\r\n  dataset = dataset.interleave(filename_to_dataset, cycle_length=num_parallel_calls,\r\n                               num_parallel_calls=num_parallel_reads)\r\n\r\n  dataset = dataset.cache(\"cache\")\r\n  dataset = readers._maybe_shuffle_and_repeat(\r\n      dataset, num_epochs, shuffle, shuffle_buffer_size, shuffle_seed)\r\n```\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37337", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37337/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37337/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37337/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37337", "id": 576032500, "node_id": "MDU6SXNzdWU1NzYwMzI1MDA=", "number": 37337, "title": "libmkl_intel.so and libiomp5.so are not being copied for libtensorflow.so build", "user": {"login": "iamthebot", "id": 8432571, "node_id": "MDQ6VXNlcjg0MzI1NzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/8432571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamthebot", "html_url": "https://github.com/iamthebot", "followers_url": "https://api.github.com/users/iamthebot/followers", "following_url": "https://api.github.com/users/iamthebot/following{/other_user}", "gists_url": "https://api.github.com/users/iamthebot/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamthebot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamthebot/subscriptions", "organizations_url": "https://api.github.com/users/iamthebot/orgs", "repos_url": "https://api.github.com/users/iamthebot/repos", "events_url": "https://api.github.com/users/iamthebot/events{/privacy}", "received_events_url": "https://api.github.com/users/iamthebot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1104829434, "node_id": "MDU6TGFiZWwxMTA0ODI5NDM0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:mkl", "name": "comp:mkl", "color": "0052cc", "default": false, "description": ""}, {"id": 1205615612, "node_id": "MDU6TGFiZWwxMjA1NjE1NjEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:%20ubuntu/linux", "name": "subtype: ubuntu/linux", "color": "b619ea", "default": false, "description": "Ubuntu/Linux Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "TensorFlow-MKL", "id": 44416303, "node_id": "MDQ6VXNlcjQ0NDE2MzAz", "avatar_url": "https://avatars2.githubusercontent.com/u/44416303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TensorFlow-MKL", "html_url": "https://github.com/TensorFlow-MKL", "followers_url": "https://api.github.com/users/TensorFlow-MKL/followers", "following_url": "https://api.github.com/users/TensorFlow-MKL/following{/other_user}", "gists_url": "https://api.github.com/users/TensorFlow-MKL/gists{/gist_id}", "starred_url": "https://api.github.com/users/TensorFlow-MKL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TensorFlow-MKL/subscriptions", "organizations_url": "https://api.github.com/users/TensorFlow-MKL/orgs", "repos_url": "https://api.github.com/users/TensorFlow-MKL/repos", "events_url": "https://api.github.com/users/TensorFlow-MKL/events{/privacy}", "received_events_url": "https://api.github.com/users/TensorFlow-MKL/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "TensorFlow-MKL", "id": 44416303, "node_id": "MDQ6VXNlcjQ0NDE2MzAz", "avatar_url": "https://avatars2.githubusercontent.com/u/44416303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TensorFlow-MKL", "html_url": "https://github.com/TensorFlow-MKL", "followers_url": "https://api.github.com/users/TensorFlow-MKL/followers", "following_url": "https://api.github.com/users/TensorFlow-MKL/following{/other_user}", "gists_url": "https://api.github.com/users/TensorFlow-MKL/gists{/gist_id}", "starred_url": "https://api.github.com/users/TensorFlow-MKL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TensorFlow-MKL/subscriptions", "organizations_url": "https://api.github.com/users/TensorFlow-MKL/orgs", "repos_url": "https://api.github.com/users/TensorFlow-MKL/repos", "events_url": "https://api.github.com/users/TensorFlow-MKL/events{/privacy}", "received_events_url": "https://api.github.com/users/TensorFlow-MKL/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-05T06:54:02Z", "updated_at": "2020-03-05T18:27:08Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Arch Linux\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: 2.1 (v2.1 tag)\r\n- Python version: 3.7\r\n- Bazel version (if compiling from source): 0.29.1\r\n- GCC/Compiler version (if compiling from source): 7.5.0\r\n- CUDA/cuDNN version: N/A\r\n- GPU model and memory: N/A\r\n\r\n\r\n\r\n**Describe the problem**\r\nWhen building the targets `//tensorflow:libtensorflow.so` and `//tensorflow:libtensorflow_cc.so` with `--config=mkl` while libtensorflow.so and libtensorflow_cc.so are available under `bazel-bin/tensorflow`, the MKLDNN libs aren't where we'd expect them in eg; `bazel-bin/external` or `bazel-bin/third_party`. Instead, they're in the `_solib_<some suffix>` folder where the suffix is environment specific which makes it hard to retrieve the MKL-DNN libs.\r\n\r\nInstead, the build should symlink these libs into a more user friendly dir inside third_party or external.\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\nI built 2.1 //tensorflow:libtensorflow_cc.so and //tensorflow:libtensorflow.so with `--config=mkl`.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37335", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37335/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37335/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37335/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37335", "id": 576023285, "node_id": "MDU6SXNzdWU1NzYwMjMyODU=", "number": 37335, "title": "Tensorflow can run and build model with the corner case `Dense(unit=0)`", "user": {"login": "shiningrain", "id": 46860123, "node_id": "MDQ6VXNlcjQ2ODYwMTIz", "avatar_url": "https://avatars1.githubusercontent.com/u/46860123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shiningrain", "html_url": "https://github.com/shiningrain", "followers_url": "https://api.github.com/users/shiningrain/followers", "following_url": "https://api.github.com/users/shiningrain/following{/other_user}", "gists_url": "https://api.github.com/users/shiningrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/shiningrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shiningrain/subscriptions", "organizations_url": "https://api.github.com/users/shiningrain/orgs", "repos_url": "https://api.github.com/users/shiningrain/repos", "events_url": "https://api.github.com/users/shiningrain/events{/privacy}", "received_events_url": "https://api.github.com/users/shiningrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-05T06:29:11Z", "updated_at": "2020-03-16T10:49:09Z", "closed_at": null, "author_association": "NONE", "body": "**System information**  \r\n- Have I written custom code (as opposed to using example directory):  \r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):  Windows 10\r\n- TensorFlow backend (yes / no):  yes\r\n- TensorFlow version:  1.15.0\r\n- Python version:  3.6.9\r\n- CUDA/cuDNN version:  -\r\n- GPU model and memory:  -\r\n\r\n**Describe the current behavior**  \r\nWhen I set `Dense (units = 0)`, **TensorFlow can build the model normally**. `units = 0` is an obviously  unreasonable parameter, which should be stopped before building model. But Tensorflow treats it as a normal parameter. The model saved by Tensroflow may lead to potential risk. \r\nDoes unit = 0 have any special effect on TensorFlow? I don't see the corresponding instructions in the documentation. If not,**should Tensorflow set a check for such unreasonable parameters to avoid the risks and incorrect usages in the model?** \r\n\r\n**Code to reproduce the issue**  \r\n```\r\nimport numpy as np\r\nimport keras.layers as L\r\nimport keras.backend as K\r\nfrom keras.engine import Model, Input\r\n\r\n## Using Tensorflow as Keras backend.\r\n## Input dtype default is float32\r\n\r\nkwargs={'units': 0}\r\ninput = (10 * np.random.random((1,32,32,16)))\r\nlayer = L.core.Dense(**kwargs)\r\nx = Input(batch_shape=input.shape)\r\ny = layer(x)\r\nbk_model = Model(x, y)\r\nprint('finish')\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37334", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37334/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37334/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37334/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37334", "id": 576022109, "node_id": "MDU6SXNzdWU1NzYwMjIxMDk=", "number": 37334, "title": "Tensorflow can build and even run a model with `Conv2D('Kernel_size=0' )`", "user": {"login": "shiningrain", "id": 46860123, "node_id": "MDQ6VXNlcjQ2ODYwMTIz", "avatar_url": "https://avatars1.githubusercontent.com/u/46860123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shiningrain", "html_url": "https://github.com/shiningrain", "followers_url": "https://api.github.com/users/shiningrain/followers", "following_url": "https://api.github.com/users/shiningrain/following{/other_user}", "gists_url": "https://api.github.com/users/shiningrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/shiningrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shiningrain/subscriptions", "organizations_url": "https://api.github.com/users/shiningrain/orgs", "repos_url": "https://api.github.com/users/shiningrain/repos", "events_url": "https://api.github.com/users/shiningrain/events{/privacy}", "received_events_url": "https://api.github.com/users/shiningrain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-03-05T06:25:48Z", "updated_at": "2020-03-19T14:17:37Z", "closed_at": null, "author_association": "NONE", "body": "**System information**  \r\n- Have I written custom code (as opposed to using example directory):  \r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):  Win 10 & Linux Ubuntu18.04\r\n- Tensorflow backend (yes/no): yes\r\n- TensorFlow version:1.15.0(CPU)\r\n- Python version: 3.6.9\r\n- CUDA/cuDNN version: -\r\n- GPU model and memory: -\r\n\r\n**Describe the current behavior**  \r\nWhen I build a model with unreasonable parameters  `Conv2D(kernel_size=0)` on TensorFlow, **it can run normally and even generate/save an model** . When I use this model to predict, Tensorflow spend about 5 minutes and still can't return an output.\r\n`Conv2D(kernel_size=0)`  seems like a corner case because **in the convolution operation, it is impossible to calculate with `kernel_size=0`**\r\n\r\nDoes `kernel_size=0` have some special meaning in Tensorflow? I have not found any description about this case in documents. If no special meaning, **Should Tensorflow set a check for such unreasonable parameters to avoid the risks and incorrect usages in the model?**  \r\n\r\n**Code to reproduce the issue**  \r\n\r\n```\r\nimport os\r\nimport numpy as np\r\nimport keras.layers as L\r\nfrom keras.models import load_model\r\nfrom keras.engine import Model, Input\r\n\r\nkwargs = {'filters': 19, 'kernel_size': 0, 'padding': 'valid', 'strides': (2, 4), 'dilation_rate': 1, 'data_format': 'channels_first'}\r\ninput = (10 * np.random.random((1,32,32,16)))\r\nlayer = L.convolutional.Conv2D(**kwargs)\r\nx = Input(batch_shape=input.shape)\r\ny = layer(x)\r\nbk_model = Model(x, y)\r\nmodel_path = os.path.join('./', 'model.h5')\r\nbk_model.save(model_path, bk_model)\r\nmodel = load_model(model_path)\r\noutput = model.predict(input)\r\nprint('finish')\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37332", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37332/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37332/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37332/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37332", "id": 576013962, "node_id": "MDU6SXNzdWU1NzYwMTM5NjI=", "number": 37332, "title": "TFTRT Int8 calibrate out of memory", "user": {"login": "wangxiang2713", "id": 49302617, "node_id": "MDQ6VXNlcjQ5MzAyNjE3", "avatar_url": "https://avatars3.githubusercontent.com/u/49302617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wangxiang2713", "html_url": "https://github.com/wangxiang2713", "followers_url": "https://api.github.com/users/wangxiang2713/followers", "following_url": "https://api.github.com/users/wangxiang2713/following{/other_user}", "gists_url": "https://api.github.com/users/wangxiang2713/gists{/gist_id}", "starred_url": "https://api.github.com/users/wangxiang2713/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wangxiang2713/subscriptions", "organizations_url": "https://api.github.com/users/wangxiang2713/orgs", "repos_url": "https://api.github.com/users/wangxiang2713/repos", "events_url": "https://api.github.com/users/wangxiang2713/events{/privacy}", "received_events_url": "https://api.github.com/users/wangxiang2713/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1754777628, "node_id": "MDU6TGFiZWwxNzU0Nzc3NjI4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu:tensorrt", "name": "comp:gpu:tensorrt", "color": "ea98ba", "default": false, "description": "Issues specific to TensorRT"}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}, {"login": "bixia1", "id": 35820639, "node_id": "MDQ6VXNlcjM1ODIwNjM5", "avatar_url": "https://avatars1.githubusercontent.com/u/35820639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bixia1", "html_url": "https://github.com/bixia1", "followers_url": "https://api.github.com/users/bixia1/followers", "following_url": "https://api.github.com/users/bixia1/following{/other_user}", "gists_url": "https://api.github.com/users/bixia1/gists{/gist_id}", "starred_url": "https://api.github.com/users/bixia1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bixia1/subscriptions", "organizations_url": "https://api.github.com/users/bixia1/orgs", "repos_url": "https://api.github.com/users/bixia1/repos", "events_url": "https://api.github.com/users/bixia1/events{/privacy}", "received_events_url": "https://api.github.com/users/bixia1/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-05T06:03:19Z", "updated_at": "2020-03-09T07:52:13Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\nCentOS Linux release 7.6.1810 (Core)\r\nTITAN Xp\r\n\r\nCUDA Version: 10.0\r\nCUDNN 7\r\nTensorflow 1.15.0\r\nPython 2.7.5\r\n\r\n**Describe the current behavior**\r\nI use tftrt module to calibrate int8 model. I can convert() the model successfully, but when I do calibrate(), the memory increase crazily and use the whole memory, finally i get error:Calibration failed: Internal: Failed to build TensorRT engine\r\n\r\n**Code to reproduce the issue**\r\n```\r\nconverter = trt.TrtGraphConverter(input_graph_def=original_graph_def,\r\n                                        nodes_blacklist=preserve_nodes,\r\n                                        max_batch_size=1,\r\n                                        max_workspace_size_bytes=(1 << 30) * 4,\r\n                                        precision_mode=\"INT8\",\r\n                                        use_calibration=True)\r\n\r\nnew_graph_def = converter.convert()\r\n\r\nnew_graph_def = converter.calibrate(fetch_names=fetch_names,\r\n                                          num_runs=1,\r\n                                          feed_dict_fn=lambda: feed_dict)\r\n```\r\n\r\n**Other info / logs**\r\nCuda error in file src/implicit_gemm.cu at line 585: out of memory\r\nCuda error in file src/implicit_gemm.cu at line 648: out of memory\r\nCuda error in file src/implicit_gemm.cu at line 585: out of memory\r\nCuda error in file src/implicit_gemm.cu at line 648: out of memory\r\n2020-03-04 23:13:41.703545: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7\r\n2020-03-04 23:13:42.514483: E tensorflow/compiler/tf2tensorrt/utils/trt_logger.cc:41] DefaultLogger ../builder/cudnnCalibrator.cpp (703) - Cuda Error in add: 2 (out of memory)\r\n2020-03-04 23:13:42.514774: E tensorflow/compiler/tf2tensorrt/utils/trt_logger.cc:41] DefaultLogger FAILED_ALLOCATION: std::exception\r\n2020-03-04 23:13:42.514813: E tensorflow/compiler/tf2tensorrt/utils/trt_logger.cc:41] DefaultLogger ../rtExt/cuda/customWinogradConvActRunner.cpp (330) - Cuda Error in execute: 2 (out of memory)\r\n2020-03-04 23:13:42.514843: E tensorflow/compiler/tf2tensorrt/utils/trt_logger.cc:41] DefaultLogger FAILED_EXECUTION: std::exception\r\n2020-03-04 23:13:42.572025: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0\r\n2020-03-04 23:13:43.019708: I tensorflow/compiler/tf2tensorrt/kernels/trt_engine_op.cc:812] Starting calibration thread on device 0, Calibration Resource @ 0x7f6414007820\r\n2020-03-04 23:13:43.021884: W tensorflow/compiler/tf2tensorrt/utils/trt_logger.cc:37] DefaultLogger Half2 support requested on hardware without native FP16 support, performance will be negatively affected.\r\n2020-03-04 23:13:43.181361: E tensorflow/compiler/tf2tensorrt/utils/trt_logger.cc:41] DefaultLogger ../rtSafe/safeContext.cpp (105) - Cudnn Error in initializeCommonContext: 4 (Could not initialize cudnn, please check cudnn installation.)\r\n2020-03-04 23:13:43.182093: E tensorflow/compiler/tf2tensorrt/utils/trt_logger.cc:41] DefaultLogger ../rtSafe/safeContext.cpp (105) - Cudnn Error in initializeCommonContext: 4 (Could not initialize cudnn, please check cudnn installation.)\r\n2020-03-04 23:13:43.182185: E tensorflow/compiler/tf2tensorrt/kernels/trt_engine_op.cc:838] Calibration failed: Internal: Failed to build TensorRT engine\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37331", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37331/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37331/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37331/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37331", "id": 576001424, "node_id": "MDU6SXNzdWU1NzYwMDE0MjQ=", "number": 37331, "title": "Headers in /usr/local/include cause build errors on json cpp", "user": {"login": "chiraag", "id": 1707899, "node_id": "MDQ6VXNlcjE3MDc4OTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1707899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chiraag", "html_url": "https://github.com/chiraag", "followers_url": "https://api.github.com/users/chiraag/followers", "following_url": "https://api.github.com/users/chiraag/following{/other_user}", "gists_url": "https://api.github.com/users/chiraag/gists{/gist_id}", "starred_url": "https://api.github.com/users/chiraag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chiraag/subscriptions", "organizations_url": "https://api.github.com/users/chiraag/orgs", "repos_url": "https://api.github.com/users/chiraag/repos", "events_url": "https://api.github.com/users/chiraag/events{/privacy}", "received_events_url": "https://api.github.com/users/chiraag/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 1205765054, "node_id": "MDU6TGFiZWwxMjA1NzY1MDU0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:macOS", "name": "subtype:macOS", "color": "b619ea", "default": false, "description": "macOS Build/Installation issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "angerson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angerson", "html_url": "https://github.com/angerson", "followers_url": "https://api.github.com/users/angerson/followers", "following_url": "https://api.github.com/users/angerson/following{/other_user}", "gists_url": "https://api.github.com/users/angerson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angerson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angerson/subscriptions", "organizations_url": "https://api.github.com/users/angerson/orgs", "repos_url": "https://api.github.com/users/angerson/repos", "events_url": "https://api.github.com/users/angerson/events{/privacy}", "received_events_url": "https://api.github.com/users/angerson/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "angerson", "id": 32465472, "node_id": "MDQ6VXNlcjMyNDY1NDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/32465472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angerson", "html_url": "https://github.com/angerson", "followers_url": "https://api.github.com/users/angerson/followers", "following_url": "https://api.github.com/users/angerson/following{/other_user}", "gists_url": "https://api.github.com/users/angerson/gists{/gist_id}", "starred_url": "https://api.github.com/users/angerson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angerson/subscriptions", "organizations_url": "https://api.github.com/users/angerson/orgs", "repos_url": "https://api.github.com/users/angerson/repos", "events_url": "https://api.github.com/users/angerson/events{/privacy}", "received_events_url": "https://api.github.com/users/angerson/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-05T05:24:50Z", "updated_at": "2020-03-05T12:18:27Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): MacOS 10.15.3\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): source\r\n- TensorFlow version: r1.15\r\n- Python version: 3.7.5\r\n- Installed using virtualenv? pip? conda?: conda\r\n- Bazel version (if compiling from source): 0.26.1\r\n- GCC/Compiler version (if compiling from source): Apple LLVM 11.0\r\n- CUDA/cuDNN version: NA\r\n- GPU model and memory: NA\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\n`jsoncpp` build is not hermetic and uses non-system headers in `/usr/local/include` leading to a build failure if a conflicting version is installed.\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nMy system has version 1.9.1 of `jsoncpp` installed using homebrew. Tensorflow tries to build 1.8.4 when building from source. By default all libraries in `/usr/local/include` are on the include path. This then triggers a bug in the 1.8.4 code-base which was fixed in this [commit](https://github.com/open-source-parsers/jsoncpp/commit/83cc92161be96d7f2113a3ec9f62109d828e1eec).\r\n\r\n**Any other info / logs**\r\nInclude any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached.\r\n\r\n```\r\nERROR: /private/var/tmp/_bazel_cjuvekar/e56ef34a0d740df121c6d8bab70f0129/external/jsoncpp_git/BUILD.bazel:5:1: C++ compilation of rule '@jsoncpp_git//:jsoncpp' failed (Exit 1): cc_wrapper.sh failed: error executing command\r\n  (cd /private/var/tmp/_bazel_cjuvekar/e56ef34a0d740df121c6d8bab70f0129/execroot/org_tensorflow && \\\r\n  exec env - \\\r\n    PATH=/Users/cjuvekar/anaconda3/envs/tf1_15_custom/bin:/Users/cjuvekar/anaconda3/condabin:/Users/cjuvekar/local/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin:/Users/cjuvekar/.fzf/bin \\\r\n    PWD=/proc/self/cwd \\\r\n  external/local_config_cc/cc_wrapper.sh -U_FORTIFY_SOURCE -fstack-protector -Wall -Wthread-safety -Wself-assign -fcolor-diagnostics -fno-omit-frame-pointer -g0 -O2 '-D_FORTIFY_SOURCE=1' -DNDEBUG -ffunction-sections -fdata-sections '-std=c++0x' -MD -MF bazel-out/host/bin/external/jsoncpp_git/_objs/jsoncpp/json_value.pic.d '-frandom-seed=bazel-out/host/bin/external/jsoncpp_git/_objs/jsoncpp/json_value.pic.o' -fPIC -iquote external/jsoncpp_git -iquote bazel-out/host/bin/external/jsoncpp_git -isystem external/jsoncpp_git/include -isystem bazel-out/host/bin/external/jsoncpp_git/include -g0 '-march=native' -g0 '-DJSON_USE_EXCEPTION=0' -DJSON_HAS_INT64 -no-canonical-prefixes -Wno-builtin-macro-redefined '-D__DATE__=\"redacted\"' '-D__TIMESTAMP__=\"redacted\"' '-D__TIME__=\"redacted\"' -c external/jsoncpp_git/src/lib_json/json_value.cpp -o bazel-out/host/bin/external/jsoncpp_git/_objs/jsoncpp/json_value.pic.o)\r\nExecution platform: @bazel_tools//platforms:host_platform\r\nIn file included from external/jsoncpp_git/src/lib_json/json_value.cpp:7:\r\nIn file included from /usr/local/include/json/assertions.h:13:\r\n/usr/local/include/json/config.h:155:9: warning: 'JSON_HAS_INT64' macro redefined [-Wmacro-redefined]\r\n#define JSON_HAS_INT64\r\n        ^\r\n<command line>:5:9: note: previous definition is here\r\n#define JSON_HAS_INT64 1\r\n        ^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:193:1: error: use of undeclared identifier 'Exception'; did you mean 'std::exception'?\r\nException::Exception(JSONCPP_STRING const& msg)\r\n^~~~~~~~~\r\nstd::exception\r\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/exception:98:29: note: 'std::exception' declared here\r\nclass _LIBCPP_EXCEPTION_ABI exception\r\n                            ^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:193:12: error: missing return type for function 'Exception'; did you mean the constructor name 'exception'?\r\nException::Exception(JSONCPP_STRING const& msg)\r\n           ^~~~~~~~~\r\n           exception\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:193:12: error: cannot define or redeclare 'exception' here because namespace 'Json' does not enclose namespace 'exception'\r\nException::Exception(JSONCPP_STRING const& msg)\r\n~~~~~~~~~~~^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:194:10: error: use of undeclared identifier 'msg'\r\n  : msg_(msg)\r\n         ^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:196:1: error: use of undeclared identifier 'Exception'; did you mean 'std::exception'?\r\nException::~Exception() JSONCPP_NOEXCEPT\r\n^~~~~~~~~\r\nstd::exception\r\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/exception:98:29: note: 'std::exception' declared here\r\nclass _LIBCPP_EXCEPTION_ABI exception\r\n                            ^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:196:13: error: expected the class name after '~' to name a destructor\r\nException::~Exception() JSONCPP_NOEXCEPT\r\n            ^~~~~~~~~\r\n            exception\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:198:13: error: use of undeclared identifier 'Exception'; did you mean 'std::exception'?\r\nchar const* Exception::what() const JSONCPP_NOEXCEPT\r\n            ^~~~~~~~~\r\n            std::exception\r\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/exception:98:29: note: 'std::exception' declared here\r\nclass _LIBCPP_EXCEPTION_ABI exception\r\n                            ^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:198:24: error: cannot define or redeclare 'what' here because namespace 'Json' does not enclose namespace 'exception'\r\nchar const* Exception::what() const JSONCPP_NOEXCEPT\r\n            ~~~~~~~~~~~^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:202:1: error: use of undeclared identifier 'RuntimeError'; did you mean 'std::runtime_error'?\r\nRuntimeError::RuntimeError(JSONCPP_STRING const& msg)\r\n^~~~~~~~~~~~\r\nstd::runtime_error\r\n/Library/Developer/CommandLineTools/usr/bin/../include/c++/v1/stdexcept:94:29: note: 'std::runtime_error' declared here\r\nclass _LIBCPP_EXCEPTION_ABI runtime_error\r\n                            ^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:202:15: error: missing return type for function 'RuntimeError'; did you mean the constructor name 'runtime_error'?\r\nRuntimeError::RuntimeError(JSONCPP_STRING const& msg)\r\n              ^~~~~~~~~~~~\r\n              runtime_error\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:202:15: error: cannot define or redeclare 'runtime_error' here because namespace 'Json' does not enclose namespace 'runtime_error'\r\nRuntimeError::RuntimeError(JSONCPP_STRING const& msg)\r\n~~~~~~~~~~~~~~^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:203:15: error: use of undeclared identifier 'msg'\r\n  : Exception(msg)\r\n              ^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:205:1: error: use of undeclared identifier 'LogicError'\r\nLogicError::LogicError(JSONCPP_STRING const& msg)\r\n^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:208:1: error: unknown type name 'JSONCPP_NORETURN'\r\nJSONCPP_NORETURN void throwRuntimeError(JSONCPP_STRING const& msg)\r\n^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:208:18: error: expected unqualified-id\r\nJSONCPP_NORETURN void throwRuntimeError(JSONCPP_STRING const& msg)\r\n                 ^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:212:1: error: unknown type name 'JSONCPP_NORETURN'\r\nJSONCPP_NORETURN void throwLogicError(JSONCPP_STRING const& msg)\r\n^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:212:18: error: expected unqualified-id\r\nJSONCPP_NORETURN void throwLogicError(JSONCPP_STRING const& msg)\r\n                 ^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:225:8: error: no member named 'CommentInfo' in 'Json::Value'\r\nValue::CommentInfo::CommentInfo() : comment_(0)\r\n~~~~~~~^\r\nexternal/jsoncpp_git/src/lib_json/json_value.cpp:228:8: error: no member named 'CommentInfo' in 'Json::Value'\r\nValue::CommentInfo::~CommentInfo() {\r\n~~~~~~~^\r\nfatal error: too many errors emitted, stopping now [-ferror-limit=]\r\n1 warning and 20 errors generated.\r\nTarget //tensorflow/tools/pip_package:build_pip_package failed to build\r\nINFO: Elapsed time: 374.433s, Critical Path: 113.24s\r\nINFO: 1577 processes: 1577 local.\r\nFAILED: Build did NOT complete successfully\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37330", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37330/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37330/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37330/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37330", "id": 575976735, "node_id": "MDU6SXNzdWU1NzU5NzY3MzU=", "number": 37330, "title": "Improve the TFDS Getting Started Documentation ", "user": {"login": "coreyching", "id": 6283150, "node_id": "MDQ6VXNlcjYyODMxNTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6283150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/coreyching", "html_url": "https://github.com/coreyching", "followers_url": "https://api.github.com/users/coreyching/followers", "following_url": "https://api.github.com/users/coreyching/following{/other_user}", "gists_url": "https://api.github.com/users/coreyching/gists{/gist_id}", "starred_url": "https://api.github.com/users/coreyching/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/coreyching/subscriptions", "organizations_url": "https://api.github.com/users/coreyching/orgs", "repos_url": "https://api.github.com/users/coreyching/repos", "events_url": "https://api.github.com/users/coreyching/events{/privacy}", "received_events_url": "https://api.github.com/users/coreyching/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1114343535, "node_id": "MDU6TGFiZWwxMTE0MzQzNTM1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:data", "name": "comp:data", "color": "0052cc", "default": false, "description": "tf.data related issues"}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "lamberta", "id": 43051, "node_id": "MDQ6VXNlcjQzMDUx", "avatar_url": "https://avatars2.githubusercontent.com/u/43051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamberta", "html_url": "https://github.com/lamberta", "followers_url": "https://api.github.com/users/lamberta/followers", "following_url": "https://api.github.com/users/lamberta/following{/other_user}", "gists_url": "https://api.github.com/users/lamberta/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamberta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamberta/subscriptions", "organizations_url": "https://api.github.com/users/lamberta/orgs", "repos_url": "https://api.github.com/users/lamberta/repos", "events_url": "https://api.github.com/users/lamberta/events{/privacy}", "received_events_url": "https://api.github.com/users/lamberta/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lamberta", "id": 43051, "node_id": "MDQ6VXNlcjQzMDUx", "avatar_url": "https://avatars2.githubusercontent.com/u/43051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lamberta", "html_url": "https://github.com/lamberta", "followers_url": "https://api.github.com/users/lamberta/followers", "following_url": "https://api.github.com/users/lamberta/following{/other_user}", "gists_url": "https://api.github.com/users/lamberta/gists{/gist_id}", "starred_url": "https://api.github.com/users/lamberta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lamberta/subscriptions", "organizations_url": "https://api.github.com/users/lamberta/orgs", "repos_url": "https://api.github.com/users/lamberta/repos", "events_url": "https://api.github.com/users/lamberta/events{/privacy}", "received_events_url": "https://api.github.com/users/lamberta/received_events", "type": "User", "site_admin": false}, {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-05T04:00:51Z", "updated_at": "2020-03-12T10:18:48Z", "closed_at": null, "author_association": "NONE", "body": "## URL(s) with the issue:\r\nhttps://www.tensorflow.org/datasets/overview\r\n\r\n## Description of issue (what needs changing):\r\n\r\n \ud83d\ude00I completed step 1 and  went to \u201chttps://www.tensorflow.org/datasets/overview\u201d to get started with TFDS. I launched the code lab to continue with the overview. The code lab is a great option to easily run python and tensorflow! \r\n\r\n\ud83d\ude11- I completed the first command to install tensorflow and tensorflow-datasets\r\n![image](https://user-images.githubusercontent.com/6283150/75946296-9433b500-5e51-11ea-921e-f44a6fc1573e.png)\r\n\r\nThe download ran but it was not clear which version of tensorflow was downloaded. The reason I was confused and wanted to know which version was installed is the disclaimer above states version >=1.15 is required.\r\n\ud83d\ude11- In the second command, I received an error message after running the python script.\r\n![image](https://user-images.githubusercontent.com/6283150/75946322-a44b9480-5e51-11ea-8874-51a4863093ae.png)\r\n\r\nI was not clear if this was just a warning message, or an error due to my current tensorflow version. \r\n\r\n\ud83d\ude00Step 2 was delightful!\r\n![image](https://user-images.githubusercontent.com/6283150/75946336-aca3cf80-5e51-11ea-949a-0ca03348d768.png)\r\n\r\nAdding in a disclaimer to include citations is great! \ud83d\ude11However, why is it after the download step? This seems out of place and disrupts the developer workflow. \r\n\r\nNext was step 3 to initiate eager execution.\r\n\ud83d\ude11Without a baseline on what EE is, I felt required to read the eager execution page before I could move forward. It\u2019s frustrating when a developer guide links out to other documentation, or I feel compelled to read the other pages, because it causes disruption in grasping one concept at a time. This frustration can be a \u201cdrop off\u201d point for developers trying to onboard Tensorflow.\r\n\r\n![image](https://user-images.githubusercontent.com/6283150/75946528-35227000-5e52-11ea-9312-09405b8e3043.png)\r\n\r\nEnable_V2_Behavior is the command run after asking the user to enable eager execution. Why is that? (After reading the eager execution documentation this was clear, but it took time to dig for this info).\r\n\r\n\ud83d\ude21Step 5 understanding what the tf \u201cload\u201d function does is frustrating.\r\n![image](https://user-images.githubusercontent.com/6283150/75946560-44092280-5e52-11ea-85be-ded98f6365c3.png)\r\n\r\n\ud83d\ude21I\u2019m strongly encouraged to read the official TensorFlow guide which is over 30 pages of material. I am 5 steps down this getting started guide, and then sent to another page that will reasonably take 4+ focused hours to additionally complete. This is very frustrating when I am trying to just get an overview of tensorflow datasets.\r\n\r\n\ud83d\ude00Step 5 does a great job here showing an example directly in relation to the above paragraph on versioning! I\u2019m delighted and can move on without needing to read the hyperlink. \r\n![image](https://user-images.githubusercontent.com/6283150/75946588-54b99880-5e52-11ea-8e80-6ec1f06b684e.png)\r\n\r\n\ud83d\ude11Step 7 is confusing since it states we can achieve the same output using the DatasetBuilder, but when you run the test it only outputs the ds_train variable, as opposed to building the graph. \r\n![image](https://user-images.githubusercontent.com/6283150/75946599-5be0a680-5e52-11ea-9cfd-37520abadae3.png)\r\n\r\n### What should happen?\r\n\r\nI have organized answers to the above friction points in the following groupings:\r\n\r\n**Tensorflow Installation**\r\nTo identify which version of Tensorflow I installed I ran a grep command in the code lab to output the following:\r\n\r\n![image](https://user-images.githubusercontent.com/6283150/75946716-bd087a00-5e52-11ea-95d3-c13f68c33df9.png)\r\n\r\nHaving something like this ^ output during installation will help users know what is downloaded and executed in the install command. \r\n\r\n**Eager Execution**\r\n\r\nA simple way to clarify what eager execution is to write a one sentence definition in the guide. For example:\r\n\r\n\u201cTensorFlow's eager execution is an imperative programming environment that evaluates operations immediately, without building graphs: operations return concrete values instead of constructing a computational graph to run later.\u201d\r\n\r\nThis way I have a quick understanding and don\u2019t feel compelled to read the linked page which is a very long document! :)\r\nI liken this to applications having a tooltip in consumer facing applications. Adding in quick non intrusive explanations to Respect the User keep your users engaged and on the same page. \r\n\r\nAdditionally, adding in the following message to define the command, \u201cenable_v2_behavior\u201d, would help clarify that Eager Execution is enabled by default tensorflow 2. \r\n\r\n![image](https://user-images.githubusercontent.com/6283150/75946725-c560b500-5e52-11ea-9229-96f8b71dc895.png)\r\n\r\n\r\n**Linking to the official guide for Tensorflow Datasets**\r\n![image](https://user-images.githubusercontent.com/6283150/75946747-d3163a80-5e52-11ea-820b-a43d13bbbe76.png)\r\n\r\nWe need to Respect the User, and provide simplicity when on boarding someone new to TFDS. They have invested time to make it down to the 5th step. If it is imperative the user get a baseline understanding of the Tensorflow API first, then we should put the disclaimer at the top of the overview to go read the guide first before continuing. \r\n\r\nIf it is not necessary, then we should summarize the API guide into 3-5 concise pillars of information that is required for the user to understand the rest of the overview. When the user completes the overview, we can encourage them to go deeper and read the rest of the guide. Similarly, an analogy is when loading a website you respect the user by building a light-weight modern site. Performant sites lazy load in images when they are needed to improve performance and minimize how much data your user needs to download, we should apply the same principles to information.  \r\n\r\n**DatasetBuilder**\r\nWhen introducing in the DatasetBuilder we should place this information right after Step 5 (calling .load), to show the two ways to load in datasets side by side. This way the user does not need to scroll back up the documentation and read before Step 6 (plotting the dataset). \r\n\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37323", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37323/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37323/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37323/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37323", "id": 575902512, "node_id": "MDU6SXNzdWU1NzU5MDI1MTI=", "number": 37323, "title": "Count number of times `tf.function` is traced", "user": {"login": "ammirato", "id": 33880090, "node_id": "MDQ6VXNlcjMzODgwMDkw", "avatar_url": "https://avatars1.githubusercontent.com/u/33880090?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ammirato", "html_url": "https://github.com/ammirato", "followers_url": "https://api.github.com/users/ammirato/followers", "following_url": "https://api.github.com/users/ammirato/following{/other_user}", "gists_url": "https://api.github.com/users/ammirato/gists{/gist_id}", "starred_url": "https://api.github.com/users/ammirato/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ammirato/subscriptions", "organizations_url": "https://api.github.com/users/ammirato/orgs", "repos_url": "https://api.github.com/users/ammirato/repos", "events_url": "https://api.github.com/users/ammirato/events{/privacy}", "received_events_url": "https://api.github.com/users/ammirato/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1478826728, "node_id": "MDU6TGFiZWwxNDc4ODI2NzI4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:core", "name": "comp:core", "color": "024391", "default": false, "description": ""}, {"id": 1256103877, "node_id": "MDU6TGFiZWwxMjU2MTAzODc3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/good%20first%20issue", "name": "good first issue", "color": "c4ef8b", "default": true, "description": "Good first issue for newcomers."}, {"id": 299643928, "node_id": "MDU6TGFiZWwyOTk2NDM5Mjg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:contributions%20welcome", "name": "stat:contributions welcome", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-03-05T00:11:16Z", "updated_at": "2020-03-18T18:12:28Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): 2.1\r\n- Are you willing to contribute it (Yes/No): No\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\nI would like to be able to check, inside a function wrapped by `tf.function`, when this function is being retraced. This is useful for testing my functions are compatible with `tf.function`, and will make use of the speed up (and not just make a new graph every time they are called).\r\n\r\nAn example, with the requested feature would be inserted in `REQUEST`:\r\n\r\n```\r\nimport my_function\r\n@pytest.mark.unit\r\n@pytest.mark.parametrize('use_tf_function', [True, False])\r\ndef test_my_function(use_tf_function):\r\n\r\n    def test(arg1, arg2):\r\n        # REQUEST: Check to make sure this is not being retraced many times.\r\n        return my_function(arg1, arg2)\r\n\r\n    # Sometimes test in Eager mode for debugging, sometimes test in graph mode.\r\n    test_func = test\r\n    if use_tf_function:\r\n        test_func = tf.function(test_func)\r\n\r\n    #####Test 1\r\n    arg1, arg2 = #some setup stuff\r\n    test_func(arg1, arg2)  # create the graph (tracing happens).\r\n    results = test_func(arg1, arg2)  # hopefully tracing does not happen a second time.\r\n    assert results\r\n\r\n    #####Test 2\r\n    arg4, arg3 = #some setup stuff\r\n    results = test_func(arg3, arg4)  # hopefully tracing does not happen again (if the inputs are tensors and the shapes do not change)\r\n    assert results\r\n```\r\n\r\n\r\n**Will this change the current api? How?**\r\nI'm not sure, maybe just add a function, maybe it already exists.\r\n\r\n**Who will benefit with this feature?**\r\nAnyone debugging. \r\n\r\n**Any Other info.**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37312", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37312/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37312/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37312/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37312", "id": 575706233, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgzODE4NTMw", "number": 37312, "title": "Update release notes for TensorFlow 2.2.0", "user": {"login": "tensorflow-jenkins", "id": 16359713, "node_id": "MDQ6VXNlcjE2MzU5NzEz", "avatar_url": "https://avatars0.githubusercontent.com/u/16359713?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tensorflow-jenkins", "html_url": "https://github.com/tensorflow-jenkins", "followers_url": "https://api.github.com/users/tensorflow-jenkins/followers", "following_url": "https://api.github.com/users/tensorflow-jenkins/following{/other_user}", "gists_url": "https://api.github.com/users/tensorflow-jenkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/tensorflow-jenkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tensorflow-jenkins/subscriptions", "organizations_url": "https://api.github.com/users/tensorflow-jenkins/orgs", "repos_url": "https://api.github.com/users/tensorflow-jenkins/repos", "events_url": "https://api.github.com/users/tensorflow-jenkins/events{/privacy}", "received_events_url": "https://api.github.com/users/tensorflow-jenkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}], "state": "open", "locked": false, "assignee": {"login": "goldiegadde", "id": 43185254, "node_id": "MDQ6VXNlcjQzMTg1MjU0", "avatar_url": "https://avatars2.githubusercontent.com/u/43185254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goldiegadde", "html_url": "https://github.com/goldiegadde", "followers_url": "https://api.github.com/users/goldiegadde/followers", "following_url": "https://api.github.com/users/goldiegadde/following{/other_user}", "gists_url": "https://api.github.com/users/goldiegadde/gists{/gist_id}", "starred_url": "https://api.github.com/users/goldiegadde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goldiegadde/subscriptions", "organizations_url": "https://api.github.com/users/goldiegadde/orgs", "repos_url": "https://api.github.com/users/goldiegadde/repos", "events_url": "https://api.github.com/users/goldiegadde/events{/privacy}", "received_events_url": "https://api.github.com/users/goldiegadde/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "goldiegadde", "id": 43185254, "node_id": "MDQ6VXNlcjQzMTg1MjU0", "avatar_url": "https://avatars2.githubusercontent.com/u/43185254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goldiegadde", "html_url": "https://github.com/goldiegadde", "followers_url": "https://api.github.com/users/goldiegadde/followers", "following_url": "https://api.github.com/users/goldiegadde/following{/other_user}", "gists_url": "https://api.github.com/users/goldiegadde/gists{/gist_id}", "starred_url": "https://api.github.com/users/goldiegadde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goldiegadde/subscriptions", "organizations_url": "https://api.github.com/users/goldiegadde/orgs", "repos_url": "https://api.github.com/users/goldiegadde/repos", "events_url": "https://api.github.com/users/goldiegadde/events{/privacy}", "received_events_url": "https://api.github.com/users/goldiegadde/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-04T19:37:15Z", "updated_at": "2020-03-18T21:44:41Z", "closed_at": null, "author_association": "COLLABORATOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37312", "html_url": "https://github.com/tensorflow/tensorflow/pull/37312", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37312.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37312.patch"}, "body": "This PR is intentionally incomplete. One of the Release Owners for 2.2.0\nneeds to fill in the internal release notes for this version before the PR gets\nsubmitted. Click on the :pencil2: icon in the header for `RELEASE.md` under\n\"Files Changed\" above."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37311", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37311/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37311/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37311/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37311", "id": 575701606, "node_id": "MDU6SXNzdWU1NzU3MDE2MDY=", "number": 37311, "title": "Method Chaining in Tensorflow", "user": {"login": "najibghadri", "id": 11639734, "node_id": "MDQ6VXNlcjExNjM5NzM0", "avatar_url": "https://avatars2.githubusercontent.com/u/11639734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/najibghadri", "html_url": "https://github.com/najibghadri", "followers_url": "https://api.github.com/users/najibghadri/followers", "following_url": "https://api.github.com/users/najibghadri/following{/other_user}", "gists_url": "https://api.github.com/users/najibghadri/gists{/gist_id}", "starred_url": "https://api.github.com/users/najibghadri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/najibghadri/subscriptions", "organizations_url": "https://api.github.com/users/najibghadri/orgs", "repos_url": "https://api.github.com/users/najibghadri/repos", "events_url": "https://api.github.com/users/najibghadri/events{/privacy}", "received_events_url": "https://api.github.com/users/najibghadri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-04T19:31:23Z", "updated_at": "2020-03-05T23:39:39Z", "closed_at": null, "author_association": "NONE", "body": "I have posted a question about this in stackoverflow. https://stackoverflow.com/questions/60528238/why-no-method-chaining-in-tensorflow\r\n\r\nAka. named parameter idiom. I did a simple Nearest Neighbor algorithm in TF and I ended up writing the whole NN algorithm in one line. You can argue that I should take it apart, but I think this happens often anyways (in coding in general too):\r\n\r\n```\r\ntf.math.argmin(tf.math.reduce_sum(tf.math.abs(tf.math.subtract(Xtrain_set, Xtest_row)), axis=1), output_type=tf.int32)\r\n\r\n# returns the minimum train set indices for each X predictable row based on L1 (in a for cycle) but this is not important\r\n```\r\n\r\nIt could be much more readable and simple to write:\r\n\r\n**`tf.subtract(Xtrain_set, Xtest_row).abs().reduce_sum(axis=1).argmin(output_type=tf.int32)\r\n`**\r\n\r\nI think it really follows the \"Tensor-flow\" thinking too.\r\nThanks."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37307", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37307/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37307/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37307/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37307", "id": 575656179, "node_id": "MDU6SXNzdWU1NzU2NTYxNzk=", "number": 37307, "title": "gradient of `einsum` is incorrect for complex numbers", "user": {"login": "Krastanov", "id": 705248, "node_id": "MDQ6VXNlcjcwNTI0OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/705248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Krastanov", "html_url": "https://github.com/Krastanov", "followers_url": "https://api.github.com/users/Krastanov/followers", "following_url": "https://api.github.com/users/Krastanov/following{/other_user}", "gists_url": "https://api.github.com/users/Krastanov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Krastanov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Krastanov/subscriptions", "organizations_url": "https://api.github.com/users/Krastanov/orgs", "repos_url": "https://api.github.com/users/Krastanov/repos", "events_url": "https://api.github.com/users/Krastanov/events{/privacy}", "received_events_url": "https://api.github.com/users/Krastanov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-04T18:35:16Z", "updated_at": "2020-03-05T23:42:21Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n- Attached is a small script reproducing the problem\r\n- OS Platform and Distribution: Ubuntu 18.04 LTS\r\n- TensorFlow installed from pip\r\n- TensorFlow version: v2.1.0-rc2-17-ge5bf8de 2.1.0\r\n- Python version: Python 3.7.5\r\n- Observed both on CPU and GPU\r\n\r\n**Describe the current behavior**\r\n\r\nThe gradient of this `tf.matmul` expression with respect to `p` is computed correctly:\r\n\r\n```python\r\n# `h` is an NxN complex128 matrix, `p` is float64 number, and `zero` is a float64 zero\r\ndef f(p,h):\r\n    h1 = tf.complex(p,zero) * h\r\n    return tf.abs(tf.reduce_sum(tf.matmul(h,h)))\r\n```\r\n\r\nBut the value of the following `tf.einsum` expression is the same (and computed correctly), while the gradient with respect to `p` is wrong:\r\n\r\n```python\r\ndef f(p,h):\r\n    h1 = tf.complex(p,zero) * h\r\n    return tf.abs(tf.reduce_sum(tf.einsum('ab,bc->ac',h,h)))\r\n```\r\n\r\nThe problem happens only when the matrices are complex.\r\n\r\n**Describe the expected behavior**\r\n\r\nThe two functions should produce the same value (which is working fine), and their gradients with respect to `p` should be the same (which is not happening).\r\n\r\n**Standalone code to reproduce the issue** \r\n\r\nhttps://colab.research.google.com/drive/1FdC-x5Q74NqoLiB6kR7Omtcb5npdrDtx"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37304", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37304/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37304/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37304/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37304", "id": 575612180, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgzNzM1MjI2", "number": 37304, "title": "Implement manip gradient in cc.", "user": {"login": "siyavash", "id": 6226389, "node_id": "MDQ6VXNlcjYyMjYzODk=", "avatar_url": "https://avatars1.githubusercontent.com/u/6226389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/siyavash", "html_url": "https://github.com/siyavash", "followers_url": "https://api.github.com/users/siyavash/followers", "following_url": "https://api.github.com/users/siyavash/following{/other_user}", "gists_url": "https://api.github.com/users/siyavash/gists{/gist_id}", "starred_url": "https://api.github.com/users/siyavash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/siyavash/subscriptions", "organizations_url": "https://api.github.com/users/siyavash/orgs", "repos_url": "https://api.github.com/users/siyavash/repos", "events_url": "https://api.github.com/users/siyavash/events{/privacy}", "received_events_url": "https://api.github.com/users/siyavash/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-04T17:41:25Z", "updated_at": "2020-03-19T17:19:04Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37304", "html_url": "https://github.com/tensorflow/tensorflow/pull/37304", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37304.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37304.patch"}, "body": "Create the Roll op gradient function in `manip_grad.cc` corresponding to the `manip_grad.py`. "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37302", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37302/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37302/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37302/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37302", "id": 575556819, "node_id": "MDU6SXNzdWU1NzU1NTY4MTk=", "number": 37302, "title": "Add Earlystopping function to train.py of the speech commands API", "user": {"login": "alex83803", "id": 17074383, "node_id": "MDQ6VXNlcjE3MDc0Mzgz", "avatar_url": "https://avatars3.githubusercontent.com/u/17074383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex83803", "html_url": "https://github.com/alex83803", "followers_url": "https://api.github.com/users/alex83803/followers", "following_url": "https://api.github.com/users/alex83803/following{/other_user}", "gists_url": "https://api.github.com/users/alex83803/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex83803/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex83803/subscriptions", "organizations_url": "https://api.github.com/users/alex83803/orgs", "repos_url": "https://api.github.com/users/alex83803/repos", "events_url": "https://api.github.com/users/alex83803/events{/privacy}", "received_events_url": "https://api.github.com/users/alex83803/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "petewarden", "id": 161459, "node_id": "MDQ6VXNlcjE2MTQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/161459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petewarden", "html_url": "https://github.com/petewarden", "followers_url": "https://api.github.com/users/petewarden/followers", "following_url": "https://api.github.com/users/petewarden/following{/other_user}", "gists_url": "https://api.github.com/users/petewarden/gists{/gist_id}", "starred_url": "https://api.github.com/users/petewarden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petewarden/subscriptions", "organizations_url": "https://api.github.com/users/petewarden/orgs", "repos_url": "https://api.github.com/users/petewarden/repos", "events_url": "https://api.github.com/users/petewarden/events{/privacy}", "received_events_url": "https://api.github.com/users/petewarden/received_events", "type": "User", "site_admin": false}, {"login": "MeghnaNatraj", "id": 8790823, "node_id": "MDQ6VXNlcjg3OTA4MjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8790823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MeghnaNatraj", "html_url": "https://github.com/MeghnaNatraj", "followers_url": "https://api.github.com/users/MeghnaNatraj/followers", "following_url": "https://api.github.com/users/MeghnaNatraj/following{/other_user}", "gists_url": "https://api.github.com/users/MeghnaNatraj/gists{/gist_id}", "starred_url": "https://api.github.com/users/MeghnaNatraj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MeghnaNatraj/subscriptions", "organizations_url": "https://api.github.com/users/MeghnaNatraj/orgs", "repos_url": "https://api.github.com/users/MeghnaNatraj/repos", "events_url": "https://api.github.com/users/MeghnaNatraj/events{/privacy}", "received_events_url": "https://api.github.com/users/MeghnaNatraj/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-04T16:30:45Z", "updated_at": "2020-03-08T00:45:03Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): Tensorflow 2.0\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\n\r\nAs you know, the amount of training epochs is hard coded in the train.py file of the API. the 18000 epochs are perfect if we train the model with the official dataset. \r\n\r\n**Will this change the current api? How?**\r\n\r\nAdding a Earlystop function will prevent under or overfitting regardless which dataset will be trained. \r\n\r\n**Who will benefit with this feature?**\r\n\r\nI would really apreciate if one of your could emplement a version of train.py with a Early stop flag. \r\nThis would be a plus for the API and of big help for my use case.\r\n\r\n**Any Other info.**\r\n\r\nIf you guys could give me a hint about how to add this feature to the existing API, I'd be happy to share my work.\r\n\r\nThank you very much \r\n\r\nKind regards\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37301", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37301/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37301/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37301/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37301", "id": 575527721, "node_id": "MDU6SXNzdWU1NzU1Mjc3MjE=", "number": 37301, "title": "CombinedNonMaxSuppression is not whitelisted operator", "user": {"login": "timzatko", "id": 11925394, "node_id": "MDQ6VXNlcjExOTI1Mzk0", "avatar_url": "https://avatars2.githubusercontent.com/u/11925394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timzatko", "html_url": "https://github.com/timzatko", "followers_url": "https://api.github.com/users/timzatko/followers", "following_url": "https://api.github.com/users/timzatko/following{/other_user}", "gists_url": "https://api.github.com/users/timzatko/gists{/gist_id}", "starred_url": "https://api.github.com/users/timzatko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timzatko/subscriptions", "organizations_url": "https://api.github.com/users/timzatko/orgs", "repos_url": "https://api.github.com/users/timzatko/repos", "events_url": "https://api.github.com/users/timzatko/events{/privacy}", "received_events_url": "https://api.github.com/users/timzatko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-03-04T15:54:54Z", "updated_at": "2020-03-12T06:46:55Z", "closed_at": null, "author_association": "NONE", "body": "Hi! CombinedNonMaxSuppression is not whitelisted operator. Is it possible to add it as a whitelisted operator?\r\n\r\n**System information**\r\n- Linux Ubuntu 16.04\r\n- TensorFlow installed from Docker Image\r\n- TensorFlow version 2.1.0\r\n\r\n\r\n**Provide the text output from tflite_convert**\r\n\r\n```\r\n2020-03-04 15:50:57.748145: I tensorflow/core/grappler/devices.cc:55] Number of eligible GPUs (core count >= 8, compute capability >= 0.0): 0\r\n2020-03-04 15:50:57.748972: I tensorflow/core/grappler/clusters/single_machine.cc:356] Starting new session\r\n2020-03-04 15:50:57.771173: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:814] Optimization results for grappler item: graph_to_optimize\r\n2020-03-04 15:50:57.771259: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:816]   function_optimizer: function_optimizer did nothing. time = 0.018ms.\r\n2020-03-04 15:50:57.771283: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:816]   function_optimizer: function_optimizer did nothing. time = 0.011ms.\r\n2020-03-04 15:50:59.782146: I tensorflow/core/grappler/devices.cc:55] Number of eligible GPUs (core count >= 8, compute capability >= 0.0): 0\r\n2020-03-04 15:50:59.782403: I tensorflow/core/grappler/clusters/single_machine.cc:356] Starting new session\r\n2020-03-04 15:51:00.470079: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:814] Optimization results for grappler item: graph_to_optimize\r\n2020-03-04 15:51:00.470148: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:816]   constant_folding: Graph size after: 360 nodes (-59), 639 edges (-59), time = 377.824ms.\r\n2020-03-04 15:51:00.470167: I tensorflow/core/grappler/optimizers/meta_optimizer.cc:816]   constant_folding: Graph size after: 360 nodes (0), 639 edges (0), time = 39.896ms.\r\nTraceback (most recent call last):\r\n  File \"./to_tf_lite.py\", line 54, in <module>\r\n    app.run(main)\r\n  File \"/usr/local/lib/python3.6/dist-packages/absl/app.py\", line 299, in run\r\n    _run_main(main, args)\r\n  File \"/usr/local/lib/python3.6/dist-packages/absl/app.py\", line 250, in _run_main\r\n    sys.exit(main(argv))\r\n  File \"./to_tf_lite.py\", line 44, in main\r\n    tflite_model = converter.convert()\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/lite/python/lite.py\", line 464, in convert\r\n    **converter_kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/lite/python/convert.py\", line 457, in toco_convert_impl\r\n    enable_mlir_converter=enable_mlir_converter)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/lite/python/convert.py\", line 203, in toco_convert_protos\r\n    raise ConverterError(\"See console for info.\\n%s\\n%s\\n\" % (stdout, stderr))\r\ntensorflow.lite.python.convert.ConverterError: See console for info.\r\n2020-03-04 15:51:02.143649: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libnvinfer.so.6\r\n2020-03-04 15:51:02.146593: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libnvinfer_plugin.so.6\r\n2020-03-04 15:51:03.291126: I tensorflow/lite/toco/import_tensorflow.cc:659] Converting unsupported operation: Size\r\n2020-03-04 15:51:03.291210: I tensorflow/lite/toco/import_tensorflow.cc:659] Converting unsupported operation: Size\r\n2020-03-04 15:51:03.291322: I tensorflow/lite/toco/import_tensorflow.cc:659] Converting unsupported operation: Size\r\n2020-03-04 15:51:03.291357: I tensorflow/lite/toco/import_tensorflow.cc:659] Converting unsupported operation: Size\r\n2020-03-04 15:51:03.291468: I tensorflow/lite/toco/import_tensorflow.cc:659] Converting unsupported operation: CombinedNonMaxSuppression\r\n2020-03-04 15:51:03.297057: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 223 operators, 426 arrays (0 quantized)\r\n2020-03-04 15:51:03.299828: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 223 operators, 426 arrays (0 quantized)\r\n2020-03-04 15:51:03.400832: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 105 operators, 198 arrays (0 quantized)\r\n2020-03-04 15:51:03.402525: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 2: 105 operators, 198 arrays (0 quantized)\r\n2020-03-04 15:51:03.404185: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before Group bidirectional sequence lstm/rnn: 105 operators, 198 arrays (0 quantized)\r\n2020-03-04 15:51:03.405338: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 105 operators, 198 arrays (0 quantized)\r\n2020-03-04 15:51:03.406273: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before Identify nearest upsample.: 105 operators, 198 arrays (0 quantized)\r\n2020-03-04 15:51:03.407942: I tensorflow/lite/toco/allocate_transient_arrays.cc:345] Total transient array allocated size: 22151168 bytes, theoretical optimal value: 22151168 bytes.\r\n2020-03-04 15:51:03.408239: I tensorflow/lite/toco/toco_tooling.cc:471] Number of parameters: 8849370\r\n2020-03-04 15:51:03.408888: W tensorflow/lite/toco/tflite/operator.cc:2024] Op CombinedNonMaxSuppression is a valid TensorFlow op but has not been whitelisted for the TensorFlow Lite flex op set.\r\n2020-03-04 15:51:03.409165: W tensorflow/lite/toco/tflite/operator.cc:2024] Op CombinedNonMaxSuppression is a valid TensorFlow op but has not been whitelisted for the TensorFlow Lite flex op set.\r\n2020-03-04 15:51:03.409257: E tensorflow/lite/toco/toco_tooling.cc:498] We are continually in the process of adding support to TensorFlow Lite for more ops. It would be helpful if you could inform us of how this conversion went by opening a github issue at https://github.com/tensorflow/tensorflow/issues/new?template=40-tflite-op-request.md\r\n and pasting the following:\r\n\r\nSome of the operators in the model are not supported by the standard TensorFlow Lite runtime and are not recognized by TensorFlow. If you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.lite.TFLiteConverter(). Here is a list of builtin operators you are using: ADD, CAST, CONCATENATION, CONV_2D, DIV, EXP, EXPAND_DIMS, FILL, LEAKY_RELU, LOGISTIC, MAX_POOL_2D, MUL, PACK, RESHAPE, RESIZE_NEAREST_NEIGHBOR, SHAPE, SPLIT_V, STRIDED_SLICE, SUB. Here is a list of operators for which you will need custom implementations: CombinedNonMaxSuppression.\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/toco_from_protos\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/lite/toco/python/toco_from_protos.py\", line 93, in main\r\n    app.run(main=execute, argv=[sys.argv[0]] + unparsed)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/platform/app.py\", line 40, in run\r\n    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)\r\n  File \"/usr/local/lib/python3.6/dist-packages/absl/app.py\", line 299, in run\r\n    _run_main(main, args)\r\n  File \"/usr/local/lib/python3.6/dist-packages/absl/app.py\", line 250, in _run_main\r\n    sys.exit(main(argv))\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/lite/toco/python/toco_from_protos.py\", line 56, in execute\r\n    enable_mlir_converter)\r\nException: We are continually in the process of adding support to TensorFlow Lite for more ops. It would be helpful if you could inform us of how this conversion went by opening a github issue at https://github.com/tensorflow/tensorflow/issues/new?template=40-tflite-op-request.md\r\n and pasting the following:\r\n\r\nSome of the operators in the model are not supported by the standard TensorFlow Lite runtime and are not recognized by TensorFlow. If you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.lite.TFLiteConverter(). Here is a list of builtin operators you are using: ADD, CAST, CONCATENATION, CONV_2D, DIV, EXP, EXPAND_DIMS, FILL, LEAKY_RELU, LOGISTIC, MAX_POOL_2D, MUL, PACK, RESHAPE, RESIZE_NEAREST_NEIGHBOR, SHAPE, SPLIT_V, STRIDED_SLICE, SUB. Here is a list of operators for which you will need custom implementations: CombinedNonMaxSuppression.\r\n```\r\n\r\n**Standalone code to reproduce the issue** \r\n\r\n--\r\n\r\n**Any other info / logs**\r\n\r\n--"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37296", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37296/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37296/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37296/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37296", "id": 575392165, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgzNTQ3OTk3", "number": 37296, "title": "fix document typo in tf.Module", "user": {"login": "JiaRu2016", "id": 17561508, "node_id": "MDQ6VXNlcjE3NTYxNTA4", "avatar_url": "https://avatars2.githubusercontent.com/u/17561508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JiaRu2016", "html_url": "https://github.com/JiaRu2016", "followers_url": "https://api.github.com/users/JiaRu2016/followers", "following_url": "https://api.github.com/users/JiaRu2016/following{/other_user}", "gists_url": "https://api.github.com/users/JiaRu2016/gists{/gist_id}", "starred_url": "https://api.github.com/users/JiaRu2016/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JiaRu2016/subscriptions", "organizations_url": "https://api.github.com/users/JiaRu2016/orgs", "repos_url": "https://api.github.com/users/JiaRu2016/repos", "events_url": "https://api.github.com/users/JiaRu2016/events{/privacy}", "received_events_url": "https://api.github.com/users/JiaRu2016/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1178505529, "node_id": "MDU6TGFiZWwxMTc4NTA1NTI5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/prtype:bugfix", "name": "prtype:bugfix", "color": "159b2e", "default": false, "description": "PR to fix a bug"}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-04T13:15:32Z", "updated_at": "2020-03-19T16:59:09Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37296", "html_url": "https://github.com/tensorflow/tensorflow/pull/37296", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37296.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37296.patch"}, "body": "to close issue #37293"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37293", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37293/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37293/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37293/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37293", "id": 575355068, "node_id": "MDU6SXNzdWU1NzUzNTUwNjg=", "number": 37293, "title": "TF2.x API Docs:  example codes in `tf.Module` raise error, and fix it", "user": {"login": "JiaRu2016", "id": 17561508, "node_id": "MDQ6VXNlcjE3NTYxNTA4", "avatar_url": "https://avatars2.githubusercontent.com/u/17561508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JiaRu2016", "html_url": "https://github.com/JiaRu2016", "followers_url": "https://api.github.com/users/JiaRu2016/followers", "following_url": "https://api.github.com/users/JiaRu2016/following{/other_user}", "gists_url": "https://api.github.com/users/JiaRu2016/gists{/gist_id}", "starred_url": "https://api.github.com/users/JiaRu2016/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JiaRu2016/subscriptions", "organizations_url": "https://api.github.com/users/JiaRu2016/orgs", "repos_url": "https://api.github.com/users/JiaRu2016/repos", "events_url": "https://api.github.com/users/JiaRu2016/events{/privacy}", "received_events_url": "https://api.github.com/users/JiaRu2016/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-04T12:15:59Z", "updated_at": "2020-03-05T06:38:54Z", "closed_at": null, "author_association": "NONE", "body": "## URL(s) with the issue:\r\n\r\nhttps://www.tensorflow.org/api_docs/python/tf/Module\r\n\r\n## Description of issue (what needs changing):\r\n\r\nI extract the example codes, run it and got Error. It seems caused by inconsistant kwargs name:\r\n\r\n```python\r\n class Dense(tf.Module):\r\n   def __init__(self, in_features, output_features, name=None):\r\n     super(Dense, self).__init__(name=name)\r\n     self.w = tf.Variable(\r\n         tf.random.normal([input_features, output_features]), name='w')\r\n     self.b = tf.Variable(tf.zeros([output_features]), name='b')\r\n\r\n   def __call__(self, x):\r\n     y = tf.matmul(x, self.w) + self.b\r\n     return tf.nn.relu(y)\r\n\r\n\r\nclass MLP(tf.Module):\r\n  def __init__(self, input_size, sizes, name=None):\r\n    super(MLP, self).__init__(name=name)\r\n    self.layers = []\r\n    with self.name_scope:\r\n      for size in sizes:\r\n        self.layers.append(Dense(input_size=input_size, output_size=size))\r\n        input_size = size\r\n\r\n  @tf.Module.with_name_scope\r\n  def __call__(self, x):\r\n    for layer in self.layers:\r\n      x = layer(x)\r\n    return x\r\n\r\nmlp = MLP(input_size=100, sizes=[30, 30])\r\n```\r\n\r\noutput:\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-137-269f8996957a> in <module>()\r\n----> 1 mlp = MLP(input_size=100, sizes=[30, 30])\r\n\r\n<ipython-input-135-066c337c5b7a> in __init__(self, input_size, sizes, name)\r\n     17    with self.name_scope:\r\n     18      for size in sizes:\r\n---> 19        self.layers.append(Dense(input_size=input_size, output_size=size))\r\n     20        input_size = size\r\n     21 \r\n\r\nTypeError: __init__() got an unexpected keyword argument 'input_size'\r\n```\r\n\r\n\r\n### Submit a pull request?\r\n\r\n I think just need to modify several lines to fix it:\r\n\r\n```python\r\n class Dense(tf.Module):\r\n   def __init__(self, input_size, output_size, name=None):\r\n     super(Dense, self).__init__(name=name)\r\n     self.w = tf.Variable(\r\n         tf.random.normal([input_size, output_size]), name='w')\r\n     self.b = tf.Variable(tf.zeros([output_size]), name='b')\r\n\r\n   def __call__(self, x):\r\n     y = tf.matmul(x, self.w) + self.b\r\n     return tf.nn.relu(y)\r\n\r\n\r\nclass MLP(tf.Module):\r\n  def __init__(self, input_size, sizes, name=None):\r\n    super(MLP, self).__init__(name=name)\r\n    self.layers = []\r\n    with self.name_scope:\r\n      for size in sizes:\r\n        self.layers.append(Dense(input_size=input_size, output_size=size))\r\n        input_size = size\r\n\r\n  @tf.Module.with_name_scope\r\n  def __call__(self, x):\r\n    for layer in self.layers:\r\n      x = layer(x)\r\n    return x\r\n```\r\n\r\nShould I submit a PR to fix this?\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37284", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37284/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37284/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37284/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37284", "id": 575197314, "node_id": "MDU6SXNzdWU1NzUxOTczMTQ=", "number": 37284, "title": "Cert error for https://download.tensorflow.org/", "user": {"login": "Ir1d", "id": 10709657, "node_id": "MDQ6VXNlcjEwNzA5NjU3", "avatar_url": "https://avatars0.githubusercontent.com/u/10709657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ir1d", "html_url": "https://github.com/Ir1d", "followers_url": "https://api.github.com/users/Ir1d/followers", "following_url": "https://api.github.com/users/Ir1d/following{/other_user}", "gists_url": "https://api.github.com/users/Ir1d/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ir1d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ir1d/subscriptions", "organizations_url": "https://api.github.com/users/Ir1d/orgs", "repos_url": "https://api.github.com/users/Ir1d/repos", "events_url": "https://api.github.com/users/Ir1d/events{/privacy}", "received_events_url": "https://api.github.com/users/Ir1d/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1093464312, "node_id": "MDU6TGFiZWwxMDkzNDY0MzEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:others", "name": "type:others", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mihaimaruseac", "id": 323199, "node_id": "MDQ6VXNlcjMyMzE5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/323199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihaimaruseac", "html_url": "https://github.com/mihaimaruseac", "followers_url": "https://api.github.com/users/mihaimaruseac/followers", "following_url": "https://api.github.com/users/mihaimaruseac/following{/other_user}", "gists_url": "https://api.github.com/users/mihaimaruseac/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihaimaruseac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihaimaruseac/subscriptions", "organizations_url": "https://api.github.com/users/mihaimaruseac/orgs", "repos_url": "https://api.github.com/users/mihaimaruseac/repos", "events_url": "https://api.github.com/users/mihaimaruseac/events{/privacy}", "received_events_url": "https://api.github.com/users/mihaimaruseac/received_events", "type": "User", "site_admin": false}, {"login": "MarkDaoust", "id": 1414837, "node_id": "MDQ6VXNlcjE0MTQ4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1414837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarkDaoust", "html_url": "https://github.com/MarkDaoust", "followers_url": "https://api.github.com/users/MarkDaoust/followers", "following_url": "https://api.github.com/users/MarkDaoust/following{/other_user}", "gists_url": "https://api.github.com/users/MarkDaoust/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarkDaoust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarkDaoust/subscriptions", "organizations_url": "https://api.github.com/users/MarkDaoust/orgs", "repos_url": "https://api.github.com/users/MarkDaoust/repos", "events_url": "https://api.github.com/users/MarkDaoust/events{/privacy}", "received_events_url": "https://api.github.com/users/MarkDaoust/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-04T07:40:42Z", "updated_at": "2020-03-06T05:34:48Z", "closed_at": null, "author_association": "NONE", "body": "\r\n![image](https://user-images.githubusercontent.com/10709657/75855865-232ed600-5e2e-11ea-9391-ce3f23a81fb6.png)\r\n\r\nNot sure if this domain is still used. I sent a [PR](https://github.com/tensorflow/docs/pull/1489) for #34460 , but this domain also exists in various places.\r\nFor example: `tensorflow/lite/micro/examples/magic_wand/train/README.md`"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37283", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37283/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37283/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37283/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37283", "id": 575180833, "node_id": "MDU6SXNzdWU1NzUxODA4MzM=", "number": 37283, "title": "How to register a custom op in Python API\uff1f", "user": {"login": "lizhen2017", "id": 41407473, "node_id": "MDQ6VXNlcjQxNDA3NDcz", "avatar_url": "https://avatars3.githubusercontent.com/u/41407473?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lizhen2017", "html_url": "https://github.com/lizhen2017", "followers_url": "https://api.github.com/users/lizhen2017/followers", "following_url": "https://api.github.com/users/lizhen2017/following{/other_user}", "gists_url": "https://api.github.com/users/lizhen2017/gists{/gist_id}", "starred_url": "https://api.github.com/users/lizhen2017/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lizhen2017/subscriptions", "organizations_url": "https://api.github.com/users/lizhen2017/orgs", "repos_url": "https://api.github.com/users/lizhen2017/repos", "events_url": "https://api.github.com/users/lizhen2017/events{/privacy}", "received_events_url": "https://api.github.com/users/lizhen2017/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-03-04T07:02:43Z", "updated_at": "2020-03-13T23:15:28Z", "closed_at": null, "author_association": "NONE", "body": "I just try to implement a zero_out op in tflite, and minimal project load the converted tflite model succesfully, but in python, it failed? How to register a custom op in Python API\uff1f\r\nThanks for your help!"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37281", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37281/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37281/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37281/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37281", "id": 575159943, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgzMzU3NjMx", "number": 37281, "title": "docs: add examples for random_uniform, random_normal and random_binomial in tf.keras.backend", "user": {"login": "Ir1d", "id": 10709657, "node_id": "MDQ6VXNlcjEwNzA5NjU3", "avatar_url": "https://avatars0.githubusercontent.com/u/10709657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ir1d", "html_url": "https://github.com/Ir1d", "followers_url": "https://api.github.com/users/Ir1d/followers", "following_url": "https://api.github.com/users/Ir1d/following{/other_user}", "gists_url": "https://api.github.com/users/Ir1d/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ir1d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ir1d/subscriptions", "organizations_url": "https://api.github.com/users/Ir1d/orgs", "repos_url": "https://api.github.com/users/Ir1d/repos", "events_url": "https://api.github.com/users/Ir1d/events{/privacy}", "received_events_url": "https://api.github.com/users/Ir1d/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1178505529, "node_id": "MDU6TGFiZWwxMTc4NTA1NTI5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/prtype:bugfix", "name": "prtype:bugfix", "color": "159b2e", "default": false, "description": "PR to fix a bug"}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-03-04T06:06:06Z", "updated_at": "2020-03-19T17:02:58Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37281", "html_url": "https://github.com/tensorflow/tensorflow/pull/37281", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37281.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37281.patch"}, "body": "closes #31277"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37280", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37280/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37280/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37280/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37280", "id": 575149739, "node_id": "MDU6SXNzdWU1NzUxNDk3Mzk=", "number": 37280, "title": "How to update saved model", "user": {"login": "PonraJS-21", "id": 57620618, "node_id": "MDQ6VXNlcjU3NjIwNjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/57620618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PonraJS-21", "html_url": "https://github.com/PonraJS-21", "followers_url": "https://api.github.com/users/PonraJS-21/followers", "following_url": "https://api.github.com/users/PonraJS-21/following{/other_user}", "gists_url": "https://api.github.com/users/PonraJS-21/gists{/gist_id}", "starred_url": "https://api.github.com/users/PonraJS-21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PonraJS-21/subscriptions", "organizations_url": "https://api.github.com/users/PonraJS-21/orgs", "repos_url": "https://api.github.com/users/PonraJS-21/repos", "events_url": "https://api.github.com/users/PonraJS-21/events{/privacy}", "received_events_url": "https://api.github.com/users/PonraJS-21/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-04T05:35:38Z", "updated_at": "2020-03-04T13:03:48Z", "closed_at": null, "author_association": "NONE", "body": " I would like to update my pretrained mode, which means the data of model should exist and new data to add."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37278", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37278/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37278/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37278/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37278", "id": 575087714, "node_id": "MDU6SXNzdWU1NzUwODc3MTQ=", "number": 37278, "title": "How can I share the weights between two different dilations cnn layer in tensorflow2.0", "user": {"login": "HuaYZhao", "id": 37064550, "node_id": "MDQ6VXNlcjM3MDY0NTUw", "avatar_url": "https://avatars3.githubusercontent.com/u/37064550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HuaYZhao", "html_url": "https://github.com/HuaYZhao", "followers_url": "https://api.github.com/users/HuaYZhao/followers", "following_url": "https://api.github.com/users/HuaYZhao/following{/other_user}", "gists_url": "https://api.github.com/users/HuaYZhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/HuaYZhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HuaYZhao/subscriptions", "organizations_url": "https://api.github.com/users/HuaYZhao/orgs", "repos_url": "https://api.github.com/users/HuaYZhao/repos", "events_url": "https://api.github.com/users/HuaYZhao/events{/privacy}", "received_events_url": "https://api.github.com/users/HuaYZhao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-03-04T02:17:24Z", "updated_at": "2020-03-16T14:26:48Z", "closed_at": null, "author_association": "NONE", "body": "How can I share the weights between two different dilations cnn layer in tensorflow2.0\r\nIn tensorflow1.x, I can just use the tf.variable_scope with the tf.AUTO_REUSE\r\n "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37277", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37277/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37277/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37277/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37277", "id": 575079966, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgzMjkzMTYx", "number": 37277, "title": "[BugFix] - Prefetching on GPU is actually executed on CPU", "user": {"login": "DEKHTIARJonathan", "id": 10923599, "node_id": "MDQ6VXNlcjEwOTIzNTk5", "avatar_url": "https://avatars2.githubusercontent.com/u/10923599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DEKHTIARJonathan", "html_url": "https://github.com/DEKHTIARJonathan", "followers_url": "https://api.github.com/users/DEKHTIARJonathan/followers", "following_url": "https://api.github.com/users/DEKHTIARJonathan/following{/other_user}", "gists_url": "https://api.github.com/users/DEKHTIARJonathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/DEKHTIARJonathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DEKHTIARJonathan/subscriptions", "organizations_url": "https://api.github.com/users/DEKHTIARJonathan/orgs", "repos_url": "https://api.github.com/users/DEKHTIARJonathan/repos", "events_url": "https://api.github.com/users/DEKHTIARJonathan/events{/privacy}", "received_events_url": "https://api.github.com/users/DEKHTIARJonathan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1114343535, "node_id": "MDU6TGFiZWwxMTE0MzQzNTM1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:data", "name": "comp:data", "color": "0052cc", "default": false, "description": "tf.data related issues"}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-03-04T01:50:33Z", "updated_at": "2020-03-16T12:09:31Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37277", "html_url": "https://github.com/tensorflow/tensorflow/pull/37277", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37277.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37277.patch"}, "body": "When applying the following:\r\n\r\n```python\r\ndataset = dataset.apply(\r\n    tf.data.experimental.prefetch_to_device(\r\n        '/gpu:0',\r\n        buffer_size=1,\r\n    )\r\n)\r\n```\r\n\r\nTensorflow behind the hood does two additional things:\r\n\r\n1. Create an _OptionsDataset (everything is fine since the underlying `_variant_tensor` is not touched)\r\n  - https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/data/experimental/ops/prefetching_ops.py#L76-L78\r\n  - https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/data/ops/dataset_ops.py#L4323\r\n\r\n2. Prefetch a number of batches on GPU depending on buffer_size => **Issue is Here**\r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/data/experimental/ops/prefetching_ops.py#L54\r\n\r\nThe problem is that `gen_dataset_ops.prefetch_dataset` defaults on CPU and basically re-copy the dataset back on the CPU. Effectively killing the purpose and adding some overhead.\r\n\r\nThe fix is simple, just adding `with ops.device(input_dataset._variant_tensor.device):` depending on where the `_variant_tensor` is already located\r\n\r\nCC: @sanjoy \r\n\r\n**To Be Noted:** This issue will re-appear if the user does not prefetch to device as the \"last step\" of the TF Data Pipeline. Maybe a warning should be executed in case the user does not respect this heuristic\r\n\r\n**Eventual Question:** Could someone explain the rationale behind these lines, why prefetching to device should have optimizations and autotune deactivated? \r\nhttps://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/data/experimental/ops/prefetching_ops.py#L73-L75\r\n\r\n```python\r\noptions = dataset_ops.Options()\r\noptions.experimental_optimization.apply_default_optimizations = False\r\noptions.experimental_optimization.autotune = False\r\nreturn _CopyToDeviceDataset(\r\n  dataset, target_device=target_device,\r\n  source_device=source_device).with_options(options)\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37274", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37274/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37274/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37274/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37274", "id": 574929866, "node_id": "MDU6SXNzdWU1NzQ5Mjk4NjY=", "number": 37274, "title": "General discussion of tf.image", "user": {"login": "czabo", "id": 16516823, "node_id": "MDQ6VXNlcjE2NTE2ODIz", "avatar_url": "https://avatars0.githubusercontent.com/u/16516823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/czabo", "html_url": "https://github.com/czabo", "followers_url": "https://api.github.com/users/czabo/followers", "following_url": "https://api.github.com/users/czabo/following{/other_user}", "gists_url": "https://api.github.com/users/czabo/gists{/gist_id}", "starred_url": "https://api.github.com/users/czabo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/czabo/subscriptions", "organizations_url": "https://api.github.com/users/czabo/orgs", "repos_url": "https://api.github.com/users/czabo/repos", "events_url": "https://api.github.com/users/czabo/events{/privacy}", "received_events_url": "https://api.github.com/users/czabo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-03T20:43:30Z", "updated_at": "2020-03-12T21:14:29Z", "closed_at": null, "author_association": "NONE", "body": "Hi,\r\n\r\nI was thinking about applying for the GSoC for the topic of expandin tf.image (Adding and standardizing image processing operations in tf.image). It is said that it involves adding operations present in other image processing libraries. I am thinking operations that for example OpenCV has. \r\n\r\nI was looking for example at rotating an image, which is right now just limited to rotate by multiples of 90 degrees (tf.image.rot90). More generally one would like to for example get a rotation matrix and do an affine transform there to get any rotation angle. It seems though that tf.keras.precprocessing.image also has some image processing operations like tf.keras.precprocessing.image.apply_affine_transform that would do that. It seems to me redundant though for having tf.keras.preprocessing.image and tf.image in the end.\r\n\r\nAny thoughts on that? \r\n\r\nAnyway if I need a mentor for that from the TF community for the GSoC project, who should I contact you think?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37273", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37273/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37273/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37273/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37273", "id": 574919250, "node_id": "MDU6SXNzdWU1NzQ5MTkyNTA=", "number": 37273, "title": "Can't restore checkpoint! - ValueError: Tensor's shape is not compatible with supplied shape", "user": {"login": "anthonyatp", "id": 42555665, "node_id": "MDQ6VXNlcjQyNTU1NjY1", "avatar_url": "https://avatars2.githubusercontent.com/u/42555665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthonyatp", "html_url": "https://github.com/anthonyatp", "followers_url": "https://api.github.com/users/anthonyatp/followers", "following_url": "https://api.github.com/users/anthonyatp/following{/other_user}", "gists_url": "https://api.github.com/users/anthonyatp/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthonyatp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthonyatp/subscriptions", "organizations_url": "https://api.github.com/users/anthonyatp/orgs", "repos_url": "https://api.github.com/users/anthonyatp/repos", "events_url": "https://api.github.com/users/anthonyatp/events{/privacy}", "received_events_url": "https://api.github.com/users/anthonyatp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-03-03T20:24:41Z", "updated_at": "2020-03-17T13:55:16Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution: Google AI Platform\r\n- TensorFlow version: v2.0\r\n- Python version: v3.*\r\n- Machine type: 16 vCPUs, 30 GB RAM\r\n- GPU: 1x NVIDIA Tesla K80\r\n\r\nI am training a model to caption images and have mostly used this tutorial: https://www.tensorflow.org/tutorials/text/image_captioning#download_and_prepare_the_ms-coco_dataset\r\n\r\nThe only thing that is different from this notebook is that I am using a different dataset.\r\n\r\nI set up the checkpoints\r\n```\r\ncheckpoint_path = \"./checkpoints\"\r\nckpt = tf.train.Checkpoint(encoder=encoder,\r\n                           decoder=decoder,\r\n                           optimizer = optimizer)\r\nckpt_manager = tf.train.CheckpointManager(ckpt, checkpoint_path, max_to_keep=5)\r\n```\r\n\r\nAnd then I use ```ckpt_manager.save()``` every 5 epochs.\r\n\r\nI restart my kernel and try to restore using:\r\n```\r\nckpt.restore(ckpt_manager.latest_checkpoint)\r\n\r\n>> <tensorflow.python.training.tracking.util.CheckpointLoadStatus at 0x7f1e76d12ba8>\r\n```\r\n\r\nBut when I try and make a prediction I get this error:\r\n```\r\nValueError: Tensor's shape (18859, 256) is not compatible with supplied shape (17128, 256)\r\n```\r\n\r\nCan anyone help out?\r\n\r\nThanks"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37272", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37272/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37272/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37272/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37272", "id": 574897938, "node_id": "MDU6SXNzdWU1NzQ4OTc5Mzg=", "number": 37272, "title": "tf.estimator.SummarySaverHook should support native V2 symbols.", "user": {"login": "ujjwal-ai", "id": 60658842, "node_id": "MDQ6VXNlcjYwNjU4ODQy", "avatar_url": "https://avatars0.githubusercontent.com/u/60658842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ujjwal-ai", "html_url": "https://github.com/ujjwal-ai", "followers_url": "https://api.github.com/users/ujjwal-ai/followers", "following_url": "https://api.github.com/users/ujjwal-ai/following{/other_user}", "gists_url": "https://api.github.com/users/ujjwal-ai/gists{/gist_id}", "starred_url": "https://api.github.com/users/ujjwal-ai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ujjwal-ai/subscriptions", "organizations_url": "https://api.github.com/users/ujjwal-ai/orgs", "repos_url": "https://api.github.com/users/ujjwal-ai/repos", "events_url": "https://api.github.com/users/ujjwal-ai/events{/privacy}", "received_events_url": "https://api.github.com/users/ujjwal-ai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097545817, "node_id": "MDU6TGFiZWwxMDk3NTQ1ODE3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:apis", "name": "comp:apis", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-03T19:43:39Z", "updated_at": "2020-03-04T10:01:51Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version (you are using): 2.1\r\n- Are you willing to contribute it (Yes/No): Yes\r\n\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\nAt present when specifying `tf.estimator.SummarySaverHook` in `tf.estimator.EstimatorSpec` when writing a custom `model_fn`, one is bound to use symbols from `tf.compat.v1`. \r\n\r\nThis is because, `tf.estimator.SummarySaverHook` needs  `summary_op` as an argument which should be a  tensor or list of tensors.\r\n\r\nOn the other hand the native V2 api in the form of `tf.summary...` symbols  return a boolean value. \r\n\r\nTherefore it is not possible to use `tf.summary` functions when using `tf.estimator.SummarySaverHook`.\r\n\r\n**Will this change the current api? How?**\r\n\r\nIt will change the API as it will require either a basic change in `tf.summary` or `tf.estimator`\r\n\r\n**Who will benefit with this feature?**\r\nIt will help people in migrating their codes to native V2 symbols.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37269", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37269/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37269/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37269/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37269", "id": 574886892, "node_id": "MDU6SXNzdWU1NzQ4ODY4OTI=", "number": 37269, "title": "tf.keras.utils.get_file extraction of zip not working when fname to a full path is used on Windows", "user": {"login": "rudraxx", "id": 14352143, "node_id": "MDQ6VXNlcjE0MzUyMTQz", "avatar_url": "https://avatars2.githubusercontent.com/u/14352143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rudraxx", "html_url": "https://github.com/rudraxx", "followers_url": "https://api.github.com/users/rudraxx/followers", "following_url": "https://api.github.com/users/rudraxx/following{/other_user}", "gists_url": "https://api.github.com/users/rudraxx/gists{/gist_id}", "starred_url": "https://api.github.com/users/rudraxx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rudraxx/subscriptions", "organizations_url": "https://api.github.com/users/rudraxx/orgs", "repos_url": "https://api.github.com/users/rudraxx/repos", "events_url": "https://api.github.com/users/rudraxx/events{/privacy}", "received_events_url": "https://api.github.com/users/rudraxx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-03T19:23:49Z", "updated_at": "2020-03-09T09:38:14Z", "closed_at": null, "author_association": "NONE", "body": "I am following the tensorflow image classification tutorial: https://www.tensorflow.org/tutorials/images/classification\r\n\r\nI am unable to unzip the downloaded folder when I use a full path to a location as opposed to using just a fname as shown in the example on Windows. Have not tried on Linux, so don't know if it exists on that platform.\r\n\r\nThis is my code:\r\n``` \r\ndownload_data_loc = os.path.join(os.path.abspath(os.path.pardir),'data\\cats_and_dogs.zip')\r\n\r\npath_to_zip = tf.keras.utils.get_file(download_data_loc,origin=_URL,extract=True, archive_format='zip')\r\n\r\n```\r\nI see the cats_and_dogs.zip folder in following location: C:\\Users\\abhat\\research\\Tensorflow_2.0_tutorials\\data\\cats_and_dogs.zip\r\n\r\nBut there isn't an unzipped folder in this location.\r\n\r\nHowever, if I use,\r\n``` \r\npath_to_zip = tf.keras.utils.get_file('cats_and_dogs.zip', origin=_URL, extract=True)\r\n\r\n```\r\nI see the zipped folder as well as the unzipped version in the right location\r\nC:\\Users\\abhat\\.keras\\datasets\\cats_and_dogs.zip\r\n\r\n\r\n**System Info:**  \r\nWindows 10 Pro, 64 bit OS.\r\n\r\n**Tensorflow version:**\r\nv2.1.0-rc2-17-ge5bf8de410 2.1.0"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37266", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37266/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37266/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37266/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37266", "id": 574824952, "node_id": "MDU6SXNzdWU1NzQ4MjQ5NTI=", "number": 37266, "title": "Dataset is not cached after model.predict() call (issue present in TF2.0.0 but not in TF2.1.0)", "user": {"login": "ismael-elatifi", "id": 34744140, "node_id": "MDQ6VXNlcjM0NzQ0MTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/34744140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ismael-elatifi", "html_url": "https://github.com/ismael-elatifi", "followers_url": "https://api.github.com/users/ismael-elatifi/followers", "following_url": "https://api.github.com/users/ismael-elatifi/following{/other_user}", "gists_url": "https://api.github.com/users/ismael-elatifi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ismael-elatifi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ismael-elatifi/subscriptions", "organizations_url": "https://api.github.com/users/ismael-elatifi/orgs", "repos_url": "https://api.github.com/users/ismael-elatifi/repos", "events_url": "https://api.github.com/users/ismael-elatifi/events{/privacy}", "received_events_url": "https://api.github.com/users/ismael-elatifi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1114343535, "node_id": "MDU6TGFiZWwxMTE0MzQzNTM1", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:data", "name": "comp:data", "color": "0052cc", "default": false, "description": "tf.data related issues"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rachellim", "id": 9589037, "node_id": "MDQ6VXNlcjk1ODkwMzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/9589037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rachellim", "html_url": "https://github.com/rachellim", "followers_url": "https://api.github.com/users/rachellim/followers", "following_url": "https://api.github.com/users/rachellim/following{/other_user}", "gists_url": "https://api.github.com/users/rachellim/gists{/gist_id}", "starred_url": "https://api.github.com/users/rachellim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rachellim/subscriptions", "organizations_url": "https://api.github.com/users/rachellim/orgs", "repos_url": "https://api.github.com/users/rachellim/repos", "events_url": "https://api.github.com/users/rachellim/events{/privacy}", "received_events_url": "https://api.github.com/users/rachellim/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rachellim", "id": 9589037, "node_id": "MDQ6VXNlcjk1ODkwMzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/9589037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rachellim", "html_url": "https://github.com/rachellim", "followers_url": "https://api.github.com/users/rachellim/followers", "following_url": "https://api.github.com/users/rachellim/following{/other_user}", "gists_url": "https://api.github.com/users/rachellim/gists{/gist_id}", "starred_url": "https://api.github.com/users/rachellim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rachellim/subscriptions", "organizations_url": "https://api.github.com/users/rachellim/orgs", "repos_url": "https://api.github.com/users/rachellim/repos", "events_url": "https://api.github.com/users/rachellim/events{/privacy}", "received_events_url": "https://api.github.com/users/rachellim/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-03-03T17:27:46Z", "updated_at": "2020-03-13T10:47:17Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): **NO**\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): **issue present on Linux and Windows**\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: NA\r\n- TensorFlow installed from (source or\r\nbinary): **binary**\r\n- TensorFlow version (use command below): **2.0.0  (no issue with 2.1.0)**\r\n- Python version: Python 3.7.5\r\n- Bazel version (if compiling from source): NA\r\n- GCC/Compiler version (if compiling from\r\nsource): NA\r\n- CUDA/cuDNN version: CUDA 10.1 / CuDNN 7.6\r\n- GPU model and memory: issue happens with/without GPU\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\nThe dataset is not correctly put in cache after the first call to predict as it should.\r\nSo the 2nd call to predict returns different predictions than the 1st call despite we have used .cache() on the given dataset.\r\n**Describe the expected behavior**\r\nThe 2 calls to predict in the code below should return the same predictions and thus the assert should pass.\r\n**Standalone code to reproduce the issue** \r\n```python\r\nimport tensorflow as tf\r\n\r\ninput_data = tf.keras.layers.Input(name='input_data', shape=(1,), dtype='float32')\r\ndummy_model = tf.keras.models.Model(inputs=input_data, outputs=input_data*2)\r\nds = tf.data.Dataset.range(10).shuffle(10).batch(1).cache()\r\n#len(list(ds))  # next assert passes if we uncomment this line because it forces the caching of the dataset\r\nassert (dummy_model.predict(ds) == dummy_model.predict(ds)).all()\r\n```\r\nProvide a reproducible test case that is the bare minimum necessary to generate\r\nthe problem. If possible, please share a link to Colab/Jupyter/any notebook.\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37263", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37263/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37263/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37263/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37263", "id": 574793230, "node_id": "MDU6SXNzdWU1NzQ3OTMyMzA=", "number": 37263, "title": "LOW GPU HIGH CPU :(", "user": {"login": "najibghadri", "id": 11639734, "node_id": "MDQ6VXNlcjExNjM5NzM0", "avatar_url": "https://avatars2.githubusercontent.com/u/11639734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/najibghadri", "html_url": "https://github.com/najibghadri", "followers_url": "https://api.github.com/users/najibghadri/followers", "following_url": "https://api.github.com/users/najibghadri/following{/other_user}", "gists_url": "https://api.github.com/users/najibghadri/gists{/gist_id}", "starred_url": "https://api.github.com/users/najibghadri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/najibghadri/subscriptions", "organizations_url": "https://api.github.com/users/najibghadri/orgs", "repos_url": "https://api.github.com/users/najibghadri/repos", "events_url": "https://api.github.com/users/najibghadri/events{/privacy}", "received_events_url": "https://api.github.com/users/najibghadri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097547538, "node_id": "MDU6TGFiZWwxMDk3NTQ3NTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu", "name": "comp:gpu", "color": "0052cc", "default": false, "description": ""}, {"id": 1463677878, "node_id": "MDU6TGFiZWwxNDYzNjc3ODc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:performance", "name": "type:performance", "color": "159b2e", "default": false, "description": "Performance Issue"}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-03T16:35:28Z", "updated_at": "2020-03-06T05:26:34Z", "closed_at": null, "author_association": "NONE", "body": "Hello!\r\nI am using Tensorflow on Docker, Ubuntu.\r\nI have tried many tensorflow docker versions, tried different drivers, tried everything.:\r\n\r\n## Sys info\r\n-  Linux 5.3.0-40-generic 18.04.1 Ubuntu x86_64\r\n- Docker 19.03.6, nvdia-smi works, I have all packagages needed\r\n- Tensorflow Docker versions I tried (in some of the the GPU didn't even get recognized..): \r\n  - latest-gpu-jupyter (Py2, this works okay, but low gpu usage)\r\n  - latest-gpu-py3-jupyter (sometimes bugs out)\r\n  - 2.0.1-gpu-py3-jupyter (sometimes bugs out regarding GPU too)\r\n- NVIDIA-SMI: 440.59, GeForce MX150, 2002MiB\r\n\r\n## So what I am trying to DO:\r\n I load the MINTS dataset and do a **nearest neighbor** algorithm on them. Pretty simple right, I just started using tenforflow, I would love it if it was eating 100% of my GPU not CPU (if that is even possible). This is my code concisely:\r\n\r\n```\r\n(Xtr, Ytr), (Xte, Yte) = keras.datasets.cifar10.load_data()\r\n# I convert them to tensors\r\n# I save the whole training set into Xtr (50 000 rows of 3072 int32) to later do the nearest neighbor with them\r\n# Upon \"prediction\" I find the index of Xtr row with lowest L1 distance from X for each X test row (10000 rows of 3072 ints):\r\nwith tf.device('/gpu:0'):\r\n    min_distances_index = tf.map_fn(self.reduce_distance, Xte)\r\n# which calls this tf function:\r\n    @tf.function\r\n    def reduce_distance(self, X):\r\n        # X is of shape (3072,1)\r\n        return tf.math.argmin(tf.math.reduce_sum(tf.math.abs(tf.math.subtract(self.Xtr, X)), axis=1), output_type=tf.int32)\r\n# Quite simple and readable I hope!\r\n# Then when I have min distance indices I simply return the Y values from them\r\n```\r\nI use int32 beacause as you saw there is subtraction and then sum, so.. \r\n\r\n## Now\r\n**This takes 30 minutes!**\r\nAnd this is my system statistic during running:\r\nFrom htop:\r\n![image](https://user-images.githubusercontent.com/11639734/75797157-05ea0100-5d75-11ea-9c7b-66df992270ab.png)\r\nnvidia-smi:\r\n![image](https://user-images.githubusercontent.com/11639734/75797912-1e0e5000-5d76-11ea-9b23-245cd648f9d3.png)\r\nJumping between 0% and 20% but on average below 10%\r\n\r\nWhy? Is this normal? \r\nThanks in advance.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37261", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37261/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37261/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37261/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37261", "id": 574766372, "node_id": "MDU6SXNzdWU1NzQ3NjYzNzI=", "number": 37261, "title": "Giving example on website has no model.predict examples", "user": {"login": "cappittall", "id": 14778803, "node_id": "MDQ6VXNlcjE0Nzc4ODAz", "avatar_url": "https://avatars3.githubusercontent.com/u/14778803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cappittall", "html_url": "https://github.com/cappittall", "followers_url": "https://api.github.com/users/cappittall/followers", "following_url": "https://api.github.com/users/cappittall/following{/other_user}", "gists_url": "https://api.github.com/users/cappittall/gists{/gist_id}", "starred_url": "https://api.github.com/users/cappittall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cappittall/subscriptions", "organizations_url": "https://api.github.com/users/cappittall/orgs", "repos_url": "https://api.github.com/users/cappittall/repos", "events_url": "https://api.github.com/users/cappittall/events{/privacy}", "received_events_url": "https://api.github.com/users/cappittall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2020-03-03T15:55:06Z", "updated_at": "2020-03-13T20:44:23Z", "closed_at": null, "author_association": "NONE", "body": "First of all, you have a great website to understand the Tensorflow library. I am a newbie. And want to understand the point is: I go through the examples. Except for basic image classification, there is no example : how to feed my own data wich has no label. And I want to get predictions of my own data. example :   https://stackoverflow.com/questions/60389558/how-to-feed-my-own-data-and-evaluate-at-tf-text-classification "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37260", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37260/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37260/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37260/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37260", "id": 574735664, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgzMDA2NTg3", "number": 37260, "title": "[XLA] vectorize row reduction for even row size", "user": {"login": "nouiz", "id": 180987, "node_id": "MDQ6VXNlcjE4MDk4Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/180987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nouiz", "html_url": "https://github.com/nouiz", "followers_url": "https://api.github.com/users/nouiz/followers", "following_url": "https://api.github.com/users/nouiz/following{/other_user}", "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions", "organizations_url": "https://api.github.com/users/nouiz/orgs", "repos_url": "https://api.github.com/users/nouiz/repos", "events_url": "https://api.github.com/users/nouiz/events{/privacy}", "received_events_url": "https://api.github.com/users/nouiz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1133285679, "node_id": "MDU6TGFiZWwxMTMzMjg1Njc5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:xla", "name": "comp:xla", "color": "0052cc", "default": false, "description": ""}, {"id": 1169365682, "node_id": "MDU6TGFiZWwxMTY5MzY1Njgy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:L", "name": "size:L", "color": "adafea", "default": false, "description": "CL Change Size: Large"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-03-03T15:10:06Z", "updated_at": "2020-03-19T12:54:23Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37260", "html_url": "https://github.com/tensorflow/tensorflow/pull/37260", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37260.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37260.patch"}, "body": "This depend on LLVM commit: https://reviews.llvm.org/D74444 that is recently merged in XLA.\r\n\r\nThis PR vectorize row reduction for even row size.\r\nFor odd row size, every other row is unaligned. So would need a more complicated fix.\r\nOn a reduction of size 32x131070, I have no speed up for a max reduction, but I have 1.21x speed on the sum+pw reduction from the softmax in float16.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37259", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37259/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37259/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37259/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37259", "id": 574691837, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgyOTcwNDA5", "number": 37259, "title": "Implementation of 8-bit quantized mean in TFLu", "user": {"login": "patriklaurell", "id": 1186713, "node_id": "MDQ6VXNlcjExODY3MTM=", "avatar_url": "https://avatars1.githubusercontent.com/u/1186713?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patriklaurell", "html_url": "https://github.com/patriklaurell", "followers_url": "https://api.github.com/users/patriklaurell/followers", "following_url": "https://api.github.com/users/patriklaurell/following{/other_user}", "gists_url": "https://api.github.com/users/patriklaurell/gists{/gist_id}", "starred_url": "https://api.github.com/users/patriklaurell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patriklaurell/subscriptions", "organizations_url": "https://api.github.com/users/patriklaurell/orgs", "repos_url": "https://api.github.com/users/patriklaurell/repos", "events_url": "https://api.github.com/users/patriklaurell/events{/privacy}", "received_events_url": "https://api.github.com/users/patriklaurell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1589976566, "node_id": "MDU6TGFiZWwxNTg5OTc2NTY2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:micro", "name": "comp:micro", "color": "3e2eea", "default": false, "description": "Related to TensorFlow Lite Microcontrollers"}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-03T14:05:24Z", "updated_at": "2020-03-16T12:08:22Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37259", "html_url": "https://github.com/tensorflow/tensorflow/pull/37259", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37259.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37259.patch"}, "body": ""}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37258", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37258/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37258/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37258/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37258", "id": 574673729, "node_id": "MDU6SXNzdWU1NzQ2NzM3Mjk=", "number": 37258, "title": "Got \"KeyError: 'stack/values_0' \" when use custom network layer by tf.keras.layers.Layer", "user": {"login": "lxz1104", "id": 34409366, "node_id": "MDQ6VXNlcjM0NDA5MzY2", "avatar_url": "https://avatars3.githubusercontent.com/u/34409366?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lxz1104", "html_url": "https://github.com/lxz1104", "followers_url": "https://api.github.com/users/lxz1104/followers", "following_url": "https://api.github.com/users/lxz1104/following{/other_user}", "gists_url": "https://api.github.com/users/lxz1104/gists{/gist_id}", "starred_url": "https://api.github.com/users/lxz1104/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lxz1104/subscriptions", "organizations_url": "https://api.github.com/users/lxz1104/orgs", "repos_url": "https://api.github.com/users/lxz1104/repos", "events_url": "https://api.github.com/users/lxz1104/events{/privacy}", "received_events_url": "https://api.github.com/users/lxz1104/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-03T13:37:27Z", "updated_at": "2020-03-05T11:56:30Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): \r\n- OS Platform and Distribution: Linux Ubuntu 16.04 \r\n- TensorFlow installed from : Anaconda\r\n- Python version: 3.7.3\r\n- CUDA/cuDNN version: 10.0/7.0\r\n- GPU model and memory: 6GB\r\n- Tensorfflow version: 2.0.0\r\n\r\n**custom network layer**\r\n``` python\r\nimport tensorflow as tf\r\n\r\n\r\nclass ROIPoolingLayer(tf.keras.layers.Layer):\r\n    def __init__(self, pooled_height, pooled_width, **kwargs):\r\n        self.pooled_height = pooled_height\r\n        self.pooled_width = pooled_width\r\n        super(ROIPoolingLayer, self).__init__(**kwargs)\r\n\r\n    @staticmethod\r\n    def _pool_roi(feature_map, roi, pooled_height, pooled_width):\r\n        \"\"\"\r\n        Applies ROI Pooling to a single image and a single ROI\r\n        \"\"\"\r\n        # Compute the region of interest\r\n        feature_map_height = int(feature_map.shape[0])\r\n        feature_map_width = int(feature_map.shape[1])\r\n\r\n        h_start = tf.cast(feature_map_height * roi[0], dtype=tf.int32)\r\n        w_start = tf.cast(feature_map_width * roi[1], dtype=tf.int32)\r\n        h_end = tf.cast(feature_map_height * roi[2], dtype=tf.int32)\r\n        w_end = tf.cast(feature_map_width * roi[3], dtype=tf.int32)\r\n\r\n        region = feature_map[h_start:h_end, w_start:w_end, :]\r\n\r\n        # Divide the region into non overlapping areas\r\n        region_height = h_end - h_start\r\n        region_width = w_end - w_start\r\n        h_step = tf.cast(region_height / pooled_height, dtype=tf.int32)\r\n        w_step = tf.cast(region_width / pooled_width, dtype=tf.int32)\r\n\r\n        areas = [\r\n            [\r\n                (\r\n                    i * h_step,\r\n                    j * w_step,\r\n                    (i + 1) * h_step if i + 1 < pooled_height else region_height,\r\n                    (j + 1) * w_step if j + 1 < pooled_width else region_width\r\n                )\r\n                for j in range(pooled_width)\r\n            ]\r\n            for i in range(pooled_height)\r\n        ]\r\n\r\n        # Take the maximum of each area and stack th result\r\n        def pool_area(x):\r\n            return tf.reduce_max(region[x[0]:x[2], x[1]:x[3], :], axis=[0, 1])\r\n\r\n        pooled_features = tf.stack([[pool_area(x) for x in row] for row in areas])\r\n\r\n        return pooled_features\r\n\r\n    @staticmethod\r\n    def _pool_rois(feature_map, rois, pooled_height, pooled_width):\r\n        \"\"\"\r\n        Applies ROI pooling for a single image and varios ROIs\r\n        \"\"\"\r\n        def curried_pool_roi(roi):\r\n            return ROIPoolingLayer._pool_roi(feature_map, roi, pooled_height, pooled_width)\r\n\r\n        pooled_areas = tf.map_fn(curried_pool_roi, rois, dtype=tf.float32)\r\n\r\n        return pooled_areas\r\n\r\n    def compute_output_shape(self, input_shape):\r\n        \"\"\"\r\n        Returns the shape of the ROI Pooling Layer output\r\n        \"\"\"\r\n        feature_map_shape, rois_shape = input_shape\r\n        assert feature_map_shape[0] == rois_shape[0]\r\n        batch_size = feature_map_shape[0]\r\n        n_rois = rois_shape[1]\r\n        n_channels = feature_map_shape[0]\r\n        return tuple((batch_size, n_rois, self.pooled_height, self.pooled_width, n_channels))\r\n\r\n    def get_config(self):\r\n        config = {\r\n            \"pooled_height\": self.pooled_height,\r\n            \"pooled_width\": self.pooled_width\r\n        }\r\n        base_config = super(ROIPoolingLayer, self).get_config()\r\n        return dict(list(base_config.items()) + list(config.items()))\r\n\r\n    def call(self, inputs, **kwargs):\r\n        \"\"\"\r\n        Maps the input tensor of the ROI layer to its output\r\n        \"\"\"\r\n        def curried_pool_rois(x):\r\n            return ROIPoolingLayer._pool_rois(x[0], x[1], self.pooled_height, self.pooled_width)\r\n\r\n        pooled_areas = tf.map_fn(curried_pool_rois, inputs, dtype=tf.float32)\r\n        if pooled_areas.shape[1] == 1:\r\n            return tf.squeeze(pooled_areas, axis=1)\r\n        return pooled_areas\r\n```\r\n\r\n**Test code**\r\n``` python\r\nimport numpy as np\r\nimport tensorflow as tf\r\nfrom net.layer.roi_pooling import ROIPoolingLayer\r\n\r\nddef test_for_tf2():\r\n    input_img = tf.keras.Input(shape=(200, 100, 1), batch_size=1, name=\"input_img\")\r\n    roi_region = ROIPoolingLayer(3, 7)([input_img, np.asarray([[[0.5, 0.2, 0.7, 0.4], [0.0, 0.0, 1.0, 1.0]]], dtype=np.float32)])\r\n    fc0 = tf.keras.layers.Flatten()(roi_region)\r\n    fc1 = tf.keras.layers.Dense(30, activation=None, name=\"pose_ren_outputs\")(fc0)\r\n    model = tf.keras.Model(inputs=input_img, outputs=fc1, name=\"Test_model\")\r\n    model.summary()\r\n\r\ndef main():\r\n    test_for_tf2()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\r\n```\r\n\r\n\r\n**Error info**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/lxz/PycharmProjects/pose-ren-tf2/src/test/roi_pooling_test.py\", line 59, in <module>\r\n    main()\r\n  File \"/home/lxz/PycharmProjects/pose-ren-tf2/src/test/roi_pooling_test.py\", line 55, in main\r\n    test_for_tf2()\r\n  File \"/home/lxz/PycharmProjects/pose-ren-tf2/src/test/roi_pooling_test.py\", line 48, in test_for_tf2\r\n    roi_region = ROIPoolingLayer(3, 7)([input_img, np.asarray([[[0.5, 0.2, 0.7, 0.4], [0.0, 0.0, 1.0, 1.0]]], dtype=np.float32)])\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/keras/engine/base_layer.py\", line 891, in __call__\r\n    outputs = self.call(cast_inputs, *args, **kwargs)\r\n  File \"/home/lxz/PycharmProjects/pose-ren-tf2/src/net/layer/roi_pooling.py\", line 95, in call\r\n    pooled_areas = tf.map_fn(curried_pool_rois, inputs, dtype=tf.float32)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/ops/map_fn.py\", line 268, in map_fn\r\n    maximum_iterations=n)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/ops/control_flow_ops.py\", line 2714, in while_loop\r\n    loop_vars = body(*loop_vars)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/ops/control_flow_ops.py\", line 2705, in <lambda>\r\n    body = lambda i, lv: (i + 1, orig_body(*lv))\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/ops/map_fn.py\", line 257, in compute\r\n    packed_fn_values = fn(packed_values)\r\n  File \"/home/lxz/PycharmProjects/pose-ren-tf2/src/net/layer/roi_pooling.py\", line 93, in curried_pool_rois\r\n    return ROIPoolingLayer._pool_rois(x[0], x[1], self.pooled_height, self.pooled_width)\r\n  File \"/home/lxz/PycharmProjects/pose-ren-tf2/src/net/layer/roi_pooling.py\", line 61, in _pool_rois\r\n    pooled_areas = tf.map_fn(curried_pool_roi, rois, dtype=tf.float32)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/ops/map_fn.py\", line 268, in map_fn\r\n    maximum_iterations=n)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/ops/control_flow_ops.py\", line 2714, in while_loop\r\n    loop_vars = body(*loop_vars)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/ops/control_flow_ops.py\", line 2705, in <lambda>\r\n    body = lambda i, lv: (i + 1, orig_body(*lv))\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/ops/map_fn.py\", line 257, in compute\r\n    packed_fn_values = fn(packed_values)\r\n  File \"/home/lxz/PycharmProjects/pose-ren-tf2/src/net/layer/roi_pooling.py\", line 59, in curried_pool_roi\r\n    return ROIPoolingLayer._pool_roi(feature_map, roi, pooled_height, pooled_width)\r\n  File \"/home/lxz/PycharmProjects/pose-ren-tf2/src/net/layer/roi_pooling.py\", line 49, in _pool_roi\r\n    pooled_features = tf.stack([[pool_area(x) for x in row] for row in areas])\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/util/dispatch.py\", line 180, in wrapper\r\n    return target(*args, **kwargs)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/ops/array_ops.py\", line 1165, in stack\r\n    return gen_array_ops.pack(values, axis=axis, name=name)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/ops/gen_array_ops.py\", line 6304, in pack\r\n    \"Pack\", values=values, axis=axis, name=name)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/framework/op_def_library.py\", line 793, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/util/deprecation.py\", line 507, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py\", line 3360, in create_op\r\n    attrs, op_def, compute_device)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py\", line 3429, in _create_op_internal\r\n    op_def=op_def)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py\", line 1792, in __init__\r\n    self._control_flow_post_processing()\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py\", line 1800, in _control_flow_post_processing\r\n    for input_tensor in self.inputs:\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py\", line 2167, in inputs\r\n    for tf_output in tf_outputs\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py\", line 2167, in <listcomp>\r\n    for tf_output in tf_outputs\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py\", line 3801, in _get_tensor_by_tf_output\r\n    op = self._get_operation_by_tf_operation(tf_output.oper)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py\", line 3765, in _get_operation_by_tf_operation\r\n    return self._get_operation_by_name_unsafe(op_name)\r\n  File \"/home/lxz/anaconda3/envs/tf/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py\", line 3761, in _get_operation_by_name_unsafe\r\n    return self._nodes_by_name[name]\r\nKeyError: 'stack/values_0'\r\n```\r\n\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37256", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37256/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37256/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37256/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37256", "id": 574621534, "node_id": "MDU6SXNzdWU1NzQ2MjE1MzQ=", "number": 37256, "title": "Tensorflow 2.1: How does the metric 'tf.keras.metrics.PrecisionAtRecall' works with multiclass-classification? ", "user": {"login": "FrancescaAlf", "id": 60264091, "node_id": "MDQ6VXNlcjYwMjY0MDkx", "avatar_url": "https://avatars1.githubusercontent.com/u/60264091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrancescaAlf", "html_url": "https://github.com/FrancescaAlf", "followers_url": "https://api.github.com/users/FrancescaAlf/followers", "following_url": "https://api.github.com/users/FrancescaAlf/following{/other_user}", "gists_url": "https://api.github.com/users/FrancescaAlf/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrancescaAlf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrancescaAlf/subscriptions", "organizations_url": "https://api.github.com/users/FrancescaAlf/orgs", "repos_url": "https://api.github.com/users/FrancescaAlf/repos", "events_url": "https://api.github.com/users/FrancescaAlf/events{/privacy}", "received_events_url": "https://api.github.com/users/FrancescaAlf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-03T12:05:02Z", "updated_at": "2020-03-13T23:17:13Z", "closed_at": null, "author_association": "NONE", "body": "I am wondering how this metrics works in case of multiclass classification. Does it compute the average between values of precision belonging to each class?\r\n\r\nI have a multiclass-classification problem, with three classes. I am interested in calculate the PrecisionAtRecall when the recall value is equal to 0.76, only for a specific class . What I have done was just setting 0.76 in brackets :\r\n'' model.compile(optimizer='adam', loss='categorical_crossentropy', metrics=['accuracy', tf.keras.metrics.PrecisionAtRecall(0.76)], sample_weight_mode='temporal') ''\r\nBut I am sure is not the right way.\r\nHow can I adjust the metric to reach my goal?\r\nThanks"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37253", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37253/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37253/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37253/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37253", "id": 574543387, "node_id": "MDU6SXNzdWU1NzQ1NDMzODc=", "number": 37253, "title": "tf2.1 with gpu can't open cuda 10.2", "user": {"login": "jacketchan", "id": 36868501, "node_id": "MDQ6VXNlcjM2ODY4NTAx", "avatar_url": "https://avatars3.githubusercontent.com/u/36868501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacketchan", "html_url": "https://github.com/jacketchan", "followers_url": "https://api.github.com/users/jacketchan/followers", "following_url": "https://api.github.com/users/jacketchan/following{/other_user}", "gists_url": "https://api.github.com/users/jacketchan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacketchan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacketchan/subscriptions", "organizations_url": "https://api.github.com/users/jacketchan/orgs", "repos_url": "https://api.github.com/users/jacketchan/repos", "events_url": "https://api.github.com/users/jacketchan/events{/privacy}", "received_events_url": "https://api.github.com/users/jacketchan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 1188421838, "node_id": "MDU6TGFiZWwxMTg4NDIxODM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/subtype:windows", "name": "subtype:windows", "color": "b619ea", "default": false, "description": "Windows Build/Installation Issues"}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-03T09:51:54Z", "updated_at": "2020-03-13T10:23:24Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a build/installation issue. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:build_template</em>\r\n\r\n**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):  windows 10 (profession)\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device:\r\n- TensorFlow installed from (source or binary): \r\n- TensorFlow version: v2.1.0-rc2-17-ge5bf8de410\r\n- Python version:  3.68\r\n- Installed using virtualenv? pip? conda?:  pip\r\n- Bazel version (if compiling from source):\r\n- GCC/Compiler version (if compiling from source):\r\n- CUDA/cuDNN version: 10.2 cuda / 7.6 cudnn\r\n- GPU model and memory:  2G\r\n\r\n\r\n\r\n**Describe the problem**\r\n\r\nERROR: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] cannot opened dynamic library cudart64_101.dll\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nMy computer has windows 10 professional vesion os, and GPU-GTX1050. Then Install the cuda 10.2 and cudnn 7.6 version.  I use Pycharm professional version create a virtual env. Wait a moment, use pip install the tensorflow-2.1-gpu version, successfully. When I test the tensorflow2.1-gpu version, it arises the error \"cannot opened dynamic library cudart64_101.dll\".\r\n\r\nHow do I resolve? \r\nMaybe It is something wrong with cuda10.2, therefore ,I search the dir where i install the cuda. I find the directory-bin which has cudart64_102.dll , not cudart64_101.dll. For safely, i copy cudart64_102.dll, and rename , push into the bin directory. \r\n\r\n\r\nThen i rerun the tf, it can work...\r\n2020-03-03 16:38:19.699659: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library cudart64_101.dll\r\n\r\n\r\n**Any other info / logs**\r\n\r\nMaybe it is something wrong with cuda10.2 and tensorflow-2.1-gpu.\r\nTensorflow can't find the cudart64_101.dll. The cuda10.2 has not cudart64_101.dll, but has cudart64_102.dll. Ok, it should be the api.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37252", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37252/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37252/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37252/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37252", "id": 574540231, "node_id": "MDU6SXNzdWU1NzQ1NDAyMzE=", "number": 37252, "title": "Memory leak activated when setting a seed in TensorFlow 2 (2.0 & 2.1) and using eager execution.", "user": {"login": "IanRDavies", "id": 10789204, "node_id": "MDQ6VXNlcjEwNzg5MjA0", "avatar_url": "https://avatars0.githubusercontent.com/u/10789204?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IanRDavies", "html_url": "https://github.com/IanRDavies", "followers_url": "https://api.github.com/users/IanRDavies/followers", "following_url": "https://api.github.com/users/IanRDavies/following{/other_user}", "gists_url": "https://api.github.com/users/IanRDavies/gists{/gist_id}", "starred_url": "https://api.github.com/users/IanRDavies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IanRDavies/subscriptions", "organizations_url": "https://api.github.com/users/IanRDavies/orgs", "repos_url": "https://api.github.com/users/IanRDavies/repos", "events_url": "https://api.github.com/users/IanRDavies/events{/privacy}", "received_events_url": "https://api.github.com/users/IanRDavies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 736653459, "node_id": "MDU6TGFiZWw3MzY2NTM0NTk=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:eager", "name": "comp:eager", "color": "0052cc", "default": false, "description": ""}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 1463677878, "node_id": "MDU6TGFiZWwxNDYzNjc3ODc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:performance", "name": "type:performance", "color": "159b2e", "default": false, "description": "Performance Issue"}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-03T09:46:25Z", "updated_at": "2020-03-05T11:51:53Z", "closed_at": null, "author_association": "NONE", "body": "Firstly, I would like to thank @condnsdmatters for his help in investigating this issue and tracing the problem back to the use of a random state when setting a seed for TensorFlow.\r\n\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or binary): Binary\r\n- TensorFlow version (use command below): 2.1.0 (also tested on 2.0.0)\r\n- Python version: Python 3.7.5\r\n- Bazel version (if compiling from source): N/A\r\n- GCC/Compiler version (if compiling from source): N/A\r\n- CUDA/cuDNN version: - GPU model and memory: N/A\r\n\r\n**Describe the current behaviour**\r\nWhen a random seed is set in TensorFlow 2 (2.0 or 2.1) memory usage increases with every call to usage of any random sampling in TensorFlow. We believe that this is due to the use of a Python's `random.Random` random state as a source of randomness and a lack of garbage collection for the results of random sampling. We may see that when a seed is set TensorFlow uses `random.Random` by looking at the [`_set_global_seed`](https://github.com/tensorflow/tensorflow/blob/e5bf8de410005de06a7ff5393fafdf832ef1d4ad/tensorflow/python/eager/context.py#L433) method of an eager execution context.\r\n\r\nThe reproduction example does not use `tf.random.set_seed` since we have tracked the issue down more narrowly to the sampling of random values and we therefore concentrate on a minimal focussed example in the hope of enabling a faster fix.\r\n\r\nSee the reproduction below and [our colab notebook](https://colab.research.google.com/drive/1HhVduWlY6Va_KLX2b-SqCGIWLNDy5MFT) for concrete examples of when this occurs. See the note at the end of this post before running the code.\r\n\r\n**Describe the expected behaviour**\r\nWe would not expect memory usage to grow with the number of calls to random sampling. In the example below we would expect constant memory usage.\r\n\r\n**Standalone code to reproduce the issue** \r\nThe code below will show increasing memory usage over time.\r\n\r\n```python\r\nimport tensorflow as tf\r\nfrom random import Random\r\nimport os\r\nimport psutil\r\n\r\nMAXINT = 2**32 - 1\r\n\r\ndef print_memory_usage():\r\n    print(\"memory used:\", psutil.Process(os.getpid()).memory_info().rss)\r\n    return psutil.Process(os.getpid()).memory_info().rss\r\n\r\nif __name__ == \"__main__\":\r\n    random_state = Random()\r\n    for _ in range(10):\r\n        for _ in range(1000):\r\n            a = random_state.randint(0, MAXINT)\r\n            tf.Variable(a)\r\n        print_memory_usage()\r\n```\r\n\r\nFurther examples of cases with and without memory leads are provided in [this colab notebook](https://colab.research.google.com/drive/1HhVduWlY6Va_KLX2b-SqCGIWLNDy5MFT).\r\n\r\n**Other info / logs**\r\nIf the random integer sampled in the example is cast to a float the memory issue remains. However, if it is cast to a string before being passed to `tf.Variable` then there is no memory issue. This leads us to think that the issue is related to the memory usage as laid out in the C++ code of TensorFlow [here](https://github.com/tensorflow/tensorflow/blob/b87f4a54652d72435a088e5a510ca46e124deccd/tensorflow/c/tf_tensor.cc#L109).\r\n\r\nThis is an issue with eager execution as defining the loops in a function and decorating it with `tf.function` resolves the memory issue. This then leads us to the more targetted example included below.\r\n\r\n```python\r\nfrom random import Random\r\nfrom tensorflow.python.framework.constant_op import convert_to_eager_tensor\r\nfrom tensorflow.python.eager import context\r\nimport os\r\nimport psutil\r\n\r\nMAXINT = 2**32 - 1\r\n\r\ndef print_memory_usage():\r\n    print(\"memory used:\", psutil.Process(os.getpid()).memory_info().rss)\r\n    return psutil.Process(os.getpid()).memory_info().rss\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    random_state = Random()\r\n    ctx = context.context()\r\n    for _ in range(10):\r\n        for _ in range(1000):\r\n            a = random_state.randint(0, MAXINT)\r\n            convert_to_eager_tensor(a, ctx)\r\n\r\n        print_memory_usage()\r\n```\r\n\r\n**Note:** Running the code in [the colab notebook](https://colab.research.google.com/drive/1HhVduWlY6Va_KLX2b-SqCGIWLNDy5MFT) provided can lead to inconsistent results due to the cloud execution environment. We suggest running our examples locally when debugging. At the very least the run time should be reset and each example run from a clean starting point before conclusions are drawn."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37247", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37247/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37247/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37247/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37247", "id": 574458480, "node_id": "MDU6SXNzdWU1NzQ0NTg0ODA=", "number": 37247, "title": "Does BatchMatMul is still not supported in TF1.15?", "user": {"login": "TianHongZXY", "id": 39355004, "node_id": "MDQ6VXNlcjM5MzU1MDA0", "avatar_url": "https://avatars1.githubusercontent.com/u/39355004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TianHongZXY", "html_url": "https://github.com/TianHongZXY", "followers_url": "https://api.github.com/users/TianHongZXY/followers", "following_url": "https://api.github.com/users/TianHongZXY/following{/other_user}", "gists_url": "https://api.github.com/users/TianHongZXY/gists{/gist_id}", "starred_url": "https://api.github.com/users/TianHongZXY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TianHongZXY/subscriptions", "organizations_url": "https://api.github.com/users/TianHongZXY/orgs", "repos_url": "https://api.github.com/users/TianHongZXY/repos", "events_url": "https://api.github.com/users/TianHongZXY/events{/privacy}", "received_events_url": "https://api.github.com/users/TianHongZXY/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1661751498, "node_id": "MDU6TGFiZWwxNjYxNzUxNDk4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TFLiteConverter", "name": "TFLiteConverter", "color": "bfdadc", "default": false, "description": "For issues related to TFLite converter"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "talumbau", "id": 1891418, "node_id": "MDQ6VXNlcjE4OTE0MTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1891418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/talumbau", "html_url": "https://github.com/talumbau", "followers_url": "https://api.github.com/users/talumbau/followers", "following_url": "https://api.github.com/users/talumbau/following{/other_user}", "gists_url": "https://api.github.com/users/talumbau/gists{/gist_id}", "starred_url": "https://api.github.com/users/talumbau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/talumbau/subscriptions", "organizations_url": "https://api.github.com/users/talumbau/orgs", "repos_url": "https://api.github.com/users/talumbau/repos", "events_url": "https://api.github.com/users/talumbau/events{/privacy}", "received_events_url": "https://api.github.com/users/talumbau/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "talumbau", "id": 1891418, "node_id": "MDQ6VXNlcjE4OTE0MTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1891418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/talumbau", "html_url": "https://github.com/talumbau", "followers_url": "https://api.github.com/users/talumbau/followers", "following_url": "https://api.github.com/users/talumbau/following{/other_user}", "gists_url": "https://api.github.com/users/talumbau/gists{/gist_id}", "starred_url": "https://api.github.com/users/talumbau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/talumbau/subscriptions", "organizations_url": "https://api.github.com/users/talumbau/orgs", "repos_url": "https://api.github.com/users/talumbau/repos", "events_url": "https://api.github.com/users/talumbau/events{/privacy}", "received_events_url": "https://api.github.com/users/talumbau/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-03-03T07:02:06Z", "updated_at": "2020-03-06T21:30:48Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04):MacOS 10.14\r\n- TensorFlow installed from (source or binary):\r\n- TensorFlow version (or github SHA if from source):TF1.15\r\n\r\n\r\n**The output from the converter invocation**\r\n\r\n```\r\nSome of the operators in the model are not supported by the standard TensorFlow Lite runtime. If those are native TensorFlow operators, you might be able to use the extended runtime by passing --enable_select_tf_ops, or by setting target_ops=TFLITE_BUILTINS,SELECT_TF_OPS when calling tf.lite.TFLiteConverter(). Otherwise, if you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.lite.TFLiteConverter(). Here is a list of builtin operators you are using: ADD, CAST, CONCATENATION, CONV_2D, DIV, EQUAL, EXPAND_DIMS, FILL, FLOOR_DIV, FULLY_CONNECTED, GATHER, LOGISTIC, MATRIX_DIAG, MEAN, MUL, PACK, POW, RESHAPE, SELECT, SHAPE, SLICE, SOFTMAX, SPLIT, SQUARED_DIFFERENCE, SQUEEZE, STRIDED_SLICE, SUB, TILE, TRANSPOSE. Here is a list of operators for which you will need custom implementations: BatchMatMul.\r\nTraceback (most recent call last):\r\n  File \"/Users/tianhongzxy/Documents/sakt_tf1.15/venv_sakt_tf/bin/toco_from_protos\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/Users/tianhongzxy/Documents/sakt_tf1.15/venv_sakt_tf/lib/python3.6/site-packages/tensorflow_core/lite/toco/python/toco_from_protos.py\", line 89, in main\r\n    app.run(main=execute, argv=[sys.argv[0]] + unparsed)\r\n  File \"/Users/tianhongzxy/Documents/sakt_tf1.15/venv_sakt_tf/lib/python3.6/site-packages/tensorflow_core/python/platform/app.py\", line 40, in run\r\n    _run(main=main, argv=argv, flags_parser=_parse_flags_tolerate_undef)\r\n  File \"/Users/tianhongzxy/Documents/sakt_tf1.15/venv_sakt_tf/lib/python3.6/site-packages/absl/app.py\", line 299, in run\r\n    _run_main(main, args)\r\n  File \"/Users/tianhongzxy/Documents/sakt_tf1.15/venv_sakt_tf/lib/python3.6/site-packages/absl/app.py\", line 250, in _run_main\r\n    sys.exit(main(argv))\r\n  File \"/Users/tianhongzxy/Documents/sakt_tf1.15/venv_sakt_tf/lib/python3.6/site-packages/tensorflow_core/lite/toco/python/toco_from_protos.py\", line 52, in execute\r\n    enable_mlir_converter)\r\nException: We are continually in the process of adding support to TensorFlow Lite for more ops. It would be helpful if you could inform us of how this conversion went by opening a github issue at https://github.com/tensorflow/tensorflow/issues/new?template=40-tflite-op-request.md\r\n and pasting the following:\r\n\r\nSome of the operators in the model are not supported by the standard TensorFlow Lite runtime. If those are native TensorFlow operators, you might be able to use the extended runtime by passing --enable_select_tf_ops, or by setting target_ops=TFLITE_BUILTINS,SELECT_TF_OPS when calling tf.lite.TFLiteConverter(). Otherwise, if you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.lite.TFLiteConverter(). Here is a list of builtin operators you are using: ADD, CAST, CONCATENATION, CONV_2D, DIV, EQUAL, EXPAND_DIMS, FILL, FLOOR_DIV, FULLY_CONNECTED, GATHER, LOGISTIC, MATRIX_DIAG, MEAN, MUL, PACK, POW, RESHAPE, SELECT, SHAPE, SLICE, SOFTMAX, SPLIT, SQUARED_DIFFERENCE, SQUEEZE, STRIDED_SLICE, SUB, TILE, TRANSPOSE. Here is a list of operators for which you will need custom implementations: BatchMatMul.\r\n\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37246", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37246/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37246/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37246/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37246", "id": 574442044, "node_id": "MDU6SXNzdWU1NzQ0NDIwNDQ=", "number": 37246, "title": "Adding support to TensorFlow Lite for more ops", "user": {"login": "sharmaninaad", "id": 27153687, "node_id": "MDQ6VXNlcjI3MTUzNjg3", "avatar_url": "https://avatars1.githubusercontent.com/u/27153687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sharmaninaad", "html_url": "https://github.com/sharmaninaad", "followers_url": "https://api.github.com/users/sharmaninaad/followers", "following_url": "https://api.github.com/users/sharmaninaad/following{/other_user}", "gists_url": "https://api.github.com/users/sharmaninaad/gists{/gist_id}", "starred_url": "https://api.github.com/users/sharmaninaad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sharmaninaad/subscriptions", "organizations_url": "https://api.github.com/users/sharmaninaad/orgs", "repos_url": "https://api.github.com/users/sharmaninaad/repos", "events_url": "https://api.github.com/users/sharmaninaad/events{/privacy}", "received_events_url": "https://api.github.com/users/sharmaninaad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-03T06:18:00Z", "updated_at": "2020-03-13T10:22:27Z", "closed_at": null, "author_association": "NONE", "body": "Some of the operators in the model are not supported by the standard TensorFlow Lite runtime. If those are native TensorFlow operators, you might be able to use the extended runtime by passing --enable_select_tf_ops, or by setting target_ops=TFLITE_BUILTINS,SELECT_TF_OPS when calling tf.lite.TFLiteConverter(). Otherwise, if you have a custom implementation for them you can disable this error with --allow_custom_ops, or by setting allow_custom_ops=True when calling tf.lite.TFLiteConverter(). Here is a list of builtin operators you are using: ADD, CONCATENATION, CONV_2D, DEPTHWISE_CONV_2D, LOGISTIC, RESHAPE. Here is a list of operators for which you will need custom implementations: TFLite_Detection_PostProcess."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37245", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37245/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37245/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37245/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37245", "id": 574319549, "node_id": "MDU6SXNzdWU1NzQzMTk1NDk=", "number": 37245, "title": "Warning/Error not present when not using the result of write in a TensorArray", "user": {"login": "zaccharieramzi", "id": 6387497, "node_id": "MDQ6VXNlcjYzODc0OTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/6387497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaccharieramzi", "html_url": "https://github.com/zaccharieramzi", "followers_url": "https://api.github.com/users/zaccharieramzi/followers", "following_url": "https://api.github.com/users/zaccharieramzi/following{/other_user}", "gists_url": "https://api.github.com/users/zaccharieramzi/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaccharieramzi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaccharieramzi/subscriptions", "organizations_url": "https://api.github.com/users/zaccharieramzi/orgs", "repos_url": "https://api.github.com/users/zaccharieramzi/repos", "events_url": "https://api.github.com/users/zaccharieramzi/events{/privacy}", "received_events_url": "https://api.github.com/users/zaccharieramzi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-02T23:41:17Z", "updated_at": "2020-03-03T08:53:35Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Linux Ubuntu 16.04\r\n- TensorFlow installed from (source or binary): pip\r\n- TensorFlow version (use command below): 2.1.0\r\n- Python version: 3.6.8\r\n\r\n**Describe the current behavior**\r\nWhen not using the result of a `write` method from a `TensorArray`, I am not getting any warning or error.\r\n\r\n**Describe the expected behavior**\r\nAccording to [the docs of `write`](https://www.tensorflow.org/api_docs/python/tf/TensorArray#write), I should receive a warning or error.\r\nI think it's also important to receive one given I spent quite some time realizing it was not inplace.\r\n\r\n**Standalone code to reproduce the issue** \r\n```python\r\nimport tensorflow as tf\r\n@tf.function\r\ndef use_tensor_array(x):\r\n    y = tf.TensorArray(x.dtype, tf.shape(x)[0])\r\n    for i in tf.range(tf.shape(x)[0]):\r\n        y.write(i, x[i])\r\n    y = y.stack()\r\n    return y\r\n\r\nuse_tensor_array(tf.constant([1, 3, 4, 6]))\r\n```\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37230", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37230/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37230/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37230/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37230", "id": 573949220, "node_id": "MDU6SXNzdWU1NzM5NDkyMjA=", "number": 37230, "title": "tf.function second derivative error", "user": {"login": "GeorgeLiang3", "id": 42550795, "node_id": "MDQ6VXNlcjQyNTUwNzk1", "avatar_url": "https://avatars3.githubusercontent.com/u/42550795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GeorgeLiang3", "html_url": "https://github.com/GeorgeLiang3", "followers_url": "https://api.github.com/users/GeorgeLiang3/followers", "following_url": "https://api.github.com/users/GeorgeLiang3/following{/other_user}", "gists_url": "https://api.github.com/users/GeorgeLiang3/gists{/gist_id}", "starred_url": "https://api.github.com/users/GeorgeLiang3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GeorgeLiang3/subscriptions", "organizations_url": "https://api.github.com/users/GeorgeLiang3/orgs", "repos_url": "https://api.github.com/users/GeorgeLiang3/repos", "events_url": "https://api.github.com/users/GeorgeLiang3/events{/privacy}", "received_events_url": "https://api.github.com/users/GeorgeLiang3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1190546177, "node_id": "MDU6TGFiZWwxMTkwNTQ2MTc3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:autograph", "name": "comp:autograph", "color": "0052cc", "default": false, "description": ""}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-03-02T12:43:36Z", "updated_at": "2020-03-10T12:27:55Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): yes\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): macOS Mojave 10.14.6\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below):binary  v2.1.0-rc2-17\r\n\r\n- Python version:  - Bazel \r\nversion (if compiling from source): Python 3.7.1\r\n- GCC/Compiler version (if compiling from\r\nsource): \r\n- CUDA/cuDNN version: - GPU model and memory:\r\n\r\n\r\n**Describe the current behavior**\r\nI have a custom function need to use slicing in a for loop. The first-order derivative is working properly but the second-order derivative gives the error. The error only occurs when the function is decorated with tf.function. Below is a simplified code to reproduce the error.\r\n\r\n**Describe the expected behavior**\r\n\r\n**Standalone code to reproduce the issue** \r\nProvide a reproducible test case that is the bare minimum necessary to generate\r\nthe problem. If possible, please share a link to Colab/Jupyter/any notebook.\r\n\r\n```\r\nimport tensorflow as tf\r\nx =tf.random.uniform([9],minval = -50,maxval = -30,seed = 1,dtype = tf.float32)\r\n\r\n@tf.function\r\ndef A(x):\r\n    return x[1]\r\n\r\n@tf.function\r\ndef g(x):\r\n\r\n    Z_sum = tf.constant([0.],dtype = tf.float32)\r\n\r\n    for i in tf.range(x.shape[0]):\r\n        Z_sum = tf.add(Z_sum, A(x))\r\n\r\n    return Z_sum\r\n\r\nwith tf.GradientTape() as t:\r\n    t.watch(x)\r\n    with tf.GradientTape() as tt:\r\n        tt.watch(x)\r\n        loss = g(x)\r\n    jac = tt.gradient(loss,x)\r\nhess = t.gradient(jac,x)\r\n```\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n\r\n---------------------------------------------------------------------------\r\nInvalidArgumentError                      Traceback (most recent call last)\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py in get_attr(self, name)\r\n   2325       with c_api_util.tf_buffer() as buf:\r\n-> 2326         c_api.TF_OperationGetAttrValueProto(self._c_op, name, buf)\r\n   2327         data = c_api.TF_GetBuffer(buf)\r\n\r\nInvalidArgumentError: Operation 'gradients/while_grad/while_grad' has no attr named '_XlaCompile'.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nValueError                                Traceback (most recent call last)\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/gradients_util.py in _MaybeCompile(scope, op, func, grad_fn)\r\n    330     try:\r\n--> 331       xla_compile = op.get_attr(\"_XlaCompile\")\r\n    332       xla_separate_compiled_gradients = op.get_attr(\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py in get_attr(self, name)\r\n   2329       # Convert to ValueError for backwards compatibility.\r\n-> 2330       raise ValueError(str(e))\r\n   2331     x = attr_value_pb2.AttrValue()\r\n\r\nValueError: Operation 'gradients/while_grad/while_grad' has no attr named '_XlaCompile'.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nInvalidArgumentError                      Traceback (most recent call last)\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py in get_attr(self, name)\r\n   2325       with c_api_util.tf_buffer() as buf:\r\n-> 2326         c_api.TF_OperationGetAttrValueProto(self._c_op, name, buf)\r\n   2327         data = c_api.TF_GetBuffer(buf)\r\n\r\nInvalidArgumentError: Operation 'gradients/TensorListPushBack_grad/TensorListPopBack' has no attr named '_XlaCompile'.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nValueError                                Traceback (most recent call last)\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/gradients_util.py in _MaybeCompile(scope, op, func, grad_fn)\r\n    330     try:\r\n--> 331       xla_compile = op.get_attr(\"_XlaCompile\")\r\n    332       xla_separate_compiled_gradients = op.get_attr(\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py in get_attr(self, name)\r\n   2329       # Convert to ValueError for backwards compatibility.\r\n-> 2330       raise ValueError(str(e))\r\n   2331     x = attr_value_pb2.AttrValue()\r\n\r\nValueError: Operation 'gradients/TensorListPushBack_grad/TensorListPopBack' has no attr named '_XlaCompile'.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nValueError                                Traceback (most recent call last)\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/op_def_library.py in _apply_op_helper(op_type_name, name, **keywords)\r\n    467               as_ref=input_arg.is_ref,\r\n--> 468               preferred_dtype=default_dtype)\r\n    469         except TypeError as err:\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py in convert_to_tensor(value, dtype, name, as_ref, preferred_dtype, dtype_hint, ctx, accepted_result_types)\r\n   1313     if ret is None:\r\n-> 1314       ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\n   1315 \r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/constant_op.py in _constant_tensor_conversion_function(v, dtype, name, as_ref)\r\n    316   _ = as_ref\r\n--> 317   return constant(v, dtype=dtype, name=name)\r\n    318 \r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/constant_op.py in constant(value, dtype, shape, name)\r\n    257   return _constant_impl(value, dtype, shape, name, verify_shape=False,\r\n--> 258                         allow_broadcast=True)\r\n    259 \r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/constant_op.py in _constant_impl(value, dtype, shape, name, verify_shape, allow_broadcast)\r\n    295           value, dtype=dtype, shape=shape, verify_shape=verify_shape,\r\n--> 296           allow_broadcast=allow_broadcast))\r\n    297   dtype_value = attr_value_pb2.AttrValue(type=tensor_value.tensor.dtype)\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/tensor_util.py in make_tensor_proto(values, dtype, shape, verify_shape, allow_broadcast)\r\n    438     if values is None:\r\n--> 439       raise ValueError(\"None values not supported.\")\r\n    440     # if dtype is provided, forces numpy array to be the type\r\n\r\nValueError: None values not supported.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nValueError                                Traceback (most recent call last)\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/op_def_library.py in _apply_op_helper(op_type_name, name, **keywords)\r\n    481             observed = ops.convert_to_tensor(\r\n--> 482                 values, as_ref=input_arg.is_ref).dtype.name\r\n    483           except ValueError as err:\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py in convert_to_tensor(value, dtype, name, as_ref, preferred_dtype, dtype_hint, ctx, accepted_result_types)\r\n   1313     if ret is None:\r\n-> 1314       ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\r\n   1315 \r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/constant_op.py in _constant_tensor_conversion_function(v, dtype, name, as_ref)\r\n    316   _ = as_ref\r\n--> 317   return constant(v, dtype=dtype, name=name)\r\n    318 \r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/constant_op.py in constant(value, dtype, shape, name)\r\n    257   return _constant_impl(value, dtype, shape, name, verify_shape=False,\r\n--> 258                         allow_broadcast=True)\r\n    259 \r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/constant_op.py in _constant_impl(value, dtype, shape, name, verify_shape, allow_broadcast)\r\n    295           value, dtype=dtype, shape=shape, verify_shape=verify_shape,\r\n--> 296           allow_broadcast=allow_broadcast))\r\n    297   dtype_value = attr_value_pb2.AttrValue(type=tensor_value.tensor.dtype)\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/tensor_util.py in make_tensor_proto(values, dtype, shape, verify_shape, allow_broadcast)\r\n    438     if values is None:\r\n--> 439       raise ValueError(\"None values not supported.\")\r\n    440     # if dtype is provided, forces numpy array to be the type\r\n\r\nValueError: None values not supported.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-31-882dac5b0d47> in <module>\r\n     21         tt.watch(x)\r\n     22         loss = g(x)\r\n---> 23     jac = tt.gradient(loss,x)\r\n     24 hess = t.gradient(jac,x)\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/eager/backprop.py in gradient(self, target, sources, output_gradients, unconnected_gradients)\r\n   1027         output_gradients=output_gradients,\r\n   1028         sources_raw=flat_sources_raw,\r\n-> 1029         unconnected_gradients=unconnected_gradients)\r\n   1030 \r\n   1031     if not self._persistent:\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/eager/imperative_grad.py in imperative_grad(tape, target, sources, output_gradients, sources_raw, unconnected_gradients)\r\n     75       output_gradients,\r\n     76       sources_raw,\r\n---> 77       compat.as_str(unconnected_gradients.value))\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/eager/function.py in _backward_function_wrapper(*args)\r\n   1254           break\r\n   1255       return backward._call_flat(  # pylint: disable=protected-access\r\n-> 1256           processed_args, remapped_captures)\r\n   1257 \r\n   1258     return _backward_function_wrapper, recorded_outputs\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/eager/function.py in _call_flat(self, args, captured_inputs, cancellation_manager)\r\n   1695         possible_gradient_type,\r\n   1696         executing_eagerly)\r\n-> 1697     forward_function, args_with_tangents = forward_backward.forward()\r\n   1698     if executing_eagerly:\r\n   1699       flat_outputs = forward_function.call(\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/eager/function.py in forward(self)\r\n   1421     \"\"\"Builds or retrieves a forward function for this call.\"\"\"\r\n   1422     forward_function = self._functions.forward(\r\n-> 1423         self._inference_args, self._input_tangents)\r\n   1424     return forward_function, self._inference_args + self._input_tangents\r\n   1425 \r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/eager/function.py in forward(self, inference_args, input_tangents)\r\n   1183       (self._forward, self._forward_graph, self._backward,\r\n   1184        self._forwardprop_output_indices, self._num_forwardprop_outputs) = (\r\n-> 1185            self._forward_and_backward_functions(inference_args, input_tangents))\r\n   1186     return self._forward\r\n   1187 \r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/eager/function.py in _forward_and_backward_functions(self, inference_args, input_tangents)\r\n   1329     outputs = self._func_graph.outputs[:self._num_inference_outputs]\r\n   1330     return self._build_functions_for_outputs(\r\n-> 1331         outputs, inference_args, input_tangents)\r\n   1332 \r\n   1333 \r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/eager/function.py in _build_functions_for_outputs(self, outputs, inference_args, input_tangents)\r\n    888             self._func_graph.inputs,\r\n    889             grad_ys=gradients_wrt_outputs,\r\n--> 890             src_graph=self._func_graph)\r\n    891 \r\n    892       captures_from_forward = [\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/gradients_util.py in _GradientsHelper(ys, xs, grad_ys, name, colocate_gradients_with_ops, gate_gradients, aggregation_method, stop_gradients, unconnected_gradients, src_graph)\r\n    667                 # functions.\r\n    668                 in_grads = _MaybeCompile(grad_scope, op, func_call,\r\n--> 669                                          lambda: grad_fn(op, *out_grads))\r\n    670               else:\r\n    671                 # For function call ops, we add a 'SymbolicGradient'\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/gradients_util.py in _MaybeCompile(scope, op, func, grad_fn)\r\n    334       xla_scope = op.get_attr(\"_XlaScope\").decode()\r\n    335     except ValueError:\r\n--> 336       return grad_fn()  # Exit early\r\n    337 \r\n    338   if not xla_compile:\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/gradients_util.py in <lambda>()\r\n    667                 # functions.\r\n    668                 in_grads = _MaybeCompile(grad_scope, op, func_call,\r\n--> 669                                          lambda: grad_fn(op, *out_grads))\r\n    670               else:\r\n    671                 # For function call ops, we add a 'SymbolicGradient'\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/while_v2.py in _WhileGrad(op, *grads)\r\n    357   body_grad_graph, args = _create_grad_func(\r\n    358       ys, xs, non_none_grads, cond_graph, body_graph,\r\n--> 359       util.unique_grad_fn_name(body_graph.name), op, maximum_iterations)\r\n    360 \r\n    361   if body_grad_graph.while_op_needs_rewrite:\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/while_v2.py in _create_grad_func(ys, xs, grads, cond_graph, body_graph, name, while_op, maximum_iterations)\r\n    599       func_graph=_WhileBodyGradFuncGraph(name, cond_graph, body_graph,\r\n    600                                          maximum_iterations, while_op,\r\n--> 601                                          body_graph_inputs, body_graph_outputs))\r\n    602 \r\n    603   # Update the list of outputs with tensors corresponding to the captured\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/func_graph.py in func_graph_from_py_func(name, python_func, args, kwargs, signature, func_graph, autograph, autograph_options, add_control_dependencies, arg_names, op_return_value, collections, capture_by_value, override_flat_arg_shapes)\r\n    976                                           converted_func)\r\n    977 \r\n--> 978       func_outputs = python_func(*func_args, **func_kwargs)\r\n    979 \r\n    980       # invariant: `func_outputs` contains only Tensors, CompositeTensors,\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/while_v2.py in <lambda>(*args)\r\n    595   grad_func_graph = func_graph_module.func_graph_from_py_func(\r\n    596       name,\r\n--> 597       lambda *args: _grad_fn(ys, xs, args, body_graph),\r\n    598       args, {},\r\n    599       func_graph=_WhileBodyGradFuncGraph(name, cond_graph, body_graph,\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/while_v2.py in _grad_fn(ys, xs, args, func_graph)\r\n    655   grad_outs = gradients_util._GradientsHelper(\r\n    656       ys, xs, grad_ys=grad_ys, src_graph=func_graph,\r\n--> 657       unconnected_gradients=\"zero\")\r\n    658 \r\n    659   # TODO(b/118712257): Handle the case when grad_outs has None's e.g. when there\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/gradients_util.py in _GradientsHelper(ys, xs, grad_ys, name, colocate_gradients_with_ops, gate_gradients, aggregation_method, stop_gradients, unconnected_gradients, src_graph)\r\n    667                 # functions.\r\n    668                 in_grads = _MaybeCompile(grad_scope, op, func_call,\r\n--> 669                                          lambda: grad_fn(op, *out_grads))\r\n    670               else:\r\n    671                 # For function call ops, we add a 'SymbolicGradient'\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/gradients_util.py in _MaybeCompile(scope, op, func, grad_fn)\r\n    334       xla_scope = op.get_attr(\"_XlaScope\").decode()\r\n    335     except ValueError:\r\n--> 336       return grad_fn()  # Exit early\r\n    337 \r\n    338   if not xla_compile:\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/gradients_util.py in <lambda>()\r\n    667                 # functions.\r\n    668                 in_grads = _MaybeCompile(grad_scope, op, func_call,\r\n--> 669                                          lambda: grad_fn(op, *out_grads))\r\n    670               else:\r\n    671                 # For function call ops, we add a 'SymbolicGradient'\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/list_ops.py in _PopBackGrad(op, dlist, delement)\r\n    187         element_shape=gen_list_ops.tensor_list_element_shape(\r\n    188             op.outputs[0], shape_type=dtypes.int32))\r\n--> 189   return gen_list_ops.tensor_list_push_back(dlist, delement), None\r\n    190 \r\n    191 \r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/ops/gen_list_ops.py in tensor_list_push_back(input_handle, tensor, name)\r\n    761   _, _, _op, _outputs = _op_def_library._apply_op_helper(\r\n    762         \"TensorListPushBack\", input_handle=input_handle, tensor=tensor,\r\n--> 763                               name=name)\r\n    764   _result = _outputs[:]\r\n    765   if _execute.must_record_gradient():\r\n\r\n~/anaconda3/envs/bys/lib/python3.7/site-packages/tensorflow_core/python/framework/op_def_library.py in _apply_op_helper(op_type_name, name, **keywords)\r\n    484             raise ValueError(\r\n    485                 \"Tried to convert '%s' to a tensor and failed. Error: %s\" %\r\n--> 486                 (input_name, err))\r\n    487           prefix = (\"Input '%s' of '%s' Op has type %s that does not match\" %\r\n    488                     (input_name, op_type_name, observed))\r\n\r\nValueError: Tried to convert 'tensor' to a tensor and failed. Error: None values not supported.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37229", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37229/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37229/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37229/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37229", "id": 573937037, "node_id": "MDU6SXNzdWU1NzM5MzcwMzc=", "number": 37229, "title": "inconsistent default parameters for adagrad optimizer", "user": {"login": "chstem", "id": 29159589, "node_id": "MDQ6VXNlcjI5MTU5NTg5", "avatar_url": "https://avatars3.githubusercontent.com/u/29159589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chstem", "html_url": "https://github.com/chstem", "followers_url": "https://api.github.com/users/chstem/followers", "following_url": "https://api.github.com/users/chstem/following{/other_user}", "gists_url": "https://api.github.com/users/chstem/gists{/gist_id}", "starred_url": "https://api.github.com/users/chstem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chstem/subscriptions", "organizations_url": "https://api.github.com/users/chstem/orgs", "repos_url": "https://api.github.com/users/chstem/repos", "events_url": "https://api.github.com/users/chstem/events{/privacy}", "received_events_url": "https://api.github.com/users/chstem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tanzhenyu", "id": 15220929, "node_id": "MDQ6VXNlcjE1MjIwOTI5", "avatar_url": "https://avatars3.githubusercontent.com/u/15220929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanzhenyu", "html_url": "https://github.com/tanzhenyu", "followers_url": "https://api.github.com/users/tanzhenyu/followers", "following_url": "https://api.github.com/users/tanzhenyu/following{/other_user}", "gists_url": "https://api.github.com/users/tanzhenyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanzhenyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanzhenyu/subscriptions", "organizations_url": "https://api.github.com/users/tanzhenyu/orgs", "repos_url": "https://api.github.com/users/tanzhenyu/repos", "events_url": "https://api.github.com/users/tanzhenyu/events{/privacy}", "received_events_url": "https://api.github.com/users/tanzhenyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-02T12:19:22Z", "updated_at": "2020-03-04T19:01:33Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\nTensorFlow 2.1.0 (tested on anaconda package and docker image)\r\n\r\n**Describe the current behavior**\r\n\r\nThe default value for the `initial_accumulator_value` parameter of the Adagrad optimizer is different depending on whether it is passed as a string or as an instance of the optimizer class. This may lead to drastic differences in learning behavior, which is not apparent from the code.\r\n\r\n**Describe the expected behavior**\r\n\r\nBoth variants should use the same default parameters. \r\n\r\n**Standalone code to reproduce the issue** \r\n\r\n```\r\nimport tensorflow as tf\r\n\r\nmodel = tf.keras.models.Model()\r\nmodel.compile(optimizer='adagrad')\r\nmodel.optimizer.get_config()\r\n# {'name': 'Adagrad', 'learning_rate': 0.001, 'decay': 0.0, 'initial_accumulator_value': 0.0, 'epsilon': 1e-07}\r\n\r\ntf.keras.optimizers.Adagrad().get_config()\r\n# {'name': 'Adagrad', 'learning_rate': 0.001, 'decay': 0.0, 'initial_accumulator_value': 0.1, 'epsilon': 1e-07}\r\n\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37228", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37228/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37228/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37228/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37228", "id": 573900281, "node_id": "MDU6SXNzdWU1NzM5MDAyODE=", "number": 37228, "title": "tf.debugging.assert_shapes", "user": {"login": "ngc92", "id": 7938269, "node_id": "MDQ6VXNlcjc5MzgyNjk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7938269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngc92", "html_url": "https://github.com/ngc92", "followers_url": "https://api.github.com/users/ngc92/followers", "following_url": "https://api.github.com/users/ngc92/following{/other_user}", "gists_url": "https://api.github.com/users/ngc92/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngc92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngc92/subscriptions", "organizations_url": "https://api.github.com/users/ngc92/orgs", "repos_url": "https://api.github.com/users/ngc92/repos", "events_url": "https://api.github.com/users/ngc92/events{/privacy}", "received_events_url": "https://api.github.com/users/ngc92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097548274, "node_id": "MDU6TGFiZWwxMDk3NTQ4Mjc0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:tfdbg", "name": "comp:tfdbg", "color": "0052cc", "default": false, "description": "tf debugger"}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-02T11:10:11Z", "updated_at": "2020-03-04T11:57:35Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "## URL(s) with the issue:\r\nhttps://www.tensorflow.org/api_docs/python/tf/debugging/assert_shapes\r\n\r\n## Description of issue (what needs changing):\r\nThe documentation for the `shapes` argument states that is expects a dict, but in fact in many circumstances it is not possible to assemble such a dict because eager tensors are unhashable.\r\nSo while it is possible to submit a dict here in GraphMode, Eager expects a list of (key, value) pairs.\r\n\r\nIt should also state whether `tf.Variable`s can be used as keys.\r\n\r\n### Usage example\r\nThe usage example seems to confuse the two concepts, and provides a mixup of both in invalid python syntax:\r\n```\r\ntf.assert_shapes([\r\n  (x: ('N', 'Q')),\r\n  (y: ('N', 'D')),\r\n  (param: ('Q',)),\r\n  (scalar: ()),\r\n])\r\n```\r\n*This seems to be fixed already in master*\r\n\r\n\r\nFurther, `tf.assert_shapes` should probably be changed to `tf.debugging.assert_shapes`\r\n\r\n### Submit a pull request?\r\nYes"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37227", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37227/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37227/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37227/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37227", "id": 573868511, "node_id": "MDU6SXNzdWU1NzM4Njg1MTE=", "number": 37227, "title": "tf.expand_dims unable to read proper rank from input tensors", "user": {"login": "ialdencoots", "id": 2357452, "node_id": "MDQ6VXNlcjIzNTc0NTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/2357452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ialdencoots", "html_url": "https://github.com/ialdencoots", "followers_url": "https://api.github.com/users/ialdencoots/followers", "following_url": "https://api.github.com/users/ialdencoots/following{/other_user}", "gists_url": "https://api.github.com/users/ialdencoots/gists{/gist_id}", "starred_url": "https://api.github.com/users/ialdencoots/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ialdencoots/subscriptions", "organizations_url": "https://api.github.com/users/ialdencoots/orgs", "repos_url": "https://api.github.com/users/ialdencoots/repos", "events_url": "https://api.github.com/users/ialdencoots/events{/privacy}", "received_events_url": "https://api.github.com/users/ialdencoots/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-02T10:20:54Z", "updated_at": "2020-03-04T08:33:00Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow):  yes\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04):  Linux Ubuntu 18.04.3 LTS\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: N/A\r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below): docker tensorflow/tensorflow:2.1.0-gpu-py3\r\n- Python version: - Bazel\r\nversion (if compiling from source): Python 3.6.9\r\n- GCC/Compiler version (if compiling from\r\nsource): \r\n- CUDA/cuDNN version: - GPU model and memory: CUDA V10.1.243 - Nvidia Titan RTX\r\n\r\n\r\n**Describe the current behavior**\r\nI have a custom loss function that maps `tf.expand_dims` across a set of minibatches. When this loss is calculated as part of the `model.fit` function, the rank of the input tensor is not correctly read in the `tf.expand_dims` function call and I get the following exception:\r\n```ValueError: dim 2 not in the interval [-2, 1]. for 'ExpandDims' (op: 'ExpandDims') with input shapes: [?], [] and with computed input tensors: input[1] = <2>.```\r\nIf I do not call `tf.expand_dims` and simply print the shape/rank of the input tensor, everything appears consistent. Furthermore, if the input dataset is simply iterated over and the batches are passed directly into the loss function, the exception is not raised.\r\n\r\n**Describe the expected behavior**\r\nAn error is not raised\r\n\r\n**Standalone code to reproduce the issue** \r\n```python\r\nimport numpy as np\r\nimport tensorflow as tf\r\n\r\nfrom tensorflow.keras.losses import Loss\r\n\r\nMINI_BATCH = 3\r\nSPLITS = 2\r\nBATCH = SPLITS * MINI_BATCH\r\n\r\n\r\nclass CustomLoss(Loss):\r\n    def call(self, labels, outputs):\r\n\r\n        @tf.function\r\n        def fxn(inp):\r\n            return tf.expand_dims(inp, 2)\r\n        mapped = tf.map_fn(fxn, labels, dtype=tf.float32)\r\n        return tf.reduce_sum(mapped)\r\n\r\ndef gen_batches():\r\n    for _ in range(1000):\r\n        outp = np.random.random((BATCH, 64))\r\n        mask = np.random.random((SPLITS, MINI_BATCH, MINI_BATCH)) > .5\r\n        mask = tf.cast(mask, tf.float32)\r\n        yield outp, mask\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    # Toggle to run as training (throws exception) vs merely iterating and calculating loss\r\n    AS_MODEL = True\r\n\r\n    dataset = tf.data.Dataset.from_generator(gen_batches, (tf.float32, tf.float32), output_shapes=([BATCH, 64], [SPLITS, MINI_BATCH, MINI_BATCH]))\r\n    loss = CustomLoss()\r\n\r\n    if AS_MODEL:\r\n        inputs = tf.keras.Input(shape=(64,))\r\n        out = inputs + 1\r\n        model = tf.keras.Model(inputs=inputs, outputs=out)\r\n        opt = tf.keras.optimizers.Nadam(.0005)\r\n        model.compile(optimizer=opt, loss=loss)\r\n\r\n        # This throws exception\r\n        model.fit(dataset, epochs=1)\r\n\r\n    else:\r\n        # This runs fine\r\n        for data in dataset.__iter__():\r\n            tf.print(loss(data[1], data[0])) \r\n```\r\n\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n```\r\nTraceback (most recent call last):\r\n  File \"deepsee/networks/av/attention/test.py\", line 40, in <module>\r\n    model.compile(optimizer=opt, loss=loss)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/training/tracking/base.py\", line 457, in _method_wrapper\r\n    result = method(self, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/keras/engine/training.py\", line 446, in compile\r\n    self._compile_weights_loss_and_weighted_metrics()\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/training/tracking/base.py\", line 457, in _method_wrapper\r\n    result = method(self, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/keras/engine/training.py\", line 1592, in _compile_weights_loss_and_weighted_metrics\r\n    self.total_loss = self._prepare_total_loss(masks)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/keras/engine/training.py\", line 1652, in _prepare_total_loss\r\n    per_sample_losses = loss_fn.call(y_true, y_pred)\r\n  File \"deepsee/networks/av/attention/test.py\", line 17, in call\r\n    mapped = tf.map_fn(fxn, labels, dtype=tf.float32)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/ops/map_fn.py\", line 268, in map_fn\r\n    maximum_iterations=n)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/ops/control_flow_ops.py\", line 2675, in while_loop\r\n    back_prop=back_prop)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/ops/while_v2.py\", line 194, in while_loop\r\n    add_control_dependencies=add_control_dependencies)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/framework/func_graph.py\", line 978, in func_graph_from_py_func\r\n    func_outputs = python_func(*func_args, **func_kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/ops/while_v2.py\", line 172, in wrapped_body\r\n    outputs = body(*_pack_sequence_as(orig_loop_vars, args))\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/ops/map_fn.py\", line 257, in compute\r\n    packed_fn_values = fn(packed_values)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/eager/def_function.py\", line 568, in __call__\r\n    result = self._call(*args, **kwds)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/eager/def_function.py\", line 615, in _call\r\n    self._initialize(args, kwds, add_initializers_to=initializers)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/eager/def_function.py\", line 497, in _initialize\r\n    *args, **kwds))\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/eager/function.py\", line 2389, in _get_concrete_function_internal_garbage_collected\r\n    graph_function, _, _ = self._maybe_define_function(args, kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/eager/function.py\", line 2703, in _maybe_define_function\r\n    graph_function = self._create_graph_function(args, kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/eager/function.py\", line 2593, in _create_graph_function\r\n    capture_by_value=self._capture_by_value),\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/framework/func_graph.py\", line 978, in func_graph_from_py_func\r\n    func_outputs = python_func(*func_args, **func_kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/eager/def_function.py\", line 439, in wrapped_fn\r\n    return weak_wrapped_fn().__wrapped__(*args, **kwds)\r\n  File \"/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/framework/func_graph.py\", line 968, in wrapper\r\n    raise e.ag_error_metadata.to_exception(e)\r\nValueError: in converted code:\r\n\r\n    deepsee/networks/av/attention/test.py:16 fxn  *\r\n        return tf.expand_dims(inp, 2)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/util/dispatch.py:180 wrapper\r\n        return target(*args, **kwargs)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/ops/array_ops.py:399 expand_dims_v2\r\n        return gen_array_ops.expand_dims(input, axis, name)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/ops/gen_array_ops.py:2202 expand_dims\r\n        \"ExpandDims\", input=input, dim=axis, name=name)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/framework/op_def_library.py:742 _apply_op_helper\r\n        attrs=attr_protos, op_def=op_def)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/framework/func_graph.py:595 _create_op_internal\r\n        compute_device)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/framework/ops.py:3322 _create_op_internal\r\n        op_def=op_def)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/framework/ops.py:1786 __init__\r\n        control_input_ops)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/framework/ops.py:1622 _create_c_op\r\n        raise ValueError(str(e))\r\n\r\n    ValueError: dim 2 not in the interval [-2, 1]. for 'ExpandDims' (op: 'ExpandDims') with input shapes: [?], [] and with computed input tensors: input[1] = <2>.\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37226", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37226/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37226/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37226/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37226", "id": 573832373, "node_id": "MDU6SXNzdWU1NzM4MzIzNzM=", "number": 37226, "title": "RaggedTensor are converted to Tensors inside exported signature. ", "user": {"login": "stefanondisponibile", "id": 20441825, "node_id": "MDQ6VXNlcjIwNDQxODI1", "avatar_url": "https://avatars3.githubusercontent.com/u/20441825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefanondisponibile", "html_url": "https://github.com/stefanondisponibile", "followers_url": "https://api.github.com/users/stefanondisponibile/followers", "following_url": "https://api.github.com/users/stefanondisponibile/following{/other_user}", "gists_url": "https://api.github.com/users/stefanondisponibile/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefanondisponibile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefanondisponibile/subscriptions", "organizations_url": "https://api.github.com/users/stefanondisponibile/orgs", "repos_url": "https://api.github.com/users/stefanondisponibile/repos", "events_url": "https://api.github.com/users/stefanondisponibile/events{/privacy}", "received_events_url": "https://api.github.com/users/stefanondisponibile/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1478826728, "node_id": "MDU6TGFiZWwxNDc4ODI2NzI4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:core", "name": "comp:core", "color": "024391", "default": false, "description": ""}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "edloper", "id": 5790348, "node_id": "MDQ6VXNlcjU3OTAzNDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5790348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edloper", "html_url": "https://github.com/edloper", "followers_url": "https://api.github.com/users/edloper/followers", "following_url": "https://api.github.com/users/edloper/following{/other_user}", "gists_url": "https://api.github.com/users/edloper/gists{/gist_id}", "starred_url": "https://api.github.com/users/edloper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edloper/subscriptions", "organizations_url": "https://api.github.com/users/edloper/orgs", "repos_url": "https://api.github.com/users/edloper/repos", "events_url": "https://api.github.com/users/edloper/events{/privacy}", "received_events_url": "https://api.github.com/users/edloper/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "edloper", "id": 5790348, "node_id": "MDQ6VXNlcjU3OTAzNDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5790348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edloper", "html_url": "https://github.com/edloper", "followers_url": "https://api.github.com/users/edloper/followers", "following_url": "https://api.github.com/users/edloper/following{/other_user}", "gists_url": "https://api.github.com/users/edloper/gists{/gist_id}", "starred_url": "https://api.github.com/users/edloper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edloper/subscriptions", "organizations_url": "https://api.github.com/users/edloper/orgs", "repos_url": "https://api.github.com/users/edloper/repos", "events_url": "https://api.github.com/users/edloper/events{/privacy}", "received_events_url": "https://api.github.com/users/edloper/received_events", "type": "User", "site_admin": false}, {"login": "mdanatg", "id": 26628547, "node_id": "MDQ6VXNlcjI2NjI4NTQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/26628547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mdanatg", "html_url": "https://github.com/mdanatg", "followers_url": "https://api.github.com/users/mdanatg/followers", "following_url": "https://api.github.com/users/mdanatg/following{/other_user}", "gists_url": "https://api.github.com/users/mdanatg/gists{/gist_id}", "starred_url": "https://api.github.com/users/mdanatg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mdanatg/subscriptions", "organizations_url": "https://api.github.com/users/mdanatg/orgs", "repos_url": "https://api.github.com/users/mdanatg/repos", "events_url": "https://api.github.com/users/mdanatg/events{/privacy}", "received_events_url": "https://api.github.com/users/mdanatg/received_events", "type": "User", "site_admin": false}, {"login": "k-w-w", "id": 31663267, "node_id": "MDQ6VXNlcjMxNjYzMjY3", "avatar_url": "https://avatars2.githubusercontent.com/u/31663267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-w-w", "html_url": "https://github.com/k-w-w", "followers_url": "https://api.github.com/users/k-w-w/followers", "following_url": "https://api.github.com/users/k-w-w/following{/other_user}", "gists_url": "https://api.github.com/users/k-w-w/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-w-w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-w-w/subscriptions", "organizations_url": "https://api.github.com/users/k-w-w/orgs", "repos_url": "https://api.github.com/users/k-w-w/repos", "events_url": "https://api.github.com/users/k-w-w/events{/privacy}", "received_events_url": "https://api.github.com/users/k-w-w/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-03-02T09:23:21Z", "updated_at": "2020-03-06T01:13:18Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- Have I written custom code (as opposed to using a stock example script provided in TensorFlow): `no`\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): `Ubuntu 18.04`\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: `no`\r\n- TensorFlow installed from (source or binary): `no`\r\n- TensorFlow version (use command below): `2.0.1`\r\n- Python version: `3.7.3`\r\n- Bazel version (if compiling from source): `-`\r\n- GCC/Compiler version (if compiling from source): `-`\r\n- CUDA/cuDNN version: `-`\r\n- GPU model and memory: `-`\r\n\r\n**Describe the current behavior**\r\nAs [properly documented](https://www.tensorflow.org/api_docs/python/tf/function#args_2), it is currently possible to pass a possibly nested sequence of [`tf.TensorSpec`](https://www.tensorflow.org/api_docs/python/tf/TensorSpec) objects as a `tf.function` `input_signature` argument.\r\n\r\nHowever, if one attempts to pass a `tf.RaggedTensorSpec` inside an `input_signature` sequence, everything still works, but the `RaggedTensorSpec` gets converted in its \"dense\" `values` + `row_splits` form.\r\n \r\n**Describe the expected behavior**\r\nI would expect that if one specifies a `tf.RaggedTensorSpec` element inside the `input_signature` sequence it should either be exported as a `tf.RaggedTensorSpec`, or raise an error.\r\n\r\nOf course the firs option sounds more desiderable, since it's pretty common to have ragged input sequences. In this case `tf.RaggedTensorSpec` would be also lacking of a `name` argument, but this is easier to solve.\r\n\r\n**Standalone code to reproduce the issue** \r\n[Colab Notebook](https://colab.research.google.com/drive/1mEXNfmIiEU9XNL7niKCC_LRccfW5ZDob)\r\n\r\n```python\r\nimport tensorflow as tf\r\n\r\nclass SomeModule(tf.Module):\r\n\r\n  @tf.function(input_signature=[\r\n    tf.RaggedTensorSpec(shape=[None, None], dtype=tf.string)\r\n  ])\r\n  def return_ragged_inputs(self, inputs: tf.RaggedTensor):\r\n    return inputs\r\n\r\nragged_inputs = tf.ragged.constant([[\"foo\"], [\"bar\"], [\"foo\", \"bar\"]], dtype=tf.string)\r\n\r\nsome_module = SomeModule()\r\nreturn_ragged_inputs_result = some_module.return_ragged_inputs(ragged_inputs)\r\nprint(f\"ragged_inputs => {ragged_inputs}\\n\")\r\nprint(\"We can use the method with ragged inputs:\")\r\nprint(f\"return_ragged_inputs => {return_ragged_inputs_result}\\n\")\r\nprint(\"Saving some_module...\")\r\ntf.saved_model.save(some_module, export_dir=\"foobar\")\r\nsome_module = tf.saved_model.load(\"foobar\")\r\nprint(f\"\\nWe can pass and return ragged inputs even by saving and reloading the module, if we use it 'eagerly':\")\r\nprint(some_module.return_ragged_inputs(ragged_inputs))\r\nprint(\"\\nBut the graph signature tell us that our exported signature expects tf.Tensor values instead:\")\r\nexported_model_graph_inputs = some_module.signatures[tf.saved_model.DEFAULT_SERVING_SIGNATURE_DEF_KEY].inputs\r\nexported_model_graph_outputs = some_module.signatures[tf.saved_model.DEFAULT_SERVING_SIGNATURE_DEF_KEY].outputs\r\nprint(f\"Expected inputs  : {exported_model_graph_inputs}\")\r\nprint(f\"Expected outputs : {exported_model_graph_outputs}\")\r\nprint(\"\\nThis means we couldn't use the method as we would expect in (e.g.) TensorFlow Serving.\")\r\n```\r\n\r\n**Other info / logs**\r\nThis issue follows up #37049 , as suggested by @gowthamkpr .\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37224", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37224/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37224/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37224/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37224", "id": 573782032, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgyMjI3MjUx", "number": 37224, "title": "Add comment to unused argument: sample_weight_mode", "user": {"login": "howl-anderson", "id": 1263428, "node_id": "MDQ6VXNlcjEyNjM0Mjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1263428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/howl-anderson", "html_url": "https://github.com/howl-anderson", "followers_url": "https://api.github.com/users/howl-anderson/followers", "following_url": "https://api.github.com/users/howl-anderson/following{/other_user}", "gists_url": "https://api.github.com/users/howl-anderson/gists{/gist_id}", "starred_url": "https://api.github.com/users/howl-anderson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/howl-anderson/subscriptions", "organizations_url": "https://api.github.com/users/howl-anderson/orgs", "repos_url": "https://api.github.com/users/howl-anderson/repos", "events_url": "https://api.github.com/users/howl-anderson/events{/privacy}", "received_events_url": "https://api.github.com/users/howl-anderson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-02T07:52:55Z", "updated_at": "2020-03-05T11:55:42Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37224", "html_url": "https://github.com/tensorflow/tensorflow/pull/37224", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37224.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37224.patch"}, "body": "Argument: `sample_weight_mode` of Keras Model:compile is no longer needed but for backward compatibility, we need to keep it untouched.\r\n\r\nThis PR adds a comment for it.\r\n\r\nrelated to #37125"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37220", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37220/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37220/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37220/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37220", "id": 573735426, "node_id": "MDU6SXNzdWU1NzM3MzU0MjY=", "number": 37220, "title": "Cannot get model to work", "user": {"login": "JSunRae", "id": 61567145, "node_id": "MDQ6VXNlcjYxNTY3MTQ1", "avatar_url": "https://avatars1.githubusercontent.com/u/61567145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JSunRae", "html_url": "https://github.com/JSunRae", "followers_url": "https://api.github.com/users/JSunRae/followers", "following_url": "https://api.github.com/users/JSunRae/following{/other_user}", "gists_url": "https://api.github.com/users/JSunRae/gists{/gist_id}", "starred_url": "https://api.github.com/users/JSunRae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JSunRae/subscriptions", "organizations_url": "https://api.github.com/users/JSunRae/orgs", "repos_url": "https://api.github.com/users/JSunRae/repos", "events_url": "https://api.github.com/users/JSunRae/events{/privacy}", "received_events_url": "https://api.github.com/users/JSunRae/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 1093464312, "node_id": "MDU6TGFiZWwxMDkzNDY0MzEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:others", "name": "type:others", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-02T05:50:26Z", "updated_at": "2020-03-09T09:40:29Z", "closed_at": null, "author_association": "NONE", "body": "It currently fails when trying to fit the model. The 'train_ds' seems to cause it to fail because it is a Batchdataset and not a numpty array. When I convert this to an np.array it fails because it is expecting a \"dense_1_input to have 2 dimensions, but got array with shape ()\". but I have no idea what this means.\r\n\r\n\r\n`from __future__ import absolute_import, division, print_function, unicode_literals\r\n\r\nimport tensorflow as tf\r\n\r\nfrom tensorflow import keras\r\n\r\nfrom keras import layers\r\nfrom keras import regularizers\r\n\r\n#maybe not needed\r\nfrom keras.models import Sequential\r\nfrom keras.layers import Dense, Dropout\r\nfrom keras.layers import LSTM\r\n\r\nimport tensorflow_docs as tfdocs\r\nimport tensorflow_docs.modeling\r\nimport tensorflow_docs.plots\r\n\r\nfrom  IPython import display\r\nfrom matplotlib import pyplot as plt\r\n\r\nimport numpy as np\r\n\r\nimport pathlib\r\nimport shutil\r\nimport tempfile\r\n\r\nlogdir = pathlib.Path(tempfile.mkdtemp())/\"tensorboard_logs\"\r\nshutil.rmtree(logdir, ignore_errors=True)\r\n\r\ngz = tf.keras.utils.get_file('HIGGS2.csv.gz', 'https://archive.ics.uci.edu/ml/machine-learning-databases/00280/HIGGS.csv.gz')\r\n\r\nFEATURES = 28\r\n\r\nds = tf.data.experimental.CsvDataset(gz,[float(),]*(FEATURES+1), compression_type=\"GZIP\")\r\n\r\n\r\ndef pack_row(*row):\r\n  label = row[0]\r\n  features = tf.stack(row[1:],1)\r\n  return features, label\r\n\r\npacked_ds = ds.batch(10000).map(pack_row).unbatch() #think this does (none, none) but not sure what this means\r\n\r\nfor features,label in packed_ds.batch(1000).take(1):\r\n  print(features[0])\r\n  plt.hist(features.numpy().flatten(), bins = 101)\r\nprint(features[0].shape)\r\n\r\nN_VALIDATION = int(1e3)\r\nN_TRAIN = int(1e4)\r\nBUFFER_SIZE = int(1e4)\r\nBATCH_SIZE = 500\r\nSTEPS_PER_EPOCH = N_TRAIN//BATCH_SIZE\r\n\r\nvalidate_ds = packed_ds.take(N_VALIDATION).cache()\r\ntrain_ds = packed_ds.skip(N_VALIDATION).take(N_TRAIN).cache()\r\n\r\nprint(train_ds)\r\n\r\nvalidate_ds = validate_ds.batch(BATCH_SIZE)\r\n#validate_ds = np.array(validate_ds) #model.fit expects x and y to be numpy array. Seems like you pass a list, it tried to get shape of input by reading ndim attribute of numpy array and failed\r\ntrain_ds = train_ds.shuffle(BUFFER_SIZE).repeat().batch(BATCH_SIZE)\r\n#train_ds = np.array(train_ds) #model.fit expects x and y to be numpy array. Seems like you pass a list, it tried to get shape of input by reading ndim attribute of numpy array and failed\r\n\r\nprint(train_ds)\r\n\r\n\r\n\r\nlr_schedule = tf.keras.optimizers.schedules.InverseTimeDecay(\r\n  0.001,\r\n  decay_steps=STEPS_PER_EPOCH*1000,\r\n  decay_rate=1,\r\n  staircase=False)\r\n\r\ndef get_optimizer():\r\n  return tf.keras.optimizers.Adam(lr_schedule)\r\n\r\nstep = np.linspace(0,100000)\r\nlr = lr_schedule(step)\r\nplt.figure(figsize = (8,6))\r\nplt.plot(step/STEPS_PER_EPOCH, lr)\r\nplt.ylim([0,max(plt.ylim())])\r\nplt.xlabel('Epoch')\r\n_ = plt.ylabel('Learning Rate')\r\n#plt.show(block=True)\r\n\r\ndef get_callbacks(name):\r\n  return [\r\n    tfdocs.modeling.EpochDots(),\r\n    keras.callbacks.EarlyStopping(monitor='val_binary_crossentropy', patience=200),\r\n    keras.callbacks.TensorBoard(logdir/name),\r\n  ]\r\ndef compile_and_fit(model, name, optimizer=None, max_epochs=10000):\r\n  if optimizer is None:\r\n    optimizer = get_optimizer()\r\n  model.compile(optimizer=optimizer,\r\n                loss=keras.losses.BinaryCrossentropy(from_logits=True),\r\n                metrics=[\r\n                  keras.losses.BinaryCrossentropy(\r\n                      from_logits=True, name='binary_crossentropy'),\r\n                  'accuracy'])\r\n\r\n  model.summary()\r\n  \r\n  history = model.fit(\r\n    np.array(train_ds), #model.fit expects x and y to be numpy array. Seems like you pass a list, it tried to get shape of input by reading ndim attribute of numpy array and failed\r\n    steps_per_epoch = STEPS_PER_EPOCH,\r\n    epochs=max_epochs,\r\n    validation_data=validate_ds,\r\n    callbacks=get_callbacks(name),\r\n    verbose=0)\r\n  return history\r\n\r\nsize_histories = {}\r\n\r\n\r\nplotter = tfdocs.plots.HistoryPlotter(metric = 'binary_crossentropy', smoothing_std=10)\r\n#plotter.plot(size_histories)\r\n#plt.ylim([0.5, 0.7])\r\n\r\nsmall_model = Sequential([\r\n    # `input_shape` is only required here so that `.summary` works.\r\n    layers.Dense(16, activation='elu', input_shape=(28,)),\r\n    layers.Dense(16, activation='elu'),\r\n    layers.Dense(1)\r\n])\r\n\r\nsize_histories['Small'] = compile_and_fit(small_model, 'sizes/Small')`\r\n\r\n\r\nraceback (most recent call last):\r\n  File \"/Users/jasonrae/.vscode/extensions/ms-python.python-2020.3.64983-dev/pythonFiles/ptvsd_launcher.py\", line 48, in <module>\r\n    main(ptvsdArgs)\r\n  File \"/Users/jasonrae/.vscode/extensions/ms-python.python-2020.3.64983-dev/pythonFiles/lib/python/old_ptvsd/ptvsd/__main__.py\", line 432, in main\r\n    run()\r\n  File \"/Users/jasonrae/.vscode/extensions/ms-python.python-2020.3.64983-dev/pythonFiles/lib/python/old_ptvsd/ptvsd/__main__.py\", line 316, in run_file\r\n    runpy.run_path(target, run_name='__main__')\r\n  File \"/Users/jasonrae/opt/miniconda3/envs/tensorflow/lib/python3.7/runpy.py\", line 263, in run_path\r\n    pkg_name=pkg_name, script_name=fname)\r\n  File \"/Users/jasonrae/opt/miniconda3/envs/tensorflow/lib/python3.7/runpy.py\", line 96, in _run_module_code\r\n    mod_name, mod_spec, pkg_name, script_name)\r\n  File \"/Users/jasonrae/opt/miniconda3/envs/tensorflow/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/Users/jasonrae/Documents/Python Files/Higgs1.py\", line 145, in <module>\r\n    size_histories['Small'] = compile_and_fit(small_model, 'sizes/Small')\r\n  File \"/Users/jasonrae/Documents/Python Files/Higgs1.py\", line 120, in compile_and_fit\r\n    verbose=0)\r\n  File \"/Users/jasonrae/opt/miniconda3/envs/tensorflow/lib/python3.7/site-packages/keras/engine/training.py\", line 1154, in fit\r\n    batch_size=batch_size)\r\n  File \"/Users/jasonrae/opt/miniconda3/envs/tensorflow/lib/python3.7/site-packages/keras/engine/training.py\", line 579, in _standardize_user_data\r\n    exception_prefix='input')\r\n  File \"/Users/jasonrae/opt/miniconda3/envs/tensorflow/lib/python3.7/site-packages/keras/engine/training_utils.py\", line 135, in standardize_input_data\r\n    'with shape ' + str(data_shape))\r\nValueError: Error when checking input: expected dense_1_input to have 2 dimensions, but got array with shape ()\r\nException ignored in: <function _MemoryCacheDeleter.__del__ at 0x13e9554d0>\r\nTraceback (most recent call last):\r\n  File \"/Users/jasonrae/opt/miniconda3/envs/tensorflow/lib/python3.7/site-packages/tensorflow_core/python/data/ops/dataset_ops.py\", line 2944, in __del__\r\nAttributeError: 'NoneType' object has no attribute 'device'\r\nException ignored in: <function _MemoryCacheDeleter.__del__ at 0x13e9554d0>\r\nTraceback (most recent call last):\r\n  File \"/Users/jasonrae/opt/miniconda3/envs/tensorflow/lib/python3.7/site-packages/tensorflow_core/python/data/ops/dataset_ops.py\", line 2944, in __del__\r\nAttributeError: 'NoneType' object has no attribute 'device'\r\nException ignored in: <function _RandomSeedGeneratorDeleter.__del__ at 0x13e9557a0>\r\nTraceback (most recent call last):\r\n  File \"/Users/jasonrae/opt/miniconda3/envs/tensorflow/lib/python3.7/site-packages/tensorflow_core/python/data/ops/dataset_ops.py\", line 3009, in __del__\r\nAttributeError: 'NoneType' object has no attribute 'device'"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37217", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37217/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37217/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37217/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37217", "id": 573666154, "node_id": "MDU6SXNzdWU1NzM2NjYxNTQ=", "number": 37217, "title": "Implement support for AV1 / AVIF for image files", "user": {"login": "Daniel451", "id": 4680082, "node_id": "MDQ6VXNlcjQ2ODAwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/4680082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Daniel451", "html_url": "https://github.com/Daniel451", "followers_url": "https://api.github.com/users/Daniel451/followers", "following_url": "https://api.github.com/users/Daniel451/following{/other_user}", "gists_url": "https://api.github.com/users/Daniel451/gists{/gist_id}", "starred_url": "https://api.github.com/users/Daniel451/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Daniel451/subscriptions", "organizations_url": "https://api.github.com/users/Daniel451/orgs", "repos_url": "https://api.github.com/users/Daniel451/repos", "events_url": "https://api.github.com/users/Daniel451/events{/privacy}", "received_events_url": "https://api.github.com/users/Daniel451/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-02T01:44:05Z", "updated_at": "2020-03-04T21:36:40Z", "closed_at": null, "author_association": "NONE", "body": "**System information**\r\n- TensorFlow version (you are using): 2.1\r\n- Are you willing to contribute it (Yes/No): Yes; but I have very limited time & have little experience with implementing codecs, thus I could only assist in testing.\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\nIn image processing there are scenarios, especially when you deal with higher resolution images, where compression artifacts actually deteriorates your model training sessions. This specifically applies to old image formats like GIF or JPEG. Storing data in, for example, BMP format however drastically increases disk space usage.\r\n\r\nI propose the implementation of **AV1 / AVIF for image files**, i.e. adding AVIF format to `tf.io.decode_image`. **AVIF** is a **free, open source format**.\r\n\r\nAV1 (see [AV1 wikipedia page](https://en.wikipedia.org/wiki/AV1)) is a next generation video (and image) codec. It is broadly supported by Google, Amazon, Apple, ARM, Cisco, Facebook, IBM, Intel Corporation, Microsoft, Mozilla, Netflix, Nvidia, Samsung Electronics, and others since AV1 is developed and supported by [AOMedia](https://en.wikipedia.org/wiki/Alliance_for_Open_Media), where these and other corporations are contributing to.\r\n\r\nAOMedia's main goal is developing royalty-free video and image formats. Hence, long-term support can be expected. \r\n\r\nAVIF (see [AVIF wikipedia entry](https://en.wikipedia.org/wiki/AV1#AV1_Image_File_Format_(AVIF))) is the image file format of the AV1 codec. It has major benefits compared to older formats like JPEG or PNG -> lower file size while still maintaining a significantly better quality.\r\n\r\nThis [blog post by netflix](https://netflixtechblog.com/avif-for-next-generation-image-coding-b1d75675fe4) demonstrates that AVIF covers little to zero compression artifacts **and** having a lower file size compared to JPEG.\r\n\r\nSee AVIF defintion: https://aomediacodec.github.io/av1-avif/\r\n\r\n\r\n**Will this change the current api? How?**\r\nNo, just an addition.\r\n\r\n**Who will benefit with this feature?**\r\nEveryone interested in image processing. Lower disk usage **and** little to zero compression artifacts benefit everyone in image processing, especially users with an interest for higher resolutions.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37215", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37215/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37215/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37215/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37215", "id": 573642188, "node_id": "MDU6SXNzdWU1NzM2NDIxODg=", "number": 37215, "title": "TFLite Micro: SUB Op Support", "user": {"login": "iotwithit", "id": 46282495, "node_id": "MDQ6VXNlcjQ2MjgyNDk1", "avatar_url": "https://avatars3.githubusercontent.com/u/46282495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iotwithit", "html_url": "https://github.com/iotwithit", "followers_url": "https://api.github.com/users/iotwithit/followers", "following_url": "https://api.github.com/users/iotwithit/following{/other_user}", "gists_url": "https://api.github.com/users/iotwithit/gists{/gist_id}", "starred_url": "https://api.github.com/users/iotwithit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iotwithit/subscriptions", "organizations_url": "https://api.github.com/users/iotwithit/orgs", "repos_url": "https://api.github.com/users/iotwithit/repos", "events_url": "https://api.github.com/users/iotwithit/events{/privacy}", "received_events_url": "https://api.github.com/users/iotwithit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1589976566, "node_id": "MDU6TGFiZWwxNTg5OTc2NTY2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:micro", "name": "comp:micro", "color": "3e2eea", "default": false, "description": "Related to TensorFlow Lite Microcontrollers"}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "MeghnaNatraj", "id": 8790823, "node_id": "MDQ6VXNlcjg3OTA4MjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8790823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MeghnaNatraj", "html_url": "https://github.com/MeghnaNatraj", "followers_url": "https://api.github.com/users/MeghnaNatraj/followers", "following_url": "https://api.github.com/users/MeghnaNatraj/following{/other_user}", "gists_url": "https://api.github.com/users/MeghnaNatraj/gists{/gist_id}", "starred_url": "https://api.github.com/users/MeghnaNatraj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MeghnaNatraj/subscriptions", "organizations_url": "https://api.github.com/users/MeghnaNatraj/orgs", "repos_url": "https://api.github.com/users/MeghnaNatraj/repos", "events_url": "https://api.github.com/users/MeghnaNatraj/events{/privacy}", "received_events_url": "https://api.github.com/users/MeghnaNatraj/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MeghnaNatraj", "id": 8790823, "node_id": "MDQ6VXNlcjg3OTA4MjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8790823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MeghnaNatraj", "html_url": "https://github.com/MeghnaNatraj", "followers_url": "https://api.github.com/users/MeghnaNatraj/followers", "following_url": "https://api.github.com/users/MeghnaNatraj/following{/other_user}", "gists_url": "https://api.github.com/users/MeghnaNatraj/gists{/gist_id}", "starred_url": "https://api.github.com/users/MeghnaNatraj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MeghnaNatraj/subscriptions", "organizations_url": "https://api.github.com/users/MeghnaNatraj/orgs", "repos_url": "https://api.github.com/users/MeghnaNatraj/repos", "events_url": "https://api.github.com/users/MeghnaNatraj/events{/privacy}", "received_events_url": "https://api.github.com/users/MeghnaNatraj/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-01T23:33:31Z", "updated_at": "2020-03-04T15:51:40Z", "closed_at": null, "author_association": "NONE", "body": "@tensorflow/micro\r\n\r\n**System information**\r\n- Host OS Platform and Distribution: Linux 5.5.5 Arch\r\n- TensorFlow installed from: source\r\n- Tensorflow version: 41c6bf7c6215bea9bfb9bf0a9b63f2084e6f3058\r\n- Target platform: OpenMV CAM (STM32H7)\r\n\r\n**Describe the problem**\r\n\r\nHello, I trained a simple dogs/cats classification model through transfer learning and then converted it to be run on the [OpenMV CAM](https://openmv.io/): [converted_model.mv1025128.tflite.zip](https://github.com/tensorflow/tensorflow/files/4272695/converted_model.mv1025128.tflite.zip).\r\n\r\nIt fails to load on the MCU inside the `InitializeRuntimeTensor` function when the SUB tensor is processed (you can see on [netron](https://lutzroeder.github.io/netron/) where SUB is needed).\r\n\r\nI found out the SUB op is not supported on tf lite micro, but, since I am quite new to ML, I would like to know if there is a specific reason to this missing support, if it can be *easily* added or if you can suggest a workaround.\r\n\r\nThank you\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37214", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37214/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37214/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37214/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37214", "id": 573629114, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgyMTA0ODk0", "number": 37214, "title": "Fix np.squeeze call with dimensionality check", "user": {"login": "jaketae", "id": 25360440, "node_id": "MDQ6VXNlcjI1MzYwNDQw", "avatar_url": "https://avatars1.githubusercontent.com/u/25360440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaketae", "html_url": "https://github.com/jaketae", "followers_url": "https://api.github.com/users/jaketae/followers", "following_url": "https://api.github.com/users/jaketae/following{/other_user}", "gists_url": "https://api.github.com/users/jaketae/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaketae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaketae/subscriptions", "organizations_url": "https://api.github.com/users/jaketae/orgs", "repos_url": "https://api.github.com/users/jaketae/repos", "events_url": "https://api.github.com/users/jaketae/events{/privacy}", "received_events_url": "https://api.github.com/users/jaketae/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364259, "node_id": "MDU6TGFiZWwxMTY5MzY0MjU5", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XS", "name": "size:XS", "color": "adafea", "default": false, "description": "CL Change Size: Extra Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-01T22:40:01Z", "updated_at": "2020-03-05T11:53:40Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37214", "html_url": "https://github.com/tensorflow/tensorflow/pull/37214", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37214.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37214.patch"}, "body": "Calling `np.squeeze` is required only if `preds.shape[-1]` is equal to one.. Otherwise, the prediction can be returned as is. Added a conditional to check for this condition."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37213", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37213/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37213/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37213/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37213", "id": 573622329, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgyMDk5ODM3", "number": 37213, "title": "Fix plot_model for .pdf files", "user": {"login": "jaketae", "id": 25360440, "node_id": "MDQ6VXNlcjI1MzYwNDQw", "avatar_url": "https://avatars1.githubusercontent.com/u/25360440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaketae", "html_url": "https://github.com/jaketae", "followers_url": "https://api.github.com/users/jaketae/followers", "following_url": "https://api.github.com/users/jaketae/following{/other_user}", "gists_url": "https://api.github.com/users/jaketae/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaketae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaketae/subscriptions", "organizations_url": "https://api.github.com/users/jaketae/orgs", "repos_url": "https://api.github.com/users/jaketae/repos", "events_url": "https://api.github.com/users/jaketae/events{/privacy}", "received_events_url": "https://api.github.com/users/jaketae/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-01T21:52:22Z", "updated_at": "2020-03-05T11:53:07Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37213", "html_url": "https://github.com/tensorflow/tensorflow/pull/37213", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37213.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37213.patch"}, "body": "If `plot_model` is asked for a .pdf file in Jupyter via the command `plot_model(model, to_file='model.pdf')`, a value error is raised:\r\n\r\n```\r\nValueError: Cannot embed the 'pdf' image format\r\n```\r\n\r\nThis is presumably because Jupyter Notebook does not support .pdf format. This PR fixes this issue by adding an additional check for the `extension` argument."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37212", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37212/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37212/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37212/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37212", "id": 573621711, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgyMDk5NDEz", "number": 37212, "title": "[MLIR][XLA] Buffer Assignment", "user": {"login": "dfki-ehna", "id": 40604387, "node_id": "MDQ6VXNlcjQwNjA0Mzg3", "avatar_url": "https://avatars2.githubusercontent.com/u/40604387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dfki-ehna", "html_url": "https://github.com/dfki-ehna", "followers_url": "https://api.github.com/users/dfki-ehna/followers", "following_url": "https://api.github.com/users/dfki-ehna/following{/other_user}", "gists_url": "https://api.github.com/users/dfki-ehna/gists{/gist_id}", "starred_url": "https://api.github.com/users/dfki-ehna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dfki-ehna/subscriptions", "organizations_url": "https://api.github.com/users/dfki-ehna/orgs", "repos_url": "https://api.github.com/users/dfki-ehna/repos", "events_url": "https://api.github.com/users/dfki-ehna/events{/privacy}", "received_events_url": "https://api.github.com/users/dfki-ehna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169365682, "node_id": "MDU6TGFiZWwxMTY5MzY1Njgy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:L", "name": "size:L", "color": "adafea", "default": false, "description": "CL Change Size: Large"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-01T21:47:53Z", "updated_at": "2020-03-19T13:56:39Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37212", "html_url": "https://github.com/tensorflow/tensorflow/pull/37212", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37212.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37212.patch"}, "body": "In this PR, we have provided our first draft for generic XLA buffer assignment. This generic BufferAssignment class automatically analyzes the values and their aliases (also in other blocks) and returns the positions of allocations and deallocations. To find these positions, the algorithm uses the block Dominator and Post-Dominator analyses. In our proposed algorithm, we have considered aliasing, liveness analysis, nested regions, branches, conditional branches, critical edges, and independency to custom block terminators. This implementation doesn't support block loops. However, we have considered this in our design. For this purpose, we only need to have a loop analysis to allocate and deallocate some special cases outside of these loops. \r\n\r\nThis is the sample usage of BufferAssignment class:\r\n```c++\r\nBufferAssignment assignments(funcOp);\r\nauto positions = assignments.computeAllocAndDeallocPositions(value);\r\nallocBuilder.setInsertionPoint(positions.getAllocPosition());\r\n<create alloc>\r\ndeallocBuilder.setInsertionPointAfter(positions.getDeallocPosition());\r\n<create dealloc>\r\n```\r\nOr alternatively:\r\n```c++\r\nBufferAssignment assignments(funcOp);\r\nauto positions = assignments.computeAllocAndDeallocPositions(value);\r\npositions.insertAlloc<AllocOp>(...);\r\npositions.insertDealloc<DeallocOp>(...);\r\n```\r\n\r\nPlease note that this class should be used during the legalization (i.e. HLO-To-LHLO)."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37211", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37211/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37211/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37211/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37211", "id": 573620046, "node_id": "MDU6SXNzdWU1NzM2MjAwNDY=", "number": 37211, "title": " error: the value of \u2018j\u2019 is not usable in a constant expression", "user": {"login": "nuliknol", "id": 1125368, "node_id": "MDQ6VXNlcjExMjUzNjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1125368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nuliknol", "html_url": "https://github.com/nuliknol", "followers_url": "https://api.github.com/users/nuliknol/followers", "following_url": "https://api.github.com/users/nuliknol/following{/other_user}", "gists_url": "https://api.github.com/users/nuliknol/gists{/gist_id}", "starred_url": "https://api.github.com/users/nuliknol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nuliknol/subscriptions", "organizations_url": "https://api.github.com/users/nuliknol/orgs", "repos_url": "https://api.github.com/users/nuliknol/repos", "events_url": "https://api.github.com/users/nuliknol/events{/privacy}", "received_events_url": "https://api.github.com/users/nuliknol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-01T21:35:54Z", "updated_at": "2020-03-13T10:20:49Z", "closed_at": null, "author_association": "NONE", "body": "\r\n**System information**\r\n- OS Platform and Distribution:  \r\n    16.04.6 LTS (GNU/Linux 4.15.0-60-generic x86_64)\r\n\r\n- Mobile device\r\n    not a mobile device\r\n- TensorFlow installed from (source or binary):\r\n    using pip command\r\n- TensorFlow version:\r\n    2.1.0\r\n- Python version:\r\n    3.5.2.\r\n- Installed using virtualenv? pip? conda?:\r\n  using viertualenv\r\n- Bazel version (if compiling from source):\r\n  no\r\n- GCC/Compiler version (if compiling from source):\r\n   5.4.0\r\n- CUDA/cuDNN version:\r\n   no cuda\r\n- GPU model and memory:\r\n    GeForce GT 750M\r\n\r\n\r\n**Describe the problem**\r\n\r\nTensorflow doesn't compile:\r\n\r\n```\r\ng++ -std=c++11 -shared -fPIC -I/home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core/include -I/home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core/include/external/nsync/public -L/home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core -D_GLIBCXX_USE_CXX11_ABI=0 -O2 -DGOOGLE_CUDA=1 .//*.cpp .//ops/*.cpp -ltensorflow_framework -o gym_tensorflow.so\r\nIn file included from /home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core/include/unsupported/Eigen/CXX11/Tensor:101:0,\r\n                 from /home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core/include/third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,\r\n                 from /home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core/include/tensorflow/core/framework/numeric_types.h:20,\r\n                 from /home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core/include/tensorflow/core/framework/allocator.h:26,\r\n                 from /home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core/include/tensorflow/core/framework/op_kernel.h:25,\r\n                 from .//ops/indexedmatmul.cpp:8:\r\n/home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core/include/unsupported/Eigen/CXX11/src/Tensor/TensorBlockV2.h: In static member function \u2018static IndexType Eigen::internal::TensorBlockIOV2<Scalar, IndexType, NumDims, Layout>::Copy(const Eigen::internal::TensorBlockIOV2<Scalar, IndexType, NumDims, Layout>::Dst&, const Eigen::internal::TensorBlockIOV2<Scalar, IndexType, NumDims, Layout>::Src&, const DimensionsMap&)\u2019:\r\n/home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core/include/unsupported/Eigen/CXX11/src/Tensor/TensorBlockV2.h:998:33: error: the value of \u2018j\u2019 is not usable in a constant expression\r\n       if (++it[j].count < it[j].size) {                                \\\r\n                                 ^\r\n/home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core/include/unsupported/Eigen/CXX11/src/Tensor/TensorBlockV2.h:1011:7: note: in expansion of macro \u2018COPY_INNER_DIM\u2019\r\n       COPY_INNER_DIM(LinCopy::Linear);\r\n       ^\r\n\r\n```\r\nThis is because you are using some old version of Eigen:\r\n```\r\n(env) nickai@lap:~/evolution/deep-neuroevolution/gpu_implementation/gym_tensorflow$ ls -l /home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core/include/unsupported/Eigen/CXX11/src/Tensor/TensorBlockV2.h\r\n-rw-rw-r-- 1 nickai nickai 48966 mar  1 15:10 /home/nickai/evolution/deep-neuroevolution/env/lib/python3.5/site-packages/tensorflow_core/include/unsupported/Eigen/CXX11/src/Tensor/TensorBlockV2.h\r\n(env) nickai@lap:~/evolution/deep-neuroevolution/gpu_implementation/gym_tensorflow$ \r\n```\r\nI wonder, why is an \"unsupported\" tree of the Eigen source code appearing inside tensorflow build directory at all?\r\n\r\n\r\n**Provide the exact sequence of commands / steps that you executed before running into the problem**\r\n\r\nI installed tensorflow using this command:\r\n\r\n    pip install --upgrade tensorflow\r\n\r\nThen I tried to build an app that depends on Tensorflow \r\nhttps://github.com/uber-research/deep-neuroevolution/tree/master/gpu_implementation/gym_tensorflow\r\nby exeucting \r\n\r\n    make\r\n\r\nBut since Tensorflow has some bad code inside its headers (i.e. using old and unsupported Eigen library) my the app I am trying to builid doesn't build.\r\n\r\nThis is possibly the same issue as reported here: https://github.com/tensorflow/tensorflow/issues/29927\r\n\r\nI suspect that to fix this, you have to update Eigen library."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37210", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37210/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37210/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37210/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37210", "id": 573586908, "node_id": "MDU6SXNzdWU1NzM1ODY5MDg=", "number": 37210, "title": "tf.split T value inconsistency", "user": {"login": "alperyyildiz", "id": 50810809, "node_id": "MDQ6VXNlcjUwODEwODA5", "avatar_url": "https://avatars1.githubusercontent.com/u/50810809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alperyyildiz", "html_url": "https://github.com/alperyyildiz", "followers_url": "https://api.github.com/users/alperyyildiz/followers", "following_url": "https://api.github.com/users/alperyyildiz/following{/other_user}", "gists_url": "https://api.github.com/users/alperyyildiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/alperyyildiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alperyyildiz/subscriptions", "organizations_url": "https://api.github.com/users/alperyyildiz/orgs", "repos_url": "https://api.github.com/users/alperyyildiz/repos", "events_url": "https://api.github.com/users/alperyyildiz/events{/privacy}", "received_events_url": "https://api.github.com/users/alperyyildiz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-01T17:51:25Z", "updated_at": "2020-03-17T03:56:06Z", "closed_at": null, "author_association": "NONE", "body": "tf.split raise ValueError when it is used before tf.identity to copy splitted tensors. Error seems related to split num parameter when it is set to None and occurs when split operation outputs more then 2 tensors. \r\n\r\nCode for the model:\r\n        inp = tf.keras.layers.Input(shape=(102,df.shape[1]),dtype = 'float32')\r\n        x0, x1, x2 = tf.split(inp,[66,22,14],axis=1,num=3)\r\n        x00 = tf.identity(x0)\r\n        x11 = tf.identity(x1)\r\n        x22 = tf.identity(x2)\r\n\r\nhandled by the code:\r\n\r\n        inp = tf.keras.layers.Input(shape=(102,df.shape[1]),dtype = 'float64')\r\n        inp_ = tf.identity(inp)\r\n        x0, x1, x2 = tf.split(inp,[66,22,14],axis=1,num=3) \r\n        x00, x11, x22 = tf.split(inp_,[66,22,14],axis=1,num=3)\r\n\r\nError raised:\r\n\r\nValueError: Inconsistent values for attr 'T' DT_DOUBLE vs. DT_FLOAT while building NodeDef 'split' using Op<name=SplitV; signature=value:T, size_splits:Tlen, split_dim:int32 -> output:num_split*T; attr=num_split:int,min=1; attr=T:type; attr=Tlen:type,default=DT_INT64,allowed=[DT_INT32, DT_INT64]>\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37208", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37208/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37208/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37208/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37208", "id": 573565078, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgyMDU3NTk3", "number": 37208, "title": "Adding generic Cortex m4f target to TFL micro", "user": {"login": "ml-0", "id": 43989717, "node_id": "MDQ6VXNlcjQzOTg5NzE3", "avatar_url": "https://avatars0.githubusercontent.com/u/43989717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ml-0", "html_url": "https://github.com/ml-0", "followers_url": "https://api.github.com/users/ml-0/followers", "following_url": "https://api.github.com/users/ml-0/following{/other_user}", "gists_url": "https://api.github.com/users/ml-0/gists{/gist_id}", "starred_url": "https://api.github.com/users/ml-0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ml-0/subscriptions", "organizations_url": "https://api.github.com/users/ml-0/orgs", "repos_url": "https://api.github.com/users/ml-0/repos", "events_url": "https://api.github.com/users/ml-0/events{/privacy}", "received_events_url": "https://api.github.com/users/ml-0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136613, "node_id": "MDU6TGFiZWwzMDAxMzY2MTM=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20no", "name": "cla: no", "color": "eb6420", "default": false, "description": null}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-01T15:24:17Z", "updated_at": "2020-03-02T04:17:59Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37208", "html_url": "https://github.com/tensorflow/tensorflow/pull/37208", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37208.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37208.patch"}, "body": "All existing make targets generate binaries for dedicated hardware (chip, board) and make assumptions on the way, the debugging log is written. Porting an existing example application to a new hardware with the same core (e.g. Cortex M4F) requires the replacement of the pin/package/HAL layers. Such layers can be quite large, depending on the vendor's product portfolio and must be added to the TFL micro build. If the user needs only the microlite library (for use in a different build environment), he wants to generate the library without modifications of the sources.\r\n\r\nThis pull request provides a generic make target for Cortex-M4F without being specific on the debug log functions and without having to add any pin/package/HAL layers. The user can integrate the microlite library into his project and register a callback function for the debugging log. The big advantage is that the microlite library can be used off-the-shelf without doing customizations to a specific board hardware.\r\n\r\nThe microlite library for the generic Cortex M4F device is generated by the command\r\n\r\nmake -f tensorflow/lite/micro/tools/make/Makefile TARGET=cortex-m4f-generic microlite\r\n\r\nThe output is\r\n\r\ntensorflow/lite/micro/tools/make/gen/cortex-m4f-generic_cortex-m4/lib/libtensorflow-microlite.a\r\n\r\nIn his build system, the user must register the callback function before actually using the debug log, e.g.:\r\n\r\nvoid debug_log_printf(const char* s)\r\n{\r\n\tprintf(s);\r\n}\r\n\r\nvoid setup(void)\r\n{\r\n    DebugLog_register_callback(debug_log_printf);\r\n    DebugLog(\"Make setup\\r\\n\");\r\n    ...\r\n}\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37206", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37206/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37206/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37206/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37206", "id": 573548561, "node_id": "MDU6SXNzdWU1NzM1NDg1NjE=", "number": 37206, "title": "iOS Object Detection with Custom .tflite file: \"Failed to allocate memory for input tensors.\"", "user": {"login": "MHX792", "id": 12123471, "node_id": "MDQ6VXNlcjEyMTIzNDcx", "avatar_url": "https://avatars2.githubusercontent.com/u/12123471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MHX792", "html_url": "https://github.com/MHX792", "followers_url": "https://api.github.com/users/MHX792/followers", "following_url": "https://api.github.com/users/MHX792/following{/other_user}", "gists_url": "https://api.github.com/users/MHX792/gists{/gist_id}", "starred_url": "https://api.github.com/users/MHX792/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MHX792/subscriptions", "organizations_url": "https://api.github.com/users/MHX792/orgs", "repos_url": "https://api.github.com/users/MHX792/repos", "events_url": "https://api.github.com/users/MHX792/events{/privacy}", "received_events_url": "https://api.github.com/users/MHX792/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "yyoon", "id": 1309817, "node_id": "MDQ6VXNlcjEzMDk4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1309817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yyoon", "html_url": "https://github.com/yyoon", "followers_url": "https://api.github.com/users/yyoon/followers", "following_url": "https://api.github.com/users/yyoon/following{/other_user}", "gists_url": "https://api.github.com/users/yyoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/yyoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yyoon/subscriptions", "organizations_url": "https://api.github.com/users/yyoon/orgs", "repos_url": "https://api.github.com/users/yyoon/repos", "events_url": "https://api.github.com/users/yyoon/events{/privacy}", "received_events_url": "https://api.github.com/users/yyoon/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yyoon", "id": 1309817, "node_id": "MDQ6VXNlcjEzMDk4MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1309817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yyoon", "html_url": "https://github.com/yyoon", "followers_url": "https://api.github.com/users/yyoon/followers", "following_url": "https://api.github.com/users/yyoon/following{/other_user}", "gists_url": "https://api.github.com/users/yyoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/yyoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yyoon/subscriptions", "organizations_url": "https://api.github.com/users/yyoon/orgs", "repos_url": "https://api.github.com/users/yyoon/repos", "events_url": "https://api.github.com/users/yyoon/events{/privacy}", "received_events_url": "https://api.github.com/users/yyoon/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-01T13:38:45Z", "updated_at": "2020-03-08T01:24:06Z", "closed_at": null, "author_association": "NONE", "body": "I am trying to run the sample iOS with a custom .tflite file ([download](https://github.com/tensorflow/tensorflow/files/4271813/custom_tflite_file.zip)) where only one object exists.\r\n\r\nWhen the app loads, it crashes with the error `Failed to create the interpreter with error: Failed to allocate memory for input tensors.`.\r\n\r\nHere is a comparison of both .tflite files (left: original, right: custom): \r\n<img width=\"982\" alt=\"attributes\" src=\"https://user-images.githubusercontent.com/12123471/75626712-3477a880-5bca-11ea-9d23-a2d3c34029dd.png\">\r\n\r\nAs shown in the image, input tensors exist. What is the reason for this error?\r\n\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37204", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37204/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37204/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37204/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37204", "id": 573523565, "node_id": "MDU6SXNzdWU1NzM1MjM1NjU=", "number": 37204, "title": "android mask rcnn", "user": {"login": "hoangtubatu123", "id": 30885438, "node_id": "MDQ6VXNlcjMwODg1NDM4", "avatar_url": "https://avatars0.githubusercontent.com/u/30885438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hoangtubatu123", "html_url": "https://github.com/hoangtubatu123", "followers_url": "https://api.github.com/users/hoangtubatu123/followers", "following_url": "https://api.github.com/users/hoangtubatu123/following{/other_user}", "gists_url": "https://api.github.com/users/hoangtubatu123/gists{/gist_id}", "starred_url": "https://api.github.com/users/hoangtubatu123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hoangtubatu123/subscriptions", "organizations_url": "https://api.github.com/users/hoangtubatu123/orgs", "repos_url": "https://api.github.com/users/hoangtubatu123/repos", "events_url": "https://api.github.com/users/hoangtubatu123/events{/privacy}", "received_events_url": "https://api.github.com/users/hoangtubatu123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-01T10:36:24Z", "updated_at": "2020-03-13T10:06:55Z", "closed_at": null, "author_association": "NONE", "body": "Please provide the code get output mask r-cnn on android. Thanks"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37201", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37201/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37201/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37201/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37201", "id": 573500838, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgyMDEwNjUw", "number": 37201, "title": "Restructure Keras Scikit-Learn wrappers to better implement Scikit-Learn API", "user": {"login": "adriangb", "id": 1755071, "node_id": "MDQ6VXNlcjE3NTUwNzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1755071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adriangb", "html_url": "https://github.com/adriangb", "followers_url": "https://api.github.com/users/adriangb/followers", "following_url": "https://api.github.com/users/adriangb/following{/other_user}", "gists_url": "https://api.github.com/users/adriangb/gists{/gist_id}", "starred_url": "https://api.github.com/users/adriangb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adriangb/subscriptions", "organizations_url": "https://api.github.com/users/adriangb/orgs", "repos_url": "https://api.github.com/users/adriangb/repos", "events_url": "https://api.github.com/users/adriangb/events{/privacy}", "received_events_url": "https://api.github.com/users/adriangb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1173072136, "node_id": "MDU6TGFiZWwxMTczMDcyMTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:XL", "name": "size:XL", "color": "adafea", "default": false, "description": "CL Change Size:Extra Large"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2020-03-01T07:32:58Z", "updated_at": "2020-03-19T16:40:10Z", "closed_at": null, "author_association": "NONE", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37201", "html_url": "https://github.com/tensorflow/tensorflow/pull/37201", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37201.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37201.patch"}, "body": "This is a modification of #32533. I am opening a new PR because that one seems stalled and I made a lot of changes/improvements (but keeping the same idea).\r\n\r\nA quick summary:\r\nThe existing `scikit-learn` wrappers for Keras models are not compatible with many `scikit-learn` functions. Additionally, they require that dataset dimensions be determined _before_ calling the `fit` method, which is unlike the `scikit-learn` estimators and makes it hard to build dynamically adaptable pipelines.\r\n\r\nWhat this PR does:\r\nThis PR does _not_ change any API.\r\nBy moving the storage of parameters from `self.sk_params` to `self.__dict__`, compatibility with a lot of the `scikit-learn` functionalities are improved. Additionally, I gave the model building function the ability to request the data that will be fitted (to determine dimensions) as well as any other attributes of the wrapper instance. Finally, I enabled copying/pickling of wrapped models as well as the ability to wrap instances of `Model`, which should allow for greater flexibility in incorporating into an exsiting `Keras` workflow.\r\n\r\nHow is it tested:\r\nAll existing tests are working and were unchanged. This confirms that there were no API changes. New tests were added for all of the new functionality as well as some of the most common `scikit-learn` operations that were previously broken.\r\nI would like to credit @daviddiazvico , the author of the original PR: I borrowed a lot of the tests he had written as well as the original idea for fixing these issues. I will make him a co-author of the final commit if this gets approved."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37200", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37200/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37200/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37200/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37200", "id": 573456552, "node_id": "MDU6SXNzdWU1NzM0NTY1NTI=", "number": 37200, "title": "NotImplementedError: Cannot convert a symbolic Tensor (up_sampling2d_5_target:0) to a numpy array", "user": {"login": "SlowMonk", "id": 33189954, "node_id": "MDQ6VXNlcjMzMTg5OTU0", "avatar_url": "https://avatars0.githubusercontent.com/u/33189954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SlowMonk", "html_url": "https://github.com/SlowMonk", "followers_url": "https://api.github.com/users/SlowMonk/followers", "following_url": "https://api.github.com/users/SlowMonk/following{/other_user}", "gists_url": "https://api.github.com/users/SlowMonk/gists{/gist_id}", "starred_url": "https://api.github.com/users/SlowMonk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SlowMonk/subscriptions", "organizations_url": "https://api.github.com/users/SlowMonk/orgs", "repos_url": "https://api.github.com/users/SlowMonk/repos", "events_url": "https://api.github.com/users/SlowMonk/events{/privacy}", "received_events_url": "https://api.github.com/users/SlowMonk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-01T02:03:46Z", "updated_at": "2020-03-13T10:05:36Z", "closed_at": null, "author_association": "NONE", "body": "> import numpy as np\r\n> import tensorflow as tf\r\n> print(np.__version__)\r\n> print(keras.__version__)\r\n> print(tf.__version__)\r\n> \r\n> 1.17.3\r\n> 2.3.1\r\n> 2.1.0\r\n\r\n```\r\n\r\nimport keras.backend as K\r\nfrom keras.optimizers import Adam\r\nfrom keras.losses import binary_crossentropy\r\n\r\n## intersection over union\r\ndef IoU(y_true, y_pred, eps=1e-6):\r\n    #print(y_true)\r\n    if np.max(y_true) == 0.0:\r\n        return IoU(1-y_true, 1-y_pred) ## empty image; calc IoU of zeros\r\n\r\n    intersection = K.sum(y_true * y_pred, axis=[1,2,3])\r\n    union = K.sum(y_true, axis=[1,2,3]) + K.sum(y_pred, axis=[1,2,3]) - intersection\r\n    return -K.mean( (intersection + eps) / (union + eps), axis=0)\r\n```\r\n\r\nHere the np.max(y_true) bring the problem. \r\n\r\n> NotImplementedError: Cannot convert a symbolic Tensor (up_sampling2d_5_target:0) to a numpy array"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37199", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37199/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37199/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37199/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37199", "id": 573448642, "node_id": "MDU6SXNzdWU1NzM0NDg2NDI=", "number": 37199, "title": "Default type for complex sparse tensor is complex128", "user": {"login": "zaccharieramzi", "id": 6387497, "node_id": "MDQ6VXNlcjYzODc0OTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/6387497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaccharieramzi", "html_url": "https://github.com/zaccharieramzi", "followers_url": "https://api.github.com/users/zaccharieramzi/followers", "following_url": "https://api.github.com/users/zaccharieramzi/following{/other_user}", "gists_url": "https://api.github.com/users/zaccharieramzi/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaccharieramzi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaccharieramzi/subscriptions", "organizations_url": "https://api.github.com/users/zaccharieramzi/orgs", "repos_url": "https://api.github.com/users/zaccharieramzi/repos", "events_url": "https://api.github.com/users/zaccharieramzi/events{/privacy}", "received_events_url": "https://api.github.com/users/zaccharieramzi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-01T01:06:24Z", "updated_at": "2020-03-02T12:23:52Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): yes\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): Linux Ubuntu 16.04\r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below): pip\r\n\r\n**Describe the current behavior**\r\nWhen I instantiate a complex sparse tensor, the default type is complex128, whereas with a float sparse tensor it is float32.\r\n\r\n**Describe the expected behavior**\r\nThe default type for complex sparse tensor should probably be complex64, since we can't set the type in the tensor creation.\r\n\r\n**Standalone code to reproduce the issue** \r\n```\r\na = tf.sparse.SparseTensor(indices=[[0, 0],], values=[1.+ 0j], dense_shape=[2, 2])\r\nprint(a.dtype)\r\n```\r\nThis gives `tf.complex128`.\r\n\r\n**Other info / logs** \r\nThis can be circumvented using `numpy` to fix the type of the values but it isn't ideal imho.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37198", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37198/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37198/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37198/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37198", "id": 573410715, "node_id": "MDU6SXNzdWU1NzM0MTA3MTU=", "number": 37198, "title": "Docker Tensorflow GPU 5x times slower than TF CPU", "user": {"login": "vadimen", "id": 3942883, "node_id": "MDQ6VXNlcjM5NDI4ODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3942883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vadimen", "html_url": "https://github.com/vadimen", "followers_url": "https://api.github.com/users/vadimen/followers", "following_url": "https://api.github.com/users/vadimen/following{/other_user}", "gists_url": "https://api.github.com/users/vadimen/gists{/gist_id}", "starred_url": "https://api.github.com/users/vadimen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vadimen/subscriptions", "organizations_url": "https://api.github.com/users/vadimen/orgs", "repos_url": "https://api.github.com/users/vadimen/repos", "events_url": "https://api.github.com/users/vadimen/events{/privacy}", "received_events_url": "https://api.github.com/users/vadimen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547538, "node_id": "MDU6TGFiZWwxMDk3NTQ3NTM4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu", "name": "comp:gpu", "color": "0052cc", "default": false, "description": ""}, {"id": 1105108936, "node_id": "MDU6TGFiZWwxMTA1MTA4OTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:model", "name": "comp:model", "color": "0052cc", "default": false, "description": ""}, {"id": 1463677878, "node_id": "MDU6TGFiZWwxNDYzNjc3ODc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:performance", "name": "type:performance", "color": "159b2e", "default": false, "description": "Performance Issue"}], "state": "open", "locked": false, "assignee": {"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sanjoy", "id": 136291, "node_id": "MDQ6VXNlcjEzNjI5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/136291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjoy", "html_url": "https://github.com/sanjoy", "followers_url": "https://api.github.com/users/sanjoy/followers", "following_url": "https://api.github.com/users/sanjoy/following{/other_user}", "gists_url": "https://api.github.com/users/sanjoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjoy/subscriptions", "organizations_url": "https://api.github.com/users/sanjoy/orgs", "repos_url": "https://api.github.com/users/sanjoy/repos", "events_url": "https://api.github.com/users/sanjoy/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjoy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-29T21:01:31Z", "updated_at": "2020-03-04T01:10:04Z", "closed_at": null, "author_association": "NONE", "body": "I installed \"tensorflow/tensorflow:nightly-gpu-py3\" (at this moment 9 days old) docker image on my Ubuntu 18.04 with nvidia-driver-435, 8gb RAM, i5-8265U and mx110 video card. \r\n\r\nI executed the following code https://github.com/vadimen/algorithms/blob/master/code2.py . It's running mobileNet SSD from tensorflow examples. It's processing a video.\r\n\r\nThe code is writing in console the time(FPS) it need for inference. Executed on CPU on local machine it's 5x times faster than on GPU. \r\n\r\nOutput is as follows:\r\n\r\n2020-02-29 20:09:18.544335: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcuda.so.1\r\n2020-02-29 20:09:18.552675: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2020-02-29 20:09:18.553295: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1558] Found device 0 with properties: \r\npciBusID: 0000:01:00.0 name: GeForce MX110 computeCapability: 5.0\r\ncoreClock: 1.006GHz coreCount: 2 deviceMemorySize: 1.96GiB deviceMemoryBandwidth: 37.33GiB/s\r\n2020-02-29 20:09:18.554196: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.1\r\n2020-02-29 20:09:18.576049: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10\r\n2020-02-29 20:09:18.587918: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10\r\n2020-02-29 20:09:18.590462: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10\r\n2020-02-29 20:09:18.613041: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10\r\n2020-02-29 20:09:18.616945: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10\r\n2020-02-29 20:09:18.661350: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7\r\n2020-02-29 20:09:18.661573: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2020-02-29 20:09:18.662435: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2020-02-29 20:09:18.663145: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1700] Adding visible gpu devices: 0\r\n2020-02-29 20:09:20.104462: I tensorflow/core/platform/cpu_feature_guard.cc:143] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2020-02-29 20:09:20.130370: I tensorflow/core/platform/profile_utils/cpu_utils.cc:102] CPU Frequency: 1800000000 Hz\r\n2020-02-29 20:09:20.130765: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x4bf61c0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\n2020-02-29 20:09:20.130803: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\n2020-02-29 20:09:20.168110: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2020-02-29 20:09:20.168450: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x4b85270 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:\r\n2020-02-29 20:09:20.168467: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): GeForce MX110, Compute Capability 5.0\r\n2020-02-29 20:09:20.169053: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2020-02-29 20:09:20.169287: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1558] Found device 0 with properties: \r\npciBusID: 0000:01:00.0 name: GeForce MX110 computeCapability: 5.0\r\ncoreClock: 1.006GHz coreCount: 2 deviceMemorySize: 1.96GiB deviceMemoryBandwidth: 37.33GiB/s\r\n2020-02-29 20:09:20.169336: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.1\r\n2020-02-29 20:09:20.169350: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10\r\n2020-02-29 20:09:20.169364: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10\r\n2020-02-29 20:09:20.169379: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10\r\n2020-02-29 20:09:20.169394: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10\r\n2020-02-29 20:09:20.169414: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10\r\n2020-02-29 20:09:20.169432: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7\r\n2020-02-29 20:09:20.169502: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2020-02-29 20:09:20.169752: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2020-02-29 20:09:20.170089: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1700] Adding visible gpu devices: 0\r\n2020-02-29 20:09:20.170405: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.1\r\n2020-02-29 20:09:20.171326: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1099] Device interconnect StreamExecutor with strength 1 edge matrix:\r\n2020-02-29 20:09:20.171339: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105]      0 \r\n2020-02-29 20:09:20.171345: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1118] 0:   N \r\n2020-02-29 20:09:20.171411: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2020-02-29 20:09:20.171657: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:981] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero\r\n2020-02-29 20:09:20.171889: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1244] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 1024 MB memory) -> physical GPU (device: 0, name: GeForce MX110, pci bus id: 0000:01:00.0, compute capability: 5.0)\r\n{'detection_classes': TensorShape([None, 100]), 'num_detections': TensorShape([None]), 'detection_boxes': TensorShape([None, 100, 4]), 'detection_scores': TensorShape([None, 100])}\r\n2020-02-29 20:10:47.947871: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7\r\n2020-02-29 20:10:49.042241: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10\r\n2020-02-29 20:10:49.351873: W tensorflow/core/common_runtime/bfc_allocator.cc:245] Allocator (GPU_0_bfc) ran out of memory trying to allocate 1.04GiB with freed_by_count=0. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2020-02-29 20:10:49.389878: W tensorflow/core/common_runtime/bfc_allocator.cc:245] Allocator (GPU_0_bfc) ran out of memory trying to allocate 1.04GiB with freed_by_count=0. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2020-02-29 20:10:49.427350: W tensorflow/core/common_runtime/bfc_allocator.cc:245] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.06GiB with freed_by_count=0. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2020-02-29 20:10:49.463571: W tensorflow/core/common_runtime/bfc_allocator.cc:245] Allocator (GPU_0_bfc) ran out of memory trying to allocate 1.05GiB with freed_by_count=0. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2020-02-29 20:10:49.502225: W tensorflow/core/common_runtime/bfc_allocator.cc:245] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.09GiB with freed_by_count=0. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2020-02-29 20:10:49.539195: W tensorflow/core/common_runtime/bfc_allocator.cc:245] Allocator (GPU_0_bfc) ran out of memory trying to allocate 1.08GiB with freed_by_count=0. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2020-02-29 20:10:49.577960: W tensorflow/core/common_runtime/bfc_allocator.cc:245] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.15GiB with freed_by_count=0. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2020-02-29 20:10:49.627041: W tensorflow/core/common_runtime/bfc_allocator.cc:245] Allocator (GPU_0_bfc) ran out of memory trying to allocate 1.15GiB with freed_by_count=0. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2020-02-29 20:10:49.706667: W tensorflow/core/common_runtime/bfc_allocator.cc:245] Allocator (GPU_0_bfc) ran out of memory trying to allocate 1.14GiB with freed_by_count=0. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n2020-02-29 20:10:49.761623: W tensorflow/core/common_runtime/bfc_allocator.cc:245] Allocator (GPU_0_bfc) ran out of memory trying to allocate 2.27GiB with freed_by_count=0. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory were available.\r\n\r\nI think it's because of not enough memory, my mx110 card has 2GB of memory but output says it's all used.\r\n\r\nI tried to limit memory with this but it's still using everything.\r\n\r\n`gpus = tf.config.experimental.list_physical_devices('GPU')\r\n\r\ntf.config.experimental.set_virtual_device_configuration(gpus[0], [tf.config.experimental.VirtualDeviceConfiguration(memory_limit=1024)])`"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37196", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37196/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37196/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37196/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37196", "id": 573397217, "node_id": "MDU6SXNzdWU1NzMzOTcyMTc=", "number": 37196, "title": "Keras saves invalid JSON files containing NaN", "user": {"login": "lutzroeder", "id": 438516, "node_id": "MDQ6VXNlcjQzODUxNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/438516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lutzroeder", "html_url": "https://github.com/lutzroeder", "followers_url": "https://api.github.com/users/lutzroeder/followers", "following_url": "https://api.github.com/users/lutzroeder/following{/other_user}", "gists_url": "https://api.github.com/users/lutzroeder/gists{/gist_id}", "starred_url": "https://api.github.com/users/lutzroeder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lutzroeder/subscriptions", "organizations_url": "https://api.github.com/users/lutzroeder/orgs", "repos_url": "https://api.github.com/users/lutzroeder/repos", "events_url": "https://api.github.com/users/lutzroeder/events{/privacy}", "received_events_url": "https://api.github.com/users/lutzroeder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "k-w-w", "id": 31663267, "node_id": "MDQ6VXNlcjMxNjYzMjY3", "avatar_url": "https://avatars2.githubusercontent.com/u/31663267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-w-w", "html_url": "https://github.com/k-w-w", "followers_url": "https://api.github.com/users/k-w-w/followers", "following_url": "https://api.github.com/users/k-w-w/following{/other_user}", "gists_url": "https://api.github.com/users/k-w-w/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-w-w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-w-w/subscriptions", "organizations_url": "https://api.github.com/users/k-w-w/orgs", "repos_url": "https://api.github.com/users/k-w-w/repos", "events_url": "https://api.github.com/users/k-w-w/events{/privacy}", "received_events_url": "https://api.github.com/users/k-w-w/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "k-w-w", "id": 31663267, "node_id": "MDQ6VXNlcjMxNjYzMjY3", "avatar_url": "https://avatars2.githubusercontent.com/u/31663267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-w-w", "html_url": "https://github.com/k-w-w", "followers_url": "https://api.github.com/users/k-w-w/followers", "following_url": "https://api.github.com/users/k-w-w/following{/other_user}", "gists_url": "https://api.github.com/users/k-w-w/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-w-w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-w-w/subscriptions", "organizations_url": "https://api.github.com/users/k-w-w/orgs", "repos_url": "https://api.github.com/users/k-w-w/repos", "events_url": "https://api.github.com/users/k-w-w/events{/privacy}", "received_events_url": "https://api.github.com/users/k-w-w/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-02-29T19:35:16Z", "updated_at": "2020-03-16T07:39:01Z", "closed_at": null, "author_association": "NONE", "body": "**Describe the current behavior**\r\n\r\nJSON saved by Keras contains `NaN` which is invalid according to [RFC 7159](https://tools.ietf.org/html/rfc7159):\r\n\r\n> \"Numeric values that cannot be represented in the grammar below (such as Infinity and NaN) are not permitted.\"\r\n\r\n**Describe the expected behavior**\r\n\r\nKeras saves correct JSON format.\r\n\r\n**Standalone code to reproduce the issue** \r\n\r\n```\r\nimport tensorflow as tf\r\ni = tf.keras.layers.Input((600,600,3))\r\no = tf.keras.layers.Conv2D(16, (3, 3), padding='same', name='conv0',\r\n       kernel_regularizer=tf.keras.regularizers.l2(1e-2),\r\n       bias_regularizer=tf.keras.regularizers.l2(None),\r\n       kernel_initializer=tf.keras.initializers.RandomNormal(stddev=0.01),\r\n       bias_initializer=tf.keras.initializers.constant(0.0))(i)\r\nmodel = tf.keras.models.Model(i, o)\r\nwith open('repro.json', 'w') as json_file:\r\n    json_file.write(model.to_json())\r\n```\r\n\r\n```\r\n~ node\r\n> JSON.parse(require('fs').readFileSync('repro.json', 'utf-8'))\r\nUncaught SyntaxError: Unexpected token N in JSON at position 861 \r\n```\r\n\r\n[repro.zip](https://github.com/tensorflow/tensorflow/files/4270871/repro.zip)\r\n\r\nlutzroeder/netron#435\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37194", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37194/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37194/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37194/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37194", "id": 573350100, "node_id": "MDU6SXNzdWU1NzMzNTAxMDA=", "number": 37194, "title": "Cant run exe file from convert tensorflow to exe", "user": {"login": "TOPMANZA", "id": 49858640, "node_id": "MDQ6VXNlcjQ5ODU4NjQw", "avatar_url": "https://avatars0.githubusercontent.com/u/49858640?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TOPMANZA", "html_url": "https://github.com/TOPMANZA", "followers_url": "https://api.github.com/users/TOPMANZA/followers", "following_url": "https://api.github.com/users/TOPMANZA/following{/other_user}", "gists_url": "https://api.github.com/users/TOPMANZA/gists{/gist_id}", "starred_url": "https://api.github.com/users/TOPMANZA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TOPMANZA/subscriptions", "organizations_url": "https://api.github.com/users/TOPMANZA/orgs", "repos_url": "https://api.github.com/users/TOPMANZA/repos", "events_url": "https://api.github.com/users/TOPMANZA/events{/privacy}", "received_events_url": "https://api.github.com/users/TOPMANZA/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 1093464312, "node_id": "MDU6TGFiZWwxMDkzNDY0MzEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:others", "name": "type:others", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-02-29T17:31:28Z", "updated_at": "2020-03-16T09:27:37Z", "closed_at": null, "author_association": "NONE", "body": "i have problem for run exe file it been after i deploy script to exe i got application file and run it i got this message in command  i try many things try with command try with auto-py-to-exe it dont solve\r\n\r\n![75507237-1b78c700-5a13-11ea-8705-92635f011c90](https://user-images.githubusercontent.com/49858640/75612200-f2ac1b00-5b53-11ea-981e-27aebdbddd33.png)\r\n\r\nthis time die T-T\r\nPlease help me\r\ni use: Python 3.6.9 :: Anaconda, Inc\r\n   tensorflow-gpu==1.9.0\r\n   PyInstaller==4.0.dev0+a1f92c6a08\r\n   Eel==0.11.0"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37193", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37193/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37193/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37193/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37193", "id": 573304813, "node_id": "MDU6SXNzdWU1NzMzMDQ4MTM=", "number": 37193, "title": "\"Cannot take the length of shape with unknown rank\" error", "user": {"login": "MikhailMashukov", "id": 1663513, "node_id": "MDQ6VXNlcjE2NjM1MTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1663513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MikhailMashukov", "html_url": "https://github.com/MikhailMashukov", "followers_url": "https://api.github.com/users/MikhailMashukov/followers", "following_url": "https://api.github.com/users/MikhailMashukov/following{/other_user}", "gists_url": "https://api.github.com/users/MikhailMashukov/gists{/gist_id}", "starred_url": "https://api.github.com/users/MikhailMashukov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MikhailMashukov/subscriptions", "organizations_url": "https://api.github.com/users/MikhailMashukov/orgs", "repos_url": "https://api.github.com/users/MikhailMashukov/repos", "events_url": "https://api.github.com/users/MikhailMashukov/events{/privacy}", "received_events_url": "https://api.github.com/users/MikhailMashukov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-02-29T14:28:32Z", "updated_at": "2020-03-16T11:17:05Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): yes\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): Ubuntu 18.04.3\r\n- TensorFlow installed from (source or\r\nbinary): pip\r\n- TensorFlow version (use command below): tensorflow-addons==0.8.2\r\ntensorflow-estimator==2.1.0\r\ntensorflow-gpu==2.1.0\r\ntensorflow-probability==0.9.0\r\n- Python version: 3.6.9\r\n- CUDA/cuDNN version:  10.1.243 / 7.6.5\r\n- GPU model and memory: Tesla V100-SXM2 32 GB\r\n\r\n**Describe the current behavior**\r\nI\u2019m trying to switch from keras to tensorflow.keras (actually only to add TensorBoard callback to model.fit_generator and to be able to profile performance). \r\nNow I am getting \r\n```\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-6-70f0d0a1e94e> in <module>\r\n\u2026\r\n~/Visual_Z2/ImageNet.py in _doLearning(self, epochCount, learningCallback, otherParams, initialEpochNum)\r\n #                             self.model.fit_generator\r\n    430                                  validation_steps=testImageCount // self.batchSize,\r\n    431                                  workers=2,\r\n--> 432                                  verbose=2, callbacks=[tensorBoardCallback])\r\n    433             #, summaryCallback])\r\n    434             # Without make_one_shot_iterator - error fused convolution not supported\r\n\r\n/usr/local/lib/python3.6/dist-packages/tensorflow_core/python/util/deprecation.py in new_func(*args, **kwargs)\r\n    322               'in a future version' if date is None else ('after %s' % date),\r\n    323               instructions)\r\n--> 324       return func(*args, **kwargs)\r\n    325     return tf_decorator.make_decorator(\r\n    326         func, new_func, 'deprecated',\r\n\u2026\r\nValueError: in converted code:\r\n\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/keras/engine/training_v2.py:677 map_fn\r\n        batch_size=None)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/keras/engine/training.py:2469 _standardize_tensors\r\n        exception_prefix='target')\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow_core/python/keras/engine/training_utils.py:529 standardize_input_data\r\n\u2026\r\nValueError: Cannot take the length of shape with unknown rank.\r\n\r\n```\r\n**Describe the expected behavior**\r\nEverything worked on keras with tensorflow as backend.\r\n\r\n**Other info / logs**\r\nI read this can happen because of PyFunction, I really have it, but adding reshape/image.set_shape don't fix the error.\r\nI build input dataset like this\r\n\r\n```\r\ndef _loadTestImage(imageNum, label):\r\n    imageData = self.imageDataset.getImage(imageNum, 'net', 'test')       # Returns numpy array (227, 227, 3) of floats\r\n    return (imageData, keras.utils.to_categorical(label, num_classes=classCount))\r\n\r\ndef _tfLoadTestImage(imageNum, label):\r\n    image, label = tf.py_function(_loadTestImage, [imageNum, label], [tf.float32, tf.int32]) \r\n    # Adding image.set_shape(crop_size + (3, ))\r\n    # or tf.reshape(image, shape=crop_size + (3, ))\r\n    # here doesn\u2019t help\r\n    return image, label\r\n\r\nnumDs = tf.data.Dataset.from_tensor_slices(imageNums)       # Shuffled indices of images [15, 22, 3, \u2026] \r\nlabel_ds = tf.data.Dataset.from_tensor_slices(self.imageNumLabels)\r\nds = tf.data.Dataset.zip((numDs, label_ds))\r\nds = ds.repeat()\r\ntfTestDataset = ds.shuffle(buffer_size=max(epochImageCount, 2000))\r\ntfTestDataset = tfTestDataset.map(_tfLoadTestImage, num_parallel_calls=4)\r\ntfTestDataset = tfTestDataset.batch(self.batchSize)\r\n```\r\n\r\nThe problem looks identical to https://github.com/tensorflow/tensorflow/issues/24520#issuecomment-589119295 so I tried nightly build today (2.2.0-dev20200229) and still getting error, only \r\n\r\n```\r\nValueError: in user code:\r\n\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/training.py:499 train_function  *\r\n        outputs = self.distribute_strategy.experimental_run_v2(\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/distribute/distribute_lib.py:856 experimental_run_v2  **\r\n        return self._extended.call_for_each_replica(fn, args=args, kwargs=kwargs)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/distribute/distribute_lib.py:2112 call_for_each_replica\r\n        return self._call_for_each_replica(fn, args, kwargs)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/distribute/distribute_lib.py:2470 _call_for_each_replica\r\n        return fn(*args, **kwargs)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/training.py:471 train_step  **\r\n        self.compiled_metrics.update_state(y, y_pred, sample_weight)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/compile_utils.py:348 update_state\r\n        self._build(y_pred, y_true)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/compile_utils.py:267 _build\r\n        self._metrics, y_true, y_pred)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/util/nest.py:1118 map_structure_up_to\r\n        **kwargs)\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/util/nest.py:1214 map_structure_with_tuple_paths_up_to\r\n        *flat_value_lists)]\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/util/nest.py:1213 <listcomp>\r\n        results = [func(*args, **kwargs) for args in zip(flat_path_list,\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/util/nest.py:1116 <lambda>\r\n        lambda _, *values: func(*values),  # Discards the path arg.\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/compile_utils.py:377 _get_metric_objects\r\n        return [self._get_metric_object(m, y_t, y_p) for m in metrics]\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/compile_utils.py:377 <listcomp>\r\n        return [self._get_metric_object(m, y_t, y_p) for m in metrics]\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/keras/engine/compile_utils.py:398 _get_metric_object\r\n        y_t_rank = len(y_t.shape.as_list())\r\n    /usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/tensor_shape.py:1173 as_list\r\n        raise ValueError(\"as_list() is not defined on an unknown TensorShape.\")\r\n\r\n    ValueError: as_list() is not defined on an unknown TensorShape.\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37191", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37191/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37191/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37191/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37191", "id": 573304750, "node_id": "MDU6SXNzdWU1NzMzMDQ3NTA=", "number": 37191, "title": "Something is wrong with positional encoding,sin and cos should be concatenated.", "user": {"login": "lyj1998", "id": 35167256, "node_id": "MDQ6VXNlcjM1MTY3MjU2", "avatar_url": "https://avatars1.githubusercontent.com/u/35167256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lyj1998", "html_url": "https://github.com/lyj1998", "followers_url": "https://api.github.com/users/lyj1998/followers", "following_url": "https://api.github.com/users/lyj1998/following{/other_user}", "gists_url": "https://api.github.com/users/lyj1998/gists{/gist_id}", "starred_url": "https://api.github.com/users/lyj1998/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lyj1998/subscriptions", "organizations_url": "https://api.github.com/users/lyj1998/orgs", "repos_url": "https://api.github.com/users/lyj1998/repos", "events_url": "https://api.github.com/users/lyj1998/events{/privacy}", "received_events_url": "https://api.github.com/users/lyj1998/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-02-29T14:28:09Z", "updated_at": "2020-03-18T09:53:08Z", "closed_at": null, "author_association": "NONE", "body": "def positional_encoding(position, d_model):\r\n  angle_rads = get_angles(np.arange(position)[:, np.newaxis],\r\n                          np.arange(d_model)[np.newaxis, :],\r\n                          d_model)\r\n  \r\n  # \u5c06 sin \u5e94\u7528\u4e8e\u6570\u7ec4\u4e2d\u7684\u5076\u6570\u7d22\u5f15\uff08indices\uff09\uff1b2i\r\n  angle_rads[:, 0::2] = np.sin(angle_rads[:, 0::2])\r\n  \r\n  # \u5c06 cos \u5e94\u7528\u4e8e\u6570\u7ec4\u4e2d\u7684\u5947\u6570\u7d22\u5f15\uff1b2i+1\r\n  angle_rads[:, 1::2] = np.cos(angle_rads[:, 1::2])\r\n  angle_rads = np.concatenate([angle_rads[:, 0::2] ,angle_rads[:, 1::2]],axis = -1)\r\n  pos_encoding = angle_rads[np.newaxis, ...]\r\n    \r\n  return tf.cast(pos_encoding, dtype=tf.float32)"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37189", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37189/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37189/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37189/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37189", "id": 573303478, "node_id": "MDU6SXNzdWU1NzMzMDM0Nzg=", "number": 37189, "title": "Can you guys work on making Tensorflow easier to install?", "user": {"login": "Tylersuard", "id": 41713505, "node_id": "MDQ6VXNlcjQxNzEzNTA1", "avatar_url": "https://avatars1.githubusercontent.com/u/41713505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tylersuard", "html_url": "https://github.com/Tylersuard", "followers_url": "https://api.github.com/users/Tylersuard/followers", "following_url": "https://api.github.com/users/Tylersuard/following{/other_user}", "gists_url": "https://api.github.com/users/Tylersuard/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tylersuard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tylersuard/subscriptions", "organizations_url": "https://api.github.com/users/Tylersuard/orgs", "repos_url": "https://api.github.com/users/Tylersuard/repos", "events_url": "https://api.github.com/users/Tylersuard/events{/privacy}", "received_events_url": "https://api.github.com/users/Tylersuard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-02-29T14:20:44Z", "updated_at": "2020-03-14T09:17:44Z", "closed_at": null, "author_association": "NONE", "body": "Hi.  I spent 2 weeks trying to get Tensorflow up and running on my GPU.  It worked... for that one particular repo.  Now I'm trying another project, and apparently that particular version of Tensorflow gives me the error \"Tensorflow has no attribute 'dimension'\".  \r\n\r\nSo I tried to open a new environment, re-install tensorflow-gpu, and I'm getting a \"core-dump\" error.\r\n\r\nWith other packages, I can just type \"pip install\" and it works.  With tensorflow, every single time I have to use or install it I have to spend multiple hours debugging it.  Please, instead of adding new features, work on making Tensorflow able to be installed and used, without errors, by someone without a doctorate in computer science."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37187", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37187/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37187/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37187/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37187", "id": 573298689, "node_id": "MDU6SXNzdWU1NzMyOTg2ODk=", "number": 37187, "title": "guarantees for the logs argument in keras Callbacks", "user": {"login": "ngc92", "id": 7938269, "node_id": "MDQ6VXNlcjc5MzgyNjk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7938269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngc92", "html_url": "https://github.com/ngc92", "followers_url": "https://api.github.com/users/ngc92/followers", "following_url": "https://api.github.com/users/ngc92/following{/other_user}", "gists_url": "https://api.github.com/users/ngc92/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngc92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngc92/subscriptions", "organizations_url": "https://api.github.com/users/ngc92/orgs", "repos_url": "https://api.github.com/users/ngc92/repos", "events_url": "https://api.github.com/users/ngc92/events{/privacy}", "received_events_url": "https://api.github.com/users/ngc92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 284443156, "node_id": "MDU6TGFiZWwyODQ0NDMxNTY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:docs", "name": "type:docs", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rchao", "id": 6505863, "node_id": "MDQ6VXNlcjY1MDU4NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6505863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchao", "html_url": "https://github.com/rchao", "followers_url": "https://api.github.com/users/rchao/followers", "following_url": "https://api.github.com/users/rchao/following{/other_user}", "gists_url": "https://api.github.com/users/rchao/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchao/subscriptions", "organizations_url": "https://api.github.com/users/rchao/orgs", "repos_url": "https://api.github.com/users/rchao/repos", "events_url": "https://api.github.com/users/rchao/events{/privacy}", "received_events_url": "https://api.github.com/users/rchao/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchao", "id": 6505863, "node_id": "MDQ6VXNlcjY1MDU4NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6505863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchao", "html_url": "https://github.com/rchao", "followers_url": "https://api.github.com/users/rchao/followers", "following_url": "https://api.github.com/users/rchao/following{/other_user}", "gists_url": "https://api.github.com/users/rchao/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchao/subscriptions", "organizations_url": "https://api.github.com/users/rchao/orgs", "repos_url": "https://api.github.com/users/rchao/repos", "events_url": "https://api.github.com/users/rchao/events{/privacy}", "received_events_url": "https://api.github.com/users/rchao/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-02-29T13:47:43Z", "updated_at": "2020-03-13T23:57:48Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "## URL(s) with the issue:\r\nhttps://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback\r\nhttps://www.tensorflow.org/guide/keras/custom_callback\r\n\r\n## Description of issue (what needs changing):\r\nThe documentation for the keras `Callback` base class contains the following generic statement about the `logs` parameter passed to its methods:\r\n```\r\nThe logs dictionary that callback methods take as argument will contain keys for quantities relevant to the current batch or epoch.\r\n```\r\nand\r\n```\r\nThe logs dict contains the loss value, and all the metrics at the end of a batch or epoch. Example includes the loss and mean absolute error.\r\n```\r\non the Keras custom callbacks page.\r\n\r\nSince python passes objects by reference, the question becomes whether write-access to this logs parameter is allowed and supported. An example use case would be to provide a custom callback that populates the `logs` dictionary with some additional information that than would automatically be displayed in the progress bar and tensorboard, and recorded in history and CSV callbacks. \r\n\r\nTherefore, I think the documentation should clearly state whether \r\n1) Write-access to the `logs` dict is forbidden (in which case it might be worthwhile to pass a non-writeable dict-like type)\r\n2) Write-access to `logs` is allowed, and will not have any side-effects on any other Callback (i.e. each Callback gets an independent copy)\r\n3) The `logs` dict is writable, and changes to it are visible to any further Callback. This would also require to specify in which order the callbacks are processed.\r\n "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37185", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37185/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37185/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37185/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37185", "id": 573293309, "node_id": "MDU6SXNzdWU1NzMyOTMzMDk=", "number": 37185, "title": "Tensorflow 2.1.0 causing all RAM to be consumed on model.fit", "user": {"login": "HadiSDev", "id": 10367624, "node_id": "MDQ6VXNlcjEwMzY3NjI0", "avatar_url": "https://avatars2.githubusercontent.com/u/10367624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HadiSDev", "html_url": "https://github.com/HadiSDev", "followers_url": "https://api.github.com/users/HadiSDev/followers", "following_url": "https://api.github.com/users/HadiSDev/following{/other_user}", "gists_url": "https://api.github.com/users/HadiSDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/HadiSDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HadiSDev/subscriptions", "organizations_url": "https://api.github.com/users/HadiSDev/orgs", "repos_url": "https://api.github.com/users/HadiSDev/repos", "events_url": "https://api.github.com/users/HadiSDev/events{/privacy}", "received_events_url": "https://api.github.com/users/HadiSDev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1463677878, "node_id": "MDU6TGFiZWwxNDYzNjc3ODc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:performance", "name": "type:performance", "color": "159b2e", "default": false, "description": "Performance Issue"}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-02-29T13:18:44Z", "updated_at": "2020-03-09T00:35:29Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a bug. As per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:bug_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): \r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): Linux Ubuntu 19\r\n\r\n- Tensorflow version: 2.1.0cp37\r\n- CUDA/cuDNN version: - GPU model and memory:\r\n1070 GTX 8 GB GDDR5\r\n\r\n**Describe the current behavior**\r\nI am using tf.data dataset API. When using model.fit, on the first epoch, I am already consuming 16 GB of RAM when I run with GPU, but when I run with CPU the memory consumption is very small. \r\n\r\nEDIT: tensorflow-cpu actually has the same issue with high memory consumption\r\n\r\nSame dataset, same code. This only happens in Tensorflow 2.>\r\n\r\nIs this a known issue? What can I do as a temporarily fix?\r\n\r\n**Standalone code to reproduce the issue** \r\nJust a simpel model, with a dataset which loads images:\r\n```\r\nmodel = models.Sequential()\r\nmodel.add(Conv2D(4, (9, 9), activation='relu', input_shape=(IMG_HEIGHT, IMG_WIDTH, 3)))\r\nmodel.add(MaxPooling2D((2, 2)))\r\nmodel.add(Conv2D(8, (9, 9), activation='relu'))\r\nmodel.add(MaxPooling2D((2, 2)))\r\nmodel.add(Conv2D(16, (9, 9), activation='relu'))\r\nmodel.add(MaxPooling2D((2, 2)))\r\n\r\n\r\nmodel.add(Flatten())\r\nmodel.add(Dense(5, activation='sigmoid'))\r\n\r\nmodel.summary()\r\n\r\nmodel.compile(optimizer='adam', loss=losses.binary_crossentropy, metrics=['accuracy'])\r\n\r\nhistory = model.fit(ds_train,\r\n                    steps_per_epoch=steps_per_epoch,\r\n                    validation_data=ds_val,\r\n                    validation_steps=validation_steps,\r\n                    epochs=10)\r\n```\r\n\r\nI should also mention that the images I am using are concatenated images that are 320px * 4 in width and 180 in height\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37182", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37182/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37182/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37182/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37182", "id": 573269086, "node_id": "MDU6SXNzdWU1NzMyNjkwODY=", "number": 37182, "title": "Could not find any TF GPUs when I use trt_convert", "user": {"login": "kimchicanh", "id": 20283416, "node_id": "MDQ6VXNlcjIwMjgzNDE2", "avatar_url": "https://avatars3.githubusercontent.com/u/20283416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kimchicanh", "html_url": "https://github.com/kimchicanh", "followers_url": "https://api.github.com/users/kimchicanh/followers", "following_url": "https://api.github.com/users/kimchicanh/following{/other_user}", "gists_url": "https://api.github.com/users/kimchicanh/gists{/gist_id}", "starred_url": "https://api.github.com/users/kimchicanh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kimchicanh/subscriptions", "organizations_url": "https://api.github.com/users/kimchicanh/orgs", "repos_url": "https://api.github.com/users/kimchicanh/repos", "events_url": "https://api.github.com/users/kimchicanh/events{/privacy}", "received_events_url": "https://api.github.com/users/kimchicanh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1754777628, "node_id": "MDU6TGFiZWwxNzU0Nzc3NjI4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:gpu:tensorrt", "name": "comp:gpu:tensorrt", "color": "ea98ba", "default": false, "description": "Issues specific to TensorRT"}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-02-29T10:26:12Z", "updated_at": "2020-03-09T03:28:11Z", "closed_at": null, "author_association": "NONE", "body": "I use:\r\nOS: 16.04\r\ncuda: 10.2\r\ncudnn: 7\r\npython:3.6\r\ntensorflow-gpu:2.1\r\nGPU: Titan V - 12GB\r\nI convert model tensorflow to tensorRT:\r\n`from tensorflow.python.compiler.tensorrt import trt_convert as trt`\r\n`input_saved_model_dir = \"./model_tensor/\"`\r\n`output_saved_model_dir = \"./model_tensor_rt/\"`\r\n`converter = trt.TrtGraphConverterV2(input_saved_model_dir=input_saved_model_dir)`\r\n`converter.convert()`\r\n`converter.save(output_saved_model_dir)`\r\n\r\nI still can inference model on tensorflow:\r\nHowever I cannot convert to tensorRT: \r\n\r\n2020-02-29 17:19:35.901924: E tensorflow/compiler/tf2tensorrt/convert/convert_graph.cc:102]Could not find any TF GPUs\r\n\r\n2020-02-29 17:19:35.901927: W tensorflow/compiler/tf2tensorrt/convert/convert_graph.cc:726] Can't identify the cuda device. Running on device 0 \r\n\r\n2020-02-29 17:19:35.901958: I tensorflow/compiler/tf2tensorrt/convert/convert_graph.cc:737] Replaced segment 5 consisting of 4 nodes by \r\nStatefulPartitionedCall/X/Y/TRTEngineOp_5.\r\n\r\nThanks"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37181", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37181/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37181/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37181/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37181", "id": 573246891, "node_id": "MDU6SXNzdWU1NzMyNDY4OTE=", "number": 37181, "title": "tf2.0 when use large input dims in tf.keras.layers.Embedding layer under eager mode, it turns to be very slow", "user": {"login": "nnnnwang", "id": 28330290, "node_id": "MDQ6VXNlcjI4MzMwMjkw", "avatar_url": "https://avatars1.githubusercontent.com/u/28330290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnnnwang", "html_url": "https://github.com/nnnnwang", "followers_url": "https://api.github.com/users/nnnnwang/followers", "following_url": "https://api.github.com/users/nnnnwang/following{/other_user}", "gists_url": "https://api.github.com/users/nnnnwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnnnwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnnnwang/subscriptions", "organizations_url": "https://api.github.com/users/nnnnwang/orgs", "repos_url": "https://api.github.com/users/nnnnwang/repos", "events_url": "https://api.github.com/users/nnnnwang/events{/privacy}", "received_events_url": "https://api.github.com/users/nnnnwang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1463677878, "node_id": "MDU6TGFiZWwxNDYzNjc3ODc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:performance", "name": "type:performance", "color": "159b2e", "default": false, "description": "Performance Issue"}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-02-29T08:02:24Z", "updated_at": "2020-03-02T11:30:58Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is an issue related to performance of TensorFlow.\r\nAs per our\r\n[GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md),\r\nwe only address code/doc bugs, performance issues, feature requests and\r\nbuild/installation issues on GitHub. tag:performance_template</em>\r\n\r\n**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow):  yes\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04):  centos7\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: \r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below):  2.0.0\r\n- Python version: - Bazel \r\nversion (if compiling from source): 3.6.8\r\n- GCC/Compiler version (if compiling from\r\nsource):  \r\n- CUDA/cuDNN version: - GPU model and memory: CUDA10.0 tesla v100 16G\r\n\r\nYou can collect some of this information using our environment capture\r\n[script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh)\r\nYou can also obtain the TensorFlow version with: 1. TF 1.0: `python -c \"import\r\ntensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)\"` 2. TF 2.0: `python -c\r\n\"import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)\"`\r\n\r\n**Describe the current behavior**\r\ni set the input dims be 10,000,000 when I use tf.keras.layers.Embedding. Under the eager mode(default), mode.fit() is very slow. But when i disable the eager mode, the speed turns to be normal.\r\n**Describe the expected behavior**\r\nit should be no difference if i enable eager mode or not.\r\n**Standalone code to reproduce the issue** \r\nProvide a reproducible test case that is the bare minimum necessary to generate\r\nthe problem. If possible, please share a link to Colab/Jupyter/any notebook.\r\n```\r\ntest_input = tf.ones((1000, 1), dtype=tf.int64)\r\nlabel = tf.ones((1000, 1))\r\nm_input = Input(shape=(1,))\r\ndense = Embedding(5000000, 16,name='embed')(m_input)\r\ndense = Dense(10)(dense)\r\ndense = Dense(5)(dense)\r\noutput = Dense(1,'sigmoid')(Flatten()(dense))\r\nmodel = Model(inputs=[m_input], outputs=[output])\r\nmodel.compile(\"adam\", loss='binary_crossentropy')\r\nmodel.fit(test_input, label, steps_per_epoch=1000, epochs=1)\r\n```\r\n**Other info / logs** Include any logs or source code that would be helpful to\r\ndiagnose the problem. If including tracebacks, please include the full\r\ntraceback. Large logs and files should be attached.\r\n\r\n```\r\nwhen use eager mode, time cost is as follow\r\n\r\n1/1000 [..............................] - ETA: 29:49 - loss: 0.7492\r\n2/1000 [..............................] - ETA: 25:54 - loss: 0.7430\r\n3/1000 [..............................] - ETA: 24:58 - loss: 0.7368\r\n4/1000 [..............................] - ETA: 24:21 - loss: 0.7307\r\n\r\ndisable the eager mode using tf.compat.v1.disable_eager_execution()\r\n\r\n\r\n 706/1000 [====================>.........] - ETA: 0s - loss: 0.0520\r\n 765/1000 [=====================>........] - ETA: 0s - loss: 0.0484\r\n 819/1000 [=======================>......] - ETA: 0s - loss: 0.0455\r\n 870/1000 [=========================>....] - ETA: 0s - loss: 0.0430\r\n 926/1000 [==========================>...] - ETA: 0s - loss: 0.0406\r\n 984/1000 [============================>.] - ETA: 0s - loss: 0.0384\r\n1000/1000 [==============================] - 2s 2ms/step - loss: 0.0379\r\n\r\n```\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37180", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37180/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37180/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37180/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37180", "id": 573152074, "node_id": "MDU6SXNzdWU1NzMxNTIwNzQ=", "number": 37180, "title": "tf.keras.callbacks.TensorBoard  type profiling support for straight Tensorflow", "user": {"login": "whatdhack", "id": 12969966, "node_id": "MDQ6VXNlcjEyOTY5OTY2", "avatar_url": "https://avatars3.githubusercontent.com/u/12969966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whatdhack", "html_url": "https://github.com/whatdhack", "followers_url": "https://api.github.com/users/whatdhack/followers", "following_url": "https://api.github.com/users/whatdhack/following{/other_user}", "gists_url": "https://api.github.com/users/whatdhack/gists{/gist_id}", "starred_url": "https://api.github.com/users/whatdhack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whatdhack/subscriptions", "organizations_url": "https://api.github.com/users/whatdhack/orgs", "repos_url": "https://api.github.com/users/whatdhack/repos", "events_url": "https://api.github.com/users/whatdhack/events{/privacy}", "received_events_url": "https://api.github.com/users/whatdhack/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 473173272, "node_id": "MDU6TGFiZWw0NzMxNzMyNzI=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:feature", "name": "type:feature", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-02-29T03:59:17Z", "updated_at": "2020-03-02T10:24:12Z", "closed_at": null, "author_association": "NONE", "body": "<em>Please make sure that this is a feature request. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:feature_template</em>\r\n\r\n\r\n**System information**\r\n- TensorFlow version (you are using): 1.15\r\n- Are you willing to contribute it (Yes/No):\r\nNo sure.\r\n\r\n\r\n**Describe the feature and the current behavior/state.**\r\n\r\ntf.keras.callbacks.TensorBoard has a nice and simple way to  do profiling and  throwing the result up on Tensorboard.  It would be great to have that easy feature also for plain TF (sess.run).  \r\n\r\nIn addition, I think  the following enhancements will be very useful. \r\n1.  Ability to aggregate a number of traces.\r\n2.  Backport the range of batch ( instead of just one batch ) from 2.x to 1.5 ?\r\n3.  Linking the  time line traces with graph in both direction, from profile to graph and vice-versa.\r\n4.  The Op names in the graph and profile should exactly match. Currently they are not exactly same ( e.g. out_0/MatMul:_MklMatMul vs out_0/MatMul/(MatMul) ).\r\n5. There seems to be a number of different ways to profile straight TF and Keras. The following are what I am able to  find (so far, not sure if there are more).  Clear, concise and comprehensive documentation will be good.\r\n           - tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE) and tf.compat.v1.summary.FileWriter.add_run_metadata() .  Seems to be graph annotations and does not seem to capture Keras  backprop part.\r\n           -  tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE) and timeline.Timeline() - seems to work with both TF and Keras. However generates  JSON and hence does not get displayed by Tensorbaord. \r\n           - tf.keras.callbacks.TensorBoard() - only works with Keras and captures only one batch out off all in the epoch. \r\n\r\n**Will this change the current api? How?**\r\nN/A\r\n\r\n**Who will benefit with this feature?**\r\nEvery user. \r\n**Any Other info.**\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37177", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37177/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37177/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37177/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37177", "id": 573072139, "node_id": "MDU6SXNzdWU1NzMwNzIxMzk=", "number": 37177, "title": "NotImplementedError: Cannot convert a symbolic Tensor (up_sampling2d_5_target_2:0) to a numpy array.", "user": {"login": "SlowMonk", "id": 33189954, "node_id": "MDQ6VXNlcjMzMTg5OTU0", "avatar_url": "https://avatars0.githubusercontent.com/u/33189954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SlowMonk", "html_url": "https://github.com/SlowMonk", "followers_url": "https://api.github.com/users/SlowMonk/followers", "following_url": "https://api.github.com/users/SlowMonk/following{/other_user}", "gists_url": "https://api.github.com/users/SlowMonk/gists{/gist_id}", "starred_url": "https://api.github.com/users/SlowMonk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SlowMonk/subscriptions", "organizations_url": "https://api.github.com/users/SlowMonk/orgs", "repos_url": "https://api.github.com/users/SlowMonk/repos", "events_url": "https://api.github.com/users/SlowMonk/events{/privacy}", "received_events_url": "https://api.github.com/users/SlowMonk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 1093464312, "node_id": "MDU6TGFiZWwxMDkzNDY0MzEy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:others", "name": "type:others", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gadagashwini", "id": 48476109, "node_id": "MDQ6VXNlcjQ4NDc2MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/48476109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gadagashwini", "html_url": "https://github.com/gadagashwini", "followers_url": "https://api.github.com/users/gadagashwini/followers", "following_url": "https://api.github.com/users/gadagashwini/following{/other_user}", "gists_url": "https://api.github.com/users/gadagashwini/gists{/gist_id}", "starred_url": "https://api.github.com/users/gadagashwini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gadagashwini/subscriptions", "organizations_url": "https://api.github.com/users/gadagashwini/orgs", "repos_url": "https://api.github.com/users/gadagashwini/repos", "events_url": "https://api.github.com/users/gadagashwini/events{/privacy}", "received_events_url": "https://api.github.com/users/gadagashwini/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-02-28T23:59:45Z", "updated_at": "2020-03-13T10:01:04Z", "closed_at": null, "author_association": "NONE", "body": "```\r\nimport keras.backend as K\r\nfrom keras.optimizers import Adam\r\nfrom keras.losses import binary_crossentropy\r\n\r\n## intersection over union\r\ndef IoU(y_true, y_pred, eps=1e-6):\r\n    print(y_true)\r\n    if np.max(y_true) == 0.0:\r\n        return IoU(1-y_true, 1-y_pred) ## empty image; calc IoU of zeros\r\n    #if 0 == K.equal(y_true, 0):\r\n    #    y_true = K.switch(0, 1-y_true, y_true)\r\n    #    y_pred = K.switch(0, 1-y_pred, y_pred)\r\n    #    return IoU(1-y_true, 1-y_pred) ## empty image; calc IoU of zeros\r\n        \r\n    intersection = K.sum(y_true * y_pred, axis=[1,2,3])\r\n    union = K.sum(y_true, axis=[1,2,3]) + K.sum(y_pred, axis=[1,2,3]) - intersection\r\n    return -K.mean( (intersection + eps) / (union + eps), axis=0)\r\n```\r\n\r\n\r\n> Tensor(\"up_sampling2d_5_target_2:0\", shape=(None, None, None, None), dtype=float32)\r\n> ---------------------------------------------------------------------------\r\n> NotImplementedError                       Traceback (most recent call last)\r\n> <ipython-input-26-466b05eae4fa> in <module>\r\n>      14 \r\n>      15 while True:\r\n> ---> 16     loss_history = fit()\r\n>      17     if np.min([mh.history['val_loss'] for mh in loss_history]) < -0.2:\r\n>      18         break\r\n> \r\n> <ipython-input-26-466b05eae4fa> in fit()\r\n>       1 def fit():\r\n> ----> 2     seg_model.compile(optimizer=Adam(1e-3, decay=1e-6), loss=IoU, metrics=['binary_accuracy'])\r\n>       3 \r\n>       4     step_count = min(MAX_TRAIN_STEPS, train_df.shape[0]//BATCH_SIZE)\r\n>       5     aug_gen = create_aug_gen(make_image_gen(train_df))\r\n> \r\n> ~/venv/lib/python3.7/site-packages/keras/backend/tensorflow_backend.py in symbolic_fn_wrapper(*args, **kwargs)\r\n>      73         if _SYMBOLIC_SCOPE.value:\r\n>      74             with get_graph().as_default():\r\n> ---> 75                 return func(*args, **kwargs)\r\n>      76         else:\r\n>      77             return func(*args, **kwargs)\r\n> \r\n> ~/venv/lib/python3.7/site-packages/keras/engine/training.py in compile(self, optimizer, loss, metrics, loss_weights, sample_weight_mode, weighted_metrics, target_tensors, **kwargs)\r\n>     227         #                   loss_weight_2 * output_2_loss_fn(...) +\r\n>     228         #                   layer losses.\r\n> --> 229         self.total_loss = self._prepare_total_loss(masks)\r\n>     230 \r\n>     231         # Functions for train, test and predict will\r\n> \r\n> ~/venv/lib/python3.7/site-packages/keras/engine/training.py in _prepare_total_loss(self, masks)\r\n>     690 \r\n>     691                     output_loss = loss_fn(\r\n> --> 692                         y_true, y_pred, sample_weight=sample_weight)\r\n>     693 \r\n>     694                 if len(self.outputs) > 1:\r\n> \r\n> ~/venv/lib/python3.7/site-packages/keras/losses.py in __call__(self, y_true, y_pred, sample_weight)\r\n>      69         scope_name = 'lambda' if self.name == '<lambda>' else self.name\r\n>      70         with K.name_scope(scope_name):\r\n> ---> 71             losses = self.call(y_true, y_pred)\r\n>      72             return losses_utils.compute_weighted_loss(\r\n>      73                 losses, sample_weight, reduction=self.reduction)\r\n> \r\n> ~/venv/lib/python3.7/site-packages/keras/losses.py in call(self, y_true, y_pred)\r\n>     130             Loss values per sample.\r\n>     131         \"\"\"\r\n> --> 132         return self.fn(y_true, y_pred, **self._fn_kwargs)\r\n>     133 \r\n>     134     def get_config(self):\r\n> \r\n> <ipython-input-24-d1d9fb424ded> in IoU(y_true, y_pred, eps)\r\n>       6 def IoU(y_true, y_pred, eps=1e-6):\r\n>       7     print(y_true)\r\n> ----> 8     if np.max(y_true) == 0.0:\r\n>       9         return IoU(1-y_true, 1-y_pred) ## empty image; calc IoU of zeros\r\n>      10     #if 0 == K.equal(y_true, 0):\r\n> \r\n> <__array_function__ internals> in amax(*args, **kwargs)\r\n> \r\n> ~/venv/lib/python3.7/site-packages/numpy/core/fromnumeric.py in amax(a, axis, out, keepdims, initial, where)\r\n>    2619     \"\"\"\r\n>    2620     return _wrapreduction(a, np.maximum, 'max', axis, None, out,\r\n> -> 2621                           keepdims=keepdims, initial=initial, where=where)\r\n>    2622 \r\n>    2623 \r\n> \r\n> ~/venv/lib/python3.7/site-packages/numpy/core/fromnumeric.py in _wrapreduction(obj, ufunc, method, axis, dtype, out, **kwargs)\r\n>      88                 return reduction(axis=axis, out=out, **passkwargs)\r\n>      89 \r\n> ---> 90     return ufunc.reduce(obj, axis, dtype, out, **passkwargs)\r\n>      91 \r\n>      92 \r\n> \r\n> ~/venv/lib/python3.7/site-packages/tensorflow_core/python/framework/ops.py in __array__(self)\r\n>     734   def __array__(self):\r\n>     735     raise NotImplementedError(\"Cannot convert a symbolic Tensor ({}) to a numpy\"\r\n> --> 736                               \" array.\".format(self.name))\r\n>     737 \r\n>     738   def __len__(self):\r\n> \r\n> NotImplementedError: Cannot convert a symbolic Tensor (up_sampling2d_5_target_2:0) to a numpy array."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37173", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37173/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37173/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37173/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37173", "id": 572946927, "node_id": "MDU6SXNzdWU1NzI5NDY5Mjc=", "number": 37173, "title": "Null pointer to a converted model using Tensorflow Lite in Android Studio. \"Byte buffer is not a valid flatbuffer model.\" Exception", "user": {"login": "mainouraldeen", "id": 30505502, "node_id": "MDQ6VXNlcjMwNTA1NTAy", "avatar_url": "https://avatars3.githubusercontent.com/u/30505502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mainouraldeen", "html_url": "https://github.com/mainouraldeen", "followers_url": "https://api.github.com/users/mainouraldeen/followers", "following_url": "https://api.github.com/users/mainouraldeen/following{/other_user}", "gists_url": "https://api.github.com/users/mainouraldeen/gists{/gist_id}", "starred_url": "https://api.github.com/users/mainouraldeen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mainouraldeen/subscriptions", "organizations_url": "https://api.github.com/users/mainouraldeen/orgs", "repos_url": "https://api.github.com/users/mainouraldeen/repos", "events_url": "https://api.github.com/users/mainouraldeen/events{/privacy}", "received_events_url": "https://api.github.com/users/mainouraldeen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-02-28T19:06:21Z", "updated_at": "2020-03-18T05:30:24Z", "closed_at": null, "author_association": "NONE", "body": "i made a model containing layers of type: Conv3D, MaxPool3D, Flatten, Dense and Batch normalization and converted it to tflite model as follows..\r\n\r\n```bash\r\nimport tensorflow as tf\r\n\r\nconverter = tf.lite.TFLiteConverter.from_saved_model(saved_model_dir)\r\nconverter.target_spec.supported_ops = [tf.lite.OpsSet.TFLITE_BUILTINS,\r\n                                       tf.lite.OpsSet.SELECT_TF_OPS]\r\ntflite_model = converter.convert()\r\n```\r\n\r\nThe problem is when i load this converted model in Android Studio it always gives me illegal argument exception saying  **\"Byte buffer is not a valid flatbuffer model\"** & a null pointer to it\r\n\r\ni also, specified this dependency in my build.gradle to add the necessary TF op support.\r\n\r\n```bash\r\ndependencies {\r\n    implementation 'org.tensorflow:tensorflow-lite:0.0.0-nightly'\r\n    implementation 'org.tensorflow:tensorflow-lite-select-tf-ops:0.0.0-nightly'\r\n} \r\n```\r\nAny help?"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37172", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37172/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37172/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37172/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37172", "id": 572908269, "node_id": "MDU6SXNzdWU1NzI5MDgyNjk=", "number": 37172, "title": "module 'tensorflow._api.v1.nn' has no attribute 'seq2seq'", "user": {"login": "mohlondon", "id": 45628941, "node_id": "MDQ6VXNlcjQ1NjI4OTQx", "avatar_url": "https://avatars0.githubusercontent.com/u/45628941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mohlondon", "html_url": "https://github.com/mohlondon", "followers_url": "https://api.github.com/users/mohlondon/followers", "following_url": "https://api.github.com/users/mohlondon/following{/other_user}", "gists_url": "https://api.github.com/users/mohlondon/gists{/gist_id}", "starred_url": "https://api.github.com/users/mohlondon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mohlondon/subscriptions", "organizations_url": "https://api.github.com/users/mohlondon/orgs", "repos_url": "https://api.github.com/users/mohlondon/repos", "events_url": "https://api.github.com/users/mohlondon/events{/privacy}", "received_events_url": "https://api.github.com/users/mohlondon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548890241, "node_id": "MDU6TGFiZWwxNTQ4ODkwMjQx", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%201.15", "name": "TF 1.15", "color": "e99695", "default": false, "description": "for issues seen on TF 1.15"}, {"id": 1105108936, "node_id": "MDU6TGFiZWwxMTA1MTA4OTM2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:model", "name": "comp:model", "color": "0052cc", "default": false, "description": ""}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amahendrakar", "id": 57165142, "node_id": "MDQ6VXNlcjU3MTY1MTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57165142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amahendrakar", "html_url": "https://github.com/amahendrakar", "followers_url": "https://api.github.com/users/amahendrakar/followers", "following_url": "https://api.github.com/users/amahendrakar/following{/other_user}", "gists_url": "https://api.github.com/users/amahendrakar/gists{/gist_id}", "starred_url": "https://api.github.com/users/amahendrakar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amahendrakar/subscriptions", "organizations_url": "https://api.github.com/users/amahendrakar/orgs", "repos_url": "https://api.github.com/users/amahendrakar/repos", "events_url": "https://api.github.com/users/amahendrakar/events{/privacy}", "received_events_url": "https://api.github.com/users/amahendrakar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-02-28T17:46:21Z", "updated_at": "2020-03-19T10:37:52Z", "closed_at": null, "author_association": "NONE", "body": "when i execute this command \r\npython tensorflow/models/rnn/translate/translate.py \r\n\r\n\r\ni get \r\n\r\nPreparing WMT data in /home/baba055h_s/\r\n2020-02-28 17:45:29.997997: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2020-02-28 17:45:30.002826: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300000000 Hz\r\n2020-02-28 17:45:30.003172: I tensorflow/compiler/xla/service/service.cc:150] XLA service 0x55c1f9a006a0 executing computations on platform Host. Devices:\r\n2020-02-28 17:45:30.003209: I tensorflow/compiler/xla/service/service.cc:158]   StreamExecutor device (0): <undefined>, <undefined>\r\nCreating 3 layers of 1024 units.\r\nWARNING:tensorflow:From /home/baba055h_s/anaconda3/lib/python3.7/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nColocations handled automatically by placer.\r\nWARNING:tensorflow:From /home/baba055h_s/ten3/tensorflow/tensorflow/models/rnn/translate/seq2seq_model.py:117: GRUCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nThis class is equivalent as tf.keras.layers.GRUCell, and will be replaced by that in Tensorflow 2.0.\r\nWARNING:tensorflow:From /home/baba055h_s/ten3/tensorflow/tensorflow/models/rnn/translate/seq2seq_model.py:122: MultiRNNCell.__init__ (from tensorflow.python.ops.rnn_cell_impl) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nThis class is equivalent as tf.keras.layers.StackedRNNCells, and will be replaced by that in Tensorflow 2.0.\r\nWARNING:tensorflow:At least two cells provided to MultiRNNCell are the same object and will share weights.\r\nTraceback (most recent call last):\r\n  File \"./translate.py\", line 290, in <module>\r\n    tf.app.run()\r\n  File \"/home/baba055h_s/anaconda3/lib/python3.7/site-packages/tensorflow/python/platform/app.py\", line 125, in run\r\n    _sys.exit(main(argv))\r\n  File \"./translate.py\", line 287, in main\r\n    train()\r\n  File \"./translate.py\", line 152, in train\r\n    model = create_model(sess, False)\r\n  File \"./translate.py\", line 131, in create_model\r\n    dtype=dtype)\r\n  File \"/home/baba055h_s/ten3/tensorflow/tensorflow/models/rnn/translate/seq2seq_model.py\", line 168, in __init__\r\n    self.outputs, self.losses = tf.nn.seq2seq.model_with_buckets(\r\nAttributeError: module 'tensorflow._api.v1.nn' has no attribute 'seq2seq'\r\n\r\n\r\n\r\n\r\n\r\nplease can any one help"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37167", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37167/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37167/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37167/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37167", "id": 572775357, "node_id": "MDU6SXNzdWU1NzI3NzUzNTc=", "number": 37167, "title": "[TF 2.1] BUG: set_seed with categorical in a conditional branch in graph mode.", "user": {"login": "SebastienKeroack", "id": 1323190, "node_id": "MDQ6VXNlcjEzMjMxOTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/1323190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SebastienKeroack", "html_url": "https://github.com/SebastienKeroack", "followers_url": "https://api.github.com/users/SebastienKeroack/followers", "following_url": "https://api.github.com/users/SebastienKeroack/following{/other_user}", "gists_url": "https://api.github.com/users/SebastienKeroack/gists{/gist_id}", "starred_url": "https://api.github.com/users/SebastienKeroack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SebastienKeroack/subscriptions", "organizations_url": "https://api.github.com/users/SebastienKeroack/orgs", "repos_url": "https://api.github.com/users/SebastienKeroack/repos", "events_url": "https://api.github.com/users/SebastienKeroack/events{/privacy}", "received_events_url": "https://api.github.com/users/SebastienKeroack/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1097547147, "node_id": "MDU6TGFiZWwxMDk3NTQ3MTQ3", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:ops", "name": "comp:ops", "color": "0052cc", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gowthamkpr", "id": 47574994, "node_id": "MDQ6VXNlcjQ3NTc0OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/47574994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gowthamkpr", "html_url": "https://github.com/gowthamkpr", "followers_url": "https://api.github.com/users/gowthamkpr/followers", "following_url": "https://api.github.com/users/gowthamkpr/following{/other_user}", "gists_url": "https://api.github.com/users/gowthamkpr/gists{/gist_id}", "starred_url": "https://api.github.com/users/gowthamkpr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gowthamkpr/subscriptions", "organizations_url": "https://api.github.com/users/gowthamkpr/orgs", "repos_url": "https://api.github.com/users/gowthamkpr/repos", "events_url": "https://api.github.com/users/gowthamkpr/events{/privacy}", "received_events_url": "https://api.github.com/users/gowthamkpr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-02-28T14:04:15Z", "updated_at": "2020-03-06T01:13:42Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\n- Have I written custom code (as opposed to using a stock\r\nexample script provided in TensorFlow): Yes\r\n- OS Platform and Distribution (e.g.,\r\nLinux Ubuntu 16.04): Ubuntu 18.04\r\n- Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if\r\nthe issue happens on mobile device: \r\n- TensorFlow installed from (source or\r\nbinary): - TensorFlow version (use command below):  From source and binary using pip.\r\n- Python version: - Bazel\r\nversion (if compiling from source): Python=3.6.9, Bazel=2.0.0\r\n- GCC/Compiler version (if compiling from\r\nsource): 8.3.0\r\n- CUDA/cuDNN version: - GPU model and memory:\r\n\r\n**Describe the current behavior**\r\nThe example containing the bug always returns the first step in `tf.function` with `tf.cond` if we define a seed with `tf.random.set_seed`.\r\nA= tf.Tensor([0 0 0 0 0 0 0 0 0 0 0 0], shape=(12,), dtype=int64)\r\n\r\n**Describe the expected behavior**\r\nA= tf.Tensor([0 1 1 0 0 1 1 1 1 0 1 1], shape=(12,), dtype=int64)\r\nA= tf.Tensor([0 0 0 0 0 0 1 1 0 1 1 0], shape=(12,), dtype=int64)\r\n...\r\n\r\n**Standalone code to reproduce the issue** \r\nBug sample:\r\n```\r\nimport tensorflow as tf\r\n\r\ntf.random.set_seed(0)\r\n\r\ndef f1():\r\n    return(tf.random.categorical(tf.math.log([[0.5, 0.5]]), 1))\r\n\r\n@tf.function\r\ndef body():\r\n    Y = []\r\n    for t in range(12):\r\n        Y.append(\r\n            tf.cond(tf.constant(True),\r\n                    f1,\r\n                    f1)\r\n        )\r\n    return(tf.squeeze(Y))\r\n\r\nA = body()\r\n\r\nprint(\"A=\", A)\r\n# A= tf.Tensor([0 0 0 0 0 0 0 0 0 0 0 0], shape=(12,), dtype=int64)\r\n```\r\n\r\n1. Working sample:\r\n```\r\nimport tensorflow as tf\r\n\r\ndef f1():\r\n    return(tf.random.categorical(tf.math.log([[0.5, 0.5]]), 1))\r\n\r\n@tf.function\r\ndef body():\r\n    Y = []\r\n    for t in range(12):\r\n        Y.append(\r\n            tf.cond(tf.constant(True),\r\n                    f1,\r\n                    f1)\r\n        )\r\n    return(tf.squeeze(Y))\r\n\r\nA = body()\r\n\r\nprint(\"A=\", A)\r\n# A= tf.Tensor([0 1 1 0 0 1 1 1 1 0 1 1], shape=(12,), dtype=int64)\r\n```\r\n\r\n2. Working sample:\r\n```\r\nimport tensorflow as tf\r\n\r\ntf.random.set_seed(0)\r\n\r\ndef f1():\r\n    return(tf.random.categorical(tf.math.log([[0.5, 0.5]]), 1))\r\n\r\n@tf.function\r\ndef body():\r\n    Y = []\r\n    for t in range(12):\r\n        ret_0 = f1()\r\n        ret_1 = f1()\r\n        \r\n        Y.append(\r\n            tf.cond(tf.constant(True),\r\n                    lambda: ret_0,\r\n                    lambda: ret_1)\r\n        )\r\n    return(tf.squeeze(Y))\r\n\r\nA = body()\r\n\r\nprint(\"A=\", A)\r\n# A= tf.Tensor([0 0 0 0 0 0 1 1 0 1 1 0], shape=(12,), dtype=int64)\r\n```\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37166", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37166/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37166/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37166/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37166", "id": 572765301, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgxMzk4Mzcx", "number": 37166, "title": "TFLM: implement new memory planning API.", "user": {"login": "wangtz", "id": 34290063, "node_id": "MDQ6VXNlcjM0MjkwMDYz", "avatar_url": "https://avatars1.githubusercontent.com/u/34290063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wangtz", "html_url": "https://github.com/wangtz", "followers_url": "https://api.github.com/users/wangtz/followers", "following_url": "https://api.github.com/users/wangtz/following{/other_user}", "gists_url": "https://api.github.com/users/wangtz/gists{/gist_id}", "starred_url": "https://api.github.com/users/wangtz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wangtz/subscriptions", "organizations_url": "https://api.github.com/users/wangtz/orgs", "repos_url": "https://api.github.com/users/wangtz/repos", "events_url": "https://api.github.com/users/wangtz/events{/privacy}", "received_events_url": "https://api.github.com/users/wangtz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1169365494, "node_id": "MDU6TGFiZWwxMTY5MzY1NDk0", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:M", "name": "size:M", "color": "adafea", "default": false, "description": "CL Change Size: Medium"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rthadur", "id": 43972606, "node_id": "MDQ6VXNlcjQzOTcyNjA2", "avatar_url": "https://avatars2.githubusercontent.com/u/43972606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rthadur", "html_url": "https://github.com/rthadur", "followers_url": "https://api.github.com/users/rthadur/followers", "following_url": "https://api.github.com/users/rthadur/following{/other_user}", "gists_url": "https://api.github.com/users/rthadur/gists{/gist_id}", "starred_url": "https://api.github.com/users/rthadur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rthadur/subscriptions", "organizations_url": "https://api.github.com/users/rthadur/orgs", "repos_url": "https://api.github.com/users/rthadur/repos", "events_url": "https://api.github.com/users/rthadur/events{/privacy}", "received_events_url": "https://api.github.com/users/rthadur/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-28T13:46:15Z", "updated_at": "2020-03-17T12:22:27Z", "closed_at": null, "author_association": "MEMBER", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37166", "html_url": "https://github.com/tensorflow/tensorflow/pull/37166", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37166.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37166.patch"}, "body": "This is a test. \r\n\r\nhttps://unhashable.com/stacked-pull-requests-keeping-github-diffs-small/"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37164", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37164/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37164/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37164/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37164", "id": 572746220, "node_id": "MDU6SXNzdWU1NzI3NDYyMjA=", "number": 37164, "title": "TensorFlow 2.1.0 Not utilising GPU even though it can see it.  ", "user": {"login": "georgeparry12", "id": 61587443, "node_id": "MDQ6VXNlcjYxNTg3NDQz", "avatar_url": "https://avatars0.githubusercontent.com/u/61587443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/georgeparry12", "html_url": "https://github.com/georgeparry12", "followers_url": "https://api.github.com/users/georgeparry12/followers", "following_url": "https://api.github.com/users/georgeparry12/following{/other_user}", "gists_url": "https://api.github.com/users/georgeparry12/gists{/gist_id}", "starred_url": "https://api.github.com/users/georgeparry12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/georgeparry12/subscriptions", "organizations_url": "https://api.github.com/users/georgeparry12/orgs", "repos_url": "https://api.github.com/users/georgeparry12/repos", "events_url": "https://api.github.com/users/georgeparry12/events{/privacy}", "received_events_url": "https://api.github.com/users/georgeparry12/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473173351, "node_id": "MDU6TGFiZWw0NzMxNzMzNTE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:build/install", "name": "type:build/install", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-02-28T13:10:40Z", "updated_at": "2020-03-06T08:33:18Z", "closed_at": null, "author_association": "NONE", "body": "TensorFlow does not utilise the GPU despite being able to see it. When I run a script, task manager does not show any activity on the GPU...\r\n\r\n**Recently I have tried:**\r\n\r\nUpdated NVIDIA driver.\r\n\r\nUninstalled Tensorflow, python 3.7, cuDNN, CUDA, Visual Studio.\r\n\r\nInstalled Visual Studio.\r\n\r\nInstalled CUDA 10.1 [cuda_10.1.243_426.00_win10].\r\n\r\nInstalled cuDNN (and moved the .dll, .h, .lib files) [cudnn-10.1-windows10-x64-v7.6.5.32.zip]\r\n\r\nInstalled python [python-3.7.4-amd64.exe]\r\n\r\nInstalled Tensorflow (2.1.0) into a new environment and made a Kernel\r\n\r\n**When I run ...**\r\nimport tensorflow as tf\r\ntf.test.is_gpu_available(\r\n    cuda_only=False, min_cuda_compute_capability=None\r\n)\r\n**\u2026 it returns** \r\n\"true\"\r\n\r\n**when I run**\r\n\"from tensorflow.python.client import device_lib\r\nprint(device_lib.list_local_devices())\"\r\n\r\n**it returns**\r\n [name: \"/device:CPU:0\"\r\ndevice_type: \"CPU\"\r\nmemory_limit: 268435456\r\nlocality {\r\n}\r\nincarnation: 3456819361691180826\r\n, name: \"/device:GPU:0\"\r\ndevice_type: \"GPU\"\r\nmemory_limit: 9105744200\r\nlocality {\r\n  bus_id: 1\r\n  links {\r\n  }\r\n}\r\nincarnation: 18022178943584354069\r\nphysical_device_desc: \"device: 0, name: GeForce RTX 2080 Ti, pci bus id: 0000:01:00.0, compute capability: 7.5\"\r\n\r\nHowever, when I run my script the task manager shows no activation on the GPU.  "}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37160", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37160/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37160/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37160/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37160", "id": 572643642, "node_id": "MDU6SXNzdWU1NzI2NDM2NDI=", "number": 37160, "title": "Thread leakage in TF2.1", "user": {"login": "sowo", "id": 2765941, "node_id": "MDQ6VXNlcjI3NjU5NDE=", "avatar_url": "https://avatars0.githubusercontent.com/u/2765941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sowo", "html_url": "https://github.com/sowo", "followers_url": "https://api.github.com/users/sowo/followers", "following_url": "https://api.github.com/users/sowo/following{/other_user}", "gists_url": "https://api.github.com/users/sowo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sowo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sowo/subscriptions", "organizations_url": "https://api.github.com/users/sowo/orgs", "repos_url": "https://api.github.com/users/sowo/repos", "events_url": "https://api.github.com/users/sowo/events{/privacy}", "received_events_url": "https://api.github.com/users/sowo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 1463677878, "node_id": "MDU6TGFiZWwxNDYzNjc3ODc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:performance", "name": "type:performance", "color": "159b2e", "default": false, "description": "Performance Issue"}], "state": "open", "locked": false, "assignee": {"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ymodak", "id": 42785357, "node_id": "MDQ6VXNlcjQyNzg1MzU3", "avatar_url": "https://avatars1.githubusercontent.com/u/42785357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymodak", "html_url": "https://github.com/ymodak", "followers_url": "https://api.github.com/users/ymodak/followers", "following_url": "https://api.github.com/users/ymodak/following{/other_user}", "gists_url": "https://api.github.com/users/ymodak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymodak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymodak/subscriptions", "organizations_url": "https://api.github.com/users/ymodak/orgs", "repos_url": "https://api.github.com/users/ymodak/repos", "events_url": "https://api.github.com/users/ymodak/events{/privacy}", "received_events_url": "https://api.github.com/users/ymodak/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-02-28T09:49:14Z", "updated_at": "2020-03-10T13:28:46Z", "closed_at": null, "author_association": "NONE", "body": "**System information** \r\nRed Hat Enterprise Linux Server release 7.7 (Maipo)\r\n\r\n- TensorFlow in docker container (nvcr.io/nvidia/tensorflow:20.01-tf2-py3 and tensorflow/tensorflow:2.1.0-gpu-py3-jupyter): - TensorFlow version: 2.1.0\r\n\r\n- Python version: 3.6.9\r\n\r\n- CUDA/cuDNN version: - GPU model and memory: CUDA 10.2, libcudnn.so.7, DGX-1 server with 8xTesla V100-SXM2 (32GB)\r\n\r\n**Describe the current behavior**\r\n\r\nWhen executing the following jupyter block in TF2.1, we experience thread leakage that results in a crash after around 720 epochs. It seems that with every epoch, 5-6 new threads are created that are never cleaned up.\r\n\r\n```\r\nThistory = []\r\n\r\nhistory = model.fit(trnx, trny, \r\n          epochs=1000,                   # doesn't seem to make any difference\r\n          batch_size = 1024,            # affects GPU utilization\r\n          validation_split=0.06,        # , (note comma!) # use 6% for validation\r\n          class_weight={0:1, 1:50.0}, # Pay a lot more attention to Class \"1\"\r\n         )\r\n\r\nThistory.append(history)\r\n```\r\nWhen examining the core dump, we see that at the time of the crash approx. 4090 threads have been created and the backtrace of the crashing thread looks like this:\r\n\r\n```\r\n(gdb) bt\r\n#0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51\r\n#1  0x00007fd6d9854801 in __GI_abort () at abort.c:79\r\n#2  0x00007fd6d3d32c02 in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#3  0x00007fd6d3d30ab6 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#4  0x00007fd6d3d30af1 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n#5  0x00007fd6a19ab3de in std::execute_native_thread_routine (__p=0x8f947540) at /dt7-src/libstdc++-v3/src/nonshared11/../c++11/thread.cc:91\r\n#6  0x00007fd6d95fc6db in start_thread (arg=0x7fc6b3fff700) at pthread_create.c:463\r\n#7  0x00007fd6d993588f in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:95\r\n```\r\nHere is the full log of the failing run:\r\n\r\n```\r\nFeb 27 16:08:03 bash[4775]: ================\r\nFeb 27 16:08:03 bash[4775]: == TensorFlow ==\r\nFeb 27 16:08:03 bash[4775]: ================\r\nFeb 27 16:08:03 bash[4775]: NVIDIA Release 20.02-tf2 (build 9892252)\r\nFeb 27 16:08:03 bash[4775]: TensorFlow Version 2.1.0\r\nFeb 27 16:08:03 bash[4775]: Container image Copyright (c) 2019, NVIDIA CORPORATION.  All rights reserved.\r\nFeb 27 16:08:03 bash[4775]: Copyright 2017-2019 The TensorFlow Authors.  All rights reserved.\r\nFeb 27 16:08:03 bash[4775]: Various files include modifications (c) NVIDIA CORPORATION.  All rights reserved.\r\nFeb 27 16:08:03 bash[4775]: NVIDIA modifications are covered by the license terms that apply to the underlying project or file\r\n.\r\nFeb 27 16:08:03 bash[4775]: NOTE: Legacy NVIDIA Driver detected.  Compatibility mode ENABLED.\r\nFeb 27 16:08:03 bash[4775]: NOTE: Detected MOFED driver 5.0-0; version automatically updated.\r\nFeb 27 16:08:03 bash[4775]: NOTE: MOFED driver was detected, but nv_peer_mem driver was not detected.\r\nFeb 27 16:08:03 bash[4775]: Multi-node communication performance may be reduced.\r\nFeb 27 16:08:05 bash[4775]: 2020-02-27 16:08:05.294586: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Succes\r\nsfully opened dynamic library libcudart.so.10.2\r\nFeb 27 16:08:06 bash[4775]: 2020-02-27 16:08:06.049185: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Succes\r\nsfully opened dynamic library libnvinfer.so.7\r\nFeb 27 16:08:06 bash[4775]: 2020-02-27 16:08:06.050172: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Succes\r\nsfully opened dynamic library libnvinfer_plugin.so.7\r\nFeb 27 16:08:06 bash[4775]: [I 16:08:06.830 NotebookApp] jupyter_tensorboard extension loaded.\r\nFeb 27 16:08:06 bash[4775]: [I 16:08:06.862 NotebookApp] JupyterLab extension loaded from /usr/local/lib/python3.6/dist-packag\r\nes/jupyterlab\r\nFeb 27 16:08:06 bash[4775]: [I 16:08:06.862 NotebookApp] JupyterLab application directory is /usr/local/share/jupyter/lab\r\nFeb 27 16:08:06 bash[4775]: [I 16:08:06.864 NotebookApp] [Jupytext Server Extension] NotebookApp.contents_manager_class is (a\r\nsubclass of) jupytext.TextFileContentsManager already - OK\r\nFeb 27 16:08:06 bash[4775]: [I 16:08:06.865 NotebookApp] Serving notebooks from local directory: /home/xxxxxx\r\nFeb 27 16:08:06 bash[4775]: [I 16:08:06.865 NotebookApp] The Jupyter Notebook is running at:\r\nFeb 27 16:08:06 bash[4775]: [I 16:08:06.865 NotebookApp] http://hostname:8888/\r\nFeb 27 16:08:06 bash[4775]: [I 16:08:06.865 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to\r\n skip confirmation).\r\nFeb 27 16:08:30 bash[4775]: [W 16:08:30.916 NotebookApp] 404 GET /api/kernels/2a8b1a39-d9f0-48f5-8b4d-7bc1188a06c4/channels?se\r\nssion_id=7c85bda7cc01423c89e3b2d4652db535 (172.27.68.155): Kernel does not exist: 2a8b1a39-d9f0-48f5-8b4d-7bc1188a06c4\r\nFeb 27 16:08:30 bash[4775]: [W 16:08:30.944 NotebookApp] 404 GET /api/kernels/2a8b1a39-d9f0-48f5-8b4d-7bc1188a06c4/channels?se\r\nssion_id=7c85bda7cc01423c89e3b2d4652db535 (172.27.68.155) 38.39ms referer=None\r\nFeb 27 16:08:50 bash[4775]: [W 16:08:50.358 NotebookApp] 404 GET /nbconvert/html/Notebooks/custom.css (172.27.68.155): No such\r\n file or directory: Notebooks/custom.css\r\nFeb 27 16:08:50 bash[4775]: [W 16:08:50.359 NotebookApp] 404 GET /nbconvert/html/Notebooks/custom.css (172.27.68.155) 13.11ms\r\nreferer=None\r\nFeb 27 16:08:51 bash[4775]: [I 16:08:51.706 NotebookApp] Kernel started: 5ff3ace7-0cf6-4cd1-8610-1b721b134801\r\nFeb 27 16:08:51 bash[4775]: [W 16:08:51.713 NotebookApp] 404 GET /nbextensions/widgets/notebook/js/extension.js?v=202002271608\r\n04 (172.27.68.155) 3.03ms referer=http://dls007.idc.ctbto.org:8888/notebooks/Notebooks/20200225A.ipynb\r\nFeb 27 16:08:52 bash[4775]: [IPKernelApp] WARNING | Could not set permissions on /home/xxxxxx/.ipython/profile_default/securit\r\ny\r\nFeb 27 16:08:52 bash[4775]: [IPKernelApp] WARNING | Could not set permissions on /home/xxxxxx/.ipython/profile_default/pid\r\nFeb 27 16:08:52 bash[4775]: [IPKernelApp] WARNING | Could not set permissions on /home/xxxxxx/.ipython/profile_default/securit\r\ny\r\nFeb 27 16:08:52 bash[4775]: [IPKernelApp] WARNING | Could not set permissions on /home/xxxxxx/.ipython/profile_default/pid\r\nFeb 27 16:08:56 bash[4775]: [I 16:08:56.902 NotebookApp] Saving file at /Notebooks/20200225A.ipynb\r\nFeb 27 16:08:56 bash[4775]: [I 16:08:56.903 NotebookApp] Saving 20200225A.ipynb\r\nFeb 27 16:09:07 bash[4775]: [W 16:09:07.039 NotebookApp] 404 GET /api/contents/Notebooks/20200227B.ipynb?type=notebook&content\r\n=0&_=1582819731172 (172.27.68.155): No such file or directory: Notebooks/20200227B.ipynb\r\nFeb 27 16:09:07 bash[4775]: [W 16:09:07.040 NotebookApp] No such file or directory: Notebooks/20200227B.ipynb\r\nFeb 27 16:09:07 bash[4775]: [W 16:09:07.041 NotebookApp] 404 GET /api/contents/Notebooks/20200227B.ipynb?type=notebook&content\r\n=0&_=1582819731172 (172.27.68.155) 1.91ms referer=http://dls007.idc.ctbto.org:8888/notebooks/Notebooks/20200225A.ipynb\r\nFeb 27 16:09:07 bash[4775]: [I 16:09:07.060 NotebookApp] Uploading file to /Notebooks/20200227B.ipynb\r\nFeb 27 16:09:07 bash[4775]: [I 16:09:07.061 NotebookApp] Saving 20200227B.ipynb\r\nFeb 27 16:09:11 bash[4775]: [I 16:09:11.094 NotebookApp] Saving file at /Notebooks/20200227B.ipynb\r\nFeb 27 16:09:11 bash[4775]: [I 16:09:11.095 NotebookApp] Saving 20200227B.ipynb\r\nFeb 27 16:09:13 bash[4775]: 2020-02-27 16:09:13.621022: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Succes\r\nsfully opened dynamic library libcudart.so.10.2\r\nFeb 27 16:09:14 bash[4775]: 2020-02-27 16:09:14.257420: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Succes\r\nsfully opened dynamic library libnvinfer.so.7\r\nFeb 27 16:09:14 bash[4775]: 2020-02-27 16:09:14.258187: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Succes\r\nsfully opened dynamic library libnvinfer_plugin.so.7\r\nFeb 27 16:10:51 bash[4775]: [I 16:10:51.723 NotebookApp] Saving file at /Notebooks/20200227B.ipynb\r\nFeb 27 16:10:51 bash[4775]: [I 16:10:51.723 NotebookApp] Saving 20200227B.ipynb\r\nFeb 27 16:11:44 bash[4775]: 2020-02-27 16:11:44.933864: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Succes\r\nsfully opened dynamic library libcuda.so.1\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.339561: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device\r\n0 with properties:\r\nFeb 27 16:11:45 bash[4775]: pciBusID: 0000:06:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:45 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.341723: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device\r\n1 with properties:\r\nFeb 27 16:11:45 bash[4775]: pciBusID: 0000:07:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:45 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.343843: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device\r\n2 with properties:\r\nFeb 27 16:11:45 bash[4775]: pciBusID: 0000:0a:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:45 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.346002: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device\r\n3 with properties:\r\nFeb 27 16:11:45 bash[4775]: pciBusID: 0000:0b:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:45 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.348146: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device\r\n4 with properties:\r\nFeb 27 16:11:45 bash[4775]: pciBusID: 0000:85:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:45 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.350207: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device\r\n5 with properties:\r\nFeb 27 16:11:45 bash[4775]: pciBusID: 0000:86:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:45 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.352268: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device\r\n6 with properties:\r\nFeb 27 16:11:45 bash[4775]: pciBusID: 0000:89:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:45 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.354321: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device\r\n7 with properties:\r\nFeb 27 16:11:45 bash[4775]: pciBusID: 0000:8a:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:45 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.354367: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Succes\r\nsfully opened dynamic library libcudart.so.10.2\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.354408: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Succes\r\nsfully opened dynamic library libcublas.so.10\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.359249: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Succes\r\nsfully opened dynamic library libcufft.so.10\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.362850: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Succes\r\nsfully opened dynamic library libcurand.so.10\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.373520: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.376601: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.376650: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.408041: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1697] Adding visible gpu devices: 0, 1, 2, 3, 4, 5, 6, 7\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.420281: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2194960000 Hz\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.425679: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x49acb80 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\nFeb 27 16:11:45 bash[4775]: 2020-02-27 16:11:45.425704: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.086025: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x7f1428005760 initialized for platform CUDA (this does not guarantee that XLA will be used). Devices:\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.086061: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Tesla V100-SXM2-32GB, Compute Capability 7.0\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.086071: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (1): Tesla V100-SXM2-32GB, Compute Capability 7.0\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.086079: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (2): Tesla V100-SXM2-32GB, Compute Capability 7.0\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.086087: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (3): Tesla V100-SXM2-32GB, Compute Capability 7.0\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.086096: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (4): Tesla V100-SXM2-32GB, Compute Capability 7.0\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.086125: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (5): Tesla V100-SXM2-32GB, Compute Capability 7.0\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.086151: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (6): Tesla V100-SXM2-32GB, Compute Capability 7.0\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.086181: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (7): Tesla V100-SXM2-32GB, Compute Capability 7.0\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.093006: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 0 with properties:\r\nFeb 27 16:11:47 bash[4775]: pciBusID: 0000:06:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:47 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.095291: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 1 with properties:\r\nFeb 27 16:11:47 bash[4775]: pciBusID: 0000:07:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:47 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.097537: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 2 with properties:\r\nFeb 27 16:11:47 bash[4775]: pciBusID: 0000:0a:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:47 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.099773: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 3 with properties:\r\nFeb 27 16:11:47 bash[4775]: pciBusID: 0000:0b:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:47 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.102139: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 4 with properties:\r\nFeb 27 16:11:47 bash[4775]: pciBusID: 0000:85:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:47 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.104446: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 5 with properties:\r\nFeb 27 16:11:47 bash[4775]: pciBusID: 0000:86:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:47 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.106721: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 6 with properties:\r\nFeb 27 16:11:47 bash[4775]: pciBusID: 0000:89:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:47 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.109273: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1555] Found device 7 with properties:\r\nFeb 27 16:11:47 bash[4775]: pciBusID: 0000:8a:00.0 name: Tesla V100-SXM2-32GB computeCapability: 7.0\r\nFeb 27 16:11:47 bash[4775]: coreClock: 1.53GHz coreCount: 80 deviceMemorySize: 31.72GiB deviceMemoryBandwidth: 836.37GiB/s\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.109329: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.2\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.109349: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.109369: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.109392: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.109409: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.109425: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.109439: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.146520: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1697] Adding visible gpu devices: 0, 1, 2, 3, 4, 5, 6, 7\r\nFeb 27 16:11:47 bash[4775]: 2020-02-27 16:11:47.146574: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.2\r\nFeb 27 16:11:53 bash[4775]: 2020-02-27 16:11:53.978874: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1096] Device interconnect StreamExecutor with strength 1 edge matrix:\r\nFeb 27 16:11:53 bash[4775]: 2020-02-27 16:11:53.978919: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1102]      0 1 2 3 4 5 6 7\r\nFeb 27 16:11:53 bash[4775]: 2020-02-27 16:11:53.978949: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] 0:   N Y Y Y Y N N N\r\nFeb 27 16:11:53 bash[4775]: 2020-02-27 16:11:53.978960: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] 1:   Y N Y Y N Y N N\r\nFeb 27 16:11:53 bash[4775]: 2020-02-27 16:11:53.978989: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] 2:   Y Y N Y N N Y N\r\nFeb 27 16:11:53 bash[4775]: 2020-02-27 16:11:53.978998: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] 3:   Y Y Y N N N N Y\r\nFeb 27 16:11:53 bash[4775]: 2020-02-27 16:11:53.979028: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] 4:   Y N N N N Y Y Y\r\nFeb 27 16:11:53 bash[4775]: 2020-02-27 16:11:53.979037: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] 5:   N Y N N Y N Y Y\r\nFeb 27 16:11:53 bash[4775]: 2020-02-27 16:11:53.979049: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] 6:   N N Y N Y Y N Y\r\nFeb 27 16:11:53 bash[4775]: 2020-02-27 16:11:53.979058: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1115] 7:   N N N Y Y Y Y N\r\nFeb 27 16:11:54 bash[4775]: 2020-02-27 16:11:54.009417: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1241] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 29967 MB memory) -> physical GPU (device: 0, name: Tesla V100-SXM2-32GB, pci bus id: 0000:06:00.0, compute capability: 7.0)\r\nFeb 27 16:11:54 bash[4775]: 2020-02-27 16:11:54.013256: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1241] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:1 with 29967 MB memory) -> physical GPU (device: 1, name: Tesla V100-SXM2-32GB, pci bus id: 0000:07:00.0, compute capability: 7.0)\r\nFeb 27 16:11:54 bash[4775]: 2020-02-27 16:11:54.016950: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1241] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:2 with 29967 MB memory) -> physical GPU (device: 2, name: Tesla V100-SXM2-32GB, pci bus id: 0000:0a:00.0, compute capability: 7.0)\r\nFeb 27 16:11:54 bash[4775]: 2020-02-27 16:11:54.020472: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1241] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:3 with 29967 MB memory) -> physical GPU (device: 3, name: Tesla V100-SXM2-32GB, pci bus id: 0000:0b:00.0, compute capability: 7.0)\r\nFeb 27 16:11:54 bash[4775]: 2020-02-27 16:11:54.023913: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1241] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:4 with 29967 MB memory) -> physical GPU (device: 4, name: Tesla V100-SXM2-32GB, pci bus id: 0000:85:00.0, compute capability: 7.0)\r\nFeb 27 16:11:54 bash[4775]: 2020-02-27 16:11:54.027396: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1241] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:5 with 29967 MB memory) -> physical GPU (device: 5, name: Tesla V100-SXM2-32GB, pci bus id: 0000:86:00.0, compute capability: 7.0)\r\nFeb 27 16:11:54 bash[4775]: 2020-02-27 16:11:54.030902: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1241] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:6 with 29967 MB memory) -> physical GPU (device: 6, name: Tesla V100-SXM2-32GB, pci bus id: 0000:89:00.0, compute capability: 7.0)\r\nFeb 27 16:11:54 bash[4775]: 2020-02-27 16:11:54.034514: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1241] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:7 with 29967 MB memory) -> physical GPU (device: 7, name: Tesla V100-SXM2-32GB, pci bus id: 0000:8a:00.0, compute capability: 7.0)\r\nFeb 27 16:12:48 bash[4775]: 2020-02-27 16:12:48.633652: W tensorflow/core/grappler/optimizers/meta_optimizer.cc:147] TF_ENABLE_AUTO_MIXED_PRECISION has no effect.\r\nFeb 27 16:12:49 bash[4775]: 2020-02-27 16:12:49.700819: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:\r\nFeb 27 16:12:49 bash[4775]: Total processable nodes: 13403\r\nFeb 27 16:12:49 bash[4775]: Recognized nodes available for conversion: 8834\r\nFeb 27 16:12:49 bash[4775]: Total nodes converted: 1104\r\nFeb 27 16:12:49 bash[4775]: Total FP16 Cast ops used (excluding Const and Variable casts): 120\r\nFeb 27 16:12:49 bash[4775]: Whitelisted nodes converted: 272\r\nFeb 27 16:12:49 bash[4775]: Blacklisted nodes blocking conversion: 432\r\nFeb 27 16:12:49 bash[4775]: Nodes blocked from conversion by blacklisted nodes: 1072\r\nFeb 27 16:12:49 bash[4775]: For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:\r\nFeb 27 16:12:49 bash[4775]: https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp\r\nFeb 27 16:12:51 bash[4775]: [I 16:12:51.706 NotebookApp] Saving file at /Notebooks/20200227B.ipynb\r\nFeb 27 16:12:51 bash[4775]: [I 16:12:51.707 NotebookApp] Saving 20200227B.ipynb\r\nFeb 27 16:12:52 bash[4775]: 2020-02-27 16:12:52.343735: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10\r\nFeb 27 16:12:54 bash[4775]: 2020-02-27 16:12:54.744883: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7\r\nFeb 27 16:13:08 bash[4775]: libibverbs: Warning: no userspace device-specific driver found for /sys/class/infiniband_verbs/uverbs3\r\nFeb 27 16:13:08 bash[4775]: libibverbs: Warning: no userspace device-specific driver found for /sys/class/infiniband_verbs/uverbs2\r\nFeb 27 16:13:08 bash[4775]: libibverbs: Warning: no userspace device-specific driver found for /sys/class/infiniband_verbs/uverbs1\r\nFeb 27 16:13:08 bash[4775]: libibverbs: Warning: no userspace device-specific driver found for /sys/class/infiniband_verbs/uverbs0\r\nFeb 27 16:13:21 bash[4775]: 2020-02-27 16:13:21.697661: W tensorflow/core/grappler/optimizers/meta_optimizer.cc:147] TF_ENABLE_AUTO_MIXED_PRECISION has no effect.\r\nFeb 27 16:13:21 bash[4775]: 2020-02-27 16:13:21.877836: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:\r\nFeb 27 16:13:21 bash[4775]: Total processable nodes: 2754\r\nFeb 27 16:13:21 bash[4775]: Recognized nodes available for conversion: 1796\r\nFeb 27 16:13:21 bash[4775]: Total nodes converted: 496\r\nFeb 27 16:13:21 bash[4775]: Total FP16 Cast ops used (excluding Const and Variable casts): 64\r\nFeb 27 16:13:21 bash[4775]: Whitelisted nodes converted: 80\r\nFeb 27 16:13:21 bash[4775]: Blacklisted nodes blocking conversion: 64\r\nFeb 27 16:13:21 bash[4775]: Nodes blocked from conversion by blacklisted nodes: 8\r\nFeb 27 16:13:21 bash[4775]: For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:\r\nFeb 27 16:13:21 bash[4775]: https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp\r\nFeb 27 16:13:45 bash[4775]: [I 16:13:45.930 NotebookApp] Kernel interrupted: 5ff3ace7-0cf6-4cd1-8610-1b721b134801\r\nFeb 27 16:14:51 bash[4775]: [I 16:14:51.673 NotebookApp] Saving file at /Notebooks/20200227B.ipynb\r\nFeb 27 16:14:51 bash[4775]: [I 16:14:51.674 NotebookApp] Saving 20200227B.ipynb\r\nFeb 27 16:15:18 bash[4775]: 2020-02-27 16:15:18.903125: W tensorflow/core/grappler/optimizers/meta_optimizer.cc:147] TF_ENABLE_AUTO_MIXED_PRECISION has no effect.\r\nFeb 27 16:15:19 bash[4775]: 2020-02-27 16:15:19.989487: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:\r\nFeb 27 16:15:19 bash[4775]: Total processable nodes: 13403\r\nFeb 27 16:15:19 bash[4775]: Recognized nodes available for conversion: 8834\r\nFeb 27 16:15:19 bash[4775]: Total nodes converted: 1104\r\nFeb 27 16:15:19 bash[4775]: Total FP16 Cast ops used (excluding Const and Variable casts): 120\r\nFeb 27 16:15:19 bash[4775]: Whitelisted nodes converted: 272\r\nFeb 27 16:15:19 bash[4775]: Blacklisted nodes blocking conversion: 432\r\nFeb 27 16:15:19 bash[4775]: Nodes blocked from conversion by blacklisted nodes: 1072\r\nFeb 27 16:15:19 bash[4775]: For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:\r\nFeb 27 16:15:19 bash[4775]: https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp\r\nFeb 27 16:15:33 bash[4775]: 2020-02-27 16:15:33.431854: W tensorflow/core/grappler/optimizers/meta_optimizer.cc:147] TF_ENABLE_AUTO_MIXED_PRECISION has no effect.\r\nFeb 27 16:15:33 bash[4775]: 2020-02-27 16:15:33.612105: I tensorflow/core/grappler/optimizers/auto_mixed_precision.cc:1035] Automatic Mixed Precision Grappler Pass Summary:\r\nFeb 27 16:15:33 bash[4775]: Total processable nodes: 2754\r\nFeb 27 16:15:33 bash[4775]: Recognized nodes available for conversion: 1796\r\nFeb 27 16:15:33 bash[4775]: Total nodes converted: 496\r\nFeb 27 16:15:33 bash[4775]: Total FP16 Cast ops used (excluding Const and Variable casts): 64\r\nFeb 27 16:15:33 bash[4775]: Whitelisted nodes converted: 80\r\nFeb 27 16:15:33 bash[4775]: Blacklisted nodes blocking conversion: 64\r\nFeb 27 16:15:33 bash[4775]: Nodes blocked from conversion by blacklisted nodes: 8\r\nFeb 27 16:15:33 bash[4775]: For more information regarding mixed precision training, including how to make automatic mixed precision aware of a custom op type, please see the documentation available here:\r\nFeb 27 16:15:33 bash[4775]: https://docs.nvidia.com/deeplearning/frameworks/tensorflow-user-guide/index.html#tfamp\r\nFeb 27 16:16:51 bash[4775]: [I 16:16:51.865 NotebookApp] Saving file at /Notebooks/20200227B.ipynb\r\nFeb 27 16:16:51 bash[4775]: [I 16:16:51.865 NotebookApp] Saving 20200227B.ipynb\r\nFeb 27 16:18:51 bash[4775]: [I 16:18:51.884 NotebookApp] Saving file at /Notebooks/20200227B.ipynb\r\n...\r\nFeb 27 18:14:51 bash[4775]: [I 18:14:51.705 NotebookApp] Saving file at /Notebooks/20200227B.ipynb\r\nFeb 27 18:14:51 bash[4775]: [I 18:14:51.706 NotebookApp] Saving 20200227B.ipynb\r\nFeb 27 18:15:09 bash[4775]: terminate called after throwing an instance of 'std::system_error'\r\nFeb 27 18:15:09 bash[4775]: what():  Resource temporarily unavailable\r\nFeb 27 18:16:00 bash[4775]: [I 18:16:00.707 NotebookApp] KernelRestarter: restarting kernel (1/5), keep random ports\r\nFeb 27 18:16:00 bash[4775]: WARNING:root:kernel 5ff3ace7-0cf6-4cd1-8610-1b721b134801 restarted\r\nFeb 27 18:16:01 bash[4775]: [IPKernelApp] WARNING | Could not set permissions on /home/xxxxxx/.ipython/profile_default/security\r\nFeb 27 18:16:01 bash[4775]: [IPKernelApp] WARNING | Could not set permissions on /home/xxxxxx/.ipython/profile_default/pid\r\nFeb 27 18:16:01 bash[4775]: [IPKernelApp] WARNING | Could not set permissions on /home/xxxxxx/.ipython/profile_default/security\r\nFeb 27 18:16:01 bash[4775]: [IPKernelApp] WARNING | Could not set permissions on /home/xxxxxx/.ipython/profile_default/pid\r\nFeb 27 18:16:51 bash[4775]: [I 18:16:51.672 NotebookApp] Saving file at /Notebooks/20200227B.ipynb\r\nFeb 27 18:16:51 bash[4775]: [I 18:16:51.672 NotebookApp] Saving 20200227B.ipynb\r\n\r\n```\r\n\r\n**Describe the expected behavior**\r\n\r\nThe notebook runs through 1000 epochs without any problems in TF 2.0. The maximum thread count that is observed with TF2.0 is approx 950.\r\n\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37157", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37157/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37157/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37157/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37157", "id": 572625071, "node_id": "MDU6SXNzdWU1NzI2MjUwNzE=", "number": 37157, "title": "Problem with Himax HM01B0 camera on the Sparkfun Edge board", "user": {"login": "anferico", "id": 30210403, "node_id": "MDQ6VXNlcjMwMjEwNDAz", "avatar_url": "https://avatars1.githubusercontent.com/u/30210403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anferico", "html_url": "https://github.com/anferico", "followers_url": "https://api.github.com/users/anferico/followers", "following_url": "https://api.github.com/users/anferico/following{/other_user}", "gists_url": "https://api.github.com/users/anferico/gists{/gist_id}", "starred_url": "https://api.github.com/users/anferico/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anferico/subscriptions", "organizations_url": "https://api.github.com/users/anferico/orgs", "repos_url": "https://api.github.com/users/anferico/repos", "events_url": "https://api.github.com/users/anferico/events{/privacy}", "received_events_url": "https://api.github.com/users/anferico/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1589976566, "node_id": "MDU6TGFiZWwxNTg5OTc2NTY2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:micro", "name": "comp:micro", "color": "3e2eea", "default": false, "description": "Related to TensorFlow Lite Microcontrollers"}, {"id": 404586594, "node_id": "MDU6TGFiZWw0MDQ1ODY1OTQ=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20tensorflower", "name": "stat:awaiting tensorflower", "color": "f4b400", "default": false, "description": ""}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rockyrhodes", "id": 7253968, "node_id": "MDQ6VXNlcjcyNTM5Njg=", "avatar_url": "https://avatars2.githubusercontent.com/u/7253968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rockyrhodes", "html_url": "https://github.com/rockyrhodes", "followers_url": "https://api.github.com/users/rockyrhodes/followers", "following_url": "https://api.github.com/users/rockyrhodes/following{/other_user}", "gists_url": "https://api.github.com/users/rockyrhodes/gists{/gist_id}", "starred_url": "https://api.github.com/users/rockyrhodes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rockyrhodes/subscriptions", "organizations_url": "https://api.github.com/users/rockyrhodes/orgs", "repos_url": "https://api.github.com/users/rockyrhodes/repos", "events_url": "https://api.github.com/users/rockyrhodes/events{/privacy}", "received_events_url": "https://api.github.com/users/rockyrhodes/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rockyrhodes", "id": 7253968, "node_id": "MDQ6VXNlcjcyNTM5Njg=", "avatar_url": "https://avatars2.githubusercontent.com/u/7253968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rockyrhodes", "html_url": "https://github.com/rockyrhodes", "followers_url": "https://api.github.com/users/rockyrhodes/followers", "following_url": "https://api.github.com/users/rockyrhodes/following{/other_user}", "gists_url": "https://api.github.com/users/rockyrhodes/gists{/gist_id}", "starred_url": "https://api.github.com/users/rockyrhodes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rockyrhodes/subscriptions", "organizations_url": "https://api.github.com/users/rockyrhodes/orgs", "repos_url": "https://api.github.com/users/rockyrhodes/repos", "events_url": "https://api.github.com/users/rockyrhodes/events{/privacy}", "received_events_url": "https://api.github.com/users/rockyrhodes/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-28T09:14:08Z", "updated_at": "2020-03-04T10:53:51Z", "closed_at": null, "author_association": "NONE", "body": "@tensorflow/micro\r\n\r\n**System information**\r\n- Host OS Platform and Distribution: Linux Ubuntu 18.04\r\n- TensorFlow installed from (source or binary): Cloned from source, but not installed\r\n- TensorFlow version (commit SHA if source): 642708d2121976c8dbc0e8d0ae73fcf1cf027bd8\r\n- Target platform: Sparkfun Edge\r\n\r\nI'm trying to run an image classification model on a Sparkfun Edge, starting from the [person_detection](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/lite/micro/examples/person_detection) example available in this repository. The logic for acquiring and resizing an image from the camera (Himax HM01B0) is included in `himax_driver/HM01B0_optimized.c`. For some reason, if I specify an image size greater than 102x102, the resulting image is padded with zeros in each of its four sides, yet the camera I'm using has a maximum pixel resolution of 320x320, as mentioned in the [official website](https://www.himax.com.tw/products/cmos-image-sensor/image-sensors/hm01b0/). \r\nHere's what I mean:\r\n\r\n### 102x102 image:\r\n![102x102](https://user-images.githubusercontent.com/30210403/75526152-86c19980-5a11-11ea-8bc6-47efdecaa7db.jpg)\r\n\r\n### 320x320 image:\r\n![320x320](https://user-images.githubusercontent.com/30210403/75526193-98a33c80-5a11-11ea-9b9f-171d4564e867.jpg)\r\n\r\n**Please provide the exact sequence of commands/steps when you ran into the problem**\r\nI simply passed `w=320`, `h=320` and `channels=1` to the function `hm01b0_blocking_read_oneframe_scaled` defined in `himax_driver/HM01B0_optimized.c`, printed each pixel value over the serial port and finally parsed such pixels with a Python script, displaying the resulting image.\r\n"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37153", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37153/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37153/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37153/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37153", "id": 572535356, "node_id": "MDU6SXNzdWU1NzI1MzUzNTY=", "number": 37153, "title": "InvalidArgumentError:  Size 1 must be non-negative, not -21", "user": {"login": "SlowMonk", "id": 33189954, "node_id": "MDQ6VXNlcjMzMTg5OTU0", "avatar_url": "https://avatars0.githubusercontent.com/u/33189954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SlowMonk", "html_url": "https://github.com/SlowMonk", "followers_url": "https://api.github.com/users/SlowMonk/followers", "following_url": "https://api.github.com/users/SlowMonk/following{/other_user}", "gists_url": "https://api.github.com/users/SlowMonk/gists{/gist_id}", "starred_url": "https://api.github.com/users/SlowMonk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SlowMonk/subscriptions", "organizations_url": "https://api.github.com/users/SlowMonk/orgs", "repos_url": "https://api.github.com/users/SlowMonk/repos", "events_url": "https://api.github.com/users/SlowMonk/events{/privacy}", "received_events_url": "https://api.github.com/users/SlowMonk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 386191887, "node_id": "MDU6TGFiZWwzODYxOTE4ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/stat:awaiting%20response", "name": "stat:awaiting response", "color": "f4b400", "default": false, "description": ""}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ravikyram", "id": 51902062, "node_id": "MDQ6VXNlcjUxOTAyMDYy", "avatar_url": "https://avatars2.githubusercontent.com/u/51902062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ravikyram", "html_url": "https://github.com/ravikyram", "followers_url": "https://api.github.com/users/ravikyram/followers", "following_url": "https://api.github.com/users/ravikyram/following{/other_user}", "gists_url": "https://api.github.com/users/ravikyram/gists{/gist_id}", "starred_url": "https://api.github.com/users/ravikyram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ravikyram/subscriptions", "organizations_url": "https://api.github.com/users/ravikyram/orgs", "repos_url": "https://api.github.com/users/ravikyram/repos", "events_url": "https://api.github.com/users/ravikyram/events{/privacy}", "received_events_url": "https://api.github.com/users/ravikyram/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-02-28T05:48:28Z", "updated_at": "2020-03-16T04:28:11Z", "closed_at": null, "author_association": "NONE", "body": "https://www.kaggle.com/super13579/u-net-base-on-resnet34-transfer-learning-keras\r\n\r\n```\r\nfig, m_axs = plt.subplots(20, 2, figsize = (10, 40))\r\n[c_ax.axis('off') for c_ax in m_axs.flatten()]\r\nfor (ax1, ax2), c_img_name in zip(m_axs, test_paths):\r\n    c_path = os.path.join(test_image_dir, c_img_name)\r\n    c_img = imread(c_path)\r\n    #print(c_img.shape)\r\n    first_img = np.expand_dims(c_img, 0)/255.0\r\n    #print('a')\r\n    first_seg = fullres_model.predict(first_img)\r\n    #print('b')\r\n    ax1.imshow(first_img[0])\r\n    ax1.set_title('Image')\r\n    ax2.imshow(first_seg[0,:, :, 0])\r\n    ax2.set_title('Prediction')\r\n#fig.savefig('test_predictions.png')\r\n```\r\n\r\n\r\n> ---------------------------------------------------------------------------\r\n> InvalidArgumentError                      Traceback (most recent call last)\r\n> <ipython-input-54-a91de316977a> in <module>\r\n>       7     first_img = np.expand_dims(c_img, 0)/255.0\r\n>       8     #print('a')\r\n> ----> 9     first_seg = .predict(first_img)\r\n>      10     #print('b')\r\n>      11     ax1.imshow(first_img[0])\r\n> \r\n> ~/venv/lib/python3.7/site-packages/keras/engine/training.py in predict(self, x, batch_size, verbose, steps, callbacks, max_queue_size, workers, use_multiprocessing)\r\n>    1460                                             verbose=verbose,\r\n>    1461                                             steps=steps,\r\n> -> 1462                                             callbacks=callbacks)\r\n>    1463 \r\n>    1464     def train_on_batch(self, x, y,\r\n> \r\n> ~/venv/lib/python3.7/site-packages/keras/engine/training_arrays.py in predict_loop(model, f, ins, batch_size, verbose, steps, callbacks)\r\n>     322             batch_logs = {'batch': batch_index, 'size': len(batch_ids)}\r\n>     323             callbacks._call_batch_hook('predict', 'begin', batch_index, batch_logs)\r\n> --> 324             batch_outs = f(ins_batch)\r\n>     325             batch_outs = to_list(batch_outs)\r\n>     326             if batch_index == 0:\r\n> \r\n> ~/venv/lib/python3.7/site-packages/tensorflow_core/python/keras/backend.py in __call__(self, inputs)\r\n>    3738         value = math_ops.cast(value, tensor.dtype)\r\n>    3739       converted_inputs.append(value)\r\n> -> 3740     outputs = self._graph_fn(*converted_inputs)\r\n>    3741 \r\n>    3742     # EagerTensor.numpy() will often make a copy to ensure memory safety.\r\n> \r\n> ~/venv/lib/python3.7/site-packages/tensorflow_core/python/eager/function.py in __call__(self, *args, **kwargs)\r\n>    1079       TypeError: For invalid positional/keyword argument combinations.\r\n>    1080     \"\"\"\r\n> -> 1081     return self._call_impl(args, kwargs)\r\n>    1082 \r\n>    1083   def _call_impl(self, args, kwargs, cancellation_manager=None):\r\n> \r\n> ~/venv/lib/python3.7/site-packages/tensorflow_core/python/eager/function.py in _call_impl(self, args, kwargs, cancellation_manager)\r\n>    1119       raise TypeError(\"Keyword arguments {} unknown. Expected {}.\".format(\r\n>    1120           list(kwargs.keys()), list(self._arg_keywords)))\r\n> -> 1121     return self._call_flat(args, self.captured_inputs, cancellation_manager)\r\n>    1122 \r\n>    1123   def _filtered_call(self, args, kwargs):\r\n> \r\n> ~/venv/lib/python3.7/site-packages/tensorflow_core/python/eager/function.py in _call_flat(self, args, captured_inputs, cancellation_manager)\r\n>    1222     if executing_eagerly:\r\n>    1223       flat_outputs = forward_function.call(\r\n> -> 1224           ctx, args, cancellation_manager=cancellation_manager)\r\n>    1225     else:\r\n>    1226       gradient_name = self._delayed_rewrite_functions.register()\r\n> \r\n> ~/venv/lib/python3.7/site-packages/tensorflow_core/python/eager/function.py in call(self, ctx, args, cancellation_manager)\r\n>     509               inputs=args,\r\n>     510               attrs=(\"executor_type\", executor_type, \"config_proto\", config),\r\n> --> 511               ctx=ctx)\r\n>     512         else:\r\n>     513           outputs = execute.execute_with_cancellation(\r\n> \r\n> ~/venv/lib/python3.7/site-packages/tensorflow_core/python/eager/execute.py in quick_execute(op_name, num_outputs, inputs, attrs, ctx, name)\r\n>      65     else:\r\n>      66       message = e.message\r\n> ---> 67     six.raise_from(core._status_to_exception(e.code, message), None)\r\n>      68   except TypeError as e:\r\n>      69     keras_symbolic_tensors = [\r\n> \r\n> ~/venv/lib/python3.7/site-packages/six.py in raise_from(value, from_value)\r\n> \r\n> InvalidArgumentError:  Size 1 must be non-negative, not -21\r\n> \t [[{{node u-resnet34_1/bn_data/batchnorm/mul-1-ReshapeNHWCToNCHW-LayoutOptimizer}}]] [Op:__inference_keras_scratch_graph_62290]\r\n> \r\n> Function call stack:\r\n> keras_scratch_graph\r\n> fullres_model"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37151", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37151/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37151/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37151/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37151", "id": 572494469, "node_id": "MDU6SXNzdWU1NzI0OTQ0Njk=", "number": 37151, "title": "Run distributed training mnist failed", "user": {"login": "pingsutw", "id": 37936015, "node_id": "MDQ6VXNlcjM3OTM2MDE1", "avatar_url": "https://avatars2.githubusercontent.com/u/37936015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pingsutw", "html_url": "https://github.com/pingsutw", "followers_url": "https://api.github.com/users/pingsutw/followers", "following_url": "https://api.github.com/users/pingsutw/following{/other_user}", "gists_url": "https://api.github.com/users/pingsutw/gists{/gist_id}", "starred_url": "https://api.github.com/users/pingsutw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pingsutw/subscriptions", "organizations_url": "https://api.github.com/users/pingsutw/orgs", "repos_url": "https://api.github.com/users/pingsutw/repos", "events_url": "https://api.github.com/users/pingsutw/events{/privacy}", "received_events_url": "https://api.github.com/users/pingsutw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1605791310, "node_id": "MDU6TGFiZWwxNjA1NzkxMzEw", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.1", "name": "TF 2.1", "color": "c2e0c6", "default": false, "description": "for tracking issues in 2.1 release"}, {"id": 996845227, "node_id": "MDU6TGFiZWw5OTY4NDUyMjc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:dist-strat", "name": "comp:dist-strat", "color": "0052cc", "default": false, "description": "Distribution Strategy related issues"}, {"id": 473172988, "node_id": "MDU6TGFiZWw0NzMxNzI5ODg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:bug", "name": "type:bug", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jvishnuvardhan", "id": 46058173, "node_id": "MDQ6VXNlcjQ2MDU4MTcz", "avatar_url": "https://avatars2.githubusercontent.com/u/46058173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvishnuvardhan", "html_url": "https://github.com/jvishnuvardhan", "followers_url": "https://api.github.com/users/jvishnuvardhan/followers", "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}", "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions", "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs", "repos_url": "https://api.github.com/users/jvishnuvardhan/repos", "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}", "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-28T03:21:01Z", "updated_at": "2020-03-10T03:24:55Z", "closed_at": null, "author_association": "CONTRIBUTOR", "body": "My dependencies\r\n```\r\nPython 3.6.8 (default, Aug  7 2019, 17:28:10) \r\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-39)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import tensorflow as tf\r\n>>> print(tf.__version__)\r\n2.2.0-dev20200227\r\n```\r\nHere is my code\r\nhttps://gist.github.com/pingsutw/bd4e1b1b2d4055d4e807abcdd2f0d6f4\r\n\r\nI use both `ParameterServerStrategy` and `MultiWorkerMirroredStrategy` all failed.\r\n\r\nI can successfully run this tutorial locally.\r\nAnd I follow this [link](https://www.tensorflow.org/tutorials/distribute/multi_worker_with_keras) to run distributed training, but always fails.\r\nInstead of run multiworker locally, I run on 3 machines. \r\n\r\nBelow are error messages\r\n```\r\n2020-02-27 21:54:15.735213: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /opt/cloudera/parcels/CDH/lib64:/opt/jdk1.8.0_221/jre/lib/amd64/server\r\n2020-02-27 21:54:15.735272: E tensorflow/stream_executor/cuda/cuda_driver.cc:313] failed call to cuInit: UNKNOWN ERROR (303)\r\n2020-02-27 21:54:15.735320: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (kevin2): /proc/driver/nvidia/version does not exist\r\n2020-02-27 21:54:15.735784: I tensorflow/core/platform/cpu_feature_guard.cc:143] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\n2020-02-27 21:54:15.849834: I tensorflow/core/platform/profile_utils/cpu_utils.cc:102] CPU Frequency: 2494140000 Hz\r\n2020-02-27 21:54:15.933775: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x55fd9c0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\n2020-02-27 21:54:15.933870: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\n2020-02-27 21:54:16.139575: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:300] Initialize GrpcChannelCache for job ps -> {0 -> kevin2:38518}\r\n2020-02-27 21:54:16.139650: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:300] Initialize GrpcChannelCache for job worker -> {0 -> localhost:43854, 1 -> kevin2:36868}\r\n2020-02-27 21:54:16.157359: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:390] Started server with target: grpc://localhost:43854\r\n2020-02-27 21:54:16.157667: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:394] Server already started (target: grpc://localhost:43854)\r\nWARNING:tensorflow:From /yarn/nm/usercache/root/appcache/application_1582468300204_0090/container_1582468300204_0090_01_000003/tf2.zip/tf2/lib64/python3.6/site-packages/tensorflow/python/ops/resource_variable_ops.py:1666: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nIf using Keras pass *_constraint arguments to layers.\r\nWARNING:tensorflow:From /yarn/nm/usercache/root/appcache/application_1582468300204_0090/container_1582468300204_0090_01_000003/tf2.zip/tf2/lib64/python3.6/site-packages/tensorflow/python/ops/resource_variable_ops.py:1666: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nIf using Keras pass *_constraint arguments to layers.\r\nWARNING:tensorflow:From /yarn/nm/usercache/root/appcache/application_1582468300204_0090/container_1582468300204_0090_01_000003/tf2.zip/tf2/lib64/python3.6/site-packages/tensorflow_estimator/python/estimator/util.py:96: DistributedIteratorV1.initialize (from tensorflow.python.distribute.input_lib) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse the iterator's `initializer` property instead.\r\nWARNING:tensorflow:From /yarn/nm/usercache/root/appcache/application_1582468300204_0090/container_1582468300204_0090_01_000003/tf2.zip/tf2/lib64/python3.6/site-packages/tensorflow_estimator/python/estimator/util.py:96: DistributedIteratorV1.initialize (from tensorflow.python.distribute.input_lib) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse the iterator's `initializer` property instead.\r\n```"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37148", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37148/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37148/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37148/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37148", "id": 572449707, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgxMTQ1MDY3", "number": 37148, "title": "Simplify keras conv compute_output_shape", "user": {"login": "lgeiger", "id": 13285808, "node_id": "MDQ6VXNlcjEzMjg1ODA4", "avatar_url": "https://avatars1.githubusercontent.com/u/13285808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lgeiger", "html_url": "https://github.com/lgeiger", "followers_url": "https://api.github.com/users/lgeiger/followers", "following_url": "https://api.github.com/users/lgeiger/following{/other_user}", "gists_url": "https://api.github.com/users/lgeiger/gists{/gist_id}", "starred_url": "https://api.github.com/users/lgeiger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lgeiger/subscriptions", "organizations_url": "https://api.github.com/users/lgeiger/orgs", "repos_url": "https://api.github.com/users/lgeiger/repos", "events_url": "https://api.github.com/users/lgeiger/events{/privacy}", "received_events_url": "https://api.github.com/users/lgeiger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-02-28T00:46:30Z", "updated_at": "2020-03-03T09:34:55Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37148", "html_url": "https://github.com/tensorflow/tensorflow/pull/37148", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37148.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37148.patch"}, "body": "This should improve readability of the output shape computation in keras convolutional layers."}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37147", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37147/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37147/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37147/events", "html_url": "https://github.com/tensorflow/tensorflow/issues/37147", "id": 572442727, "node_id": "MDU6SXNzdWU1NzI0NDI3Mjc=", "number": 37147, "title": "Error on ESP32", "user": {"login": "fedyfausto", "id": 3913712, "node_id": "MDQ6VXNlcjM5MTM3MTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/3913712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedyfausto", "html_url": "https://github.com/fedyfausto", "followers_url": "https://api.github.com/users/fedyfausto/followers", "following_url": "https://api.github.com/users/fedyfausto/following{/other_user}", "gists_url": "https://api.github.com/users/fedyfausto/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedyfausto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedyfausto/subscriptions", "organizations_url": "https://api.github.com/users/fedyfausto/orgs", "repos_url": "https://api.github.com/users/fedyfausto/repos", "events_url": "https://api.github.com/users/fedyfausto/events{/privacy}", "received_events_url": "https://api.github.com/users/fedyfausto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1160540362, "node_id": "MDU6TGFiZWwxMTYwNTQwMzYy", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/TF%202.0", "name": "TF 2.0", "color": "e79b38", "default": false, "description": "Issues relating to TensorFlow 2.0"}, {"id": 750616506, "node_id": "MDU6TGFiZWw3NTA2MTY1MDY=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:lite", "name": "comp:lite", "color": "0052cc", "default": false, "description": ""}, {"id": 1589976566, "node_id": "MDU6TGFiZWwxNTg5OTc2NTY2", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:micro", "name": "comp:micro", "color": "3e2eea", "default": false, "description": "Related to TensorFlow Lite Microcontrollers"}, {"id": 473184161, "node_id": "MDU6TGFiZWw0NzMxODQxNjE=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/type:support", "name": "type:support", "color": "159b2e", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": {"login": "rockyrhodes", "id": 7253968, "node_id": "MDQ6VXNlcjcyNTM5Njg=", "avatar_url": "https://avatars2.githubusercontent.com/u/7253968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rockyrhodes", "html_url": "https://github.com/rockyrhodes", "followers_url": "https://api.github.com/users/rockyrhodes/followers", "following_url": "https://api.github.com/users/rockyrhodes/following{/other_user}", "gists_url": "https://api.github.com/users/rockyrhodes/gists{/gist_id}", "starred_url": "https://api.github.com/users/rockyrhodes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rockyrhodes/subscriptions", "organizations_url": "https://api.github.com/users/rockyrhodes/orgs", "repos_url": "https://api.github.com/users/rockyrhodes/repos", "events_url": "https://api.github.com/users/rockyrhodes/events{/privacy}", "received_events_url": "https://api.github.com/users/rockyrhodes/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rockyrhodes", "id": 7253968, "node_id": "MDQ6VXNlcjcyNTM5Njg=", "avatar_url": "https://avatars2.githubusercontent.com/u/7253968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rockyrhodes", "html_url": "https://github.com/rockyrhodes", "followers_url": "https://api.github.com/users/rockyrhodes/followers", "following_url": "https://api.github.com/users/rockyrhodes/following{/other_user}", "gists_url": "https://api.github.com/users/rockyrhodes/gists{/gist_id}", "starred_url": "https://api.github.com/users/rockyrhodes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rockyrhodes/subscriptions", "organizations_url": "https://api.github.com/users/rockyrhodes/orgs", "repos_url": "https://api.github.com/users/rockyrhodes/repos", "events_url": "https://api.github.com/users/rockyrhodes/events{/privacy}", "received_events_url": "https://api.github.com/users/rockyrhodes/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-28T00:23:00Z", "updated_at": "2020-02-28T10:58:25Z", "closed_at": null, "author_association": "NONE", "body": "@tensorflow/micro\r\n\r\n**System information**\r\n- Host OS Platform and Distribution Windows 10):\r\n- TensorFlow installed from (2.x on gogole collab):\r\n- Tensorflow version (same as before):\r\n- Target platform (ESP32):\r\n\r\nHello gentlemen, i'm trying to deploy a simple model (trained with kera tf 2.x on collab) and converted with this:\r\n```\r\nconverter = tf.lite.TFLiteConverter.from_keras_model(model)\r\nconverter.optimizations = [tf.lite.Optimize.DEFAULT]\r\nconverter.experimental_new_quantizer = True\r\nconverter.experimental_new_converter = True\r\ntflite_float_model = converter.convert()\r\n```\r\n\r\nMy idea is to pass as input three values (float) of RGB to recognize the color with a sensor (Flora sensor of adafruit)\r\nWhen i flash the firmware on my esp32 i got this error on invoke (and some of my serial print)\r\n\r\n```\r\nrst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)\r\nconfigsip: 0, SPIWP:0xee\r\nclk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00\r\nmode:DIO, clock div:2\r\nload:0x3fff0018,len:4\r\nload:0x3fff001c,len:1044\r\nload:0x40078000,len:8896\r\nload:0x40080400,len:5828\r\nentry 0x400806ac\r\nLoading Tensorflow model....\r\nColor model loaded!\r\nAllocating tensors to memory pool\r\nTensors size: 14\r\nInput size: 1\r\nNo TCS34725 found ... check your connections\r\nStarting inferences...\r\nInput type 1\r\nInput shape 2\r\nabort() was called at PC 0x400dae25 on core 1\r\n\r\nBacktrace: 0x4008c49c:0x3ffb1e00 0x4008c6cd:0x3ffb1e20 0x400dae25:0x3ffb1e40 0x400db185:0x3ffb1e90 0x400e174a:0x3ffb1f70 0x400d198a:0x3ffb1f90 0x400e64bd:0x3ffb1fb0 0x40088bd9:0x3ffb1fd0\r\n\r\nRebooting...\r\nets Jun  8 2016 00:22:57\r\n\r\nrst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)\r\nconfigsip: 0, SPIWP:0xee\r\nclk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00\r\nmode:DIO, clock div:2\r\nload:0x3fff0018,len:4\r\nload:0x3fff001c,len:1044\r\nload:0x40078000,len:8896\r\nload:0x40080400,len:5828\r\nentry 0x400806ac\r\n\r\n--- exit ---\r\n```\r\n\r\n\r\nFollowing my code:\r\n```\r\n#include <Arduino.h>\r\n#include <math.h>\r\n#include \"tensorflow/lite/experimental/micro/kernels/all_ops_resolver.h\"\r\n#include \"tensorflow/lite/experimental/micro/micro_error_reporter.h\"\r\n#include \"tensorflow/lite/experimental/micro/micro_interpreter.h\"\r\n#include \"model_data.h\"\r\n#include \"Adafruit_TCS34725.h\"\r\n\r\n// Create a memory pool for the nodes in the network\r\nconstexpr int tensor_pool_size = 2 * 2048;\r\nuint8_t tensor_pool[tensor_pool_size];\r\n\r\n// Define the model to be used\r\nconst tflite::Model *sine_model;\r\n\r\n// Define the interpreter\r\ntflite::MicroInterpreter *interpreter;\r\n\r\n// Input/Output nodes for the network\r\nTfLiteTensor *input;\r\nTfLiteTensor *output;\r\n\r\nAdafruit_TCS34725 tcs = Adafruit_TCS34725(TCS34725_INTEGRATIONTIME_154MS, TCS34725_GAIN_1X);\r\nuint16_t red, green, blue, clear;\r\n\r\nbool sensor = false;\r\n// Set up the ESP32's environment.\r\nvoid setup()\r\n{\r\n\t// Start serial at 115200 baud\r\n\tSerial.begin(115200);\r\n\r\n\t// Load the sample sine model\r\n\tSerial.println(\"Loading Tensorflow model....\");\r\n\tsine_model = tflite::GetModel(model_data);\r\n\tSerial.println(\"Color model loaded!\");\r\n\r\n\t// Define ops resolver and error reporting\r\n\tstatic tflite::ops::micro::AllOpsResolver resolver;\r\n\r\n\tstatic tflite::ErrorReporter *error_reporter;\r\n\tstatic tflite::MicroErrorReporter micro_error;\r\n\terror_reporter = &micro_error;\r\n\r\n\t// Instantiate the interpreter\r\n\tstatic tflite::MicroInterpreter static_interpreter(sine_model, resolver, tensor_pool, tensor_pool_size, error_reporter);\r\n\r\n\tinterpreter = &static_interpreter;\r\n\r\n\t// Allocate the the model's tensors in the memory pool that was created.\r\n\tSerial.println(\"Allocating tensors to memory pool\");\r\n\tSerial.printf(\"Tensors size: %d\\n\", interpreter->tensors_size());\r\n\tSerial.printf(\"Input size: %d\\n\", interpreter->inputs_size());\r\n\r\n\tif (interpreter->AllocateTensors() != kTfLiteOk)\r\n\t{\r\n\t\tSerial.println(\"There was an error allocating the memory...ooof\");\r\n\t\twhile (true)\r\n\t\t\t;\r\n\t}\r\n\r\n\tif (tcs.begin())\r\n\t{\r\n\t\tSerial.println(\"Found sensor\");\r\n\t\tsensor = true;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tSerial.println(\"No TCS34725 found ... using fake value for Green\");\r\n\t\tsensor = false;\r\n\t}\r\n\r\n\t// Define input and output nodes\r\n\tinput = interpreter->input(0);\r\n\toutput = interpreter->output(0);\r\n\tSerial.println(\"Starting inferences... \");\r\n\tSerial.printf(\"Input type %d\\n\", input->type);\r\n\tSerial.printf(\"Input shape %d\\n\", input->dims->size);\r\n\r\n}\r\n\r\n// Logic loop for taking user input and outputting the sine\r\nvoid loop()\r\n{\r\n\r\n\tif (sensor)\r\n\t{\r\n\t\ttcs.setInterrupt(false); // turn on LED\r\n\t\tdelay(1);\r\n\t\ttcs.getRawData(&red, &green, &blue, &clear);\r\n\t\ttcs.setInterrupt(true); // turn off LED\r\n\t\t//r,g,b,c\r\n\t\tdelay(100);\r\n\t}\r\n\telse\r\n\t{\r\n\t\tred = 688;\r\n\t\tgreen = 319;\r\n\t\tblue = 290;\r\n\t\tclear = 1228;\r\n\t}\r\n\r\n\tinput->data.f[0] = (red / clear);\r\n\tinput->data.f[1] = (green / clear);\r\n\t//input->data.f[2] = (blue / clear);\r\n\r\n\r\n\tSerial.println(interpreter->Invoke());\r\n\tif (interpreter->Invoke() != kTfLiteOk)\r\n\t{\r\n\t\tSerial.println(\"There was an error invoking the interpreter!\");\r\n\t\twhile (true) delay(1000);\r\n\t}\r\n\r\n\t// Print the output of the model.\r\n\tSerial.print(\"Input: \");\r\n\tSerial.printf(\"%d,%d,%d,%d\\n\", red, green, blue, clear);\r\n\tSerial.print(\"Output: \");\r\n\tSerial.println(output->data.f[0]);\r\n\tSerial.println(\"\");\r\n\tdelay(1000);\r\n}\r\n```\r\n\r\nCould you help me? (i can pass the entire project)"}, {"url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37146", "repository_url": "https://api.github.com/repos/tensorflow/tensorflow", "labels_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37146/labels{/name}", "comments_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37146/comments", "events_url": "https://api.github.com/repos/tensorflow/tensorflow/issues/37146/events", "html_url": "https://github.com/tensorflow/tensorflow/pull/37146", "id": 572405565, "node_id": "MDExOlB1bGxSZXF1ZXN0MzgxMTA4Nzk5", "number": 37146, "title": "Added ResNext models", "user": {"login": "jaketae", "id": 25360440, "node_id": "MDQ6VXNlcjI1MzYwNDQw", "avatar_url": "https://avatars1.githubusercontent.com/u/25360440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaketae", "html_url": "https://github.com/jaketae", "followers_url": "https://api.github.com/users/jaketae/followers", "following_url": "https://api.github.com/users/jaketae/following{/other_user}", "gists_url": "https://api.github.com/users/jaketae/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaketae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaketae/subscriptions", "organizations_url": "https://api.github.com/users/jaketae/orgs", "repos_url": "https://api.github.com/users/jaketae/repos", "events_url": "https://api.github.com/users/jaketae/events{/privacy}", "received_events_url": "https://api.github.com/users/jaketae/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390482148, "node_id": "MDU6TGFiZWwzOTA0ODIxNDg=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/awaiting%20review", "name": "awaiting review", "color": "bc3869", "default": false, "description": ""}, {"id": 300136587, "node_id": "MDU6TGFiZWwzMDAxMzY1ODc=", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/cla:%20yes", "name": "cla: yes", "color": "009800", "default": false, "description": null}, {"id": 1097546578, "node_id": "MDU6TGFiZWwxMDk3NTQ2NTc4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/comp:keras", "name": "comp:keras", "color": "0052cc", "default": false, "description": ""}, {"id": 1169364458, "node_id": "MDU6TGFiZWwxMTY5MzY0NDU4", "url": "https://api.github.com/repos/tensorflow/tensorflow/labels/size:S", "name": "size:S", "color": "adafea", "default": false, "description": "CL Change Size: Small"}], "state": "open", "locked": false, "assignee": {"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gbaned", "id": 48215717, "node_id": "MDQ6VXNlcjQ4MjE1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/48215717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbaned", "html_url": "https://github.com/gbaned", "followers_url": "https://api.github.com/users/gbaned/followers", "following_url": "https://api.github.com/users/gbaned/following{/other_user}", "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions", "organizations_url": "https://api.github.com/users/gbaned/orgs", "repos_url": "https://api.github.com/users/gbaned/repos", "events_url": "https://api.github.com/users/gbaned/events{/privacy}", "received_events_url": "https://api.github.com/users/gbaned/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-02-27T22:38:02Z", "updated_at": "2020-03-03T09:34:34Z", "closed_at": null, "author_association": "CONTRIBUTOR", "pull_request": {"url": "https://api.github.com/repos/tensorflow/tensorflow/pulls/37146", "html_url": "https://github.com/tensorflow/tensorflow/pull/37146", "diff_url": "https://github.com/tensorflow/tensorflow/pull/37146.diff", "patch_url": "https://github.com/tensorflow/tensorflow/pull/37146.patch"}, "body": "Added ResNext models. It seems like the implementation of ResNext models was dropped, despite them being available options in `WEIGHT_HASHES`. The implementation can simply be achieved by using `stack3`, which is also a function that was declared and not used.\r\n\r\nAddresses tensorflow/models#1248, tensorflow/models#6764. "}]